"use strict";(self.webpackChunk_p2p_wallet_web_web=self.webpackChunk_p2p_wallet_web_web||[]).push([[125],{90956:function(n,e,r){r.d(e,{T:function(){return u}});r(2784);var t=r(8895),i=r(62806),o=r(52322);function a(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function s(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){c(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function c(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var l=(0,t.Z)(i.JO)({name:"CancelIcon",class:"c1hk27zl"}),u=function(n){return(0,o.jsxs)(i.zx,s(s({},n),{},{hollow:!0,error:!0,children:[(0,o.jsx)(l,{name:"cross"}),"Cancel"]}))};r(7229)},41924:function(n,e,r){r.r(e),r.d(e,{default:function(){return m}});var t=r(7267),i=r(8895),o=r(41065),a=(r(2784),r(62806)),s=r(52322),c=(0,i.Z)("div")({name:"Wrapper",class:"w1wc1u5x"}),l=(0,i.Z)("div")({name:"IconWrapper",class:"i1ajq656"}),u=(0,i.Z)(a.JO)({name:"IconStyled",class:"i1csneqb"}),d=function(n){var e=n.icon,r=n.onClick,t=n.children;return(0,s.jsxs)(c,{onClick:r,children:[(0,s.jsx)(l,{children:(0,s.jsx)(u,{name:e})}),t]})};r(59648);var f=r(79881),v=(0,i.Z)("div")({name:"Content",class:"c1hz0qty"}),m=function(n){var e=n.close,r=(0,t.k6)(),i=(0,t.TH)(),a=(0,o.ol)().openModal,c=function(n){return function(){e(!1),r.push(n,{fromPage:i.pathname})}};return(0,s.jsx)(f.u,{close:function(){e(!1)},noDelimiter:!0,children:(0,s.jsxs)(v,{children:[(0,s.jsx)(d,{icon:"plus",onClick:function(){a(o.w8.SHOW_MODAL_CHOOSE_BUY_TOKEN_MOBILE)},children:"Buy"}),(0,s.jsx)(d,{icon:"bottom",onClick:c("/receive"),children:"Receive"}),(0,s.jsx)(d,{icon:"top",onClick:c("/send"),children:"Send"}),(0,s.jsx)(d,{icon:"swap",onClick:c("/swap"),children:"Swap"})]})})};r(77648)},72040:function(n,e,r){r.r(e),r.d(e,{default:function(){return O}});var t=r(7267),i=r(33056),o=r(41065),a=r(79881),s=r(8895),c=r(14080),l=r(56253),u=r(72779),d=r.n(u),f=r(10051),v=r(23206),m=r(61801),p=r(61988),h=r(52322),y=(0,s.Z)(p.y)({name:"TokenAvatarStyled",class:"tbs4ku"}),x=(0,s.Z)("div")({name:"TokenInfo",class:"t1teekwr"}),b=(0,s.Z)("div")({name:"TokenName",class:"t175rp7u"}),j=(0,s.Z)("div")({name:"TokenBalance",class:"tqbuqnt"}),w=(0,s.Z)("div")({name:"TokenUSD",class:"tw47ioz"}),g=(0,s.Z)("div")({name:"Content",class:"cuxqsh6"}),k=function(n){var e,r,t,i=n.tokenAccount,o=n.isMobilePopupChild,a=(0,l.dD)();if(!i)return null;var s,u,p,k,S,T,O=(0,f.p)(a),Z=i.loading,A=(0,h.jsx)(j,{children:Z?(0,h.jsx)(c.Z,{width:100,height:14}):(0,h.jsx)(h.Fragment,{children:null===(e=i.balance)||void 0===e?void 0:e.formatUnits()})});return(0,h.jsxs)(h.Fragment,{children:[Z?(0,h.jsx)(c.Z,{height:O,width:O,borderRadius:12}):(0,h.jsx)(y,{symbol:null==i||null===(r=i.balance)||void 0===r?void 0:r.token.symbol,address:null==i||null===(t=i.balance)||void 0===t?void 0:t.token.address,size:O}),(0,h.jsx)(g,{className:d()({isMobilePopupChild:o}),children:(0,h.jsxs)(x,{children:[(T=(null===(s=i.balance)||void 0===s?void 0:s.token.name)||(null===(u=i.balance)||void 0===u?void 0:u.token.symbol)||(null===(p=i.balance)||void 0===p?void 0:p.token.address)&&(0,v.sC)(null===(k=i.balance)||void 0===k?void 0:k.token.address),(0,h.jsx)(b,{title:null===(S=i.balance)||void 0===S?void 0:S.token.address,children:Z?(0,h.jsx)(c.Z,{width:100,height:16}):T})),A,Z?(0,h.jsx)(w,{children:(0,h.jsx)(c.Z,{width:50,height:14})}):i.balance?(0,h.jsx)(w,{children:(0,h.jsx)(m.t,{value:i.balance})}):null]})})]})};r(81124);var S=(0,s.Z)("div")({name:"Wrapper",class:"w5lr7q8"}),T=function(n){var e=n.tokenAccount,r=n.onClick;return(0,h.jsx)(S,{onClick:r,children:(0,h.jsx)(k,{tokenAccount:e,isMobilePopupChild:!0})})};r(24597);var O=function(n){var e,r,s=n.close,c=(0,t.k6)(),l=(0,t.TH)(),u=(0,o.ZR)().tokenConfigs,d=(0,i.dQ)(null===(e=u.SOL)||void 0===e?void 0:e.mint),f=(0,i.dQ)(null===(r=u.USDC)||void 0===r?void 0:r.mint),v=(0,i.Uu)([d,f]),m=function(){s(!1)};return(0,h.jsx)(a.u,{noDelimiter:!1,close:m,title:"Choose a crypto for buying",children:v.map((function(n){var e;return(0,h.jsx)(T,{tokenAccount:n,onClick:function(){return function(n){var e;m();var r=(null==n||null===(e=n.balance)||void 0===e?void 0:e.token.symbol)||"SOL",t="/buy/".concat(r);l.pathname!==t&&c.push(t)}(n)}},null==n||null===(e=n.key)||void 0===e?void 0:e.toBase58())}))})}},70784:function(n,e,r){r.r(e),r.d(e,{default:function(){return k}});var t=r(2784),i=r(8895),o=r(33056),a=r(92812),s=r(84819);function c(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}var l=function(){var n=(0,o.X)().providerMut,e=(0,o.Os)().publicKey,r=(0,a.LX)().handleTX,i=(0,o.j0)().updateUserTokenAccountKeys;return(0,t.useCallback)(function(){var t,o=(t=regeneratorRuntime.mark((function t(o){var a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}throw new Error("Provider not ready");case 2:return a=(0,s.R)(n,o.publicKey,e),t.next=5,r(a,"Close token account ".concat(o.publicKey.toBase58()));case 5:return(c=t.sent).success&&i(),t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(n){c(o,r,i,a,s,"next",n)}function s(n){c(o,r,i,a,s,"throw",n)}a(void 0)}))});return function(n){return o.apply(this,arguments)}}(),[r,n,e])},u=r(62806),d=r(52322);function f(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}function v(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return m(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var p=(0,i.Z)("div")({name:"Wrapper",class:"wofbasl"}),h=(0,i.Z)("div")({name:"IconWrapper",class:"i1q3oids"}),y=(0,i.Z)(u.JO)({name:"CloseAccountIcon",class:"c1opvhd7"}),x=(0,i.Z)("div")({name:"Header",class:"hvcrr09"}),b=(0,i.Z)("div")({name:"Description",class:"d9p370t"}),j=(0,i.Z)("div")({name:"Buttons",class:"b1j4ecmy"}),w=(0,i.Z)(u.zx)({name:"ButtonClose",class:"b1pokvas"}),g=(0,i.Z)(u.zx)({name:"ButtonCancel",class:"b1iwlp2i"}),k=function(n){var e=n.publicKey,r=n.tokenName,i=n.history,o=n.close,a=l(),s=v((0,t.useState)(!1),2),c=s[0],u=s[1],m=function(){var n,r=(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,a({publicKey:e});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:return n.prev=9,u(!1),n.finish(9);case 12:setTimeout((function(){i.push("/wallets")}),100),o();case 14:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){f(o,t,i,a,s,"next",n)}function s(n){f(o,t,i,a,s,"throw",n)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,d.jsxs)(p,{children:[(0,d.jsx)(h,{children:(0,d.jsx)(y,{name:"bucket"})}),(0,d.jsx)(x,{children:"Close ".concat(r," account?")}),(0,d.jsx)(b,{children:"Are you sure you want to delete token account? This will permanently disable token transfers to this address and remove it from your wallet."}),(0,d.jsxs)(j,{children:[(0,d.jsx)(w,{disabled:c,onClick:m,children:"Close token account"}),(0,d.jsx)(g,{lightBlue:!0,disabled:c,onClick:function(){o()},children:"Cancel"})]})]})};r(7027)},91214:function(n,e,r){r.r(e),r.d(e,{default:function(){return v}});var t=r(8895),i=r(62806),o=r(52322),a=(0,t.Z)("div")({name:"Wrapper",class:"w30qip1"}),s=(0,t.Z)("div")({name:"IconWrapper",class:"i1ehcv0x"}),c=(0,t.Z)(i.JO)({name:"StyledIcon",class:"s1ugglf3"}),l=(0,t.Z)("div")({name:"Header",class:"h73ooob"}),u=(0,t.Z)("div")({name:"Description",class:"d1u77854"}),d=(0,t.Z)("div")({name:"Buttons",class:"b1eym7rv"}),f=(0,t.Z)(i.zx)({name:"ButtonStyled",class:"bk81ljb"}),v=function(n){var e=n.icon,r=n.header,t=n.text,i=n.close;return(0,o.jsxs)(a,{children:[(0,o.jsx)(s,{children:(0,o.jsx)(c,{name:e})}),(0,o.jsx)(l,{children:r}),(0,o.jsx)(u,{children:t}),(0,o.jsx)(d,{children:(0,o.jsx)(f,{primary:!0,onClick:function(){i()},children:"Ok"})})]})};r(82444)},6417:function(n,e,r){r.r(e),r.d(e,{default:function(){return m}});var t=r(8895),i=r(56325),o=r(62806),a=r(52322),s=(0,t.Z)("div")({name:"Wrapper",class:"wxafxx4"}),c=(0,t.Z)("div")({name:"Header",class:"h19l3suv"}),l=(0,t.Z)("div")({name:"Description",class:"d1vu9fzl"}),u=(0,t.Z)("div")({name:"Buttons",class:"b6g94pr"}),d=(0,t.Z)(o.zx)({name:"ButtonCancel",class:"btw96b2"}),f=(0,t.Z)("button")({name:"CloseButton",class:"c1i3r6zv"}),v=(0,t.Z)(o.JO)({name:"CloseIcon",class:"cgb0ujd"}),m=function(n){var e=n.close,r=(0,i.rV)().updateSettings;return(0,a.jsxs)(s,{children:[(0,a.jsx)(c,{children:"Proceed without a username?"}),(0,a.jsx)(l,{children:"Anytime you want, you can easily reserve a username by going to the settings in the Android or iOS app."}),(0,a.jsx)(u,{children:(0,a.jsx)(d,{primary:!0,onClick:function(){r({usernameBannerHiddenByUser:!0}),e(!0)},children:"Proceed & don’t show again"})}),(0,a.jsx)(f,{type:"button",onClick:function(){e()},children:(0,a.jsx)(v,{name:"close"})})]})};r(61963)},17790:function(n,e,r){r.r(e),r.d(e,{default:function(){return on}});var t=r(2784),i=r(33056),o=r(7031),a=r(49786),s=r(69812),c=r(90956),l=r(8895),u=r(72779),d=r.n(u),f=r(41065),v=r(47912),m=r(61988),p=r(62806),h=r(61616),y=r(23206),x=r(14080),b=r(61801),j=r(52322),w=(0,l.Z)("div")({name:"Wrapper",class:"w17c4lcs"}),g=(0,l.Z)("div")({name:"ItemWrapper",class:"in9yfrw"}),k=(0,l.Z)("div")({name:"Info",class:"icaxu9k"}),S=(0,l.Z)("div")({name:"Top",class:"t12n4bng"}),T=(0,l.Z)("div")({name:"Bottom",class:"bvrvy4t"}),O=function(n){var e,r,t=n.tokenAccount,i=n.onClick,o=n.className,a=t.loading;return(0,j.jsx)(w,{onClick:function(){i&&i(t)},className:o,children:(0,j.jsxs)(g,{children:[a?(0,j.jsx)(x.Z,{width:44,height:44,borderRadius:12}):(0,j.jsx)(m.y,{size:44,token:null===(e=t.balance)||void 0===e?void 0:e.token}),(0,j.jsxs)(k,{children:[(0,j.jsx)(S,{children:a?(0,j.jsx)(x.Z,{width:100,height:16}):(0,j.jsx)(j.Fragment,{children:null===(r=t.balance)||void 0===r?void 0:r.formatUnits()})}),(0,j.jsx)(T,{children:a?(0,j.jsx)(x.Z,{width:50,height:16}):t.balance?(0,j.jsx)(b.t,{value:t.balance}):(0,j.jsx)("div",{})})]})]})})};function Z(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return A(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}r(73801);var C=(0,l.Z)("div")({name:"Wrapper",class:"wrimwz7"}),I=(0,l.Z)("div")({name:"MainWrapper",class:"m17j3w8j"}),P=(0,l.Z)("div")({name:"SelectedWrapper",class:"s1ln56yq"}),_=(0,l.Z)("div")({name:"InfoWrapper",class:"iyr1fcs"}),R=(0,l.Z)("div")({name:"Line",class:"l1cpkqd7"}),W=(0,l.Z)("div")({name:"Text",class:"t1ea4geo"}),E=(0,l.Z)(p.JO)({name:"ChevronIcon",class:"ctkz9tg"}),D=(0,l.Z)("div")({name:"DropDownListContainer",class:"d1aia6cj"}),B=(0,l.Z)("div")({name:"DropDownHeader",class:"d11jfzgb"}),N=(0,l.Z)("div")({name:"DropDownList",class:"d1l3o7zr"}),z=function(n){var e=n.tokenAccounts,r=n.onTokenAccountChange,i=n.isShortList,o=(0,t.useRef)(null),a=(0,t.useRef)(null),s=(0,t.useRef)(null),c=Z((0,t.useState)(!1),2),l=c[0],u=c[1],p=Z((0,t.useState)(""),2),x=p[0],b=p[1],w=(0,t.useMemo)((function(){return e.map((function(n){var e;return null===(e=n.balance)||void 0===e?void 0:e.token.symbol}))}),[e]),g=(0,f.bw)(w),k=function(n){var e,r;null!==(e=o.current)&&void 0!==e&&e.contains(n.target)||null!==(r=a.current)&&void 0!==r&&r.contains(n.target)||u(!1)};(0,t.useEffect)((function(){return window.addEventListener("click",k,!0),function(){window.removeEventListener("click",k,!0)}}),[]);var S=(0,t.useMemo)((function(){return e?e.filter((function(n){var e;return null===(e=n.balance)||void 0===e?void 0:e.greaterThan(0)})).filter((function(n){return n.balance&&((0,y.kp)(n.balance.token.symbol,x)||(0,y.kp)(n.balance.token.name,x))})).sort((0,y.yv)(g)):[]}),[e,x,g]),T=function(n){var e;n.balance&&(u(!1),r(null===(e=n.balance)||void 0===e?void 0:e.token,n))};return(0,j.jsxs)(C,{children:[(0,j.jsxs)(I,{ref:o,onClick:function(){return u((function(n){return!n}))},className:d()({isOpen:l}),children:[(0,j.jsxs)(P,{children:[(0,j.jsx)("div",{children:(0,j.jsx)(m.y,{symbol:"SOL",size:44})}),(0,j.jsxs)(_,{children:[(0,j.jsxs)(R,{children:[(0,j.jsx)(W,{className:"gray",children:"USDC account creation:"})," ",(0,j.jsx)(W,{children:"~$0.50"})]}),(0,j.jsxs)(R,{children:[(0,j.jsx)(W,{className:"gray",children:"Pay with:"})," ",(0,j.jsx)(W,{children:"0.509 USDC"})]})]})]}),(0,j.jsx)(E,{name:"chevron",className:d()({isOpen:l})})]}),l?(0,j.jsxs)(D,{ref:a,children:[(0,j.jsx)(B,{children:(0,j.jsx)(h.M,{placeholder:"Search for token",value:x,onChange:function(n){var e=n.trim();b(e)}})}),(0,j.jsxs)(N,{ref:s,className:d()({isShortList:i}),children:[null!=S&&S.length?(0,j.jsx)(j.Fragment,{children:S.map((function(n){return n.key&&(0,j.jsx)(O,{tokenAccount:n,onClick:T},n.key.toBase58())}))}):void 0,null!=S&&S.length?void 0:(0,j.jsx)(v.H,{type:"search"})]})]}):void 0]})};r(46918);var M=r(21495),F=r(5962),U=r(64080),q=r(68616),L=r(75500),H=r(71447),$=r(79881),J=(0,l.Z)($.u)({name:"WrapperModal",class:"w7ae49b"}),Y=(0,l.Z)("div")({name:"Section",class:"s1d5jkp5"}),K=(0,l.Z)("ul")({name:"List",class:"lixz0h4"}),V=(0,l.Z)("li")({name:"Row",class:"rs1qqan"});function Q(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}function X(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return G(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}r(35081);var nn=function(n){var e=n.close,r=(0,i.X)(),l=(0,L.t)(),u=(0,i.cj)(),d=(0,H.gZ)().expiryTime,f=X((0,t.useState)(!1),2),v=(f[0],f[1]),m=function(){var n,t=(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v(!0),n.next=4,new a.Y(r,l).createAssociatedTokenAccount(o.p$.asset);case 4:e(!0),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),F.y.error(n.t0.message),console.error(n.t0);case 11:return n.prev=11,v(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,7,11,14]])})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){Q(o,t,i,a,s,"next",n)}function s(n){Q(o,t,i,a,s,"throw",n)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,j.jsx)(J,{title:"Receiving via Bitcoin network",description:"Make sure you understand these aspects",iconName:"clock",iconBgClassName:"warning",close:function(){return e(!1)},footer:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.zx,{primary:!0,onClick:m,children:"Pay 0.002928 SOL & Continue"}),(0,j.jsx)(c.T,{onClick:function(){return e(!1)}})]}),children:(0,j.jsxs)(Y,{children:[(0,j.jsx)(K,{children:(0,j.jsxs)(V,{children:["Your wallet list does not contain a renBTC account, and to create one"," ",(0,j.jsx)("strong",{children:"you need to make a transaction"}),". You can choose which currency to pay in below."]})}),(0,j.jsx)(s.L0,{name:U.Y5,children:(0,j.jsx)(z,{tokenAccounts:u,onTokenAccountChange:function(n,e){null!=e&&e.key},isShortList:!0})}),(0,j.jsxs)(K,{children:[(0,j.jsxs)(V,{children:["This address accepts ",(0,j.jsx)("strong",{children:"only Bitcoin"}),". You may lose assets by sending another coin."]}),(0,j.jsxs)(V,{children:["Minimum transaction amount of ",(0,j.jsx)("strong",{children:"0.000112 BTC"}),"."]}),(0,j.jsxs)(V,{children:[(0,j.jsx)("strong",{children:(0,j.jsx)(M.i,{milliseconds:(0,q.QG)(d)})}),"  is the remaining time to safely send the assets"]})]})]})})},en=r(7267),rn=r(3110),tn=function(n){var e=n.close,r=(0,en.k6)();return(0,j.jsx)(J,{title:"Receiving via Bitcoin network",description:"Make sure you understand these aspects",iconName:"clock",iconBgClassName:"warning",close:function(){return e(!1)},footer:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.zx,{primary:!0,onClick:function(){(0,rn.L9)("Receive_Topping_Up"),e(!1),r.push("/buy")},children:"Top up your account"}),(0,j.jsx)(c.T,{onClick:function(){return e(!1)}})]}),children:(0,j.jsx)(Y,{children:(0,j.jsxs)(K,{children:[(0,j.jsxs)(V,{children:["A ",(0,j.jsx)("strong",{children:"renBTC account is required"})," to receive bitcoins over the Bitcoin network."]}),(0,j.jsxs)(V,{children:["Your wallet list does not contain a renBTC account, and to create one"," ",(0,j.jsx)("strong",{children:"you need to make a transaction"}),"."]}),(0,j.jsxs)(V,{children:["You ",(0,j.jsx)("strong",{children:"don't have funds"})," to pay for account creation, but if someone sends renBTC to your address, it will be created for you."]})]})})})},on=function(n){var e,r;return(null!==(e=null===(r=n.nativeBalance)||void 0===r?void 0:r.toU64().toNumber())&&void 0!==e?e:0)>n.accountRentExemption.toNumber()?(0,j.jsx)(nn,{close:n.close}):(0,j.jsx)(tn,{close:n.close})}},327:function(n,e,r){r.r(e),r.d(e,{default:function(){return o}});var t=r(79881),i=r(52322),o=function(n){var e=n.items,r=n.close,o=n.title;return(0,i.jsx)(t.u,{noDelimiter:!1,close:r,title:o,children:e})}},624:function(n,e,r){r.d(e,{v:function(){return x}});var t=r(8895),i=r(61801),o=r(61988),a=r(62806),s=r(19260),c=r(9235),l=r(52322),u=(0,t.Z)("div")({name:"TokenAndUsd",class:"t1dpujm0"}),d=(0,t.Z)(i.t)({name:"AmountUSDStyled",class:"ahr5j4o"}),f=function(n){var e=n.sendState,r=n.amount;return(0,l.jsxs)(a.UQ,{title:(0,l.jsx)(s.i,{title:"Transaction details",titleBottomName:"Total",titleBottomValue:(null==e?void 0:e.details.totalAmount)||""}),open:!1,noContentPadding:!0,children:[(0,l.jsx)(c.lk,{children:(0,l.jsxs)(c.X2,{children:[(0,l.jsx)(c.xv,{className:"gray",children:"Receive"}),(0,l.jsxs)(u,{children:[(0,l.jsx)(c.xv,{children:null==e?void 0:e.details.receiveAmount}),(0,l.jsx)(d,{prefix:"(~",postfix:")",value:(null==e?void 0:e.parsedAmount)||r})]})]})}),(0,l.jsx)(c.lk,{className:"total",children:(0,l.jsxs)(c.X2,{children:[(0,l.jsx)(c.xv,{children:"Total"}),(0,l.jsxs)(u,{children:[(0,l.jsx)(c.xv,{children:null==e?void 0:e.details.totalAmount}),(0,l.jsx)(d,{prefix:"(~",postfix:")",value:(null==e?void 0:e.parsedAmount)||r})]})]})})]})};r(57483);var v=r(648),m=r(9371),p=(0,t.Z)("div")({name:"ArrowWrapper",class:"a86hbkb"}),h=(0,t.Z)("div")({name:"ArrowIconWrapper",class:"a1j2sz5p"}),y=(0,t.Z)(a.JO)({name:"ArrowIcon",class:"a1yaxcc8"}),x=function(n){var e,r,t,a,s=n.params,c=n.sendState,u=n.btcAddress,d=(null===(e=s.destination)||void 0===e||null===(r=e.toBase58)||void 0===r?void 0:r.call(e))||u,x=/\w*\.\w+/.test(s.username||"");return(0,l.jsxs)(m.$0,{className:"send",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(m.yx,{children:[(0,l.jsx)(o.y,{symbol:null===(t=s.source.balance)||void 0===t?void 0:t.token.symbol,address:null===(a=s.source.balance)||void 0===a?void 0:a.token.address,size:44}),(0,l.jsxs)(m.mo,{children:[(0,l.jsx)(m.Xw,{children:s.amount.formatUnits()}),(0,l.jsx)(m.Qs,{children:(0,l.jsx)(i.t,{value:s.amount})})]})]}),(0,l.jsx)(p,{children:(0,l.jsx)(h,{children:(0,l.jsx)(y,{name:"arrow-down"})})}),(0,l.jsxs)(m.yx,{children:[(0,l.jsx)(m.a1,{children:(0,l.jsx)(m.o,{name:"wallet"})}),(0,l.jsxs)(m.mo,{children:[s.username?(0,l.jsxs)(m.Ru,{children:[(0,l.jsx)(m.To,{children:"To"}),x?s.username:"".concat(s.username,".p2p.sol")]}):(0,l.jsx)(m.Xw,{className:"secondary",children:"To address"}),(0,l.jsx)(m.Qs,{children:d&&(0,l.jsx)(v.x,{address:d,medium:!0})})]})]})]}),(0,l.jsx)(f,{sendState:c,amount:s.amount})]})};r(81866)},82842:function(n,e,r){r.d(e,{H:function(){return d}});var t=r(9245),i=r(42485),o=r(61988),a=r(93221),s=r(48424),c=r(62806),l=r(9371),u=r(52322),d=function(n){var e,r,d=n.params,f=d.inputTokenName,v=d.outputTokenName,m=d.inputAmount,p=n.swapInfo,h=n.showTitle,y=(0,t.ZR)().tokenConfigs,x=(null===(e=y[f])||void 0===e?void 0:e.decimals)||0,b=(null===(r=y[v])||void 0===r?void 0:r.decimals)||0,j=(0,i.dp)(p.trade.getMinimumOutputAmount(),b),w=(0,i.dp)(p.trade.getOutputAmount(),b);return(0,u.jsxs)(l.im,{children:[h&&(0,u.jsx)(l.QE,{children:"You are going to swap"}),(0,u.jsxs)(l.$0,{className:"swap",children:[(0,u.jsxs)(l.yx,{children:[(0,u.jsx)(o.y,{symbol:f,size:44}),(0,u.jsxs)(l.mo,{children:[(0,u.jsxs)(l.Xw,{children:[(0,i.dp)(m,x)," ",f]}),(0,u.jsx)(l.Qs,{children:(0,u.jsx)(a.t,{prefix:"~",amount:m,tokenName:f})})]})]}),(0,u.jsx)(l.WI,{children:(0,u.jsx)(l.aV,{children:(0,u.jsx)(c.JO,{name:"arrow-down"})})})]}),(0,u.jsx)(l.$0,{className:"top",children:(0,u.jsxs)(l.yx,{children:[(0,u.jsx)(o.y,{symbol:v,size:44}),(0,u.jsxs)(l.mo,{children:[(0,u.jsxs)(l.Xw,{children:[w," ",v]}),(0,u.jsxs)(l.Qs,{children:["Receive at least: ",j," ",v]})]})]})}),(0,u.jsx)(s.v,{swapInfo:p,open:!1,forPage:!1})]})}},9371:function(n,e,r){r.d(e,{$0:function(){return o},QE:function(){return m},Qs:function(){return v},Ru:function(){return d},To:function(){return f},WI:function(){return h},Xw:function(){return u},a1:function(){return c},aV:function(){return y},im:function(){return p},mo:function(){return l},o:function(){return s},yx:function(){return a}});var t=r(8895),i=r(62806),o=(0,t.Z)("div")({name:"Section",class:"sxfy27d"}),a=(0,t.Z)("div")({name:"FieldInfo",class:"f1iduq9w"}),s=(0,t.Z)(i.JO)({name:"WalletIcon",class:"w1hlmgol"}),c=(0,t.Z)("div")({name:"IconWrapper",class:"i9bufhm"}),l=(0,t.Z)("div")({name:"InfoWrapper",class:"ivnnc45"}),u=(0,t.Z)("div")({name:"InfoTitle",class:"icxt4d5"}),d=(0,t.Z)(u)({name:"Username",class:"ui6fe90"}),f=(0,t.Z)("span")({name:"To",class:"txjo5xz"}),v=(0,t.Z)("div")({name:"InfoValue",class:"i1yjs7sp"}),m=(0,t.Z)("div")({name:"Subtitle",class:"s19nrvyc"}),p=(0,t.Z)("div")({name:"Wrapper",class:"w1fipug1"}),h=(0,t.Z)("div")({name:"FromToWrapper",class:"f1t28dbd"}),y=(0,t.Z)("div")({name:"Overlay",class:"o91hs7v"});r(98026)},45646:function(n,e,r){r.r(e),r.d(e,{default:function(){return T}});var t=r(2784),i=r(8895),o=r(33056),a=r(90956),s=r(38228),c=r(11562),l=r(62806),u=r(79881),d=r(3110),f=r(9371),v=r(624),m=r(82842),p=r(52322);function h(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}function y(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return x(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var b=(0,i.Z)(u.u)({name:"WrapperModal",class:"wagrybf"}),j=(0,i.Z)("div")({name:"ModalTitle",class:"m174q8v8"}),w=(0,i.Z)("span")({name:"SubTitle",class:"stv7ewi"}),g=(0,i.Z)("div")({name:"ActionTitle",class:"azqjr6w"}),k=(0,i.Z)(c.W)({name:"PasswordInputStyled",class:"pme6loh"}),S=(0,i.Z)(l.JO)({name:"SendIcon",class:"s11uhwtr"}),T=function(n){var e=n.type,r=n.params,i=n.close,c=n.btcAddress,u=n.swapInfo,x=n.sendState,T=(0,o.Os)().walletProviderInfo,O=(0,o.Su)(),Z=y((0,t.useState)(""),2),A=Z[0],C=Z[1],I=y((0,t.useState)(!1),2),P=I[0],_=I[1];(0,t.useEffect)((function(){"send"===e&&(0,d.L9)("Send_Reviewing")}),[]);var R,W=function(){var n,e=(n=regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O(e);case 3:_(!1),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),_(!0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){h(o,t,i,a,s,"next",n)}function s(n){h(o,t,i,a,s,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}(),E=function(){"send"===e&&(0,d.L9)("Send_Verification_Invoked"),i(!0)},D=function(){i(!1)},B=(null==T?void 0:T.name)===o.oq[o.Yx.SecretKey].name,N=B&&(!A||P);return(0,p.jsxs)(b,{title:"send"===e?(0,p.jsxs)(j,{children:["Confirm sending ",null===(R=r.source.balance)||void 0===R?void 0:R.token.symbol]}):(0,p.jsxs)(j,{children:["Confirm swapping ",u.trade.inputTokenName," → ",u.trade.outputTokenName]}),close:D,footer:function(){var n;if("swap"===e)n=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S,{name:"swap"}),"Swap ",u.trade.inputTokenName," → ",u.trade.outputTokenName]});else n=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S,{name:"top"}),"Send ",r.amount.formatUnits()]});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.zx,{primary:!0,disabled:N,onClick:E,children:n}),(0,p.jsx)(a.T,{onClick:D})]})}(),noDelimiter:!1,children:["send"===e?(0,p.jsx)(g,{children:"You are going to send"}):void 0,"send"===e?(0,p.jsx)(v.v,{params:r,sendState:x,btcAddress:c}):void 0,"swap"===e?(0,p.jsx)(m.H,{params:r,swapInfo:u,showTitle:!0}):void 0,B?(0,p.jsxs)(f.$0,{className:"password",children:[(0,p.jsx)(w,{children:"Enter password to confirm"}),(0,p.jsx)(k,{value:A,onChange:function(n){C(n),n&&W(n)},isError:P}),P?(0,p.jsx)(s.p,{error:"The password is not correct",noIcon:!0}):void 0]}):void 0]})};r(29623)},68430:function(n,e,r){r.r(e),r.d(e,{default:function(){return W}});var t=r(2784),i=r(14080),o=r(8895),a=r(33056),s=r(92812),c=r(72779),l=r.n(c),u=r(28879),d=r.n(u),f=r(61801),v=r(61988),m=r(3110),p=r(94789),h=r(41565),y=r(23206),x=r(23655),b=r(52322);function j(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return w(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var g=(0,o.Z)("div")({name:"StatusWrapper",class:"s62a57k"}),k=(0,o.Z)("div")({name:"Status",class:"s63pfwg"}),S=(0,o.Z)("div")({name:"StatusIndicator",class:"s1ahfuru"}),T=(0,o.Z)(x.n2)({name:"FieldRowWrapper",class:"fjj7baf"}),O=(0,o.Z)("div")({name:"ColumnWrapper",class:"c1et7z7k"}),Z=(0,o.Z)("div")({name:"FieldInfo",class:"fzincax"}),A=(0,o.Z)("div")({name:"AddressWrapper",class:"a1bhbtl0"}),C=(0,o.Z)("div")({name:"AddressTitle",class:"a1ygiiuc"}),I=(0,o.Z)("div")({name:"AddressValue",class:"a11g5h7n"}),P=(0,o.Z)("div")({name:"FieldTitleWrapper",class:"ff6d13l"}),_=(0,o.Z)("div")({name:"PaidByBadge",class:"p1fxonr4"}),R=(0,o.Z)(x.h4)({name:"PaddedHeader",class:"p49p6kk"}),W=function(n){var e,r,o,c,u,w,W,E,D,B,N,z,M,F,U,q,L=n.signature,H=n.source,$=n.close,J=j((0,t.useState)(!1),2),Y=J[0],K=J[1],V=(0,a.Os)().network,Q=(0,a.kF)(L,H),X=(0,a.d)((0,s.up)(null==Q||null===(e=Q.data)||void 0===e?void 0:e.source)),G=(0,a.d)((0,s.up)(null==Q||null===(r=Q.data)||void 0===r?void 0:r.destination)),nn=(0,a.xd)((0,s.up)(null==Q?void 0:Q.details.tokenAccount),null==Q?void 0:Q.details.amount);if((0,t.useEffect)((function(){var n=null==Q?void 0:Q.details.type;"send"===n?(0,m.L9)("Send_Process_Shown"):"swap"===n&&(0,m.L9)("Swap_Process_Shown")}),[null==Q?void 0:Q.details.type]),null!=Q&&Q.loading)return null;var en,rn,tn,on,an,sn,cn,ln=null!=Q&&null!==(o=Q.raw)&&void 0!==o&&o.blockTime?d().unix(Q.raw.blockTime).format("LLL"):"".concat(null==Q||null===(c=Q.raw)||void 0===c?void 0:c.slot," SLOT"),un=(null==Q?void 0:Q.data)instanceof a.qe&&Q.data.wasPaidByP2POrg;return(0,b.jsxs)(x.d0,{close:$,children:[(0,b.jsxs)(R,{children:[(0,b.jsx)(x.Dx,{children:(0,a.Qs)(null==Q?void 0:Q.details.type)}),(0,b.jsx)(x.Xe,{title:"".concat(null==Q||null===(u=Q.raw)||void 0===u?void 0:u.slot," SLOT"),children:ln}),(0,b.jsx)(x.R8,{onClick:$,children:(0,b.jsx)(x.Tw,{name:"close"})})]}),(0,b.jsx)(x.RH,{}),(0,b.jsxs)(x.VY,{children:[(an=null==Q?void 0:Q.details.type,sn=null==X||null===(en=X.balance)||void 0===en?void 0:en.token,cn=null==G||null===(rn=G.balance)||void 0===rn?void 0:rn.token,"swap"===an?(0,b.jsxs)(x.R3,{children:[(0,b.jsx)(x.Dv,{children:(0,b.jsxs)(x.SS,{children:[null!=X&&X.loading?(0,b.jsx)(i.Z,{width:44,height:44,borderRadius:12}):(0,b.jsx)(v.y,{symbol:null==sn?void 0:sn.symbol,address:null==sn?void 0:sn.address,size:44}),(0,b.jsx)(x.ht,{children:null!=X&&X.loading?(0,b.jsx)(i.Z,{width:50,height:16}):(0,b.jsxs)(b.Fragment,{children:["- ",null==X||null===(tn=X.balance)||void 0===tn?void 0:tn.formatUnits()]})})]})}),(0,b.jsx)(x.yB,{children:(0,b.jsx)(x.Td,{name:"swap"})}),(0,b.jsx)(x.Dv,{children:(0,b.jsxs)(x.SS,{children:[null!=G&&G.loading?(0,b.jsx)(i.Z,{width:44,height:44,borderRadius:12}):(0,b.jsx)(v.y,{symbol:null==cn?void 0:cn.symbol,address:null==cn?void 0:cn.address,size:44}),(0,b.jsx)(x.ht,{children:null!=X&&X.loading?(0,b.jsx)(i.Z,{width:80,height:16}):(0,b.jsxs)(b.Fragment,{children:["+ ",null==G||null===(on=G.balance)||void 0===on?void 0:on.formatUnits()]})})]})})]}):null!=Q&&Q.loading||null!=X&&X.loading||nn.loading?(0,b.jsx)(x.ZU,{children:(0,b.jsx)(i.Z,{width:70,height:53})}):nn.balance?(0,b.jsxs)(x.ZU,{children:[(0,b.jsxs)(x.rs,{children:[null!=Q&&Q.details.isReceiver?"+":"-"," ",nn.balance.formatUnits()]}),(0,b.jsx)(x.qK,{children:(0,b.jsx)(f.t,{prefix:null!=Q&&Q.details.isReceiver?"+ ":"- ",value:nn.balance})})]}):null),(0,b.jsx)(g,{children:(0,b.jsxs)(k,{children:[(0,b.jsx)(S,{className:l()({error:!(null==Q||null===(w=Q.raw)||void 0===w||null===(W=w.meta)||void 0===W||!W.err)})})," ",null!=Q&&null!==(E=Q.raw)&&void 0!==E&&null!==(D=E.meta)&&void 0!==D&&D.err?"Failed":null!=Q&&null!==(B=Q.raw)&&void 0!==B&&B.slot?"Completed":"Pending"]})}),(0,b.jsxs)(x.V$,{children:[Y?(0,b.jsxs)(b.Fragment,{children:[function(){var n,e,r,t,i=null==Q?void 0:Q.details.type,o=null==Q||null===(n=Q.data)||void 0===n?void 0:n.source,a=null==Q||null===(e=Q.data)||void 0===e?void 0:e.destination,s=null==X||null===(r=X.balance)||void 0===r?void 0:r.token,c=null==G||null===(t=G.balance)||void 0===t?void 0:t.token;return"swap"===i?(0,b.jsxs)(b.Fragment,{children:[o?(0,b.jsxs)(x.n2,{children:[(0,b.jsx)(x.m8,{children:"From"}),(0,b.jsx)(x.GH,{children:o})]}):void 0,a?(0,b.jsxs)(x.n2,{children:[(0,b.jsx)(x.m8,{children:"To"}),(0,b.jsx)(x.GH,{children:a})]}):void 0]}):i&&(o&&s||a&&c)?(0,b.jsxs)(T,{children:[o&&s?(0,b.jsxs)(O,{children:[(0,b.jsx)(x.m8,{children:"From"}),(0,b.jsxs)(Z,{children:[(0,b.jsx)(v.y,{symbol:s.symbol,address:s.address,size:48}),(0,b.jsxs)(A,{children:[(0,b.jsx)(C,{children:s.symbol}),(0,b.jsx)(I,{children:(0,y.sC)(o)})]})]})]}):void 0,a&&c?(0,b.jsxs)(O,{children:[(0,b.jsx)(x.m8,{children:"To"}),(0,b.jsxs)(Z,{children:[(0,b.jsx)(v.y,{symbol:c.symbol,address:c.address,size:48}),(0,b.jsxs)(A,{children:[(0,b.jsx)(C,{children:c.symbol}),(0,b.jsx)(I,{children:(0,y.sC)(a)})]})]})]}):void 0]}):null}(),null!=X&&X.balance&&null!=G&&G.balance||null!=nn&&nn.balance?(0,b.jsxs)(x.n2,{children:[(0,b.jsx)(x.m8,{children:"Amount"}),(0,b.jsx)(x.GH,{children:(null==Q?void 0:Q.data)instanceof a.W8?(0,b.jsxs)(b.Fragment,{children:[null==X||null===(N=X.balance)||void 0===N?void 0:N.formatUnits()," to"," ",null==G||null===(z=G.balance)||void 0===z?void 0:z.formatUnits()]}):(0,b.jsx)(b.Fragment,{children:null==nn||null===(M=nn.balance)||void 0===M?void 0:M.formatUnits()})})]}):void 0,nn.balance?(0,b.jsxs)(x.n2,{children:[(0,b.jsx)(x.m8,{children:"Value"}),(0,b.jsx)(x.GH,{children:(0,b.jsx)(f.t,{value:nn.balance})})]}):void 0,null!=Q&&null!==(F=Q.raw)&&void 0!==F&&F.meta?(0,b.jsxs)(x.n2,{children:[(0,b.jsxs)(P,{children:[(0,b.jsx)(x.m8,{children:"Transaction fee"}),un?(0,b.jsx)(_,{children:"Paid by p2p.org"}):void 0]}),(0,b.jsxs)(x.GH,{children:[(0,h.uf)(null===(U=Q.raw.meta)||void 0===U?void 0:U.fee)," lamports"]})]}):null,(0,b.jsxs)(x.n2,{children:[(0,b.jsx)(x.m8,{children:"Block number"}),(0,b.jsxs)(x.GH,{children:["#",null==Q||null===(q=Q.raw)||void 0===q?void 0:q.slot]})]})]}):void 0,(0,b.jsxs)(x.n2,{children:[(0,b.jsx)(x.m8,{children:"Transaction ID"}),(0,b.jsxs)(x.GH,{children:[L," ",(0,b.jsx)("a",{href:(0,p.j)("tx",L,V),target:"_blank",rel:"noopener noreferrer noindex",className:"button",children:(0,b.jsx)(x.Y3,{children:(0,b.jsx)(x.aA,{name:"external"})})})]})]})]})]}),(0,b.jsx)(x.$_,{className:l()({isCentered:!0}),children:(0,b.jsx)(x.B9,{lightGray:!0,onClick:function(){K((function(n){return!n}))},children:Y?"Hide transaction details":"Show transaction details"})})]})};r(55557)},93933:function(n,e,r){r.r(e),r.d(e,{INITIAL_PROGRESS:function(){return y},TransactionStatusSendModal:function(){return b},default:function(){return b}});var t=r(2784),i=r(33056),o=r(34703),a=r(5962),s=r(3110),c=r(60123),l=r(624),u=r(20472),d=r(23655),f=r(52322);function v(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}function m(n){return function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){v(o,t,i,a,s,"next",n)}function s(n){v(o,t,i,a,s,"throw",n)}a(void 0)}))}}function p(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return h(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var y=5,x="Transaction error",b=function(n){var e,r,v=n.type,h=n.action,y=n.params,b=n.sendState,j=n.close,w=(0,i.Os)().provider,g=(0,o.Km)().network,k=p((0,t.useState)(!1),2),S=k[0],T=k[1],O=p((0,t.useState)(null),2),Z=O[0],A=O[1],C=(0,i.kF)(Z),I=p((0,t.useState)(null!=C&&null!==(e=C.raw)&&void 0!==e&&null!==(r=e.meta)&&void 0!==r&&r.err?x:""),2),P=I[0],_=I[1],R=function(){var n=m(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,T(!0),n.t0=v,n.next="send"===n.t0?5:11;break;case 5:return n.next=7,h();case 7:return e=n.sent,A(e),(0,c.n)({header:"Sent",text:"- ".concat(y.amount.formatUnits()),symbol:y.amount.token.symbol}),n.abrupt("break",12);case 11:throw new Error("Wrong type");case 12:n.next=18;break;case 14:n.prev=14,n.t1=n.catch(0),T(!1),"send"===v&&(a.y.error(v,n.t1.message),_(x));case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(){return n.apply(this,arguments)}}();(0,t.useEffect)((function(){R()}),[]),(0,t.useEffect)((function(){var n=function(){var e=m(regeneratorRuntime.mark((function e(){var r,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,w.connection.getTransaction(Z,{commitment:"confirmed"});case 5:(r=e.sent)?null!==(t=r.meta)&&void 0!==t&&t.err?_(x):P&&_(""):setTimeout(n,3e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.y.error(e.t0.message);case 12:return e.prev=12,T(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}();n()}),[Z]);var W=!(Z&&null!=C&&C.key||P),E=Boolean(Z&&(null==C?void 0:C.key)&&!P),D=Boolean(P),B=null==b?void 0:b.destinationAddress.replace(null==b?void 0:b.destinationAddress.substring(4,(null==b?void 0:b.destinationAddress.length)-4),"..."),N=function(){(0,s.L9)("send_close_click",{transactionConfirmed:!S}),j(Z)};return(0,f.jsxs)(d.d0,{close:N,children:[(0,f.jsx)(d.$0,{children:(0,f.jsxs)(d.h4,{children:[y.amount.token.symbol," → ",B,(0,f.jsx)(d.R8,{onClick:N,children:(0,f.jsx)(d.Tw,{name:"close"})}),(0,f.jsx)(u.J4,{})]})}),(0,f.jsx)(u.fD,{isError:D,isProcessing:W,isSuccess:E,isExecuting:S,label:"Transaction status:"}),(0,f.jsx)(d.$0,{children:(0,f.jsx)(l.v,{sendState:b,params:y})}),(0,f.jsx)(u.yx,{signature:Z,network:g,amplitudeAction:{name:"send_explorer_click",data:{transactionConfirmed:!S}}})]})}},54448:function(n,e,r){r.r(e),r.d(e,{TransactionStatusModal:function(){return h},default:function(){return h}});var t=r(2784),i=r(33056),o=r(5962),a=r(82842),s=r(3110),c=r(20472),l=r(23655),u=r(52322);function d(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}function f(n){return function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){d(o,t,i,a,s,"next",n)}function s(n){d(o,t,i,a,s,"throw",n)}a(void 0)}))}}function v(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return m(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var p="Transaction error",h=function(n){var e,r,d=n.action,m=n.close,h=n.swapInfo,y=n.params,x=(0,i.Os)().provider,b=v((0,t.useState)(!1),2),j=b[0],w=b[1],g=v((0,t.useState)(""),2),k=g[0],S=g[1],T=(0,i.kF)(k),O=v((0,t.useState)(null!=T&&null!==(e=T.raw)&&void 0!==e&&null!==(r=e.meta)&&void 0!==r&&r.err?p:""),2),Z=O[0],A=O[1],C=(0,i.Km)().network,I=function(){var n=f(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,w(!0),n.next=4,d();case 4:e=n.sent,S(e),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),w(!1),A(p);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();(0,t.useEffect)((function(){I()}),[]),(0,t.useEffect)((function(){var n=function(){var e=f(regeneratorRuntime.mark((function e(){var r,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,x.connection.getTransaction(k,{commitment:"confirmed"});case 5:(r=e.sent)?null!=r&&null!==(t=r.meta)&&void 0!==t&&t.err?A(p):Z&&A(""):setTimeout(n,3e3),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),A(e.t0.message),o.y.error(e.t0.message);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}();n()}),[k]);var P=function(){(0,s.L9)("swap_close_click",{transactionConfirmed:!j}),m(k)},_=Boolean(Z),R=!(k&&null!=T&&T.key||_),W=Boolean(k&&(null==T?void 0:T.key)&&!_);return(0,u.jsxs)(l.d0,{close:P,noDelimiter:!0,children:[(0,u.jsx)(l.$0,{children:(0,u.jsxs)(l.h4,{children:[h.trade.inputTokenName," → ",h.trade.outputTokenName,(0,u.jsx)(l.R8,{onClick:P,children:(0,u.jsx)(l.Tw,{name:"close"})}),(0,u.jsx)(c.J4,{})]})}),(0,u.jsx)(c.fD,{isError:_,isProcessing:R,isSuccess:W,isExecuting:j,label:"Swap status:"}),(0,u.jsx)(l.$0,{children:(0,u.jsx)(a.H,{params:y,swapInfo:h,forPage:!1,showTitle:!1})}),(0,u.jsx)(c.yx,{signature:k,network:C,amplitudeAction:{name:"swap_explorer_click",data:{transactionConfirmed:!j}}})]})}},20472:function(n,e,r){r.d(e,{Tw:function(){return p.Tw},R8:function(){return p.R8},J4:function(){return l},h4:function(){return p.h4},$0:function(){return p.$0},yx:function(){return x},fD:function(){return P},d0:function(){return p.d0}});var t=r(8895),i=r(28879),o=r.n(i),a=r(52322),s=(0,t.Z)("div")({name:"Time",class:"t12rdzu9"}),c=(0,t.Z)("div")({name:"DateHeaderWrapper",class:"d15mtekj"}),l=function(){var n=new Date,e=n.getHours()-n.getUTCHours();return(0,a.jsxs)(c,{children:[(0,a.jsx)("span",{children:o()().format("MMMM D, YYYY")}),(0,a.jsx)(s,{children:o()().format("hh:mm:ss")}),(0,a.jsxs)("span",{children:["(UTC",e>=0?"+":"-",e,")"]})]})};r(77220);var u=r(72779),d=r.n(u),f=r(62806),v=r(3110),m=r(94789),p=r(23655),h=(0,t.Z)(f.JO)({name:"GoToExplorerIcon",class:"g9bcl9u"}),y=(0,t.Z)("a")({name:"GoToExplorerLink",class:"g1h0srjo"}),x=function(n){return(0,a.jsx)(p.$_,{children:(0,a.jsxs)(y,{href:n.signature?(0,m.j)("tx",n.signature,n.network):"",target:"_blank",rel:"noopener noreferrer noindex",onClick:function(){(0,v.FO)(n.amplitudeAction)},className:d()({isDisabled:!n.signature}),children:[(0,a.jsx)(h,{name:"external"}),"View in Solana explorer"]})})};r(22777);var b=r(2784),j=r(56253),w=r(93933);function g(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return k(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var S=(0,t.Z)(f.JO)({name:"ProgressIcon",class:"psvdukr"}),T=(0,t.Z)("div")({name:"TransactionStatus",class:"tmzguch"}),O=(0,t.Z)("div")({name:"TransactionBadge",class:"t1v39w5"}),Z=(0,t.Z)("div")({name:"ProgressWrapper",class:"pb0xeb0"}),A=(0,t.Z)("div")({name:"ProgressLine",class:"p195jhxp"}),C=(0,t.Z)("div")({name:"ProgressStub",class:"p1u3sisq",vars:{"p1u3sisq-0":[j.Ue.bottom]}}),I=(0,t.Z)(p.z2)({name:"BlockWrapper",class:"b1pz7toa"}),P=function(n){var e=g((0,b.useState)(w.INITIAL_PROGRESS),2),r=e[0],t=e[1];(0,b.useEffect)((function(){var e=w.INITIAL_PROGRESS;if(n.isExecuting){var i=setInterval((function(){t(r<=95?e+=7:e=95)}),2500);return function(){clearTimeout(i),t(100)}}}),[n.isExecuting]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Z,{children:[(0,a.jsx)(A,{style:{width:"".concat(r,"%")},className:d()({isSuccess:n.isSuccess,isError:n.isError})}),(0,a.jsx)(C,{}),(0,a.jsx)(I,{className:d()({isProcessing:n.isProcessing,isSuccess:n.isSuccess,isError:n.isError}),children:n.isSuccess?(0,a.jsx)(S,{name:"success-send"}):(0,a.jsx)(S,{name:n.isError?"error-send":"clock-send"})})]}),(0,a.jsxs)(T,{children:[n.label,(0,a.jsxs)(O,{children:[(0,a.jsx)(p.MA,{className:d()({isProcessing:n.isProcessing,isSuccess:n.isSuccess,isError:n.isError})}),function(n,e,r){switch(!0){case n:return"Pending";case r:return"Error";case e:return"Completed";default:return"Pending"}}(n.isExecuting,n.isSuccess,n.isError)]})]})]})};r(81873)},23655:function(n,e,r){r.d(e,{$0:function(){return R},$_:function(){return P},B9:function(){return _},Dv:function(){return j},Dx:function(){return u},GH:function(){return A},MA:function(){return m},R3:function(){return b},R8:function(){return f},RH:function(){return c},SS:function(){return w},Td:function(){return k},Tw:function(){return v},V$:function(){return T},VY:function(){return p},Xe:function(){return d},Y3:function(){return I},ZU:function(){return h},aA:function(){return C},d0:function(){return s},h4:function(){return l},ht:function(){return S},m8:function(){return Z},n2:function(){return O},qK:function(){return x},rs:function(){return y},yB:function(){return g},z2:function(){return a}});var t=r(8895),i=r(62806),o=r(79881),a=(0,t.Z)("div")({name:"StatusColors",class:"s1oe2baa"}),s=(0,t.Z)(o.u)({name:"WrapperModal",class:"w4f3mu3"}),c=(0,t.Z)("div")({name:"ProgressWrapper",class:"p1i912uk"}),l=(0,t.Z)("div")({name:"Header",class:"h1iyn34x"}),u=(0,t.Z)("div")({name:"Title",class:"tmn2tn4"}),d=(0,t.Z)("div")({name:"Desc",class:"d177nl2c"}),f=(0,t.Z)("div")({name:"CloseWrapper",class:"c1sha4fn"}),v=(0,t.Z)(i.JO)({name:"CloseIcon",class:"c1prpn3v"}),m=(0,t.Z)(a)({name:"TransactionLabel",class:"t1wcgvvt"}),p=(0,t.Z)("div")({name:"Content",class:"c1y267t2"}),h=(0,t.Z)("div")({name:"SendWrapper",class:"s33wg3"}),y=(0,t.Z)("div")({name:"ValueCurrency",class:"vd77she"}),x=(0,t.Z)("div")({name:"ValueOriginal",class:"v19h1co8"}),b=(0,t.Z)("div")({name:"SwapWrapper",class:"spgqtm3"}),j=(0,t.Z)("div")({name:"SwapColumn",class:"spxj4if"}),w=(0,t.Z)("div")({name:"SwapInfo",class:"s1733ag7"}),g=(0,t.Z)("div")({name:"SwapBlock",class:"s1thhukn"}),k=(0,t.Z)(i.JO)({name:"SwapIcon",class:"srl1rem"}),S=(0,t.Z)("div")({name:"SwapAmount",class:"siq91qb"}),T=(0,t.Z)("div")({name:"FieldsWrapper",class:"f1i7cxvz"}),O=(0,t.Z)("div")({name:"FieldWrapper",class:"f1g97ed6"}),Z=(0,t.Z)("div")({name:"FieldTitle",class:"f1r727wv"}),A=(0,t.Z)("div")({name:"FieldValue",class:"f1uopwlq"}),C=(0,t.Z)(i.JO)({name:"ShareIcon",class:"svtky2j"}),I=(0,t.Z)("div")({name:"ShareWrapper",class:"s4w9gxk"}),P=(0,t.Z)("div")({name:"Footer",class:"fr8alv0"}),_=(0,t.Z)(i.zx)({name:"ButtonExplorer",class:"b1mpmgz6"}),R=(0,t.Z)("div")({name:"Section",class:"srflw21"});r(7451)},79881:function(n,e,r){r.d(e,{u:function(){return E}});var t=r(2784),i=r(7267),o=r(2212),a=r(8895),s=r(56253),c=r(55381),l=r(34051),u=r(6185),d=r.n(u),f=r(72779),v=r.n(f),m=r(62806),p=r(52322);function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return y(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function x(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function b(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){j(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function j(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function w(){return w=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},w.apply(this,arguments)}var g=d()(.7,-.4,.4,1.4),k=(0,o.q)(c.cZ),S=(0,a.Z)((function(n){var e=w({},n);return(0,p.jsx)(k,b({},e))}))({name:"StyledDialogContent",class:"stp2ewb",vars:{"stp2ewb-0":[function(n){return n.mobile?"scroll":"hidden"}]}}),T=(0,a.Z)("div")({name:"Handle",class:"h17b9fu2"}),O=(0,a.Z)("div")({name:"Header",class:"h7031l9"}),Z=(0,a.Z)("div")({name:"Delimiter",class:"dl0kydt"}),A=(0,a.Z)("div")({name:"IconWrapper",class:"ivdh5pf"}),C=(0,a.Z)(m.JO)({name:"IconStyled",class:"i1cf8pa"}),I=(0,a.Z)("div")({name:"Title",class:"tn185p9"}),P=(0,a.Z)("div")({name:"Description",class:"d1b6gjod"}),_=(0,a.Z)(m.JO)({name:"CloseIcon",class:"c3pgt25"}),R=(0,a.Z)("div")({name:"Content",class:"chwv75v"}),W=(0,a.Z)("div")({name:"Footer",class:"f1xysusc"}),E=function(n){var e=n.title,r=n.description,a=n.footer,c=n.iconName,u=n.iconBgClassName,d=n.noDelimiter,f=n.close,m=n.doNotCloseOnPathChangeMobile,y=n.className,x=n.children,j=h((0,t.useState)(!1),2),w=j[0],k=j[1],E=(0,s.dD)(),D=(0,i.TH)(),B=(0,t.useRef)(D.pathname);(0,t.useEffect)((function(){E&&!m&&B.current!==D.pathname&&f()}),[E,m,D.pathname]),(0,t.useEffect)((function(){return k(!0),function(){k(!1)}}),[]);var N=(0,t.useMemo)((function(){return E?{config:{duration:600,easing:function(n){return g(n)}},from:{transform:"translateY(100px)"},enter:{transform:"translateX(0)"},leave:{transform:"translateY(100px)"}}:{}}),[E]),z=(0,o.Yz)(w,null,N),M=h((0,o.q_)((function(){return{y:0,config:{mass:1,tension:210,friction:20}}})),2),F=M[0].y,U=M[1],q=(0,l.useDrag)((function(n){U({y:n.down?n.movement[1]:0}),(n.movement[1]>300||n.velocity[1]>3&&n.direction[1]>0)&&f()}));return(0,p.jsx)(p.Fragment,{children:z.map((function(n){var t=n.item,i=n.key,o=n.props;return t&&(0,p.jsxs)(S,b(b({},E?b(b({},q()),{},{style:b(b({},o),{},{transform:F.interpolate((function(n){return"translateY(".concat(n>0?n:0,"px)")}))})}):{style:o}),{},{"aria-label":"dialog",className:y,children:[E?(0,p.jsx)(T,{}):void 0,e||r?(0,p.jsxs)(O,{children:[e?(0,p.jsx)(I,{children:e}):void 0,r?(0,p.jsx)(P,{children:r}):void 0,E?void 0:(0,p.jsx)(_,{name:"cross",onClick:f})]}):void 0,d?void 0:(0,p.jsx)(Z,{className:v()({hasIcon:Boolean(c)}),children:c?(0,p.jsx)(A,{className:u,children:(0,p.jsx)(C,{name:c})}):void 0}),x?(0,p.jsx)(R,{children:x}):void 0,a?(0,p.jsx)(W,{children:a}):void 0]}),i)}))})};r(90919)},36594:function(n,e,r){r.r(e),r.d(e,{default:function(){return v}});var t=r(7267),i=r(8895),o=(r(2784),r(62806)),a=r(52322),s=(0,i.Z)("div")({name:"Wrapper",class:"wsnvkgh"}),c=(0,i.Z)("div")({name:"IconWrapper",class:"idcf5wy"}),l=(0,i.Z)(o.JO)({name:"IconStyled",class:"i1f340xk"}),u=function(n){var e=n.icon,r=n.onClick,t=n.children;return(0,a.jsxs)(s,{onClick:r,children:[(0,a.jsx)(c,{children:(0,a.jsx)(l,{name:e})}),t]})};r(6140);var d=r(17557),f=(0,i.Z)("div")({name:"Content",class:"c1sjbf2h"}),v=function(n){var e=n.close,r=n.layoutViewModel,i=(0,t.k6)(),o=(0,t.TH)(),s=function(n){return function(){e(!1),o.pathname!==n&&i.push(n,{fromPage:o.pathname})}};return(0,a.jsx)(d.u,{close:function(){e(!1)},noDelimiter:!0,children:(0,a.jsxs)(f,{children:[(0,a.jsx)(u,{icon:"plus",onClick:function(){e(!1),r.openChooseBuyTokenMobileModal()},children:"Buy"}),(0,a.jsx)(u,{icon:"bottom",onClick:s("/receive"),children:"Receive"}),(0,a.jsx)(u,{icon:"top",onClick:s("/send"),children:"Send"}),(0,a.jsx)(u,{icon:"swap",onClick:s("/swap"),children:"Swap"})]})})};r(13666)},27473:function(n,e,r){r.r(e),r.d(e,{default:function(){return C}});var t=r(7267),i=r(13155),o=r(27664),a=r(74557),s=r(8895),c=r(94880),l=r(52322),u=(0,s.Z)("div")({name:"Wrapper",class:"w1etpx11"}),d=function(n){var e=n.wallet,r=n.token,t=n.onClick;return(0,l.jsx)(u,{onClick:t,children:r?(0,l.jsx)(c.O,{token:r,isMobilePopupChild:!0}):(0,l.jsx)(c.M,{wallet:e,isMobilePopupChild:!0})})};r(49721);var f,v=r(80075),m=r(13920),p=r(92670),h=r(65361),y=r(34401);function x(n){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},x(n)}function b(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return j(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function w(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function g(n,e){return g=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},g(n,e)}function k(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,t=O(n);if(e){var i=O(this).constructor;r=Reflect.construct(t,arguments,i)}else r=t.apply(this,arguments);return S(this,r)}}function S(n,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(n)}function T(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function O(n){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},O(n)}var Z=(0,m.ri)()(f=Reflect.metadata("design:type",Function)(f=Reflect.metadata("design:paramtypes",[void 0===h.A?Object:h.A,void 0===y.m?Object:y.m])(f=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(n,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),writable:!1}),e&&g(n,e)}(o,n);var e,r,t,i=k(o);function o(n,e){var r;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this))._wallets=n,r._solanaService=e,r.solWallet=void 0,r.usdcWallet=void 0,r.solToken=void 0,r.usdcToken=void 0,(0,v.rC)(T(r),{solWallet:v.LO,usdcWallet:v.LO,solToken:v.LO,usdcToken:v.LO}),r._setWallets(r._getBuySelectionWallet(a.CK.sol),r._getBuySelectionWallet(a.CK.usdc)),r}return e=o,(r=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){var n=this;this.addReaction((0,v.U5)((function(){return[n._getBuySelectionWallet(a.CK.sol),n._getBuySelectionWallet(a.CK.usdc)]}),(function(e){var r=b(e,2),t=r[0],i=r[1];return n._setWallets(t,i)})))}},{key:"afterReactionsRemoved",value:function(){}},{key:"_getBuySelectionWallet",value:function(n){return this._wallets.getWallets().find((function(e){return e.token.symbol===n.symbol&&e.token.address===n.mintAddress}))}},{key:"_getToken",value:function(n){return this._solanaService.getToken(n.mintAddress)}},{key:"_setWallets",value:function(n,e){var r=this;n?(0,v.z)((function(){return r.solWallet=n})):this._getToken(a.CK.sol).then((0,v.aD)((function(n){return r.solToken=n}))),e?(0,v.z)((function(){return r.usdcWallet=e})):this._getToken(a.CK.usdc).then((0,v.aD)((function(n){return r.usdcToken=n})))}}])&&w(e.prototype,r),t&&w(e,t),Object.defineProperty(e,"prototype",{writable:!1}),o}(p.j))||f)||f)||f,A=r(17557),C=(0,i.Pi)((function(n){var e=n.close,r=(0,t.k6)(),i=(0,t.TH)(),s=(0,o.Dz)(Z),c=s.solWallet,u=s.solToken,f=s.usdcWallet,v=s.usdcToken,m=function(n){e(!1);var t="/buy/".concat(n.symbol);i.pathname!==t&&r.push(t)};return(0,l.jsxs)(A.u,{noDelimiter:!1,close:function(){e(!1)},title:"Choose a crypto for buying",children:[(0,l.jsx)(d,{wallet:c,token:u,onClick:function(){return m(a.CK.sol)}}),(0,l.jsx)(d,{wallet:f,token:v,onClick:function(){return m(a.CK.usdc)}})]})}))},17557:function(n,e,r){r.d(e,{u:function(){return E}});var t=r(2784),i=r(7267),o=r(2212),a=r(8895),s=r(56253),c=r(55381),l=r(34051),u=r(6185),d=r.n(u),f=r(72779),v=r.n(f),m=r(62806),p=r(52322);function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return y(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function x(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function b(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){j(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function j(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function w(){return w=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},w.apply(this,arguments)}var g=d()(.7,-.4,.4,1.4),k=(0,o.q)(c.cZ),S=(0,a.Z)((function(n){var e=w({},n);return(0,p.jsx)(k,b({},e))}))({name:"StyledDialogContent",class:"s19wqre9",vars:{"s19wqre9-0":[function(n){return n.mobile?"scroll":"hidden"}]}}),T=(0,a.Z)("div")({name:"Handle",class:"h1y300sv"}),O=(0,a.Z)("div")({name:"Header",class:"h1tugxpp"}),Z=(0,a.Z)("div")({name:"Delimiter",class:"d1eyggbf"}),A=(0,a.Z)("div")({name:"IconWrapper",class:"i1gloadw"}),C=(0,a.Z)(m.JO)({name:"IconStyled",class:"ip0rsv1"}),I=(0,a.Z)("div")({name:"Title",class:"t38yqro"}),P=(0,a.Z)("div")({name:"Description",class:"dwrm9hi"}),_=(0,a.Z)(m.JO)({name:"CloseIcon",class:"c1o3dvw6"}),R=(0,a.Z)("div")({name:"Content",class:"cubr1xa"}),W=(0,a.Z)("div")({name:"Footer",class:"f5tfmnk"}),E=function(n){var e=n.title,r=n.description,a=n.footer,c=n.iconName,u=n.iconBgClassName,d=n.noDelimiter,f=n.close,m=n.className,y=n.children,x=h((0,t.useState)(!1),2),j=x[0],w=x[1],k=(0,s.dD)(),E=(0,i.TH)(),D=(0,t.useRef)(E.pathname);(0,t.useEffect)((function(){k&&D.current!==E.pathname&&f()}),[k,E.pathname]),(0,t.useEffect)((function(){return w(!0),function(){w(!1)}}),[]);var B=(0,t.useMemo)((function(){return k?{config:{duration:600,easing:function(n){return g(n)}},from:{transform:"translateY(100px)"},enter:{transform:"translateX(0)"},leave:{transform:"translateY(100px)"}}:{}}),[k]),N=(0,o.Yz)(j,null,B),z=h((0,o.q_)((function(){return{y:0,config:{mass:1,tension:210,friction:20}}})),2),M=z[0].y,F=z[1],U=(0,l.useDrag)((function(n){F({y:n.down?n.movement[1]:0}),(n.movement[1]>300||n.velocity[1]>3&&n.direction[1]>0)&&f()}));return(0,p.jsx)(p.Fragment,{children:N.map((function(n){var t=n.item,i=n.key,o=n.props;return t&&(0,p.jsxs)(S,b(b({},k?b(b({},U()),{},{style:b(b({},o),{},{transform:M.interpolate((function(n){return"translateY(".concat(n>0?n:0,"px)")}))})}):{style:o}),{},{"aria-label":"dialog",className:m,children:[k?(0,p.jsx)(T,{}):void 0,e||r?(0,p.jsxs)(O,{children:[e?(0,p.jsx)(I,{children:e}):void 0,r?(0,p.jsx)(P,{children:r}):void 0,k?void 0:(0,p.jsx)(_,{name:"cross",onClick:f})]}):void 0,d?void 0:(0,p.jsx)(Z,{className:v()({hasIcon:Boolean(c)}),children:c?(0,p.jsx)(A,{className:u,children:(0,p.jsx)(C,{name:c})}):void 0}),y?(0,p.jsx)(R,{children:y}):void 0,a?(0,p.jsx)(W,{children:a}):void 0]}),i)}))})};r(21382)},15312:function(n,e,r){r.r(e),r.d(e,{CloseTransaction:function(){return i.hm},ErrorType:function(){return i.NI},ProcessTransactionModalViewModel:function(){return Y},SendTransaction:function(){return i.ir},SwapTransaction:function(){return i.W8},default:function(){return K}});var t,i=r(96426),o=r(2784),a=r(13155),s=r(20472),c=r(27664),l=r(8895),u=r(58242),d=r(55568),f=r(59917),v=r(42203),m=r(18018);function p(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function h(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function y(n,e,r){return e&&h(n.prototype,e),r&&h(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}!function(n){n[n.sending=0]="sending",n[n.confirmed=1]="confirmed",n[n.finalized=2]="finalized",n[n.error=3]="error"}(t||(t={}));var x=function(){function n(e){var r=e.type,t=e.numberOfConfirmed,i=void 0===t?null:t,o=e.error,a=void 0===o?null:o;p(this,n),this.type=void 0,this._numberOfConfirmed=void 0,this._error=void 0,this.type=r,this._numberOfConfirmed=i,this._error=a}return y(n,[{key:"numberOfConfirmations",get:function(){return this.type===t.confirmed?this._numberOfConfirmed:null}},{key:"isProcessing",get:function(){switch(this.type){case t.sending:case t.confirmed:return!0;default:return!1}}},{key:"progress",get:function(){switch(this.type){case t.sending:return 0;case t.confirmed:var e=this.numberOfConfirmations;return e>=n.maxConfirmed&&(e=n.maxConfirmed-1),e/n.maxConfirmed;case t.finalized:case t.error:return 1}}},{key:"error",get:function(){return this.type===t.error?this._error:null}},{key:"rawValue",get:function(){switch(this.type){case t.sending:return"sending";case t.confirmed:return"processing(".concat(this._numberOfConfirmed,")");case t.finalized:return"finalized";case t.error:return"error"}}}],[{key:"sending",value:function(){return new n({type:t.sending})}},{key:"confirmed",value:function(e){return new n({type:t.confirmed,numberOfConfirmed:e})}},{key:"finalized",value:function(){return new n({type:t.finalized})}},{key:"error",value:function(e){return new n({type:t.error,error:e})}}]),n}();x.maxConfirmed=31;var b=function(){function n(e){var r=e.transactionId,t=e.sentAt,i=e.writtenToRepository,o=void 0!==i&&i,a=e.rawTransaction,s=e.status,c=e.slot,l=void 0===c?0:c;p(this,n),this.transactionId=void 0,this.sentAt=void 0,this.writtenToRepository=void 0,this.rawTransaction=void 0,this.status=void 0,this.slot=void 0,this.transactionId=r,this.sentAt=t,this.writtenToRepository=o,this.rawTransaction=a,this.status=s,this.slot=l}return y(n,[{key:"parse",value:function(n){var e,r,o=n.pricesService,a=n.authority,s=void 0===a?null:a;switch(this.status.type){case t.sending:r=m.qb.requesting();break;case t.confirmed:r=m.qb.processing(0);break;case t.finalized:r=m.qb.confirmed();break;case t.error:r=m.qb.error(null===(e=this.status.error)||void 0===e?void 0:e.message)}var c,l,u,p=this.transactionId,h=this.rawTransaction;switch(h.constructor){case i.ir:var y,x,b=(0,m.K4)(h.amount,h.sender.token.decimals);c=new m.qe({source:h.sender,destination:new m.w5({pubkey:h.receiver.address,lamports:d.ZERO,token:h.sender.token}),authority:s,destinationAuthority:null,amount:b,myAccount:h.sender.pubkey}),l=b*(null!==(y=null===(x=o.currentPrice(h.sender.token.symbol))||void 0===x?void 0:x.value)&&void 0!==y?y:0),u=h.feeInToken;break;case i.W8:var j,w,g=h.destinationWallet,k=new f.nh(g.mintAddress);if(s&&k){var S=new f.nh(s);g.pubkey=(0,m.MO)(k,S,!1,m.jQ.splAssociatedTokenAccountProgramId,m.jQ.tokenProgramId).toString()}c=new m.W8({source:h.sourceWallet,sourceAmount:h.amount,destination:g,destinationAmount:h.estimatedAmount,myAccountSymbol:null}),l=h.amount*(null!==(j=null===(w=o.currentPrice(h.sourceWallet.token.symbol))||void 0===w?void 0:w.value)&&void 0!==j?j:0),u=(0,v.Q9)(h.fees);break;default:return null}return new m.XL({status:r,signature:p,value:c,amountInFiat:l,slot:this.slot,blockTime:this.sentAt,fee:u,blockhash:null})}}]),n}(),j=r(67699),w=r(52322),g=(0,l.Z)("div")({name:"Wrapper",class:"wz1hcn1"}),k=(0,a.Pi)((function(n){var e=n.viewModel,r=(0,u.YN)((function(){var n=e.pendingTransaction,r=n.rawTransaction.isSwap?"The swap is being processed":"The transaction is being processed";switch(n.status.type){case t.sending:case t.confirmed:return r;case t.error:var o=n.status.error;if(o){if(o.message.includes("Swap instruction exceeds desired slippage limit"))return"Low slippage caused the swap to fail";if(o instanceof j.A$&&o.code===j.A$.topUpSuccessButTransactionThrows().code)return"The transaction failed due to a blockchain error"}return"The transaction has been rejected";case t.finalized:var a=n.rawTransaction;if(a instanceof i.ir)return"".concat(a.sender.token.symbol," was sent successfully");if(a instanceof i.W8)return"".concat(a.sourceWallet.token.symbol," → ").concat(a.destinationWallet.token.symbol," swapped successfully");throw Error("fatal")}}));return(0,w.jsx)(g,{children:r})}));r(30663);var S,T=r(80075),O=r(61467),Z=r(13920),A=r(92670),C=r(79771),I=r.n(C),P=r(17940),_=r(65361),R=r(33429),W=r(34401);function E(n,e){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,e){if(!n)return;if("string"==typeof n)return D(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(n,e)}(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var t=0,i=function(){};return{s:i,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return a=n.done,n},e:function(n){s=!0,o=n},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function D(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function B(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}function N(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}var z,M=(0,Z.b2)()(S=Reflect.metadata("design:type",Function)(S=Reflect.metadata("design:paramtypes",[void 0===W.m?Object:W.m,void 0===_.A?Object:_.A,void 0===P.g9?Object:P.g9,void 0===R.A?Object:R.A])(S=function(){function n(e,r,t,i){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this._apiClient=e,this._walletsRepository=r,this._pricesService=t,this._socket=i,this.transactions=[],this._onNewTransactionEmitter={listeners:[],emit:function(){for(var n=this.listeners||[],e=0,r=n.length;e<r;e++)n[e].apply(n,arguments)},on:function(n){var e,r=this;return(null===(e=this.listeners)||void 0===e?void 0:e.push(n))||(this.listeners=[n]),function(){r.listeners=r.listeners.filter((function(e){return n!==e}))}}},this.onNewTransaction=this._onNewTransactionEmitter.on}var e,r,t,o,a;return e=n,r=[{key:"sendTransaction",value:function(n){var e=this.transactions.length,r=new b({transactionId:null,sentAt:new Date,rawTransaction:n,status:x.sending()}),t=this.transactions;return t.push(r),this.transactions=t,this._onNewTransactionEmitter.emit({trx:r,index:e}),this.sendAndObserve({index:e,processingTransaction:n}),e}},{key:"observeTransaction",value:function(n){var e;return null!==(e=this.transactions[n])&&void 0!==e?e:null}},{key:"areSomeTransactionsInProgress",value:function(){return this.transactions.some((function(n){return n.status.isProcessing}))}},{key:"getProccessingTransactions",value:function(n){var e=this;return this.transactions.filter((function(e){var r=e.rawTransaction;switch(r.constructor){case i.ir:if(r.sender.pubkey===n||r.receiver.address===n||r.authority===n)return!0;break;case i.W8:if(r.sourceWallet.pubkey===n||r.destinationWallet.pubkey===n||r.authority===n)return!0}return!1})).map((function(n){var r;return n.parse({pricesService:e._pricesService,authority:null===(r=e._walletsRepository.nativeWallet)||void 0===r?void 0:r.pubkey})})).filter((function(n){return Boolean(n)}))}},{key:"getProcessingTransactionAll",value:function(){var n=this;return this.transactions.map((function(e){var r;return e.parse({pricesService:n._pricesService,authority:null===(r=n._walletsRepository.nativeWallet)||void 0===r?void 0:r.pubkey})})).filter((function(n){return Boolean(n)}))}},{key:"sendAndObserve",value:(o=regeneratorRuntime.mark((function n(e){var r,t,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.index,t=e.processingTransaction,n.prev=1,n.next=4,t.createRequest();case 4:i=n.sent,this._updateTransactionAtIndex(r,(function(){return new b({transactionId:i,sentAt:new Date,rawTransaction:t,status:x.confirmed(0)})})),this.observe({index:r,transactionId:i}),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0),this._updateTransactionAtIndex(r,(function(e){var r=e;return r.status=x.error(n.t0),r}));case 13:case"end":return n.stop()}}),n,this,[[1,9]])})),a=function(){var n=this,e=arguments;return new Promise((function(r,t){var i=o.apply(n,e);function a(n){B(i,r,t,a,s,"next",n)}function s(n){B(i,r,t,a,s,"throw",n)}a(void 0)}))},function(n){return a.apply(this,arguments)})},{key:"observe",value:function(n){var e=this,r=n.index,t=n.transactionId;I()((function(n){return e._apiClient.provider.connection.getSignatureStatus(t).then((function(n){var t,o,a=n.value;if(!a)throw m.qh.other("Invalid status");if(t=a.confirmations&&"finalized"!==a.confirmationStatus?x.confirmed(null!==(o=a.confirmations)&&void 0!==o?o:0):x.finalized(),e._updateTransactionAtIndex(r,(function(n){var e=n;return e.status=t,e.slot=a.slot,e})),!a.confirmations||"finalized"===a.confirmationStatus)return null;throw i.NI.notEnoughNumberOfConfirmations}))}),{retries:10,minTimeout:1e3,maxTimeout:6e4,factor:1})}},{key:"_updateTransactionAtIndex",value:function(n,e){var r=this.transactions,t=r[n];if(t){var i=e(t),o=i.status.numberOfConfirmations;return!i.writtenToRepository&&o&&o>0&&(this._updateRepository(i.rawTransaction),i.writtenToRepository=!0),r[n]=i,this.transactions=r,!0}return!1}},{key:"_updateRepository",value:function(n){var e=this;switch(n.constructor){case i.ir:if(this._socket.isConnected)return;this._walletsRepository.batchUpdate((function(e){var r,t=e;if((r=t.findIndex((function(e){return e.pubkey===n.sender.pubkey})))&&t[r].decreaseBalance(n.amount),(r=t.findIndex((function(e){return e.pubkey===n.receiver.address})))&&t[r].increaseBalance(n.amount),r=t.findIndex((function(e){var r;return e.pubkey===(null===(r=n.payingFeeWallet)||void 0===r?void 0:r.pubkey)}))){var i=n.feeInToken;i&&t[r].decreaseBalance(i.total)}return t}));break;case i.hm:if(this._socket.isConnected)return;this._walletsRepository.batchUpdate((function(e){var r,t=e,i=n.reimbursedAmount,o=n.closingWallet;t=t.filter((function(n){return n.pubkey===o.pubkey})),"SOL"!==o.token.symbol||o.token.isNative||(i=i.add(null!==(r=o.lamports)&&void 0!==r?r:d.ZERO));var a=t.findIndex((function(n){return n.isNativeSOL}));return a&&t[a].increaseBalance(i),t}));break;case i.W8:this._walletsRepository.batchUpdate((function(r){var t=r;if(!e._socket.isConnected){var i=t.findIndex((function(e){return e.pubkey===n.sourceWallet.pubkey}));i&&t[i].decreaseBalance((0,m.On)(n.amount,n.sourceWallet.token.decimals))}var o=t.findIndex((function(e){return e.pubkey===n.destinationWallet.pubkey}));if(o)e._socket.isConnected||t[o].increaseBalance((0,m.On)(n.estimatedAmount,n.destinationWallet.token.decimals));else{var a=null;try{var s=n.authority;if(!s)throw!1;a=(0,m.MO)(new f.nh(n.destinationWallet.mintAddress),new f.nh(s),!1,m.jQ.splAssociatedTokenAccountProgramId,m.jQ.tokenProgramId)}catch(n){}if(a){var c=n.destinationWallet;c.pubkey=a.toString(),c.lamports=(0,m.On)(n.estimatedAmount,c.token.decimals),t.push(c)}}if(!e._socket.isConnected){var l,u=E(n.fees);try{var d=function(){var n=l.value;switch(n.type.type){case v.J0.accountCreationFee:case v.J0.transactionFee:var e=t.findIndex((function(e){return e.mintAddress===n.token.address}));e&&t[e].decreaseBalance(n.lamports);case v.J0.liquidityProviderFee:case v.J0.orderCreationFee:case v.J0.depositWillBeReturned:}};for(u.s();!(l=u.n()).done;)d()}catch(n){u.e(n)}finally{u.f()}}return t}))}}}],r&&N(e.prototype,r),t&&N(e,t),Object.defineProperty(e,"prototype",{writable:!1}),n}())||S)||S)||S;function F(n){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},F(n)}function U(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function q(n,e){return q=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},q(n,e)}function L(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,t=J(n);if(e){var i=J(this).constructor;r=Reflect.construct(t,arguments,i)}else r=t.apply(this,arguments);return H(this,r)}}function H(n,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $(n)}function $(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function J(n){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},J(n)}var Y=(0,Z.b2)()(z=Reflect.metadata("design:type",Function)(z=Reflect.metadata("design:paramtypes",[void 0===M?Object:M])(z=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(n,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),writable:!1}),e&&q(n,e)}(o,n);var e,r,t,i=L(o);function o(n){var e;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this))._transactionHandler=n,e.rawTransaction=void 0,e.pendingTransaction=void 0,e.observingTransactionIndex=void 0,e.rawTransaction=null,e.pendingTransaction=null,e.observingTransactionIndex=null,(0,T.rC)($(e),{rawTransaction:T.LO,pendingTransaction:T.LO,observingTransactionIndex:T.LO,setTransaction:T.aD,sendAndObserveTransaction:T.aD}),e}return e=o,(r=[{key:"setDefaults",value:function(){this.rawTransaction=null,this.pendingTransaction=null,this.observingTransactionIndex=null}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"setTransaction",value:function(n){this.rawTransaction=n,this.pendingTransaction=new b({transactionId:null,sentAt:new Date,rawTransaction:n,status:x.sending()})}},{key:"isSwapping",get:function(){return(0,O.ZP)(this.rawTransaction,"rawTransaction is not set"),this.rawTransaction.isSwap}},{key:"transactionID",get:function(){return(0,O.ZP)(this.pendingTransaction,"pendingTransaction is not set"),this.pendingTransaction.transactionId}},{key:"getMainDescription",value:function(){return(0,O.ZP)(this.rawTransaction,"rawTransaction is not set"),this.rawTransaction.mainDescription}},{key:"sendAndObserveTransaction",value:function(){var n;(0,O.ZP)(this.rawTransaction,"rawTransaction is not set");var e=this._transactionHandler.sendTransaction(this.rawTransaction);this.observingTransactionIndex=e;var r=new b({transactionId:null,sentAt:new Date,rawTransaction:this.rawTransaction,status:x.error(m.qh.unknown())});this.pendingTransaction=null!==(n=this._transactionHandler.observeTransaction(e))&&void 0!==n?n:r}}])&&U(e.prototype,r),t&&U(e,t),Object.defineProperty(e,"prototype",{writable:!1}),o}(A.j))||z)||z)||z,K=(0,a.Pi)((function(n){var e=n.close,r=n.transaction,t=(0,c.Dz)(Y);(0,o.useLayoutEffect)((function(){t.setTransaction(r),t.sendAndObserveTransaction()}));var i=function(){e(!1)};return(0,w.jsx)(s.d0,{close:i,children:(0,w.jsxs)(s.$0,{children:[(0,w.jsxs)(s.h4,{children:["1 → 2",(0,w.jsx)(s.R8,{onClick:i,children:(0,w.jsx)(s.Tw,{name:"close"})}),(0,w.jsx)(s.J4,{})]}),(0,w.jsx)(k,{viewModel:t})]})})}))},67461:function(n,e,r){r.r(e),r.d(e,{default:function(){return M}});var t=r(2784),i=r(8895),o=r(33056),a=r(90956),s=r(38228),c=r(11562),l=r(62806),u=r(79881),d=r(81277),f=(0,i.Z)("div")({name:"Section",class:"s1f2udlw"}),v=(0,i.Z)("div")({name:"FieldInfo",class:"fiwy5yp"}),m=(0,i.Z)(l.JO)({name:"WalletIcon",class:"w1v6vhhb"}),p=(0,i.Z)("div")({name:"IconWrapper",class:"isqkc50"}),h=(0,i.Z)("div")({name:"InfoWrapper",class:"i1m565zn"}),y=(0,i.Z)("div")({name:"InfoTitle",class:"icsoyvn"}),x=(0,i.Z)(y)({name:"Username",class:"u1cg3b3x"}),b=(0,i.Z)("span")({name:"To",class:"t1cjzph3"}),j=(0,i.Z)("div")({name:"InfoValue",class:"i14l8v2c"});r(35254);var w=r(13155),g=r(65978),k=r(55907),S=r(52322),T=(0,w.Pi)((function(n){var e,r,t,i=n.viewModel,o=i.wallet,a=null!==(e=i.amount)&&void 0!==e?e:0,s=a*(null!==(r=null==o?void 0:o.priceInCurrentFiat)&&void 0!==r?r:0);return(0,S.jsxs)(v,{children:[(0,S.jsx)(k.y,{token:null==o?void 0:o.token,size:44}),(0,S.jsxs)(h,{children:[(0,S.jsxs)(y,{children:[(0,d.D)(a,{maximumFractionDigits:9})," ",null!==(t=null==o?void 0:o.token.symbol)&&void 0!==t?t:""]}),(0,S.jsxs)(j,{children:[g.k.fiat.symbol,(0,d.D)(s,{maximumFractionDigits:2})]})]})]})})),O=r(648),Z=(0,w.Pi)((function(n){var e=n.viewModel.recipient;return(0,S.jsxs)(v,{children:[(0,S.jsx)(p,{children:(0,S.jsx)(m,{name:"wallet"})}),(0,S.jsxs)(h,{children:[e.name?(0,S.jsxs)(x,{children:[(0,S.jsx)(b,{children:"To"}),e.name]}):(0,S.jsx)(y,{className:"secondary",children:"To address"}),(0,S.jsx)(j,{children:(0,S.jsx)(O.x,{address:e.address,medium:!0})})]})]})}));function A(n,e,r,t,i,o,a){try{var s=n[o](a),c=s.value}catch(n){return void r(n)}s.done?e(c):Promise.resolve(c).then(t,i)}function C(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var t,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);a=!0);}catch(n){s=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return I(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var P=(0,i.Z)(u.u)({name:"WrapperModal",class:"w55a1sl"}),_=(0,i.Z)("div")({name:"ModalTitle",class:"m1siqif9"}),R=(0,i.Z)("span")({name:"SubTitle",class:"sq93hvq"}),W=(0,i.Z)("div")({name:"ActionTitle",class:"a1yejgvw"}),E=(0,i.Z)(c.W)({name:"PasswordInputStyled",class:"p16o9l4n"}),D=(0,i.Z)(l.JO)({name:"SendIcon",class:"sa34itd"}),B=(0,i.Z)("div")({name:"ArrowWrapper",class:"afj37u5"}),N=(0,i.Z)("div")({name:"ArrowIconWrapper",class:"a18oboip"}),z=(0,i.Z)(l.JO)({name:"ArrowIcon",class:"a1nm8vsk"}),M=function(n){var e,r,i,c,u=n.close,v=n.viewModel,m=(0,o.Os)().walletProviderInfo,p=(0,o.Su)(),h=C((0,t.useState)(""),2),y=h[0],x=h[1],b=C((0,t.useState)(!1),2),j=b[0],w=b[1],g=function(){u(!1)},k=function(){var n,e=(n=regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p(e);case 3:w(!1),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),w(!0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function a(n){A(o,t,i,a,s,"next",n)}function s(n){A(o,t,i,a,s,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}(),O=(null==m?void 0:m.name)===o.oq[o.Yx.SecretKey].name,I=O&&(!y||j)||!v.wallet||!v.amount||!v.recipient;return(0,S.jsxs)(P,{title:(0,S.jsx)(_,{children:"Confirm sending"}),close:g,footer:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(l.zx,{primary:!0,disabled:I,onClick:function(){u(!0),v.authenticateAndSend()},children:[(0,S.jsx)(D,{name:"top"}),null!==(e=null===(r=v.error)||void 0===r?void 0:r.buttonSuggestion)&&void 0!==e?e:"Send ".concat((0,d.D)(v.amount,{maximumFractionDigits:9})," ").concat(null!==(i=null===(c=v.wallet)||void 0===c?void 0:c.token.symbol)&&void 0!==i?i:"")]}),(0,S.jsx)(a.T,{onClick:g})]}),noDelimiter:!1,children:[(0,S.jsx)(W,{children:"You are going to send"}),(0,S.jsx)(f,{className:"send",children:(0,S.jsxs)("div",{children:[(0,S.jsx)(T,{viewModel:v}),(0,S.jsx)(B,{children:(0,S.jsx)(N,{children:(0,S.jsx)(z,{name:"arrow-down"})})}),(0,S.jsx)(Z,{viewModel:v})]})}),O?(0,S.jsxs)(f,{className:"password",children:[(0,S.jsx)(R,{children:"Enter password to confirm"}),(0,S.jsx)(E,{value:y,onChange:function(n){x(n),n&&k(n)},isError:j}),j?(0,S.jsx)(s.p,{error:"The password is not correct",noIcon:!0}):null]}):null]})};r(26619)},7229:function(n,e,r){r.r(e)},46918:function(n,e,r){r.r(e)},73801:function(n,e,r){r.r(e)},81124:function(n,e,r){r.r(e)},57483:function(n,e,r){r.r(e)},59648:function(n,e,r){r.r(e)},77648:function(n,e,r){r.r(e)},24597:function(n,e,r){r.r(e)},7027:function(n,e,r){r.r(e)},82444:function(n,e,r){r.r(e)},61963:function(n,e,r){r.r(e)},35081:function(n,e,r){r.r(e)},81866:function(n,e,r){r.r(e)},29623:function(n,e,r){r.r(e)},98026:function(n,e,r){r.r(e)},55557:function(n,e,r){r.r(e)},77220:function(n,e,r){r.r(e)},22777:function(n,e,r){r.r(e)},81873:function(n,e,r){r.r(e)},7451:function(n,e,r){r.r(e)},90919:function(n,e,r){r.r(e)},6140:function(n,e,r){r.r(e)},13666:function(n,e,r){r.r(e)},49721:function(n,e,r){r.r(e)},21382:function(n,e,r){r.r(e)},30663:function(n,e,r){r.r(e)},26619:function(n,e,r){r.r(e)},35254:function(n,e,r){r.r(e)}}]);
//# sourceMappingURL=698c9fed480b80987e31.chunk.js.map