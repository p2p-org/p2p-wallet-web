(self.webpackChunk_p2p_wallet_web_web=self.webpackChunk_p2p_wallet_web_web||[]).push([[179],{74441:function(e,t,n){"use strict";n.d(t,{oq:function(){return G.oq},Yx:function(){return G.Yx},m:function(){return $},hK:function(){return K},Qr:function(){return G.Qr},W8:function(){return Ke},r:function(){return Le},Qy:function(){return se},qe:function(){return ot},Qs:function(){return ht},Km:function(){return G.Km},d:function(){return je},xd:function(){return Oe},VJ:function(){return le},kF:function(){return yt},Su:function(){return H},Os:function(){return G.Os}});n(73672);var r=n(27158),o=new Set(["FG4Y3yX4AAchp1HvNZ7LfzFTewF2f6nDoMDCohTFrdpT"]),i=new r.PublicKey("11111111111111111111111111111111"),a=new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),u=new r.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),c={seed:"",mnemonic:""},s=n(2784),l=function(e,t){return t?{value:e,expiry:Date.now()+t}:{value:e,expiry:Number.MAX_SAFE_INTEGER}},f=function(e){var t=localStorage.getItem(e);if(!t)return null;var n,r=(n=JSON.parse(t))?n.expiry<Date.now()?null:n.value:null;return r||(localStorage.removeItem(e),null)};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e,t,n){var r=d((0,s.useState)(t),2),o=r[0],i=r[1];(0,s.useEffect)((function(){try{var t=f(e);i(t)}catch(e){console.error(e)}}),[e]);var a=(0,s.useCallback)((function(t,r){try{!function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).msTTL,r=l(t,n);localStorage.setItem(e,JSON.stringify(r))}(e,t,{msTTL:n||r}),i(t)}catch(e){console.error(e)}}),[e,n]);return[o||t,a]},h="encryptedSeedAndMnemonic",v=n(17022),m=n.n(v),b=n(5634),w=n(10717),g=n.n(w),k=n(48834).Buffer;function j(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,u,"next",e)}function u(e){j(i,r,o,a,u,"throw",e)}a(void 0)}))}}function x(e,t,n,r){return S.apply(this,arguments)}function S(){return(S=O(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){return(0,b.pbkdf2)(t,n,r,g().secretbox.keyLength,o,(function(t,n){return t?i(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P,A=function(){var e=O(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m().decode(t.encrypted),o=m().decode(t.nonce),i=m().decode(t.salt),e.next=5,x(n,i,t.iterations,t.digest);case 5:if(a=e.sent,u=g().secretbox.open(r,o,a)){e.next=9;break}throw new Error("Incorrect password");case 9:return e.abrupt("return",k.from(u).toString());case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=O(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(n),e.next=3,A(r,t);case 3:return o=e.sent,e.abrupt("return",JSON.parse(k.from(o).toString()));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=O(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g().randomBytes(16),o="pbkdf2",i=1e5,a="sha256",u=g().randomBytes(g().secretbox.nonceLength),e.next=7,x(n,r,i,a);case 7:return c=e.sent,s=g().secretbox(k.from(t),u,c),e.abrupt("return",{encrypted:m().encode(s),nonce:m().encode(u),kdf:o,salt:m().encode(r),iterations:i,digest:a});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(e){P=e},C=function(){return P};function I(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(){var e=E(y(h,""),2),t=e[0],n=e[1],r=(0,s.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,o){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify(t),e.next=3,T(i,r);case 3:a=e.sent,n(JSON.stringify(a)),o&&R(t);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){I(i,r,o,a,u,"next",e)}function u(e){I(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),[]);return[t,r]};function F(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var N=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){F(i,r,o,a,u,"next",e)}function u(e){F(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),B=n(52322);function Z(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=(0,s.createContext)({setUnencryptedSeedAndMnemonic:function(){},setEncryptedSeedAndMnemonic:N,unlockSeedAndMnemonic:N}),z=(0,s.createContext)({unencryptedSeedAndMnemonic:c,encryptedSeedAndMnemonic:""}),K=function(e){var t=e.children,n=W(D(),2),r=n[0],o=n[1],i=W(Q(),2),a=i[0],u=i[1];(0,s.useEffect)((function(){a.mnemonic&&a.seed&&u(a)}),[a]);var c=(0,s.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,_(t,r);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Z(i,r,o,a,u,"next",e)}function u(e){Z(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[r,u]);return(0,B.jsx)(U.Provider,{value:{setUnencryptedSeedAndMnemonic:u,setEncryptedSeedAndMnemonic:o,unlockSeedAndMnemonic:c},children:(0,B.jsx)(z.Provider,{value:{unencryptedSeedAndMnemonic:a,encryptedSeedAndMnemonic:r},children:t})})};function q(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var H=function(){var e=(0,s.useContext)(z);if(null===e)throw new Error("Context not available");var t=e.encryptedSeedAndMnemonic;return(0,s.useCallback)(function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n,t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,u,"next",e)}function u(e){q(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[t])};function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(){var e=V((0,s.useState)(c),2),t=e[0],n=e[1];return(0,s.useEffect)((function(){try{var e=C();n(e||c)}catch(e){console.error(e)}}),[]),[t,(0,s.useCallback)((function(e){n(e),R(e)}),[n])]};n(14132),n(62994),n(48834).Buffer;var $={"mainnet-beta":{endpoint:"https://p2p.rpcpool.com/".concat("78306120-3a44-4ede-89f4-6133642ccab2")}},G=n(24992),J=n(92812),X=n(5300),ee=n(62879),te=n(79834),ne=(new(n(14426).L2)).resolve();function re(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=["SOL","USDC","BTC","USDT","ETH"],ce=(0,te.f)((function(){var e=(0,G.Km)().network,t=(0,X.Pj)(e),n=(0,s.useMemo)((function(){return function(e){var t={};return ne.filter((function(t){return t.chainId===e})).forEach((function(e){t[e.address]=new X.WU(e)})),t[X.iX.toBase58()]=X.Ai[(0,X.S_)(e)],e===X.a_.Devnet&&(t.FsaLodPu4VmSwXGr3gWfwANe4vKf8XSZcCh1CEeJ3jpD=new X.WU({chainId:101,address:"FsaLodPu4VmSwXGr3gWfwANe4vKf8XSZcCh1CEeJ3jpD",name:"renBTC",decimals:8,symbol:"RENBTC"})),t}(t)}),[t]),r=(0,s.useMemo)((function(){return t?n:{}}),[t,n]),o=(0,s.useMemo)((function(){return Object.values(r).reduce((function(e,t){return"Luna"===t.info.symbol&&"Lunaria"===t.info.name||"ATLAS"===t.info.symbol&&"Atlascoin"===t.info.name||(e[t.symbol.toUpperCase()]=t),e}),{})}),[r]),i=(0,s.useMemo)((function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),t=Object.values(e),n=ue.map((function(e){var n=t.find((function(t){return t.symbol===e}));return null==n?void 0:n.address})).filter(Boolean).map((function(t){var n=e[t];return delete e[t],n})).filter(Boolean);return[].concat(re(n),re(Object.values(e)))}),[r]);return{tokens:i,tokenMap:r,tokenNameMap:o}})),se=ce.Provider,le=ce.useContainer;function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pe=function(e){return e&&e.equals(r.PublicKey.default)?null:e},ye=function(e){var t=(0,G.X)().network,n=le().tokenMap,r=(0,s.useMemo)((function(){var t,r=null!==(t=null==e?void 0:e.map(pe))&&void 0!==t?t:[],o=r.map((function(e){return e&&n[e.toString()]?null:e}));return{normalizedMints:r,mintsToLoad:o}}),[e,n]),o=r.normalizedMints,i=r.mintsToLoad,a=(0,J.V0)(i,J.ax);return(0,s.useMemo)((function(){var e=o.map((function(e){return e?n[e.toString()]:e}));return(0,ee.Z)(e,a).map((function(e){var n=fe(e,2),r=n[0],o=n[1];if(r)return r;if(!o)return o;var i=o.accountInfo.data.decimals;return X.WU.fromMint(o.accountId,i,{chainId:(0,X.Pj)(t)})}))}),[o,a,n,t])};var he=n(27042),ve=n(181);function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke,je=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,G.Os)().publicKey,n=(0,J.CM)(e),r=(0,s.useMemo)((function(){return n.map((function(n,r){return n?n.accountInfo.owner.equals(i)?X.iX:n.accountInfo.owner.equals(ve.TOKEN_PROGRAM_ID)?(0,J.YT)(n).mint:null:t&&e[r]&&t.equals(e[r])?X.iX:n}))}),[n]),o=ye(r);return(0,s.useMemo)((function(){return(0,ee.Z)(n,o).map((function(t,n){var r=me(t,1)[0],a=e[n];if(!a)return{key:void 0,loading:!1,balance:void 0,isInitialized:!!r};var u=o[n];if(!u)return{key:a,loading:void 0===u,balance:void 0,isInitialized:!!r};if(null!=r&&r.accountInfo.owner.equals(i))return{key:a,loading:!1,balance:new he.d(u,r.accountInfo.lamports),isInitialized:!0};var c=r?(0,J.YT)(r):r;try{return{key:a,loading:void 0===r,balance:c?new he.d(u,c.amount):new he.d(u,0),isInitialized:!!r}}catch(e){var s;return void console.warn("Error parsing ATA ".concat(null!==(s=null==r?void 0:r.accountId.toString())&&void 0!==s?s:"(unknown)"),e)}}))}),[e,n,o])}((0,s.useMemo)((function(){return[e]}),[e]));return we(t,1)[0]},Oe=function(e,t){var n=je(e);return(0,s.useMemo)((function(){var e;if(!t)return{loading:!1,balance:void 0};if(null==n||null===(e=n.balance)||void 0===e||!e.token)return{loading:!(null==n||!n.loading),balance:void 0};try{return{loading:!(null==n||!n.loading),balance:new he.d(n.balance.token,t)}}catch(e){return void console.warn("Error parsing token amount",e)}}),[n,t])};function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Pe(i,r,o,a,u,"next",e)}function u(e){Pe(i,r,o,a,u,"throw",e)}a(void 0)}))}}!function(e){e.ATA="ATA"}(ke||(ke={}));_e={},Te=ke.ATA,Ce=Ae(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe(t,2),r=n[0],o=n[1],e.next=3,(0,X.Aq)({mint:r,owner:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Re=function(e){return Ce.apply(this,arguments)},Te in _e?Object.defineProperty(_e,Te,{value:Re,enumerable:!0,configurable:!0,writable:!0}):_e[Te]=Re;var _e,Te,Re,Ce,Ie=n(1238),Ee=n(28316);function Me(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var De=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Me(i,r,o,a,u,"next",e)}function u(e){Me(i,r,o,a,u,"throw",e)}a(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,r,o){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={programId:ve.TOKEN_PROGRAM_ID},e.next=3,t.getTokenAccountsByOwner(o,i);case 3:return a=e.sent,(0,Ee.unstable_batchedUpdates)((function(){a.value.forEach((function(e){return n.prime(e.pubkey,e.account),r.set((0,J.Yl)(e.pubkey),e.account),e.pubkey}))})),e.abrupt("return",{keys:a.value.map((function(e){return e.pubkey})),ownerPublicKey:o});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}();function Fe(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=(0,te.f)((function(){var e=(0,G.Km)().connection,t=(0,J.LX)().accounts,n=t.loader,r=t.accountsCache,o=(0,G.Os)().publicKey,i=(0,s.useMemo)((function(){return o?[o]:[]}),[null==o?void 0:o.toBase58()]),a=Ne((0,s.useState)(i),2),u=a[0],c=a[1],l=(0,s.useCallback)((function(){e&&o?De(e,n,r,o).then((function(e){var t=e.keys;e.ownerPublicKey.equals(o)&&t&&c((function(e){return(0,Ie.Z)((function(e){return e.toBase58()}),[o].concat(Fe(e),Fe(t)))}))})):c([])}),[r,e,n,o]);return(0,s.useEffect)((function(){e&&o?(c((function(e){return(0,Ie.Z)((function(e){return e.toBase58()}),[o].concat(Fe(e)))})),l()):c([])}),[r,e,n,o,c,l]),{userTokenAccountKeys:u,updateUserTokenAccountKeys:l}})),Le=We.Provider,Ue=We.useContainer;function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ke=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.sourceAmount=n,this.destination=r,this.destinationAmount=o}var t,n,r;return t=e,(n=[{key:"details",value:function(e){var t=!!this.destination&&(null==e?void 0:e.includes(this.destination));return{type:"swap",icon:"swap",isReceiver:t,amount:t?this.destinationAmount:this.sourceAmount,tokenAccount:t?this.destination:this.source}}}])&&ze(t.prototype,n),r&&ze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"can",value:function(e){var t=this;return e.some((function(e){return t._supportedProgramId.includes(e.programId.toBase58())}))}},{key:"_isLiquidityToPool",value:function(e){var t,n,r,o,i,a,u,c=null==e||null===(t=e[0])||void 0===t?void 0:t.instructions;return 3===(null==c?void 0:c.length)&&"transfer"===(null===(n=c[0])||void 0===n||null===(r=n.parsed)||void 0===r?void 0:r.type)&&"transfer"===(null===(o=c[1])||void 0===o||null===(i=o.parsed)||void 0===i?void 0:i.type)&&"mintTo"===(null===(a=c[2])||void 0===a||null===(u=a.parsed)||void 0===u?void 0:u.type)}},{key:"_isBurn",value:function(e){var t,n,r,o,i,a,u,c=null==e||null===(t=e[0])||void 0===t?void 0:t.instructions;return 3===(null==c?void 0:c.length)&&3===(null==c?void 0:c.length)&&"burn"===(null===(n=c[0])||void 0===n||null===(r=n.parsed)||void 0===r?void 0:r.type)&&"transfer"===(null===(o=c[1])||void 0===o||null===(i=o.parsed)||void 0===i?void 0:i.type)&&"transfer"===(null===(a=c[2])||void 0===a||null===(u=a.parsed)||void 0===u?void 0:u.type)}},{key:"_parseFailedTransaction",value:function(e){var t,n,r,o,i,a,u,c,s,l,f=null===(t=e.meta)||void 0===t?void 0:t.postTokenBalances,d=e.transaction.message.instructions.find((function(e){var t;return"approve"===(null==e||null===(t=e.parsed)||void 0===t?void 0:t.type)})),p=null==d||null===(n=d.parsed)||void 0===n?void 0:n.info.amount,y=null==f||null===(r=f.at(-1))||void 0===r?void 0:r.mint;if(!(f&&d&&p&&y))return null;y===X.Gd.toBase58()&&(s=null==d||null===(l=d.parsed)||void 0===l?void 0:l.info.owner);var h=null==d||null===(o=d.parsed)||void 0===o?void 0:o.info.source,v=p||(null!==(i=null==f||null===(a=f.at(0))||void 0===a?void 0:a.uiTokenAmount.amount)&&void 0!==i?i:"0"),m=null!==(u=null==f||null===(c=f.at(-1))||void 0===c?void 0:c.uiTokenAmount.amount)&&void 0!==u?u:"0";return new Ke(h,v,s,m)}},{key:"_parse",value:function(e){var t,n,r,o,i,a,u,c,s=this,l=function(e){var t,n,r=e.transaction.message.instructions,o=null!==(t=null===(n=e.meta)||void 0===n?void 0:n.innerInstructions)&&void 0!==t?t:[];return r.map((function(e,t){return{instruction:e,innerInstruction:o.find((function(e){return e.index===t}))}}))}(e).filter((function(e){return s._supportedProgramId.includes(e.instruction.programId.toBase58())}));if(0===l.length)return this._parseFailedTransaction(e);var f=null===(t=l.at(0))||void 0===t||null===(n=t.innerInstruction)||void 0===n?void 0:n.instructions.at(0),d=null===(r=l.at(-1))||void 0===r||null===(o=r.innerInstruction)||void 0===o?void 0:o.instructions.at(-1);if(!f||!d)return this._parseFailedTransaction(e);var p=null===(i=f.parsed)||void 0===i?void 0:i.info,y=null===(a=d.parsed)||void 0===a?void 0:a.info,h=(null==p?void 0:p.source)||(null==p?void 0:p.destination),v=null!==(u=null==p?void 0:p.amount)&&void 0!==u?u:"0",m=(null==y?void 0:y.destination)||(null==y?void 0:y.source),b=null!==(c=null==y?void 0:y.amount)&&void 0!==c?c:"0",w=e.transaction.message.instructions.find((function(e){var t;return"closeAccount"===(null===(t=e.parsed)||void 0===t?void 0:t.type)}));return null!=w&&w.parsed&&(w.parsed.info.account===h&&(h=w.parsed.info.destination),w.parsed.info.account===m&&(m=w.parsed.info.destination)),new Ke(h,v,m,b)}},{key:"parse",value:function(e){var t,n=null===(t=e.meta)||void 0===t?void 0:t.innerInstructions;switch(!0){case this._isLiquidityToPool(n):case this._isBurn(n):return null;default:return this._parse(e)}}}],(n=null)&&qe(t.prototype,n),r&&qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();He._supportedProgramId=["DjVE6JNiYqPL2QXyCUUh8rNjHrbz9hXHNYt99MQ59qw1","9W959DqEETiGZocYWCQPaJ6sBmUzgfxXfqGeTEdp3aQP","9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL","SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8"];var Ve=n(44840);function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"_getSerumSwapInstructionIndex",value:function(e){var t=this;return e.reverse().findIndex((function(e){return t._supportedProgramId.includes(e.programId.toBase58())}))}},{key:"can",value:function(e){return-1!==this._getSerumSwapInstructionIndex(e)}},{key:"_isUSDxMint",value:function(e){return a.toBase58()===e||u.toBase58()===e}},{key:"parse",value:function(e){var t,n,r,o,i,a,u=this,c=e.transaction.message.instructions,s=null===(t=e.meta)||void 0===t?void 0:t.preTokenBalances,l=this._getSerumSwapInstructionIndex(e.transaction.message.instructions),f=null===(n=e.meta)||void 0===n||null===(r=n.innerInstructions)||void 0===r?void 0:r.find((function(e){return e.instructions.some((function(e){return u._supportedProgramId.includes(e.programId.toBase58())}))})),d=c[l];if(!d)return null;var p=s?(0,Ve.Z)(null==s?void 0:s.map((function(e){return e.mint}))):[];if(p.length<2)return null;3===p.length&&(p=p.filter((function(e){return u._isUSDxMint(e)})));var y,h,v,m,b,w,g,k,j=!p.some((function(e){return u._isUSDxMint(e)})),O=d.accounts;if(!O)return null;if(j&&27!=O.length)return null;if(!j&&16!=O.length)return null;if(j)y=null===(v=O[6])||void 0===v?void 0:v.toBase58(),h=null===(m=O[21])||void 0===m?void 0:m.toBase58();else if(y=null===(b=O[10])||void 0===b?void 0:b.toBase58(),h=null===(w=O[12])||void 0===w?void 0:w.toBase58(),this._isUSDxMint(p.at(0))&&!this._isUSDxMint(p.at(-1))){var x=[h,y];y=x[0],h=x[1]}var S=null==f?void 0:f.instructions.find((function(e){var t,n;return"transfer"===(null===(t=e.parsed)||void 0===t?void 0:t.type)&&(null===(n=e.parsed)||void 0===n?void 0:n.info.source)===y})),P=null==S||null===(o=S.parsed)||void 0===o?void 0:o.info.amount;P&&(g=P);var A=null==f?void 0:f.instructions.find((function(e){var t,n;return"transfer"===(null===(t=e.parsed)||void 0===t?void 0:t.type)&&(null===(n=e.parsed)||void 0===n?void 0:n.info.destination)===h})),_=null==A||null===(i=A.parsed)||void 0===i?void 0:i.info.amount;_&&(k=_);var T=c.find((function(e){var t,n;"createAccount"===(null===(t=e.parsed)||void 0===t?void 0:t.type)&&(null===(n=e.parsed)||void 0===n||n.info.newAccount)})),R=null==T||null===(a=T.parsed)||void 0===a?void 0:a.info.source;return R&&(y=R),new Ke(y,g,h,k)}}],(n=null)&&Ye(t.prototype,n),r&&Ye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Qe._supportedProgramId=["22Y43yTVxuUkoRKdm9thyRhQ3SdgQS7c7kB6UNCiaczD"];function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Xe=function(){function e(t,n){$e(this,e),this.fee=t,this.newAccount=n}return Je(e,[{key:"details",value:function(e){return{type:"createAccount",icon:"wallet",isReceiver:!1}}}]),e}(),et=function(){function e(){$e(this,e)}return Je(e,null,[{key:"can",value:function(e){var t,n,r,o,i;switch(e.length){case 1:return"spl-associated-token-account"===(null===(t=e[0])||void 0===t?void 0:t.program);case 2:return"createAccount"===(null===(n=e[0])||void 0===n||null===(r=n.parsed)||void 0===r?void 0:r.type)&&"initializeAccount"===(null===(o=e.at(-1))||void 0===o||null===(i=o.parsed)||void 0===i?void 0:i.type);default:return!1}}},{key:"parse",value:function(e){var t,n,r,o=e.transaction.message.instructions,i=function(e,t){return e.find((function(e){return e.program===t}))}(o,"spl-associated-token-account");if(i)return new Xe(null,null===(r=i.parsed)||void 0===r?void 0:r.info.account);var a=null===(t=o[0])||void 0===t||null===(n=t.parsed)||void 0===n?void 0:n.info;return new Xe(null==a?void 0:a.lamports,null==a?void 0:a.newAccount)}}]),e}();function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ot=function(){function e(t,n,r,o){tt(this,e),this.source=t,this.destination=n,this.amount=r,this.wasPaidByP2POrg=o}return rt(e,[{key:"details",value:function(e){var t=!!this.destination&&(null==e?void 0:e.includes(this.destination));return{type:t?"receive":"transfer",icon:t?"bottom":"top",isReceiver:t,amount:this.amount,tokenAccount:t?this.destination:this.source}}}]),e}(),it=function(){function e(){tt(this,e)}return rt(e,null,[{key:"can",value:function(e){var t,n,r,o;return!(1!==e.length&&4!==e.length&&2!==e.length||"transfer"!==(null===(t=e.at(-1))||void 0===t||null===(n=t.parsed)||void 0===n?void 0:n.type)&&"transferChecked"!==(null===(r=e.at(-1))||void 0===r||null===(o=r.parsed)||void 0===o?void 0:o.type))}},{key:"parse",value:function(e){var t,n,r,i,a,u,c,s,l,f,d,p=e.transaction.message.instructions,y=e.transaction.message.accountKeys,h=p.at(-1),v=null==h||null===(t=h.parsed)||void 0===t?void 0:t.info.source,m=null==h||null===(n=h.parsed)||void 0===n?void 0:n.info.destination,b=null!==(r=null!==(i=null!==(a=null==h||null===(u=h.parsed)||void 0===u?void 0:u.info.lamports)&&void 0!==a?a:null==h||null===(c=h.parsed)||void 0===c?void 0:c.info.amount)&&void 0!==i?i:null==h||null===(s=h.parsed)||void 0===s||null===(l=s.info.tokenAmount)||void 0===l?void 0:l.amount)&&void 0!==r?r:"0",w=new ot(v,m,b),g=null===(f=y[0])||void 0===f||null===(d=f.pubkey)||void 0===d?void 0:d.toBase58();return g&&o.has(g)&&(w.wasPaidByP2POrg=!0),w}}]),e}();function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=function(e){var t=(0,J.LX)().onError,n=(0,J.hn)(e),r=st((0,s.useState)(e.reduce((function(e,t){return t&&(e[t]=void 0),e}),{})),2),o=r[0],i=r[1];return(0,s.useEffect)((function(){i((function(r){var o=ut({},r);return(0,ee.Z)(e,n).forEach((function(e){var n=st(e,2),r=n[0],i=n[1];if(i){var a=i.transactionId;try{var u=function(e){var t,n=e.transactionInfo,r=n.transaction.message.instructions;switch(!0){case He.can(r):t=He.parse(n);break;case Qe.can(r):t=Qe.parse(n);break;case et.can(r):t=et.parse(n);break;case it.can(r):t=it.parse(n);break;default:t=null}return t}(i);o[a]=ut(ut({},i),{},{transactionInfo:ut(ut({},i.transactionInfo),{},{data:u}),raw:i.transactionInfo})}catch(e){return t(new J.qL(e,i)),void(o[a]=null)}}r&&null===i&&(o[r]=null)})),o}))}),[n,e,t]),(0,s.useMemo)((function(){return e.map((function(e){return e?o[e]:e}))}),[e,o])};function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yt=function(e,t){var n=function(e){var t=(0,s.useMemo)((function(){return[e]}),[e]),n=dt(ft(t),1)[0];return{loading:void 0!==e&&void 0===n,data:n}}(e),r=n.loading,o=n.data,i=Ue().userTokenAccountKeys,a=(0,s.useMemo)((function(){return t?[t]:i.map((function(e){return e.toBase58()}))}),[t,i]);return(0,s.useMemo)((function(){var t=function(e,t){return null!=e&&e.data?e.data.details(t):{type:"transaction",icon:"db",isReceiver:!1}}(null==o?void 0:o.transactionInfo,a);try{return{key:e,loading:r,data:o?o.transactionInfo.data:null,details:t,raw:null==o?void 0:o.raw}}catch(e){var n;return void console.warn("Error parsing ".concat(null!==(n=null==o?void 0:o.transactionId.toString())&&void 0!==n?n:"(unknown)"),e)}}),[o,e,r,a])};var ht=function(e){return e.replace(/([A-Z]+)*([A-Z][a-z])/g,"$1 $2")}},73672:function(){function e(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]}for(var t=Reflect.getPrototypeOf(Int8Array),n=0,r=[Array,String,t];n<r.length;n++){var o=r[n];Object.defineProperty(o.prototype,"at",{value:e,writable:!0,enumerable:!1,configurable:!0})}},92812:function(e,t,n){"use strict";var r;n.d(t,{ax:function(){return ht},du:function(){return T},GX:function(){return A},Ee:function(){return E},OT:function(){return M},IC:function(){return xt},i8:function(){return S},qL:function(){return R},d_:function(){return _},YT:function(){return yt},OZ:function(){return Pt},Yl:function(){return Ce},CM:function(){return z},Ur:function(){return Ee},V0:function(){return X},up:function(){return N},LX:function(){return St},hn:function(){return oe}}),function(e){e.NotConfirmed="not-confirmed",e.Cancelled="cancelled",e.NodeBehind="node-behind",e.SignatureRequestDenied="signature-request-denied",e.InsufficientSOL="insufficient-sol",e.BlockhashNotFound="blockhash-not-found"}(r||(r={}));function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&v(e,t)}function f(e){var t=h();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)},p(e)}function y(e,t,n){return y=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&v(o,n.prototype),o},y.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var b={SailUnknownTXFailError:"Transaction failed",SailTransactionError:"Transaction processing failed",SailInsufficientSOLError:"Insufficient SOL balance",SailRefetchAfterTXError:"Error fetching changed accounts",SailRefetchSubscriptionsError:"Error refetching subscribed accounts",SailTransactionSignError:"Error signing transactions",SailAccountsCacheRefetchError:"Error accounts refetching from cache",SailTransactionsCacheRefetchError:"Error transactions refetching from cache",SailAccountParseError:"Error parsing account",SailAccountLoadError:"Error loading account",SailTransactionParseError:"Error parsing transaction",SailTransactionLoadError:"Error loading transaction",SailGetMultipleAccountsError:"Error fetching multiple accounts",SailGetMultipleTransactionsError:"Error fetching multiple transactions"},w=function(e){var t;return"message"in e&&null!==(t=e.message)&&void 0!==t?t:null},g=function(e){l(n,e);var t=f(n);function n(e,r){var o,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(null!==(o=w(r))&&void 0!==o?o:"unknown");return u(this,n),(i=t.call(this,"".concat(b[e],": ").concat(a))).sailErrorName=e,i.originalError=r,i.cause=a,i._isSailError=!0,i.name=e,r instanceof Error&&(i.stack=r.stack),i}return s(n,[{key:"title",get:function(){return b[this.sailErrorName]}}]),n}(p(Error)),k=function(e){l(n,e);var t=f(n);function n(e,r,o){var i;return u(this,n),(i=t.call(this,"SailUnknownTXFailError",e)).network=r,i.txs=o,i}return s(n)}(g),j=function(e){l(n,e);var t=f(n);function n(e,r,o,i){var a;return u(this,n),(a=t.call(this,"SailTransactionError",r)).network=e,a.tx=o,a.userMessage=i,a}return s(n,[{key:"tag",get:function(){return(e=this.message).startsWith("Transaction was not confirmed in")?r.NotConfirmed:e.startsWith("Transaction cancelled")?r.Cancelled:e.startsWith("failed to send transaction: Node is behind by")?r.NodeBehind:"Signature request denied"===e?r.SignatureRequestDenied:"Insufficient SOL balance"===e?r.InsufficientSOL:e.endsWith("Blockhash not found")?r.BlockhashNotFound:null;var e}},{key:"isSimulation",get:function(){return this.message.includes("Transaction simulation failed: ")}},{key:"fingerprint",get:function(){var e=this.tag;return e?[this.name,e]:[this.name].concat(i(this.message.split(": ")))}},{key:"generateLogMessage",value:function(){var e=[this.tx.debugStr];return"localnet"!==this.network&&e.push("View on Solana Explorer: ".concat(this.tx.generateInspectLink(this.network))),e.join("\n")}}]),n}(g),O=function(e){l(n,e);var t=f(n);function n(e){var r;return u(this,n),(r=t.call(this,"SailInsufficientSOLError",null,"Insufficient SOL balance")).currentBalance=e,r}return s(n)}(g),x=function(e){l(n,e);var t=f(n);function n(e,r,o){var i;return u(this,n),(i=t.call(this,"SailRefetchAfterTXError",e)).writable=r,i.txSigs=o,i}return s(n)}(g),S=function(e){l(n,e);var t=f(n);function n(e){return u(this,n),t.call(this,"SailRefetchSubscriptionsError",e)}return s(n)}(g),P=function(e){l(n,e);var t=f(n);function n(e,r){var o;return u(this,n),(o=t.call(this,"SailTransactionSignError",e)).txs=r,o}return s(n)}(g),A=function(e){l(n,e);var t=f(n);function n(e,r){var o;return u(this,n),(o=t.call(this,"SailAccountsCacheRefetchError",e)).keys=r,o}return s(n)}(g),_=function(e){l(n,e);var t=f(n);function n(e,r){var o;return u(this,n),(o=t.call(this,"SailTransactionsCacheRefetchError",e)).keys=r,o}return s(n)}(g),T=function(e){l(n,e);var t=f(n);function n(e,r){var o;return u(this,n),(o=t.call(this,"SailAccountParseError",e)).data=r,o}return s(n)}(g),R=function(e){l(n,e);var t=f(n);function n(e,r){var o;return u(this,n),(o=t.call(this,"SailTransactionParseError",e)).data=r,o}return s(n)}(g),C=function(e){l(n,e);var t=f(n);function n(e,r){var o;return u(this,n),(o=t.call(this,"SailAccountLoadError",e)).accountId=r,o}return s(n,[{key:"userMessage",get:function(){return"Error loading account ".concat(this.accountId.toString())}}]),n}(g),I=function(e){l(n,e);var t=f(n);function n(e,r){var o;return u(this,n),(o=t.call(this,"SailTransactionLoadError",e)).transactionId=r,o}return s(n,[{key:"userMessage",get:function(){return"Error loading transaction ".concat(this.transactionId)}}]),n}(g),E=function(e){l(n,e);var t=f(n);function n(e,r,o){var i;return u(this,n),(i=t.call(this,"SailGetMultipleAccountsError",o)).keys=e,i.commitment=r,i}return s(n)}(g),M=function(e){l(n,e);var t=f(n);function n(e,r,o){var i;return u(this,n),(i=t.call(this,"SailGetMultipleTransactionsError",o)).keys=e,i.commitment=r,i}return s(n)}(g),D=n(53271),F=n(2784);var N=function(e){return(0,F.useMemo)((function(){if(void 0===e)return e;if(!e)return null;if(e instanceof D.nh)return e;try{return new D.nh(e)}catch(e){return null}}),[e])},B=(n(27042),n(60669));function Z(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Z(i,r,o,a,u,"next",e)}function u(e){Z(i,r,o,a,u,"throw",e)}a(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){var t=St(),n=t.accounts,r=n.getDatum,o=n.onCache,i=n.subscribe,a=n.fetchKeys,u=t.onError,c=L((0,F.useState)((function(){return e.reduce((function(e,t){return t&&(e[Ce(t)]=r(t)),e}),{})})),2),s=c[0],l=c[1],f=(0,B.Z)(function(){var e=W(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:r=e.sent,o=n.reduce((function(e,t,n){var o;t&&(e[Ce(t)]=null===(o=r[n])||void 0===o?void 0:o.data);return e}),{}),l(o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),100);return(0,F.useEffect)((function(){W(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=f(a,e))||void 0===n?void 0:n.catch((function(t){u(new A(t,e))}));case 2:case"end":return t.stop()}}),t)})))()}),[e,f,a,u]),(0,F.useEffect)((function(){var t=e.filter((function(e){return!!e})).map(i);return function(){t.map((function(e){return e()}))}}),[e,i]),(0,F.useEffect)((function(){return o((function(t){var n;e.find((function(e){return null==e?void 0:e.equals(t.id)}))&&(null===(n=f(a,e))||void 0===n||n.catch((function(t){u(new A(t,e))})))}))}),[e,o,f,a,u]),(0,F.useEffect)((function(){return function(){f.cancel()}}),[f]),(0,F.useMemo)((function(){return e.map((function(e){return e?s[Ce(e)]:e}))}),[s,e])};var K=n(5300),q=n(24992),H=(n(94513),n(68026)),V=n.n(H);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(e,t){var n=St().onError,r=z(e),o=G((0,F.useState)(e.reduce((function(e,t){return t&&(e[Ce(t)]=void 0),e}),{})),2),i=o[0],a=o[1];return(0,F.useEffect)((function(){a((function(o){var i=Q({},o);return V()(e,r).forEach((function(e){var r=G(e,2),a=r[0],u=r[1];if(u){var c=Ce(u.accountId),s=o[c];if(s&&s.raw.length===u.accountInfo.data.length&&s.raw.equals(u.accountInfo.data))return;try{var l=t(u);i[c]=Q(Q({},u),{},{accountInfo:Q(Q({},u.accountInfo),{},{data:l}),raw:u.accountInfo.data})}catch(e){return n(new T(e,u)),void(i[c]=null)}}a&&null===u&&(i[Ce(a)]=null)})),i}))}),[r,e,n,t]),(0,F.useMemo)((function(){return e.map((function(e){return e?i[Ce(e)]:e}))}),[e,i])};function ee(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ee(i,r,o,a,u,"next",e)}function u(e){ee(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=function(e){var t=St(),n=t.transactions,r=n.getDatum,o=n.onCache,i=n.subscribe,a=n.fetchKeys,u=t.onError,c=ne((0,F.useState)((function(){return e.reduce((function(e,t){return t&&(e[t]=r(t)),e}),{})})),2),s=c[0],l=c[1],f=(0,B.Z)(function(){var e=te(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:r=e.sent,o=n.reduce((function(e,t,n){var o;t&&(e[t]=null===(o=r[n])||void 0===o?void 0:o.data);return e}),{}),l(o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),100);return(0,F.useEffect)((function(){te(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=f(a,e))||void 0===n?void 0:n.catch((function(t){u(new _(t,e))}));case 2:case"end":return t.stop()}}),t)})))()}),[e,f,a,u]),(0,F.useEffect)((function(){var t=e.filter((function(e){return!!e})).map(i);return function(){t.map((function(e){return e()}))}}),[e,i]),(0,F.useEffect)((function(){return o((function(t){var n;e.find((function(e){return e===t.id}))&&(null===(n=f(a,e))||void 0===n||n.catch((function(t){u(new _(t,e))})))}))}),[e,o,f,a,u]),(0,F.useEffect)((function(){return function(){f.cancel()}}),[f]),(0,F.useMemo)((function(){return e.map((function(e){return e?s[e]:e}))}),[s,e])};var ie=n(28316),ae=n(99798),ue=n.n(ae),ce=n(10161);function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var de=le((function e(t,n){fe(this,e),this.id=void 0,this.isNew=void 0,this.id=t,this.isNew=n}));de.type="CacheUpdate";var pe=le((function e(t){fe(this,e),this.id=void 0,this.id=t}));pe.type="CacheUpdate";var ye=le((function e(){fe(this,e)}));ye.type="CacheDelete";var he=function(){function e(){fe(this,e),this._emitter=new ce.EventEmitter}return le(e,[{key:"onCache",value:function(e){var t=this;return this._emitter.on(de.type,e),function(){return t._emitter.removeListener(de.type,e)}}},{key:"raiseCacheUpdated",value:function(e,t){this._emitter.emit(de.type,new de(e,t))}},{key:"raiseCacheDeleted",value:function(e){this._emitter.emit(pe.type,new pe(e))}},{key:"raiseCacheCleared",value:function(){this._emitter.emit(ye.type,new ye)}}]),e}(),ve=n(61898);function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var ge=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e,t){return[e,t]})),o=r.filter((function(e){return!!e[0]})),e.next=4,t.loadMany(o.map((function(e){return e[0]})));case 4:return i=e.sent,a=n.map((function(){return{data:void 0}})),V()(o,i).forEach((function(e){var t=me(e,2),n=t[0],r=t[1];(0,ve.Z)(n,"index info missing"),(0,ve.Z)(void 0!==r,"key result missing");var o=me(n,2),i=o[0],u=o[1];return r instanceof Error?a[u]={data:null,error:new C(r,i)}:a[u]={data:r?{accountId:i,accountInfo:r}:null}})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){we(i,r,o,a,u,"next",e)}function u(e){we(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();function ke(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ke(i,r,o,a,u,"next",e)}function u(e){ke(i,r,o,a,u,"throw",e)}a(void 0)}))}}var Oe=function(){var e=je(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:"recent",e.next=3,Promise.all(Pt(n,99).map(function(){var e=je(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,t.getMultipleAccountsInfo(n,o);case 4:return e.t1=e.sent,e.abrupt("return",{keys:e.t0,array:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),i=new E(n,o,e.t2),r(i),e.abrupt("return",{keys:n,error:i});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 3:return i=e.sent,a=i.map((function(e){return"error"in e?e.keys.map((function(){return e.error})):e.array})).flat(),e.abrupt("return",{keys:n,array:a});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=n(48834).Buffer;function Se(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Pe(i,r,o,a,u,"next",e)}function u(e){Pe(i,r,o,a,u,"throw",e)}a(void 0)}))}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=function(e){return e.toBuffer().toString("base64")},Ie=function(){return{accountsCache:new Map,emitter:new he,subscribedAccounts:new Map}},Ee=function(e){var t=e.batchDurationMs,n=void 0===t?500:t,r=e.refreshIntervalMs,o=void 0===r?6e4:r,i=e.onError,a=(0,q.Km)(),u=a.network,c=a.connection,s=_e((0,F.useState)(Ie()),2),l=s[0],f=l.accountsCache,d=l.emitter,p=l.subscribedAccounts,y=s[1];(0,F.useEffect)((function(){y((function(e){return e.accountsCache.clear(),e.subscribedAccounts.clear(),e.emitter.raiseCacheCleared(),Ie()}))}),[u]);var h=(0,F.useMemo)((function(){return new(ue())(function(){var e=Ae(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(c,t,i,"recent");case 2:return n=e.sent,(0,ie.unstable_batchedUpdates)((function(){n.array.forEach((function(e,n){var r=t[n];!r||e instanceof Error||(f.set(Ce(r),e),d.raiseCacheUpdated(r,!0))}))})),e.abrupt("return",n.array);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{batchScheduleFn:function(e){return setTimeout(e,n)},cacheKeyFn:Ce})}),[f,n,c,d,i]),v=(0,F.useCallback)(function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(h,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),m=(0,F.useMemo)((function(){return d.onCache.bind(d)}),[d]),b=(0,F.useCallback)(function(){var e=Ae(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.clear(t).load(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),w=(0,F.useCallback)(function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.forEach((function(e){h.clear(e)})),e.next=3,h.loadMany(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),g=(0,F.useCallback)((function(e){return f.get(Ce(e))}),[f]),k=(0,F.useCallback)((function(e){var t=Ce(e),n=p.get(t);return void 0===n||0===n?p.set(t,1):p.set(t,n+1),function(){var e=p.get(t);return(null!=e?e:0)>1?p.set(t,(null!=e?e:0)-1):p.delete(t),Promise.resolve()}}),[p]),j=(0,F.useCallback)(Ae(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Se(p.keys()).map((function(e){return new D.nh(xe.from(e,"base64"))})),e.next=3,w(t);case 3:case"end":return e.stop()}}),e)}))),[w,p]);(0,F.useEffect)((function(){var e=setInterval((function(){j().catch((function(e){i(new S(e))}))}),o);return function(){return clearInterval(e)}}),[i,j,o]);var O=(0,F.useCallback)((function(e){if(!e)return e;var t=g(e);return t?{accountId:e,accountInfo:t}:t}),[g]);return{loader:h,accountsCache:f,emitter:d,getCached:g,getDatum:O,refetch:b,refetchMany:w,refetchAllSubscriptions:j,onCache:m,fetchKeys:v,subscribe:k,batchDurationMs:n,refreshIntervalMs:o}};function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ne=De((function e(t,n){Fe(this,e),this.id=void 0,this.isNew=void 0,this.id=t,this.isNew=n}));Ne.type="CacheUpdate";var Be=De((function e(t){Fe(this,e),this.id=void 0,this.id=t}));Be.type="CacheUpdate";var Ze=De((function e(){Fe(this,e)}));Ze.type="CacheDelete";var We=function(){function e(){Fe(this,e),this._emitter=new ce.EventEmitter}return De(e,[{key:"onCache",value:function(e){var t=this;return this._emitter.on(Ne.type,e),function(){return t._emitter.removeListener(Ne.type,e)}}},{key:"raiseCacheUpdated",value:function(e,t){this._emitter.emit(Ne.type,new Ne(e,t))}},{key:"raiseCacheDeleted",value:function(e){this._emitter.emit(Be.type,new Be(e))}},{key:"raiseCacheCleared",value:function(){this._emitter.emit(Ze.type,new Ze)}}]),e}();function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Ke=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e,t){return[e,t]})),o=r.filter((function(e){return!!e[0]})),e.next=4,t.loadMany(o.map((function(e){return e[0]})));case 4:return i=e.sent,a=n.map((function(){return{data:void 0}})),V()(o,i).forEach((function(e){var t=Le(e,2),n=t[0],r=t[1];(0,ve.Z)(n,"index info missing"),(0,ve.Z)(void 0!==r,"key result missing");var o=Le(n,2),i=o[0],u=o[1];return r instanceof Error?a[u]={data:null,error:new I(r,i)}:a[u]={data:r?{transactionId:i,transactionInfo:r}:null}})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ze(i,r,o,a,u,"next",e)}function u(e){ze(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();function qe(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qe(i,r,o,a,u,"next",e)}function u(e){qe(i,r,o,a,u,"throw",e)}a(void 0)}))}}var Ve=function(){var e=He(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:"confirmed",e.next=3,Promise.all(Pt(n,99).map(function(){var e=He(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,t.getParsedConfirmedTransactions(n,o);case 4:return e.t1=e.sent,e.abrupt("return",{keys:e.t0,array:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),i=new M(n,o,e.t2),r(i),e.abrupt("return",{keys:n,error:i});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 3:return i=e.sent,a=i.map((function(e){return"error"in e?e.keys.map((function(){return e.error})):e.array})).flat(),e.abrupt("return",{keys:n,array:a});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Ye(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qe(i,r,o,a,u,"next",e)}function u(e){Qe(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et=function(){return{transactionsCache:new Map,emitter:new We,subscribedTransactions:new Map}},tt=function(e){var t=e.batchDurationMs,n=void 0===t?500:t,r=e.refreshIntervalMs,o=void 0===r?6e4:r,i=e.onError,a=(0,q.Km)(),u=a.network,c=a.connection,s=Ge((0,F.useState)(et()),2),l=s[0],f=l.transactionsCache,d=l.emitter,p=l.subscribedTransactions,y=s[1];(0,F.useEffect)((function(){y((function(e){return e.transactionsCache.clear(),e.subscribedTransactions.clear(),e.emitter.raiseCacheCleared(),et()}))}),[u]);var h=(0,F.useMemo)((function(){return new(ue())(function(){var e=$e(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(c,t,i,"confirmed");case 2:return n=e.sent,(0,ie.unstable_batchedUpdates)((function(){n.array.forEach((function(e,n){var r=t[n];!r||e instanceof Error||(f.set(r,e),d.raiseCacheUpdated(r,!0))}))})),e.abrupt("return",n.array);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{batchScheduleFn:function(e){return setTimeout(e,n)}})}),[f,n,c,d,i]),v=(0,F.useCallback)(function(){var e=$e(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(h,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),m=(0,F.useMemo)((function(){return d.onCache.bind(d)}),[d]),b=(0,F.useCallback)(function(){var e=$e(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.clear(t).load(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),w=(0,F.useCallback)(function(){var e=$e(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.forEach((function(e){h.clear(e)})),e.next=3,h.loadMany(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),g=(0,F.useCallback)((function(e){return f.get(e)}),[f]),k=(0,F.useCallback)((function(e){var t=p.get(e);return void 0===t||0===t?p.set(e,1):p.set(e,t+1),function(){var t=p.get(e);return(null!=t?t:0)>1?p.set(e,(null!=t?t:0)-1):p.delete(e),Promise.resolve()}}),[p]),j=(0,F.useCallback)($e(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ye(p.keys()),e.next=3,w(t);case 3:case"end":return e.stop()}}),e)}))),[w,p]);(0,F.useEffect)((function(){var e=setInterval((function(){j().catch((function(e){i(new S(e))}))}),o);return function(){return clearInterval(e)}}),[i,j,o]);var O=(0,F.useCallback)((function(e){if(e){var t=g(e);if(t)return{transactionId:e,transactionInfo:t};if(null===t)return null}}),[g]);return{loader:h,transactionsCache:f,emitter:d,getCached:g,getDatum:O,refetch:b,refetchMany:w,refetchAllSubscriptions:j,onCache:m,fetchKeys:v,subscribe:k,batchDurationMs:n,refreshIntervalMs:o}},nt=n(53402);function rt(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ct(i,r,o,a,u,"next",e)}function u(e){ct(i,r,o,a,u,"throw",e)}a(void 0)}))}}var lt=!!{REACT_APP_BASENAME:"/p2p-wallet-web/pr-preview/pr-244",REACT_APP_AMPLITUDE_API_KEY:"fbf3c4bb3684e426cb1e7b675abb6e1d",REACT_APP_CRYPTO_COMPARE_API_KEY:"ad6104e4e9d655c1faab7ef1743c16651a1628f01d384bc5fea09661c0eb18db",REACT_APP_FEE_RELAYER_URL:"https://fee-relayer.key.app",REACT_APP_INTERCOM_APP_ID:"imvolhpe",REACT_APP_MOONPAY_API_KEY:"pk_live_B4RF614wiWeKQ4lwVyFcO493PbCdSlqu",REACT_APP_MOONPAY_SIGNER_URL:"https://moonpay.key.app/",REACT_APP_STAGING:"true",REACT_APP_SENTRY_DSN_ENDPOINT:"https://088e2b0cd1f44164a6ad584ec3fbab31@o1272413.ingest.sentry.io/6479116",REACT_APP_SENTRY_MODE:"staging",REACT_APP_SENTRY_TRACES_SAMPLE_RATE:"1",REACT_APP_SENTRY_RELEASE:"p2p-wallet-web_pr-preview_244_5179153",REACT_APP_FIREBASE_API_KEY:"AIzaSyCkGJ3kXDROTVEh9r9IChjnnVqeH-PGPvM",REACT_APP_FIREBASE_APP_ID:"1:553127941597:web:c90d78be1090d9a82c5234",REACT_APP_RPCPOOL_API_KEY:"78306120-3a44-4ede-89f4-6133642ccab2"}.REACT_APP_LOCAL_PUBKEY||!!{REACT_APP_BASENAME:"/p2p-wallet-web/pr-preview/pr-244",REACT_APP_AMPLITUDE_API_KEY:"fbf3c4bb3684e426cb1e7b675abb6e1d",REACT_APP_CRYPTO_COMPARE_API_KEY:"ad6104e4e9d655c1faab7ef1743c16651a1628f01d384bc5fea09661c0eb18db",REACT_APP_FEE_RELAYER_URL:"https://fee-relayer.key.app",REACT_APP_INTERCOM_APP_ID:"imvolhpe",REACT_APP_MOONPAY_API_KEY:"pk_live_B4RF614wiWeKQ4lwVyFcO493PbCdSlqu",REACT_APP_MOONPAY_SIGNER_URL:"https://moonpay.key.app/",REACT_APP_STAGING:"true",REACT_APP_SENTRY_DSN_ENDPOINT:"https://088e2b0cd1f44164a6ad584ec3fbab31@o1272413.ingest.sentry.io/6479116",REACT_APP_SENTRY_MODE:"staging",REACT_APP_SENTRY_TRACES_SAMPLE_RATE:"1",REACT_APP_SENTRY_RELEASE:"p2p-wallet-web_pr-preview_244_5179153",REACT_APP_FIREBASE_API_KEY:"AIzaSyCkGJ3kXDROTVEh9r9IChjnnVqeH-PGPvM",REACT_APP_FIREBASE_APP_ID:"1:553127941597:web:c90d78be1090d9a82c5234",REACT_APP_RPCPOOL_API_KEY:"78306120-3a44-4ede-89f4-6133642ccab2"}.LOCAL_PUBKEY||!!{REACT_APP_BASENAME:"/p2p-wallet-web/pr-preview/pr-244",REACT_APP_AMPLITUDE_API_KEY:"fbf3c4bb3684e426cb1e7b675abb6e1d",REACT_APP_CRYPTO_COMPARE_API_KEY:"ad6104e4e9d655c1faab7ef1743c16651a1628f01d384bc5fea09661c0eb18db",REACT_APP_FEE_RELAYER_URL:"https://fee-relayer.key.app",REACT_APP_INTERCOM_APP_ID:"imvolhpe",REACT_APP_MOONPAY_API_KEY:"pk_live_B4RF614wiWeKQ4lwVyFcO493PbCdSlqu",REACT_APP_MOONPAY_SIGNER_URL:"https://moonpay.key.app/",REACT_APP_STAGING:"true",REACT_APP_SENTRY_DSN_ENDPOINT:"https://088e2b0cd1f44164a6ad584ec3fbab31@o1272413.ingest.sentry.io/6479116",REACT_APP_SENTRY_MODE:"staging",REACT_APP_SENTRY_TRACES_SAMPLE_RATE:"1",REACT_APP_SENTRY_RELEASE:"p2p-wallet-web_pr-preview_244_5179153",REACT_APP_FIREBASE_API_KEY:"AIzaSyCkGJ3kXDROTVEh9r9IChjnnVqeH-PGPvM",REACT_APP_FIREBASE_APP_ID:"1:553127941597:web:c90d78be1090d9a82c5234",REACT_APP_RPCPOOL_API_KEY:"78306120-3a44-4ede-89f4-6133642ccab2"}.DEBUG_MODE,ft=function(e){var t=e.refetchMany,n=e.onTxSend,r=e.onError,o=e.txRefetchDelayMs,i=void 0===o?1e3:o,a=e.waitForConfirmation,u=void 0!==a&&a,c=(0,q.X)().network,s=(0,F.useCallback)(function(){var e=st(regeneratorRuntime.mark((function e(o,a,s){var l,f,d,p,y,h,v,m,b,S,A,_,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==o.length){e.next=2;break}return e.abrupt("return",{success:!0,pending:[]});case 2:if(!lt){e.next=7;break}return e.next=5,Promise.all(o.map(function(){var e=st(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.simulateTable(at({verifySigners:!1},s));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:l=e.sent,o.forEach((function(e,t){var n=l[t];"localnet"!==c&&console.debug((0,nt.lf)(c,e.build())),console.debug(n)}));case 7:return e.prev=7,d=o[0],(0,ve.Z)(d,"firstTX"),p=d.provider,e.next=13,p.getAccountInfo((null==s?void 0:s.feePayer)||p.wallet.publicKey);case 13:if(e.t1=f=e.sent,e.t0=null===e.t1,e.t0){e.next=17;break}e.t0=void 0===f;case 17:if(!e.t0){e.next=21;break}e.t2=void 0,e.next=22;break;case 21:e.t2=f.accountInfo.lamports;case 22:if((y=e.t2)&&0!==y){e.next=27;break}return h=new O(y),r(h),e.abrupt("return",{success:!1,pending:[],errors:[h]});case 27:return e.prev=27,e.next=30,p.signer.signAll(o.map((function(e){return{tx:e.build(null==s?void 0:s.feePayer),signers:e.signers}})),s);case 30:v=e.sent,e.next=38;break;case 33:return e.prev=33,e.t3=e.catch(27),m=new P(e.t3,o),r(m),e.abrupt("return",{success:!1,pending:[],errors:[m]});case 38:return b=[],e.next=41,Promise.all(v.map(function(){var e=st(regeneratorRuntime.mark((function e(t,n){var i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.broadcaster.broadcast(t,s);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),i=o[n]){e.next=11;break}throw new Error("Unknown TX: ".concat(n," of ").concat(o.length));case 11:return u=new j(c,e.t0,i,a),console.error("Error sending TX ".concat(n,": ").concat(u.message)),console.debug(u.generateLogMessage()),b.push(u),r(u),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()));case 41:if(S=e.sent,A=S.filter((function(e){return!!e})),!(b.length>0)){e.next=45;break}return e.abrupt("return",{success:!1,pending:A,errors:b});case 45:if(_=rt(new Set(rt(o.flatMap((function(e){return e.writableKeys}))))),st(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null==s?void 0:s.refetchAfterTX,e.prev=1,e.next=4,Promise.all(A.map((function(e){return e.wait(at({commitment:"confirmed",minTimeout:1e3},n)).catch((function(t){var n;throw new Error("Could not await confirmation of transaction ".concat(e.signature,": ").concat(null!==(n=w(t))&&void 0!==n?n:"unknown"))}))})));case 4:setTimeout((function(){t(_).catch((function(e){r(new x(e,_,A.map((function(e){return e.signature}))))}))}),null!==(o=null==n?void 0:n.refetchDelayMs)&&void 0!==o?o:i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r(new x(e.t0,_,A.map((function(e){return e.signature}))));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))(),!u){e.next=50;break}return e.next=50,Promise.all(A.map((function(e){return e.wait()})));case 50:return null==n||n({network:c,pending:A,message:a}),e.abrupt("return",{success:!0,pending:A});case 54:return e.prev=54,e.t4=e.catch(7),console.error("Transaction failed.",e.t4),o.forEach((function(e,t){o.length>1&&console.debug("TX #".concat(t+1," of ").concat(o.length)),console.debug(e.debugStr),"localnet"!==c&&console.debug("View on Solana Explorer: ".concat(e.generateInspectLink(c)))})),T=e.t4 instanceof g||"_isSailError"in e.t4&&e.t4._isSailError?e.t4:new k(e.t4,c,o),r(T),e.abrupt("return",{success:!1,pending:[],errors:[T]});case 61:case"end":return e.stop()}}),e,null,[[7,54],[27,33]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[c,r,n,t,i,u]),l=(0,F.useCallback)(function(){var e=st(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s([t],n,r);case 2:return i=e.sent,a=i.success,u=i.pending,c=i.errors,e.abrupt("return",{success:a,pending:null!==(o=u[0])&&void 0!==o?o:null,errors:c});case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[s]);return{handleTX:l,handleTXs:s}};function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({address:e.accountId},(0,K.nt)(e.accountInfo.data))},ht=function(e){return(0,K.id)(e.accountInfo.data)},vt=n(79834),mt=["onSailError"];function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var jt=function(e){return console.error(e.message,e)},Ot=(0,vt.f)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSailError,n=void 0===t?jt:t,r=kt(e,mt),o=Ee(wt(wt({},r),{},{onError:n})),i=tt(wt(wt({},r),{},{onError:n})),a=ft(wt(wt({},r),{},{onError:n,refetchMany:o.refetchMany}));return wt({accounts:o,transactions:i,onError:n},a)})),xt=Ot.Provider,St=Ot.useContainer;function Pt(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,r){return e.slice(r*t,(r+1)*t)}))}},27042:function(e,t,n){"use strict";n.d(t,{d:function(){return h}});var r=n(5300),o=n(88404);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var y={decimalSeparator:".",groupSeparator:" ",groupSize:3},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}(s,e);var t,n,r,i=f(s);function s(){return a(this,s),i.apply(this,arguments)}return t=s,n=[{key:"new",value:function(e,t){return new s(e,t)}},{key:"divideByInteger",value:function(e){var t=c(p(s.prototype),"divideByInteger",this).call(this,e);return new s(this.token,t.raw)}},{key:"formatUnits",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return c(p(s.prototype),"formatUnits",this).call(this,e)}}],r=[{key:"parse",value:function(e,t){return new s(e,(0,o.dS)(e,t,y.decimalSeparator,y.groupSeparator))}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.dt)},56253:function(e,t,n){"use strict";n.d(t,{rS:function(){return O},up:function(){return i},Ce:function(){return s},dD:function(){return u},Av:function(){return c},Ue:function(){return x}});n(54716);var r=600,o=836,i={small:"@media (min-width: ".concat(440,"px)"),tablet:"@media (min-width: ".concat(r,"px)"),desktop:"@media (min-width: ".concat(o,"px)")},a=n(17160),u=function(){return(0,a.useMediaQuery)({maxWidth:r-1})},c=function(){return(0,a.useMediaQuery)({minWidth:r})},s=function(){return(0,a.useMediaQuery)({minWidth:o})},l=n(13400),f=function(e){var t=(0,l.Oq)(e);return[t.red,t.green,t.blue].join(",")},d=["theme"];function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t,n){for(var r=t.split("."),o=e;r.length-1;){var i=r.shift();i in o||(o[i]={}),o=o[i]}o[r[0]]=n}var w=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object.keys(t).reduce((function(o,i){var a=r.length?r+"-":"--";if("object"===m(t[i]))Object.assign(o,e(t[i],n,a+i));else{var u=(a+i).replace("--","").replace(/-/g,".");b(n,u,"var(".concat(a+i,")")),o[a+i]=t[i]}return h(h({},o),{},{theme:n})}),{})},g=function(e){var t=w(e),n=t.theme,r=p(t,d);return{theme:n,variables:Object.keys(r).reduce((function(e,t){return e+="".concat(t,": ").concat(r[t],";")}),"")}},k=g({colors:{bg:{primary:"#FFFFFF",secondary:"#F6F6F8",tertiary:"#FAFBFC",special:"#FAFAFC",activePrimary:"#EFF3FF",activeSecondary:"#FFFFFF",buttonPrimary:"#5887FF",buttonSecondary:"#F6F6F8",buttonDisabled:"#A3A5BA",app:"#FBFBFD",pressed:"#E4EAFF"},stroke:{primary:"#D3D4DE",primaryRGB:f("#D3D4DE"),secondary:"#F2F2F7",tertiary:"#F6F6F8"},system:{errorMain:"#F43D3D",successMain:"#2DB533",warningMain:"#FFA631",errorBg:"#FEF5F5",successBg:"#F5FBF5",warningBg:"#FFFBF5"},textIcon:{primary:"#202020",secondary:"#8E8E93",tertiary:"#D2D4E5",links:"#82A5FF",linksRGB:f("#82A5FF"),active:"#5887FF",buttonPrimary:"#FFFFFF",buttonSecondary:"#8E8E93",buttonDisabled:"#D0D3E9"},card:"#F6F6F9"}}),j=g({colors:{bg:{primary:"#FFFFFF",secondary:"#F6F6F8",tertiary:"#FAFBFC",special:"#FAFAFC",activePrimary:"#EFF3FF",activeSecondary:"#FFFFFF",buttonPrimary:"#5887FF",buttonSecondary:"#F6F6F8",buttonDisabled:"#A3A5BA",app:"#FBFBFD",pressed:"#E4EAFF"},stroke:{primary:"#D3D4DE",primaryRGB:f("#D3D4DE"),secondary:"#F2F2F7",tertiary:"#F6F6F8"},system:{errorMain:"#F43D3D",successMain:"#2DB533",warningMain:"#FFA631",errorBg:"#FEF5F5",successBg:"#F5FBF5",warningBg:"#FFFBF5"},textIcon:{primary:"#202020",secondary:"#8E8E93",tertiary:"#D2D4E5",links:"#82A5FF",active:"#5887FF",buttonPrimary:"#FFFFFF",buttonSecondary:"#8E8E93",buttonDisabled:"#D0D3E9"},card:"#F6F6F9"}}),O=k.theme,x=(k.variables,j.variables,"\n  border: 1px solid rgba(".concat(O.colors.stroke.primaryRGB,", 0.3);\n"),"\n  border: 0.5px solid ".concat(O.colors.stroke.primary,";\n"),"\n  border: 1px solid ".concat(O.colors.stroke.primary,";\n"),"\n  border: 1px solid ".concat(O.colors.stroke.secondary,";\n"),"\n  border: 1px solid rgba(".concat(O.colors.textIcon.linksRGB,", 0.7);\n"),"\n  box-shadow: 0px 4px 4px ".concat(O.colors.card,";\n"),{step:1,bottom:0,middle:10,top:20,nav:30,modal:40,above:function(e){return this[e]+this.step},under:function(e){return this[e]-this.step}})},28849:function(e,t,n){"use strict";n.d(t,{Z:function(){return aM}});var r=n(7954),o=n(2784),i=n(47933),a=n(7267),u=n(59815),c=n(28879),s=n.n(c),l=n(33147),f=n.n(l),d=n(13155),p=n(13791),y=n(56253),h=function(){var e=(0,p.o)().update,t=(0,a.TH)(),n=(0,y.dD)();return(0,o.useEffect)((function(){e()}),[e,t]),(0,o.useEffect)((function(){e({hideDefaultLauncher:!!n})}),[n,e]),null},v=n(8895),m=n(72779),b=n.n(m),w=(0,v.Z)("div")({name:"Toast",class:"tyyw6dd"});n(75554);var g=n(52322);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function A(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var D,F=(0,v.Z)("div")({name:"Wrapper",class:"w1brcrvp"}),N=(0,v.Z)("div")({name:"ToastContainer",class:"t1uft144"}),B=(0,v.Z)("div")({name:"ToastWrapper",class:"t1lfdt7"});function Z(e){if(!D)throw new Error("ToastsManager is not mounted");setTimeout((function(){D&&D.addToast(e)}),0)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&C(e,t)}(a,e);var t,n,r,i=I(a);function a(){var e;T(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).lastId=0,e.toastsRefs={},e.hideTimeouts=[],e.clearingTimeouts=[],e.state={currentToasts:[],delayedQueue:[],heights:{},bottomOffsets:{},isHovered:!1},e.onCloseClick=function(t){e.startToastsHiding(t)},e.onMouseEnter=function(){e.setState({isHovered:!0});var t,n=P(e.hideTimeouts);try{for(n.s();!(t=n.n()).done;){var r=t.value;clearTimeout(r)}}catch(e){n.e(e)}finally{n.f()}},e.onLeave=function(){var t=e.state.currentToasts;if(e.setState({isHovered:!1}),0!==t.length){var n=new Set(t.map((function(e){return e.id}))),r=window.setTimeout((function(){e.startToastsHiding(n)}),5e3);e.hideTimeouts.push(r)}},e.onResize=function(){e.checkHeights()},e}return t=a,r=[{key:"info",value:function(e,t){Z({type:"info",header:e,text:t})}},{key:"warn",value:function(e,t){Z({type:"warn",header:e,text:t})}},{key:"error",value:function(e,t){Z({type:"error",header:e,text:t})}},{key:"show",value:function(e){Z({type:"component",renderer:e})}}],(n=[{key:"componentDidMount",value:function(){D=this,window.addEventListener("blur",this.onLeave)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.currentToasts,r=t.currentToasts.length;n.length>0&&!r?window.addEventListener("resize",this.onResize):0===n.length&&r&&window.removeEventListener("resize",this.onResize),this.checkHeights()}},{key:"componentWillUnmount",value:function(){D===this&&(D=null),window.removeEventListener("blur",this.onLeave);var e,t=P(this.hideTimeouts);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(e){t.e(e)}finally{t.f()}var r,o=P(this.clearingTimeouts);try{for(o.s();!(r=o.n()).done;){var i=r.value;clearTimeout(i)}}catch(e){o.e(e)}finally{o.f()}}},{key:"getActiveToastsCount",value:function(){return this.state.currentToasts.filter((function(e){return!e.isHiding})).length}},{key:"checkDelayedQueue",value:function(){var e=this,t=this.state.delayedQueue;if(t.length>0&&this.getActiveToastsCount()<3){var n=S(t),r=n[0],o=n.slice(1);this.setState({delayedQueue:o},(function(){e.checkDelayedQueue()})),this.showToast(r)}}},{key:"startToastsHiding",value:function(e){var t=this;e instanceof Set||(e=new Set([e]));var n=this.state.currentToasts;this.setState({currentToasts:n.map((function(t){return e.has(t.id)?O(O({},t),{},{isHiding:!0}):t}))},(function(){t.checkDelayedQueue()})),this.clearingTimeouts.push(window.setTimeout((function(){t.removeToasts(e)}),400))}},{key:"addToast",value:function(e){var t=this.state.delayedQueue;this.getActiveToastsCount()>=3?this.setState({delayedQueue:t.concat(e)}):this.showToast(e)}},{key:"showToast",value:function(e){var t=e.type,n=e.header,r=e.text,i=e.renderer,a=this.state,u=a.currentToasts,c=a.isHovered;this.lastId+=1;var s=this.lastId;this.toastsRefs[s]=(0,o.createRef)(),c||this.startToastHideTimeout(s),this.setState({currentToasts:u.concat({id:s,type:t,header:n,text:r,renderer:i})})}},{key:"removeToasts",value:function(e){var t=this.state.currentToasts;this.setState({currentToasts:t.filter((function(t){return!e.has(t.id)}))})}},{key:"calcOffsets",value:function(e){for(var t=this.state,n=t.currentToasts,r=t.bottomOffsets,o={},i=0,a=n.length-1;a>=0;a-=1){var u=n[a],c=u.id;if(u.isHiding)o[c]=r[c];else{var s=e[c],l=void 0;s?(l=i,i+=s):l=0,o[c]=l}}this.setState({heights:e,bottomOffsets:o})}},{key:"checkHeights",value:function(){for(var e=this,t=this.state,n=t.currentToasts,r=t.heights,o={},i=!1,a=function(){var t=c[u],a=e.toastsRefs[t];if(a.current){var s=n.find((function(e){return e.id===Number(t)}));if(s){var l=s.isHiding?0:a.current.clientHeight;o[t]=l,void 0!==r[t]&&r[t]===l||(i=!0)}}},u=0,c=Object.keys(this.toastsRefs);u<c.length;u++)a();i&&this.calcOffsets(o)}},{key:"startToastHideTimeout",value:function(e){var t=this,n=window.setTimeout((function(){t.startToastsHiding(e)}),7e3);this.hideTimeouts.push(n)}},{key:"renderToasts",value:function(){var e=this,t=this.props,n=t.renderToast,r=t.anchor,o=this.state,i=o.currentToasts,a=o.bottomOffsets,u="right"===r;return i.map((function(t){var r=t.id,o=t.type,i=t.header,c=t.text,s=t.renderer,l=t.isHiding,f=a[r],d=void 0!==f,p=s||n;return(0,g.jsx)(N,{ref:e.toastsRefs[r],style:{transform:"translate(0, -".concat(f,"px)")},className:b()({isInvisible:!d,isRight:u}),children:(0,g.jsx)(B,{className:b()({isRight:u,isAppearing:d,isHiding:l}),children:p?p({type:o,header:i,text:c,onClose:function(){return e.onCloseClick(r)}}):(0,g.jsx)(w,{children:i})})},r)}))}},{key:"render",value:function(){var e=this.props.className;return(0,g.jsx)(F,{className:e,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onLeave,children:this.renderToasts()})}}])&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.PureComponent);W.defaultProps={className:void 0,anchor:"left",renderToast:void 0},n(32813);var L=n(61988),U=n(12869),z=(0,v.Z)(w)({name:"ToastStyled",class:"t1n1hkij"}),K=(0,v.Z)("div")({name:"ToastIconWrapper",class:"t1xsfu32"}),q=(0,v.Z)(U.JO)({name:"ToastIcon",class:"thfo02f"}),H=(0,v.Z)(U.JO)({name:"InfoIcon",class:"injglp9"}),V=(0,v.Z)("div")({name:"ToastWrapper",class:"t19lpd0f"}),Y=(0,v.Z)("div")({name:"ToastHeader",class:"tly5grb"}),Q=(0,v.Z)("div")({name:"ToastText",class:"t1ityucl"}),$=(0,v.Z)("button")({name:"CloseButton",class:"cq5lc7p"}),G=(0,v.Z)(U.JO)({name:"CloseIcon",class:"cfx0rn4"}),J=(0,v.Z)(U.JO)({name:"StatusIcon",class:"s1uejjom"}),X=(0,v.Z)("div")({name:"SwapAvatarsWrapper",class:"sylh52d"}),ee=(0,v.Z)("div")({name:"ButtonWrapper",class:"b1rg3ij6"}),te=function(e){var t,n,r=e.type,o=e.header,i=e.text,a=e.status,u=e.symbol,c=e.symbolB,s=e.onClose,l=e.button;switch(r){case"info":t=(0,g.jsx)(q,{name:"success",style:{color:"#4caf50"}});break;case"warn":t=(0,g.jsx)(H,{name:"attention"});break;case"error":t=(0,g.jsx)(q,{name:"error",style:{color:"#ff5959"}});break;case"transfer":case"transferChecked":t=(0,g.jsx)(L.y,{symbol:u,size:44});break;case"swap":t=(0,g.jsxs)(X,{children:[(0,g.jsx)(L.y,{symbol:u,size:32}),(0,g.jsx)(L.y,{symbol:c,size:32})]});break;case"mint":t=(0,g.jsx)(K,{children:(0,g.jsx)(q,{name:"warning-transparent",style:{color:"#ffa631"}})});break;case"confirmingDeposit":t=(0,g.jsx)(L.y,{symbol:"BTC",size:44});break;default:t=null}switch(a){case"processing":n=(0,g.jsx)(J,{name:"clock",style:{color:"#ffa631"}});break;case"success":n=(0,g.jsx)(J,{name:"success",style:{color:"#4caf50"}});break;case"error":n=(0,g.jsx)(J,{name:"warning",style:{color:"#ff5959"}});break;case"confirmingDeposit":n=(0,g.jsx)(J,{name:"clock",style:{color:"#a3a5ba"}});break;case"confirmedDeposit":n=(0,g.jsx)(J,{name:"clock"});break;default:n=null}return(0,g.jsxs)(z,{children:[t,(0,g.jsxs)(V,{children:[(0,g.jsx)(Y,{children:o}),(0,g.jsxs)(Q,{className:b()({confirmed:"confirmedDeposit"===a}),children:[a?n:void 0,i]}),l?(0,g.jsx)(ee,{children:l}):void 0]}),s?(0,g.jsx)($,{type:"button",name:"notify-toast__close",onClick:s,children:(0,g.jsx)(G,{name:"close"})}):null]})};n(59587);var ne,re=n(27664),oe=n(80075),ie=n(13920),ae=n(94131),ue=n(92670),ce=n(9669),se=n.n(ce),le=n(61467),fe=n(67549);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){he(i,r,o,a,u,"next",e)}function u(e){he(i,r,o,a,u,"throw",e)}a(void 0)}))}}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var be,we=se().create({baseURL:fe.gs}),ge={apiKey:fe.TI},ke=(0,ie.b2)()(ne=Reflect.metadata("design:type",Function)(ne=Reflect.metadata("design:paramtypes",[])(ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._abortController=null,(0,le.ZP)(fe.TI,"Define moonpay api key in .env"),(0,le.ZP)(fe._H,"Define moonpay signer url in .env")}var t,n,r,o,i,a;return t=e,n=[{key:"getByQuote",value:(a=ve(regeneratorRuntime.mark((function e(t,n,r,o){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{null===(i=this._abortController)||void 0===i||i.abort()}finally{this._abortController=new AbortController}return a=pe(pe({},ge),{},{baseCurrencyAmount:t,quoteCurrencyAmount:n,baseCurrencyCode:r,fixed:!0,regionalPricing:!0}),e.abrupt("return",we("".concat(o,"/buy_quote"),{signal:this._abortController.signal,params:a}).then((function(e){return e.data})).catch((function(e){var t;t=e.response?e.response.data.message:e.message,new Error(t)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return a.apply(this,arguments)})},{key:"getPrice",value:(i=ve(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",we("".concat(n,"/ask_price"),{params:ge}).then((function(e){return e.data[t.toUpperCase()]})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"getAllCurrencies",value:(o=ve(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",we({params:ge}).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"getMoonpayKeysAreSet",value:function(){return!!fe.TI&&!!fe._H}}],n&&me(t.prototype,n),r&&me(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||ne)||ne)||ne,je=n(74557);function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xe,Se=(0,ie.b2)()(be=Reflect.metadata("design:type",Function)(be=Reflect.metadata("design:paramtypes",[void 0===ke?Object:ke])(be=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._provider=t}var t,n,r;return t=e,(n=[{key:"convert",value:function(e,t){var n=je.W6.isFiat(e.currency)?e.amount:0,r=je.CK.isCrypto(e.currency)?e.amount:0,o=[e.currency,t.currency].find((function(e){return je.W6.isFiat(e)})).moonpayCode,i=[e.currency,t.currency].find((function(e){return je.CK.isCrypto(e)})).moonpayCode;return this._provider.getByQuote(n,r,o,i).then((function(e){var n=e,r=n.quoteCurrencyPrice,o=n.quoteCurrencyAmount,i=n.baseCurrencyAmount,a=n.feeAmount,u=n.networkFeeAmount,c=n.totalAmount;return new je.Ce(je.CK.isCrypto(t.currency)?o:i,t.currency,r,a,u,i,c)}))}},{key:"getExchangeRate",value:function(e,t){return this._provider.getPrice(e.moonpayCode,t.moonpayCode).then((function(e){return e||0}))}},{key:"getMinAmount",value:function(e,t){return this._provider.getAllCurrencies().then((function(n){var r,o;return{minCryptoAmount:(null==n||null===(r=n.find((function(t){return t.code===e.moonpayCode})))||void 0===r?void 0:r.minBuyAmount)||0,minFiatAmount:(null==n||null===(o=n.find((function(e){return e.code===t.moonpayCode})))||void 0===o?void 0:o.minBuyAmount)||0}}))}},{key:"getMoonpayKeysAreSet",value:function(){return this._provider.getMoonpayKeysAreSet()}}])&&Oe(t.prototype,n),r&&Oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||be)||be)||be;function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ae,_e=(0,ie.ri)()(xe=Reflect.metadata("design:type",Function)(xe=Reflect.metadata("design:paramtypes",[])(xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._location=void 0,this._history=void 0,this._removeListener=void 0,(0,oe.rC)(this,{_location:oe.LO})}var t,n,r;return t=e,(n=[{key:"_assertHistory",value:function(){(0,le.ZP)(this._history,"History is not set in LocationService")}},{key:"_assertLocation",value:function(){(0,le.ZP)(this._location,"Location is not set in LocationService")}},{key:"_listenHistory",value:function(){var e=this;this._removeListener&&this._removeListener(),this._assertHistory(),this._removeListener=this._history.listen((0,oe.aD)((function(t){e._location=t})))}},{key:"setHistory",value:function(e){this._history=e,this._listenHistory()}},{key:"getParams",value:function(e){this._assertLocation();var t=(0,a.LX)(this._location.pathname||"",{path:e});return t?t.params:{}}},{key:"push",value:function(e,t){var n;this._assertHistory(),this._history.push(e,null!=t?t:{fromPage:null===(n=this._location)||void 0===n?void 0:n.pathname})}},{key:"reload",value:function(){this._assertHistory(),this._history.go(0)}}])&&Pe(t.prototype,n),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||xe)||xe)||xe,Te=n(72703),Re=n(34401),Ce=n(81277);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fe(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}var Le=(0,ie.ri)()(Ae=Reflect.metadata("design:type",Function)(Ae=Reflect.metadata("design:paramtypes",[void 0===Se?Object:Se,void 0===Re.m?Object:Re.m,void 0===_e?Object:_e,void 0===Te.C?Object:Te.C])(Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Fe(e,t)}(i,e);var t,n,r,o=Ne(i);function i(e,t,n,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this))._buyService=e,a._solanaService=t,a._locationService=n,a._tokensRepository=r,a.isShowIframe=void 0,a.input=void 0,a.output=void 0,a.minFiatAmount=void 0,a.minCryptoAmount=void 0,a.exchangeRate=void 0,a.crypto=void 0,a.loadingState=void 0,a._timer=void 0,a.isShowIframe=!1,a.input=je.Oc.zeroInstance(je.W6.usd),a.output=je.Ce.zeroInstance(je.CK.sol),a.minFiatAmount=0,a.minCryptoAmount=0,a.exchangeRate=0,a.crypto=je.CK.sol,a.loadingState=ae.EP.notRequested,(0,oe.rC)(Ze(a),{isShowIframe:oe.LO,areMoonpayConstantsSet:oe.Fl,cryptoCurrenciesForSelect:oe.Fl,loadingState:oe.LO,input:oe.LO,output:oe.LO,crypto:oe.LO,minFiatAmount:oe.LO,minCryptoAmount:oe.LO,exchangeRate:oe.LO,setAmount:oe.aD.bound,setIsShowIframe:oe.aD,swap:oe.aD.bound}),a}return t=i,(n=[{key:"setDefaults",value:function(){this.isShowIframe=!1,this.input=je.Oc.zeroInstance(je.W6.usd),this.output=je.Ce.zeroInstance(je.CK.sol),this.minFiatAmount=0,this.minCryptoAmount=0,this.exchangeRate=0,this.crypto=je.CK.sol,this.loadingState=ae.EP.notRequested}},{key:"onInitialize",value:function(){this._addReactions(),this._startUpdating()}},{key:"afterReactionsRemoved",value:function(){this._stopUpdating()}},{key:"_addReactions",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e._getSymbolFromParams()}),(function(t){t&&e._setCryptoCurrency(e.cryptoCurrenciesForSelect[t])}),{fireImmediately:!0})),this.addReaction((0,oe.U5)((function(){return e.crypto}),(function(){return e._update()}))),this.addReaction((0,oe.U5)((function(){return{amount:e.input.amount,crypto:e.crypto}}),(function(t){if(0===t.amount)return e._changeOutput(je.Ce.zeroInstance(e.output.currency)),void e._setLoadingState(ae.EP.loaded);e._setLoadingState(ae.EP.loading),e._buyService.convert(e.input,e.output).then((function(t){e._setLoadingState(ae.EP.loaded),e._changeOutput(t)})).catch((function(t){e._setLoadingState(ae.EP.error(t.message)),e._changeOutput(je.Ce.zeroInstance(e.output.currency))}))})))}},{key:"_getSymbolFromParams",value:function(){return this._locationService.getParams("/buy/:symbol?").symbol||"SOL"}},{key:"_startUpdating",value:function(){var e=this;this._update(),this._timer=setInterval((function(){e._update()}),1e4)}},{key:"_stopUpdating",value:function(){clearInterval(this._timer)}},{key:"_update",value:function(){var e=this;Promise.all([this._buyService.getExchangeRate(je.W6.usd,this.crypto),this._buyService.getMinAmount(this.crypto,je.W6.usd)]).then((0,oe.aD)((function(t){var n=Ee(t,2),r=n[0],o=n[1],i=o.minCryptoAmount,a=o.minFiatAmount;e.exchangeRate=r,e.minCryptoAmount=i;var u=Number((0,Ce.D$)(Math.max(Math.ceil(i*r),a),{maximumFractionDigits:2}));e.minFiatAmount=u})))}},{key:"_changeOutput",value:function(e){var t=this;(0,oe.z)((function(){return t.output=e}))}},{key:"_setCryptoCurrency",value:function(e){var t=this;(0,oe.z)((function(){if(t.crypto=e,je.W6.isFiat(t.input.currency)){var n=t.output,r=n.amount,o=n.price,i=n.networkFee,a=n.processingFee,u=n.purchaseCost,c=n.total;t.output=new je.Ce(r,e,o,a,i,u,c)}else t.input=new je.Oc(t.input.amount,e)}))}},{key:"_setLoadingState",value:function(e){var t=this;(0,oe.z)((function(){return t.loadingState=e}))}},{key:"areMoonpayConstantsSet",get:function(){return this._buyService.getMoonpayKeysAreSet()}},{key:"cryptoCurrenciesForSelect",get:function(){return{SOL:je.CK.sol,USDC:je.CK.usdc}}},{key:"pubkeyBase58",get:function(){return this._solanaService.provider.wallet.publicKey.toBase58()}},{key:"getTokenWithMint",value:function(e){return this._tokensRepository.getTokenWithMint(e)}},{key:"setAmount",value:function(e){var t=Number(e);t!==this.input.amount&&(this.input=new je.Oc(t,this.input.currency))}},{key:"setIsShowIframe",value:function(e){this.isShowIframe=e}},{key:"swap",value:function(){var e=this.input.swap(this.output),t=e.input,n=e.output;this.input=t,this.output=n}}])&&De(t.prototype,n),r&&De(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||Ae)||Ae)||Ae,Ue=n(58242),ze=["forwardedRef","children","className"];function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ye=(0,v.Z)("div")({name:"Wrapper",class:"w10en8a9"}),Qe=function(e){var t=e.forwardedRef,n=e.children,r=e.className,o=Ve(e,ze);return(0,g.jsx)(Ye,qe(qe({ref:t},o),{},{className:r,children:n}))},$e=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(Qe,qe(qe({},e),{},{forwardedRef:t}))}));function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(95853);var et=(0,v.Z)($e)({name:"Wrapper",class:"w3eka8v"}),tt=(0,v.Z)("div")({name:"Header",class:"h1k471fg"}),nt=(0,v.Z)("div")({name:"Title",class:"t3d8ahu"}),rt=(0,v.Z)("div")({name:"Action",class:"aywzgaq"}),ot=(0,v.Z)("div")({name:"Content",class:"c10c0kmk"}),it=function(e){var t=e.forwardedRef,n=e.title,r=e.action,o=e.children,i=e.className;return(0,g.jsxs)(et,{ref:t,className:i,children:[n||r?(0,g.jsxs)(tt,{children:[n?(0,g.jsx)(nt,{children:n}):void 0,r?(0,g.jsx)(rt,{children:r}):void 0]}):void 0,o?(0,g.jsx)(ot,{children:o}):void 0]})},at=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(it,Je(Je({},e),{},{forwardedRef:t}))}));n(5178);var ut=["forwardedRef","icon","title","backTo","action","children","className"];function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var dt=(0,v.Z)("div")({name:"TitleWrapper",class:"tz3yqvi"}),pt=(0,v.Z)(i.OL)({name:"BackLink",class:"b1bxyj7d"}),yt=(0,v.Z)("div")({name:"IconWrapper",class:"iggxz8a"}),ht=(0,v.Z)(U.JO)({name:"IconStyled",class:"i1vbbs4i"}),vt=(0,v.Z)("div")({name:"Title",class:"t106t4pl"}),mt=function(e){var t=e.forwardedRef,n=e.icon,r=e.title,i=e.backTo,a=e.action,u=e.children,c=e.className,s=ft(e,ut),l=(0,y.Av)();return(0,g.jsx)(at,st(st({ref:t,title:l?Array.isArray(r)?(0,g.jsx)(dt,{children:r.map((function(e,t){var n=0===t,a=r.length-2===t,u=r.length-1!==t;return n?(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(pt,{to:i,children:[(0,g.jsx)(ht,{name:"chevron",className:"back"}),(0,g.jsx)(vt,{className:b()({notLast:u}),children:e},e)]}),u?(0,g.jsx)(vt,{className:b()({notLast:u}),children:"/"}):void 0]},e):(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(vt,{className:b()({notLast:u}),children:e}),u?(0,g.jsx)(vt,{className:b()({previous:a}),children:"/"}):void 0]},e)}))}):(0,g.jsxs)(dt,{children:[n?(0,g.jsx)(yt,{children:(0,g.jsx)(ht,{name:n})}):void 0,(0,g.jsx)(vt,{children:r})]}):null,action:a,className:c},s),{},{children:u}))},bt=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(mt,st(st({},e),{},{forwardedRef:t}))}));n(97531);var wt=["forwardedRef","icon","title","action","backTo","children","bottom","className"];function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var xt=(0,v.Z)("div")({name:"Wrapper",class:"wmuisd4"}),St=(0,v.Z)("div")({name:"Content",class:"cuszk5p"}),Pt=(0,v.Z)("div")({name:"BottomWrapper",class:"btv2m6d"}),At=function(e){var t=e.forwardedRef,n=e.icon,r=e.title,o=e.action,i=e.backTo,a=e.children,u=e.bottom,c=e.className,s=Ot(e,wt);return(0,g.jsx)(bt,kt(kt({ref:t,title:r,icon:n,action:o,className:c,backTo:i},s),{},{children:(0,g.jsxs)(xt,{children:[(0,g.jsx)(St,{children:a}),u?(0,g.jsx)(Pt,{children:u}):void 0]})}))},_t=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(At,kt(kt({},e),{},{forwardedRef:t}))}));n(1400);var Tt=function(e){var t=e.bottom,n=e.children;return(0,g.jsx)(_t,{title:"Buy Solana on Moonpay",icon:"plus",bottom:t,children:n})},Rt=n(72987);function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=n(16366);function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e){var t=se().CancelToken.source();e=Dt(Dt({},e),{},{cancelToken:t.token});var n=se()(e).then((function(e){return e})).catch((function(e){if(e instanceof se().Cancel)throw new Et.uU;throw e}));return new Et.k3(n,(function(){return t.cancel()}))}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=(0,v.Z)("div")({name:"Wrapper",class:"wm2zr3x"}),Ut={apiKey:fe.TI},zt=Zt(Zt({},Ut),{},{currencyCode:"sol",baseCurrencyAmount:100,baseCurrencyCode:"usd",lockAmount:!1}),Kt=(0,d.Pi)((function(e){var t=e.viewModel;(0,o.useEffect)((function(){(0,Rt.L9)({name:"Moonpay_Window_Opened"});var e=Nt({url:fe.gc,params:Ut}).then((function(e){e.data.isBuyAllowed||(0,Rt.L9)({name:"Moonpay_Unsupported_Region_Showed"})}));return function(){e.cancel("Moonpay window is closed")}}),[]);var n=(0,Ue.YN)((function(){return"".concat(fe._H,"?").concat((e=Zt(Zt({},zt),{},{currencyCode:t.crypto.moonpayCode,baseCurrencyAmount:t.output.total,walletAddress:t.pubkeyBase58}),Object.entries(e).map((function(e){var t=Ct(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&")));var e}));return(0,g.jsx)(Tt,{children:(0,g.jsx)(Lt,{children:(0,g.jsx)("iframe",{allow:"accelerometer; autoplay; camera; gyroscope; payment",frameBorder:"0",width:"100%",height:"100%",src:n,title:"MoonPay Widget",children:(0,g.jsx)("p",{children:"Your browser does not support iframes."})})})})}));n(38565);var qt=(0,v.Z)(U.JO)({name:"IconWrapper",class:"ifynmzb"}),Ht=(0,d.Pi)((function(e){var t=e.viewModel;return t.loadingState.isLoading?(0,g.jsx)(U.zx,{disabled:!0,primary:!0,full:!0,children:"Loading..."}):t.input.amount?je.W6.isFiat(t.input.currency)&&t.input.amount&&t.minFiatAmount>t.input.amount?(0,g.jsxs)(U.zx,{disabled:!0,primary:!0,full:!0,children:["Minimum amount ",(0,Ce.Wy)(t.minFiatAmount)]}):je.CK.isCrypto(t.input.currency)&&t.input.amount&&t.minCryptoAmount>t.input.amount?(0,g.jsxs)(U.zx,{disabled:!0,primary:!0,full:!0,children:["Minimum purchase of ",t.minCryptoAmount," ",t.crypto.symbol," required"]}):(0,g.jsxs)(U.zx,{primary:!0,full:!0,onClick:function(){t.setIsShowIframe(!0);var e=je.CK.isCrypto(t.input.currency)?t.input:t.output,n=je.W6.isFiat(t.input.currency)?t.input:t.output;(0,Rt.L9)({name:"Buy_Button_Pressed",params:{Sum_Currency:n.amount,Sum_Coin:e.amount,Currency:n.currency.symbol,Coin:e.currency.symbol}})},children:[(0,g.jsx)(qt,{name:"external"}),"Continue on Moonpay"]}):(0,g.jsx)(U.zx,{disabled:!0,primary:!0,full:!0,children:"Enter the amount"})}));n(88040);var Vt,Yt=n(45422),Qt=n(57231);function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gt,Jt,Xt=(0,ie.ri)()(Vt=Reflect.metadata("design:type",Function)(Vt=Reflect.metadata("design:paramtypes",[])(Vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this._modalIdCounter=0,this._promises=new Map,(0,oe.rC)(this,{modals:oe.LO,openModal:oe.aD,closeModal:oe.aD,closeTopModal:oe.aD})}var t,n,r;return t=e,(n=[{key:"openModal",value:function(e,t){var n=this;++this._modalIdCounter,this.modals.push({modalType:e,modalId:this._modalIdCounter,props:t});var r=new Promise((function(e){n._promises.set(n._modalIdCounter,{modalId:n._modalIdCounter,resolve:e})}));return r.modalId=this._modalIdCounter,r}},{key:"closeModal",value:function(e,t){this.modals=this.modals.filter((function(t){return t.modalId!==e}));var n=this._promises.get(e);return n&&(n.resolve(t),this._promises.delete(e)),t}},{key:"closeTopModal",value:function(){0!==this.modals.length&&this.closeModal((0,Qt.Z)(this.modals).modalId)}}])&&$t(t.prototype,n),r&&$t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||Vt)||Vt)||Vt;function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=an(e);if(t){var o=an(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}function on(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}!function(e){e[e.SHOW_MODAL_ACTIONS_MOBILE=0]="SHOW_MODAL_ACTIONS_MOBILE",e[e.SHOW_MODAL_RECEIVE_BITCOIN=1]="SHOW_MODAL_RECEIVE_BITCOIN",e[e.SHOW_MODAL_TRANSACTION=2]="SHOW_MODAL_TRANSACTION",e[e.SHOW_MODAL_CONFIRM_SEND=3]="SHOW_MODAL_CONFIRM_SEND",e[e.SHOW_MODAL_CONFIRM_SWAP=4]="SHOW_MODAL_CONFIRM_SWAP",e[e.SHOW_MODAL_PROCESS_TRANSACTION=5]="SHOW_MODAL_PROCESS_TRANSACTION",e[e.SHOW_MODAL_TRANSACTION_DETAILS=6]="SHOW_MODAL_TRANSACTION_DETAILS",e[e.SHOW_MODAL_ERROR=7]="SHOW_MODAL_ERROR",e[e.SHOW_MODAL_CHOOSE_BUY_TOKEN_MOBILE=8]="SHOW_MODAL_CHOOSE_BUY_TOKEN_MOBILE",e[e.SHOW_MODAL_SELECT_LIST_MOBILE=9]="SHOW_MODAL_SELECT_LIST_MOBILE"}(Gt||(Gt={}));var un=(0,ie.ri)()(Jt=Reflect.metadata("design:type",Function)(Jt=Reflect.metadata("design:paramtypes",[void 0===Xt?Object:Xt])(Jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&nn(e,t)}(i,e);var t,n,r,o=rn(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._modalService=e,t}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"openModal",value:function(e,t){return this._modalService.openModal(e,t)}},{key:"closeModal",value:function(e,t){return this._modalService.closeModal(e,t)}}])&&tn(t.prototype,n),r&&tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||Jt)||Jt)||Jt,cn=function(e){var t=e.children,n=e.title,r=e.onCloseByWrapper,i=(0,re.Dz)(un);return(0,o.useEffect)((function(){var e=i.openModal(Gt.SHOW_MODAL_SELECT_LIST_MOBILE,{items:t,title:n}),o=e.modalId;return e.then((function(e){e&&e.closedByItem||r()})),function(){i.closeModal(o,{closedByItem:!0})}}),[]),null};function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fn=(0,v.Z)("div")({name:"Wrapper",class:"wmy9n6l"}),dn=(0,v.Z)("div")({name:"Value",class:"v1icjkmf"}),pn=(0,v.Z)(U.JO)({name:"CaretIcon",class:"c1xni83n"}),yn=(0,v.Z)("div")({name:"Selector",class:"s1um40yd"}),hn=(0,v.Z)("div")({name:"ItemsMobileWrapper",class:"iep0tuo"}),vn=(0,v.Z)("div")({name:"DropDownList",class:"d7d906p"}),mn=function(e){var t=e.value,n=e.isLoading,r=e.children,i=e.onToggle,a=e.className,u=e.flat,c=e.mobileListTitle,s=(0,o.useRef)(null),l=sn((0,o.useState)(!1),2),f=l[0],d=l[1],p=(0,y.dD)(),h=function(e){var t;null!==(t=s.current)&&void 0!==t&&t.contains(e.target)||d(!1)};(0,o.useEffect)((function(){return window.addEventListener("click",h),function(){window.removeEventListener("click",h)}}),[]);var v=function(){n||(d(!f),i&&i(!f))},m=o.Children.map(r,(function(e){return(0,o.isValidElement)(e)?(0,o.cloneElement)(e,{close:v}):e}));return(0,g.jsxs)(fn,{ref:s,className:a,children:[(0,g.jsxs)(yn,{onClick:v,className:b()({isOpen:f,flat:u}),children:[(0,g.jsx)(dn,{children:t}),n?(0,g.jsx)(Yt.a,{size:"24"}):(0,g.jsx)(pn,{name:"caret"})]}),f?p?(0,g.jsx)(cn,{title:c,onCloseByWrapper:function(){v()},children:(0,g.jsx)(hn,{children:m})}):(0,g.jsx)(vn,{children:m}):void 0]})};n(58312);var bn=(0,v.Z)("div")({name:"Value",class:"v126rop1"}),wn=(0,v.Z)(U.JO)({name:"CheckIcon",class:"c1vjl2oi"}),gn=(0,v.Z)("div")({name:"Wrapper",class:"w1mqr0ka"}),kn=function(e){var t=e.children,n=e.isSelected,r=e.onItemClick,o=e.close,i=void 0===o?function(){}:o;return(0,g.jsxs)(gn,{onClick:function(){r(),i()},className:b()({isSelected:n}),children:[(0,g.jsx)(bn,{children:t}),(0,g.jsx)(wn,{name:"check"})]})};n(53781);var jn=(0,v.Z)("div")({name:"InfoWrapper",class:"iajfmvl"}),On=(0,v.Z)("div")({name:"Line",class:"lbxb1ms"}),xn=(0,v.Z)("div")({name:"Text",class:"t61jvpn"}),Sn=(0,v.Z)("div")({name:"Item",class:"ixxsc9t"}),Pn=(0,v.Z)("span")({name:"Normal",class:"n1t2jri"}),An=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,a.k6)(),r=(0,o.useCallback)((function(e){return function(){var r=t.crypto.symbol,o=e.symbol;r!==o&&((0,Rt.L9)({name:"Buy_Coin_Changed",params:{From_Coin:r,To_Coin:o}}),n.push("/buy/".concat(e.symbol)))}}),[]);return(0,g.jsx)(mn,{value:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(L.y,{symbol:t.crypto.symbol,size:44}),(0,g.jsxs)(jn,{children:[(0,g.jsx)(On,{children:(0,g.jsx)(xn,{children:"I want to buy"})}),(0,g.jsx)(On,{children:(0,g.jsxs)(xn,{className:"bottom",children:[t.crypto.fullName," (",t.crypto.symbol,")"]})})]})]}),children:Object.values(t.cryptoCurrenciesForSelect).map((function(e){return(0,g.jsxs)(kn,{isSelected:t.crypto.symbol===e.symbol,onItemClick:r(e),children:[(0,g.jsx)(L.y,{symbol:e.symbol,size:44}),(0,g.jsxs)(Sn,{children:[e.fullName," ",(0,g.jsxs)(Pn,{children:["(",e.symbol,")"]})]})]},e.symbol)}))})}));function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(15244);var Rn=(0,v.Z)("div")({name:"Wrapper",class:"w132yr3e"}),Cn=(0,v.Z)("div")({name:"TitleWrapper",class:"t1619rw5"}),In=(0,v.Z)("div")({name:"Title",class:"t31jxpb"}),En=(0,v.Z)("div")({name:"Left",class:"l1sj980h"}),Mn=(0,v.Z)("div")({name:"Right",class:"r1bmlvly"}),Dn=(0,v.Z)(U.JO)({name:"ChevronIcon",class:"c17l02dz"}),Fn=(0,v.Z)("div")({name:"Content",class:"c15o87zd"}),Nn=function(e){var t=e.title,n=e.right,r=e.open,i=void 0!==r&&r,a=e.hideRightIfOpen,u=e.noContentPadding,c=e.onToggle,s=e.children,l=e.className,f=_n((0,o.useState)(i),2),d=f[0],p=f[1];return(0,g.jsxs)(Rn,{className:l,children:[(0,g.jsxs)(Cn,{onClick:function(){p(!d),c&&c(!d)},className:b()({isOpen:d}),children:[(0,g.jsxs)(In,{children:[(0,g.jsx)(En,{children:t}),n?a&&d?void 0:(0,g.jsx)(Mn,{children:n}):void 0]}),(0,g.jsx)(Dn,{name:"chevron",className:b()({isOpen:d})})]}),d?(0,g.jsx)(Fn,{className:b()({noContentPadding:u}),children:s}):void 0]})};n(22869);var Bn=(0,v.Z)("div")({name:"AccordionTitleWrapper",class:"agm0wi0"}),Zn=(0,v.Z)("div")({name:"AccordionTitlePrimary",class:"aapdcp3"}),Wn=(0,v.Z)("div")({name:"AccordionTitleSecondary",class:"a1othkqo"}),Ln=(0,v.Z)("div")({name:"AccordionTitleSecondaryValue",class:"a1e814wa"}),Un=function(e,t){return(0,g.jsxs)(g.Fragment,{children:[e,t?":":null]})},zn=function(e){return e?(0,g.jsx)(Ln,{children:e}):null},Kn=function(e){var t=e.title,n=e.titleBottomName,r=e.titleBottomValue;return(0,g.jsxs)(Bn,{children:[(0,g.jsx)(Zn,{children:t}),(0,g.jsxs)(Wn,{children:[Un(n,r),zn(r)]})]})};n(1367);var qn=(0,v.Z)("div")({name:"ListWrapper",class:"lg5aj65"}),Hn=(0,v.Z)("div")({name:"Row",class:"r1eh9a06"}),Vn=(0,v.Z)("div")({name:"Text",class:"tc99nom"});n(14699);var Yn=["accordion","onToggle"];function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Xn=function(e){var t=e.accordion,n=e.onToggle,r=Jn(e,Yn);return(0,g.jsx)(Nn,{title:(0,g.jsx)(Kn,$n({},r)),onToggle:n,noContentPadding:!0,children:t.map((function(e){return(0,g.jsx)(qn,{className:e.className,children:e.rows.map((function(e){return(0,g.jsxs)(Hn,{children:[(0,g.jsx)(Vn,{className:e.titleClassName,children:e.title}),(0,g.jsx)(Vn,{className:e.valueClassName,children:Array.isArray(e.value)?e.value.map((function(e){return e.value?(0,g.jsx)(Vn,{className:e.className,children:e.value}):e})):e.value})]},e.id)}))},e.id)}))})},er=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,Ue.YN)((function(){return[{id:1,rows:[{id:1,titleClassName:"gray",title:"1 ".concat(t.crypto.symbol," price"),value:(0,Ce.Wy)(t.output.price)}]},{id:2,rows:[{id:1,titleClassName:"gray",title:"".concat(t.crypto.symbol," purchase cost"),value:(0,Ce.Wy)(t.output.purchaseCost)},{id:2,titleClassName:"gray",title:"Processing fee",value:(0,Ce.Wy)(t.output.processingFee)},{id:3,titleClassName:"gray",title:"Network fee",value:(0,Ce.Wy)(t.output.networkFee)}]},{id:3,className:"total",rows:[{id:1,title:"Total",value:(0,Ce.Wy)(t.output.total)}]}]}));return(0,g.jsx)(Xn,{title:"Purchase details",titleBottomName:"Total amount spent",titleBottomValue:(0,Ce.Wy)(t.output.total),accordion:n})})),tr=(0,v.Z)(U.JO)({name:"ArrowsIcon",class:"a1n5jamg"}),nr=(0,v.Z)(U.zx)({name:"ButtonStyled",class:"b1vde9kz"}),rr=function(e){var t=e.title,n=e.onClick;return(0,g.jsxs)(nr,{onClick:n,small:!0,children:[t," ",(0,g.jsx)(tr,{name:"opposite-arrows"})]})};n(10086);var or=n(55907),ir=n(20140),ar=["prefix","placeholder","value","onChange"];function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var pr=(0,v.Z)("label")({name:"WrapperLabel",class:"w1ci2kaw"}),yr=("\n  color: ".concat(y.rS.colors.textIcon.primary,";\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 120%;\n"),(0,v.Z)("div")({name:"Prefix",class:"pxj0yu4"})),hr=(0,v.Z)("input")({name:"Input",class:"i1gp5igb"}),vr=/^\d*(\.\d*)?$/,mr=function(e){var t=e.prefix,n=e.placeholder,r=void 0===n?"0":n,i=e.value,a=void 0===i?"":i,u=e.onChange,c=dr(e,ar),s=lr((0,o.useState)(a),2),l=s[0],f=s[1];(0,ir.Z)((function(){Number(a)!==Number(l)&&f(a)}),[a]);var d=(0,o.useMemo)((function(){var e=l||r;if(e)return String(e).length+"ch"}),[l,r]);return(0,g.jsxs)(pr,{children:[t?(0,g.jsx)(yr,{className:b()({isText:"string"==typeof t}),children:t}):void 0,(0,g.jsx)(hr,cr(cr({},c),{},{placeholder:r,value:l,type:"text",inputMode:"decimal",autoComplete:"off",autoCorrect:"off",spellCheck:"false",onChange:function(e){var t=e.target.value.replace(/^0(\d+)/,"$1");"."===t&&(t="0."),(!Number.isNaN(t)&&vr.test(t)||""===t)&&(f(t),null==u||u(t))},style:{width:d}}))]})};function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(60698);var gr=(0,v.Z)("div")({name:"Wrapper",class:"w1nrs3dn"}),kr=(0,v.Z)("div")({name:"InputWrapper",class:"i1idzkke"}),jr=(0,v.Z)("div")({name:"Title",class:"t1osv9hp"}),Or=(0,d.Pi)((function(e){var t=e.viewModel,n=br((0,o.useState)(),2),i=n[0],a=n[1];(0,o.useLayoutEffect)((function(){t.getTokenWithMint(t.crypto.mintAddress).then(a)}),[t.crypto.mintAddress]);var u=je.W6.isFiat(t.input.currency),c=u?r.k.fiat.symbol:(0,g.jsx)(or.y,{token:i,size:32}),s=u?i?(0,Ce.Do)(t.output.amount,i):"":(0,Ce.Wy)(t.output.amount);return(0,g.jsxs)(gr,{children:[(0,g.jsxs)(kr,{children:[(0,g.jsx)(jr,{children:u?"You pay":"You get"}),(0,g.jsx)(mr,{prefix:c,value:t.input.amount,onChange:t.setAmount})]}),(0,g.jsxs)(kr,{children:[(0,g.jsx)(jr,{children:u?"You get":"You pay"}),(0,g.jsx)(rr,{title:s,onClick:t.swap})]})]})}));n(63134);var xr=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,y.dD)();return(0,g.jsxs)(Tt,{bottom:(0,g.jsx)(Ht,{viewModel:t}),children:[n?null:(0,g.jsx)(An,{viewModel:t}),(0,g.jsx)(Or,{viewModel:t}),(0,g.jsx)(er,{viewModel:t})]})})),Sr=n(98337),Pr=n(65214),Ar=n.n(Pr),_r=n(90203),Tr=n(8750),Rr=n(13955),Cr=(0,v.Z)("div")({name:"Wrapper",class:"wopi0cs"}),Ir=(0,v.Z)("div")({name:"NavButton",class:"n1dlnoma"}),Er=(0,v.Z)("div")({name:"IconBlock",class:"i106v84a"}),Mr=(0,v.Z)(U.JO)({name:"NavIcon",class:"ngbh75b"}),Dr=(0,v.Z)(U.JO)({name:"StoreIcon",class:"s1celouu"}),Fr=(0,v.Z)("span")({name:"Name",class:"np5wxi8"}),Nr=(0,v.Z)(i.OL)({name:"NavLinkMenu",class:"n12efqse"}),Br=(0,v.Z)("div")({name:"Separator",class:"s1p3oofs"}),Zr=(0,v.Z)("hr")({name:"Line",class:"li21nxg"}),Wr=function(){var e=(0,a.TH)(),t=function(e){return function(){"app_store"===e?(0,Rt.L9)({name:"Appstore_Click_Button"}):"google_play"===e&&(0,Rt.L9)({name:"Google_Click_Button"})}};return(0,g.jsxs)(Cr,{children:[(0,g.jsx)(Nr,{to:{pathname:"/wallets",state:{fromPage:e.pathname}},className:"button",children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"wallet"})}),(0,g.jsx)(Fr,{children:"Wallets"})]})}),(0,g.jsx)(Nr,{to:{pathname:"/buy",state:{fromPage:e.pathname}},className:"button",children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"plus"})}),(0,g.jsx)(Fr,{children:"Buy"})]})}),(0,g.jsx)(Nr,{to:{pathname:"/receive",state:{fromPage:e.pathname}},className:"button",children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"bottom"})}),(0,g.jsx)(Fr,{children:"Receive"})]})}),(0,g.jsx)(Nr,{to:{pathname:"/send",state:{fromPage:e.pathname}},className:"button",children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"top"})}),(0,g.jsx)(Fr,{children:"Send"})]})}),(0,g.jsx)(Nr,{to:{pathname:"/swap",state:{fromPage:e.pathname}},className:"button",children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"swap"})}),(0,g.jsx)(Fr,{children:"Swap"})]})}),(0,g.jsx)(Nr,{to:{pathname:"/settings",state:{fromPage:e.pathname}},className:"button",children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"gear"})}),(0,g.jsx)(Fr,{children:"Settings"})]})}),(0,g.jsx)(Br,{children:(0,g.jsx)(Zr,{})}),(0,g.jsx)(Nr,{to:{pathname:Rr.HT},as:i.rU,target:"_blank",className:"button",onClick:t("app_store"),children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"app-store"})}),(0,g.jsx)(Fr,{children:"App Store"}),(0,g.jsx)(Dr,{name:"store-icon"})]})}),(0,g.jsx)(Nr,{to:{pathname:Rr.iF},as:i.rU,target:"_blank",className:"button",onClick:t("google_play"),children:(0,g.jsxs)(Ir,{children:[(0,g.jsx)(Er,{children:(0,g.jsx)(Mr,{name:"google-play"})}),(0,g.jsx)(Fr,{children:"Google Play"}),(0,g.jsx)(Dr,{name:"store-icon"})]})})]})};n(20718);var Lr=["forwardedRef","children","className"];function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){Kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Hr=(0,v.Z)("div")({name:"Wrapper",class:"w1sf7077"}),Vr=function(e){var t=e.forwardedRef,n=e.children,r=e.className,o=qr(e,Lr);return(0,g.jsx)(Hr,zr(zr({ref:t},o),{},{className:r,children:n}))},Yr=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(Vr,zr(zr({},e),{},{forwardedRef:t}))}));function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(85554);var Jr=(0,v.Z)(Yr)({name:"Wrapper",class:"ww0ad0p"}),Xr=(0,v.Z)("div")({name:"Header",class:"h1kw85z3"}),eo=(0,v.Z)("div")({name:"Title",class:"td3l6l2"}),to=(0,v.Z)("div")({name:"Action",class:"a1u45m72"}),no=(0,v.Z)("div")({name:"Content",class:"c18jg04w"}),ro=function(e){var t=e.forwardedRef,n=e.title,r=e.action,o=e.children,i=e.className;return(0,g.jsxs)(Jr,{ref:t,className:i,children:[n||r?(0,g.jsxs)(Xr,{children:[n?(0,g.jsx)(eo,{children:n}):void 0,r?(0,g.jsx)(to,{children:r}):void 0]}):void 0,o?(0,g.jsx)(no,{children:o}):void 0]})},oo=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(ro,$r($r({},e),{},{forwardedRef:t}))}));n(2624);var io=["src","size"];function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function co(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var so=(0,v.Z)("img")({name:"Wrapper",class:"w1p02ud6",vars:{"w1p02ud6-0":[function(e){var t=e.size;return t?"".concat(t,"px"):"auto"}]}}),lo=function(e){var t=e.src,n=e.size,r=co(e,io);return(0,g.jsx)(so,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({src:t,size:n},r))};function fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(88180);var yo=(0,v.Z)("div")({name:"Top",class:"ttmsqfk"}),ho=(0,v.Z)("div")({name:"Username",class:"ut9dcw3"}),vo=(0,v.Z)("div")({name:"Bottom",class:"b15i683v"}),mo=(0,v.Z)("div")({name:"Address",class:"a1gs1ew4"}),bo=(0,v.Z)("div")({name:"CopiedText",class:"c97so04"}),wo=(0,v.Z)(U.JO)({name:"CopyIcon",class:"ci1aip6"}),go=(0,v.Z)("div")({name:"CopyWrapper",class:"c2tm4to"}),ko=function(e){var t=e.viewModel,n=fo((0,o.useState)(!1),2),r=n[0],i=n[1],a="konstantin",u="".concat(a,".p2pwallet.org");return(0,g.jsxs)(oo,{children:[(0,g.jsxs)(yo,{children:[(0,g.jsx)(lo,{src:"https://i.pravatar.cc/100",size:36}),(0,g.jsxs)(ho,{children:["@",a]})]}),(0,g.jsxs)(vo,{children:[r?(0,g.jsx)(bo,{children:"URL Copied!"}):(0,g.jsx)(mo,{children:u}),(0,g.jsx)(go,{onClick:function(){try{navigator.clipboard.writeText("https://".concat(u)),i(!0),t.notificationService.info("URL Copied!"),setTimeout((function(){i(!1)}),2e3)}catch(e){console.error(e)}},children:(0,g.jsx)(wo,{name:"copy"})})]})]})};n(45465);var jo=(0,v.Z)(Ar())({name:"ColumnLeftSticky",class:"c3jnsx5"}),Oo=(0,v.Z)("div")({name:"Wrapper",class:"w1sqwqse"}),xo=(0,d.Pi)((function(e){var t=e.viewModel;return(0,g.jsx)(jo,{top:$o+16,children:(0,g.jsxs)(Oo,{children:[(0,_r._)(Tr.A.LeftNavMenuProfile)?(0,g.jsx)(ko,{viewModel:t}):null,(0,g.jsx)(Wr,{})]})})}));function So(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Po(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){if(e){if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ao(e,t):void 0}}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(49612);var _o,To,Ro,Co=(_o=null,function(){if(null===_o){var e=document.createElement("div");e.innerHTML='\n        <div style="position: absolute; top: -200px; width: 100px; height: 100px; overflow: scroll; visibility: hidden;"></div>\n      ',_o=e.firstElementChild,document.body.append(_o)}return _o.offsetWidth-_o.clientWidth}),Io=[];function Eo(){var e=Co();if((To=0===e?null:window.innerWidth-e)!==Ro){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Po(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(Io);try{for(n.s();!(t=n.n()).done;){(0,t.value)(To)}}catch(e){n.e(e)}finally{n.f()}}Ro=To}var Mo=function(){var e=So((0,o.useState)(To),2),t=e[0],n=e[1],r=(0,o.useRef)(null);return r.current=t,(0,o.useEffect)((function(){return 0===Io.length&&window.addEventListener("resize",Eo),Io.push(n),void 0===To?Eo():r.current!==To&&n(To),function(){var e=Io.lastIndexOf(n);-1!==e&&Io.splice(e,1),0===Io.length&&window.removeEventListener("resize",Eo)}}),[]),t},Do=["style"];function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){Bo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Wo=function(e){var t=e.style,n=Zo(e,Do),r=Mo();return(0,g.jsx)("div",No({style:r?No(No({},t),{},{width:r}):t},n))},Lo=(0,v.Z)("div")({name:"Wrapper",class:"w11sghav"}),Uo=(0,v.Z)(Wo)({name:"MainScrollFix",class:"mknmab3"}),zo=(0,v.Z)("div")({name:"Container",class:"c1id3v9h"}),Ko=(0,v.Z)("div")({name:"Content",class:"cpqw440"}),qo=(0,v.Z)("div")({name:"ColumnsWrapper",class:"c1c7p377"}),Ho=(0,v.Z)("div")({name:"ColumnRightWrapper",class:"c1f1iget"}),Vo=(0,v.Z)("div")({name:"ColumnRight",class:"cfiqnon"}),Yo=(0,d.Pi)((function(e){var t=e.viewModel,n=e.breadcrumb,r=e.children,o=(0,y.Av)(),i=(0,y.Ce)();return(0,g.jsxs)(Lo,{children:[(0,g.jsx)(ui,{viewModel:t,breadcrumb:n}),(0,g.jsx)(Uo,{id:"container",children:(0,g.jsx)(zo,{children:t.walletConnected?(0,g.jsx)(Ko,{children:(0,g.jsxs)(qo,{className:b()({isTablet:o,isDesktop:i}),children:[(0,g.jsx)(xo,{viewModel:t}),(0,g.jsx)(Ho,{children:(0,g.jsx)(Vo,{children:r})})]})}):void 0})})]})})),Qo=o.memo(Yo);n(50571);var $o=64,Go=n.p+"logo-60d0033d49acfdbd725e.png",Jo=(0,v.Z)("header")({name:"Wrapper",class:"wl0sc2x"}),Xo=(0,v.Z)(Wo)({name:"ScrollFixContainer",class:"sb04eam"}),ei=(0,v.Z)("div")({name:"MainContainer",class:"m3wxhy8"}),ti=(0,v.Z)("div")({name:"Content",class:"c5j8v8v"}),ni=(0,v.Z)(i.rU)({name:"LogoLink",class:"l12lhl2h"}),ri=(0,v.Z)("img")({name:"LogoImg",class:"l4g98cv"}),oi=(0,v.Z)("div")({name:"BreadcrumbWrapper",class:"br6t25i"}),ii=(0,v.Z)(U.JO)({name:"BackIcon",class:"b15h9fzt"}),ai=(0,v.Z)(i.OL)({name:"BackLink",class:"b1gh8ke2"}),ui=(0,d.Pi)((function(e){var t=e.viewModel,n=e.breadcrumb;return(0,g.jsx)(Jo,{children:(0,g.jsx)(Xo,{children:(0,g.jsx)(ei,{children:(0,g.jsxs)(ti,{children:[(0,g.jsx)(ni,{to:t.walletConnected?"/wallets":"/",children:(0,g.jsx)(ri,{src:Go})}),n?(0,g.jsxs)(oi,{children:[n.backTo?(0,g.jsx)(ai,{to:n.backTo,children:(0,g.jsx)(ii,{name:"chevron"})}):void 0,n.currentName]}):void 0]})})})})}));n(59453);var ci,si=n(18671),li=n(99592);function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(e,t){return pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pi(e,t)}function yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vi(e);if(t){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hi(this,n)}}function hi(e,t){if(t&&("object"===fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vi(e)}var mi=(0,ie.ri)()(ci=Reflect.metadata("design:type",Function)(ci=Reflect.metadata("design:paramtypes",[void 0===Xt?Object:Xt,void 0===Re.m?Object:Re.m,void 0===li.g?Object:li.g])(ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&pi(e,t)}(i,e);var t,n,r,o=yi(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this))._modalService=e,r._solanaService=t,r.notificationService=n,r}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"walletConnected",get:function(){return!!this._solanaService.provider.wallet.publicKey}},{key:"openActionsMobileModal",value:function(){this._modalService.openModal(Gt.SHOW_MODAL_ACTIONS_MOBILE,{layoutViewModel:this})}},{key:"openChooseBuyTokenMobileModal",value:function(){this._modalService.openModal(Gt.SHOW_MODAL_CHOOSE_BUY_TOKEN_MOBILE)}}])&&di(t.prototype,n),r&&di(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||ci)||ci)||ci,bi=(0,v.Z)("div")({name:"Wrapper",class:"wctbj7l"}),wi=(0,v.Z)("div")({name:"NavButton",class:"n18d0vom"}),gi=(0,v.Z)("div")({name:"IconBlock",class:"i126t1z1"}),ki=(0,v.Z)(U.JO)({name:"NavIcon",class:"n110865t"}),ji=(0,v.Z)("span")({name:"Name",class:"n1d5ylw9"}),Oi=(0,v.Z)("div")({name:"NavLinkMenu",class:"n852v8w"}),xi=function(e){var t=e.viewModel,n=(0,p.o)().showMessages;return(0,g.jsxs)(bi,{children:[(0,g.jsx)(Oi,{as:i.OL,to:{pathname:"/wallets",state:{fromPage:location.pathname}},className:"button",children:(0,g.jsxs)(wi,{children:[(0,g.jsx)(gi,{children:(0,g.jsx)(ki,{name:"wallet"})}),(0,g.jsx)(ji,{children:"Wallets"})]})}),(0,g.jsx)(Oi,{as:i.OL,to:"/actions",onClick:function(e){e.preventDefault(),t.openActionsMobileModal()},className:"button",children:(0,g.jsxs)(wi,{children:[(0,g.jsx)(gi,{children:(0,g.jsx)(ki,{name:"info"})}),(0,g.jsx)(ji,{children:"Actions"})]})}),(0,g.jsx)(Oi,{as:i.OL,to:"/feedback",onClick:function(e){e.preventDefault(),n()},className:"button",children:(0,g.jsxs)(wi,{children:[(0,g.jsx)(gi,{children:(0,g.jsx)(ki,{name:"send-message"})}),(0,g.jsx)(ji,{children:"Feedback"})]})}),(0,g.jsx)(Oi,{as:i.OL,to:{pathname:"/settings",state:{fromPage:location.pathname}},className:"button",children:(0,g.jsxs)(wi,{children:[(0,g.jsx)(gi,{children:(0,g.jsx)(ki,{name:"gear"})}),(0,g.jsx)(ji,{children:"Settings"})]})})]})};n(49542);var Si=n.p+"logo-95d26da9e081082fd511.png",Pi=(0,v.Z)("div")({name:"Wrapper",class:"w18afior"}),Ai=(0,v.Z)(i.rU)({name:"LogoLink",class:"lrq9q0u"}),_i=(0,v.Z)("img")({name:"LogoImg",class:"l1o7wyre"}),Ti=(0,v.Z)("span")({name:"Name",class:"n4qsvcn"}),Ri=(0,v.Z)("div")({name:"ActionWrapper",class:"a1iybdzt"}),Ci=(0,d.Pi)((function(e){var t=e.viewModel,n=e.action;return(0,g.jsxs)(Pi,{children:[(0,g.jsxs)(Ai,{to:t.walletConnected?"/wallets":"/",children:[(0,g.jsx)(_i,{src:Si}),(0,g.jsx)(Ti,{children:"Wallet"})]}),n?(0,g.jsx)(Ri,{children:n}):void 0]})}));n(43766);var Ii=(0,v.Z)("div")({name:"Wrapper",class:"wqzllh2"}),Ei=(0,v.Z)("div")({name:"Container",class:"c5vbz11"}),Mi=(0,v.Z)(Wo)({name:"ScrollFixStyled",class:"syqq4jl"}),Di=(0,v.Z)("div")({name:"Content",class:"c18ntlne"}),Fi=(0,d.Pi)((function(e){var t=e.viewModel,n=e.action,r=e.children;return(0,g.jsxs)(Ii,{children:[(0,g.jsx)(Ei,{children:(0,g.jsxs)(Mi,{children:[(0,g.jsx)(Ci,{viewModel:t,action:n}),t.walletConnected?(0,g.jsx)(Di,{children:r}):void 0]})}),(0,g.jsx)(xi,{viewModel:t})]})}));n(81502);var Ni=function(e){var t=e.breadcrumb,n=e.mobileAction,r=e.children,o=(0,y.dD)(),i=(0,re.Dz)(mi);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(si.q,{children:(0,g.jsx)("body",{className:""})}),o?(0,g.jsx)(Fi,{viewModel:i,breadcrumb:t,action:n,children:r}):(0,g.jsx)(Qo,{viewModel:i,breadcrumb:t,children:r})]})},Bi=o.memo(Ni),Zi=(0,v.Z)("div")({name:"Error",class:"ek9oe6i"}),Wi=(0,d.Pi)((function(){var e=(0,re.Dz)(Le);(0,Sr.G)("Buy_Screen_Opened");return(0,g.jsx)(Bi,{children:e.areMoonpayConstantsSet?e.isShowIframe?(0,g.jsx)(Kt,{viewModel:e}):(0,g.jsx)(xr,{viewModel:e}):(0,g.jsx)(Zi,{children:"MOONPAY_SIGNER_URL and MOONPAY_API_KEY must be set"})})}));n(17949);var Li=n(27802),Ui=n(11901),zi=n(68764),Ki=n(79167),qi=n(1379),Hi=n(181),Vi=n(21273),Yi=n.n(Vi),Qi=n(62197),$i=n.n(Qi),Gi=n(17022),Ji=n.n(Gi),Xi=n(82065);function ea(e){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ea(e)}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t,n){return t&&ta(e.prototype,t),n&&ta(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&la(e,t)}function ia(e){var t=sa();return function(){var n,r=fa(e);if(t){var o=fa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aa(this,n)}}function aa(e,t){if(t&&("object"===ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ua(e){var t="function"==typeof Map?new Map:void 0;return ua=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ca(e,arguments,fa(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),la(r,e)},ua(e)}function ca(e,t,n){return ca=sa()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&la(o,n.prototype),o},ca.apply(null,arguments)}function sa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function la(e,t){return la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},la(e,t)}function fa(e){return fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fa(e)}var da=function(e){oa(n,e);var t=ia(n);function n(){return ra(this,n),t.apply(this,arguments)}return na(n)}(ua(Error)),pa=function(e){oa(n,e);var t=ia(n);function n(){return ra(this,n),t.apply(this,arguments)}return na(n)}(ua(Error)),ya=function(e){oa(n,e);var t=ia(n);function n(){return ra(this,n),t.apply(this,arguments)}return na(n)}(ua(Error)),ha=function(e){oa(n,e);var t=ia(n);function n(){return ra(this,n),t.apply(this,arguments)}return na(n)}(ua(Error)),va=function(e){oa(n,e);var t=ia(n);function n(){return ra(this,n),t.apply(this,arguments)}return na(n)}(ua(Error)),ma=function(e){oa(n,e);var t=ia(n);function n(){return ra(this,n),t.apply(this,arguments)}return na(n,null,[{key:"unauthorized",value:function(){return new da("Unauthorized")}},{key:"unknown",value:function(){return new ha("Unknown error")}},{key:"paramsMissing",value:function(){return new pa("One or some parameters are missing")}},{key:"invalidEndpoint",value:function(){return new ya("Invalid endpoint")}},{key:"other",value:function(e){return new va(e)}},{key:"equals",value:function(e,t){return!!function(e,t,n){return e instanceof n&&t instanceof n}(e,t,pa)&&e.message===t.message}}]),n}(ua(Error));function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wa=function(){function e(t){var n=t.txid,r=t.txindex,o=t.ghash,i=t.gpubkey,a=t.nhash,u=t.nonce,c=t.payload,s=t.phash,l=t.to,f=t.amount;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.txid=void 0,this.txindex=void 0,this.ghash=void 0,this.gpubkey=void 0,this.nhash=void 0,this.nonce=void 0,this.payload=void 0,this.phash=void 0,this.to=void 0,this.amount=void 0,this.txid=n,this.txindex=r,this.ghash=o,this.gpubkey=i,this.nhash=a,this.nonce=u,this.payload=c,this.phash=s,this.to=l,this.amount=f}var t,n,r;return t=e,r=[{key:"fromBuffer",value:function(t){var n=t.gHash,r=t.gPubkey,o=t.nHash,i=t.nonce,a=t.amount,u=t.pHash,c=t.to,s=t.txIndex,l=t.txid;return new e({txid:(0,qi.toURLBase64)(l),txindex:s,ghash:(0,qi.toURLBase64)(n),gpubkey:(0,qi.toURLBase64)(r),nhash:(0,qi.toURLBase64)(o),nonce:(0,qi.toURLBase64)(i),payload:"",phash:(0,qi.toURLBase64)(u),to:c,amount:a})}},{key:"fromState",value:function(t){var n=t.state,r=t.nonce,o=n.gHash,i=n.nHash,a=n.amount,u=n.pHash,c=n.txIndex,s=n.txid,l=n.sendTo;if(!(o&&i&&a&&u&&c&&s&&l))throw ma.paramsMissing();return new e({txid:(0,qi.toURLBase64)(s),txindex:c,ghash:(0,qi.toURLBase64)(o),gpubkey:n.gPubkey?(0,qi.toURLBase64)(n.gPubkey):"",nhash:(0,qi.toURLBase64)(i),nonce:(0,qi.toURLBase64)(r),payload:"",phash:(0,qi.toURLBase64)(u),to:l,amount:a})}}],(n=[{key:"hash",value:function(e){var t=e.selector,n=e.version;return Xi.v2.hashTransaction(n,t.toString(),{t:Xi.v2.mintParamsType(),v:{txid:this.txid,txindex:this.txindex,ghash:this.ghash,gpubkey:this.gpubkey,nhash:this.nhash,nonce:this.nonce,payload:this.payload,phash:this.phash,to:this.to,amount:this.amount}})}}])&&ba(t.prototype,n),r&&ba(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ka,ja,Oa,xa,Sa,Pa,Aa,_a,Ta,Ra,Ca,Ia,Ea,Ma,Da,Fa,Na,Ba,Za,Wa,La,Ua,za,Ka,qa,Ha,Va,Ya,Qa,$a,Ga,Ja,Xa,eu,tu=function(){function e(t){var n=t.chain,r=t.endpoint,o=t.lightNode,i=t.gatewayRegistry,a=t.genesisHash,u=t.p2shPrefix;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chain=void 0,this.endpoint=void 0,this.lightNode=void 0,this.gatewayRegistry=void 0,this.genesisHash=void 0,this.p2shPrefix=void 0,this.chain=n,this.endpoint=r,this.lightNode=o,this.gatewayRegistry=i,this.genesisHash=a,this.p2shPrefix=u}var t,n,r;return t=e,r=[{key:"mainnet",get:function(){return new e({chain:"mainnet",endpoint:"https://ren.rpcpool.com/",lightNode:"https://lightnode-mainnet.herokuapp.com",gatewayRegistry:"REGrPFKQhRneFFdUV3e9UDdzqUJyS6SKj88GdXFCRd2",genesisHash:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdpKuc147dw2N9d",p2shPrefix:5})}},{key:"testnet",get:function(){return new e({chain:"testnet",endpoint:"https://api.devnet.solana.com",lightNode:"https://lightnode-testnet.herokuapp.com/",gatewayRegistry:"REGrPFKQhRneFFdUV3e9UDdzqUJyS6SKj88GdXFCRd2",genesisHash:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1wcaWoxPkrZBG",p2shPrefix:196})}},{key:"devnet",get:function(){return new e({chain:"devnet",endpoint:"https://api.testnet.solana.com",lightNode:"https://lightnode-devnet.herokuapp.com",gatewayRegistry:"REGrPFKQhRneFFdUV3e9UDdzqUJyS6SKj88GdXFCRd2",genesisHash:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3zQawwpjk2NsNY",p2shPrefix:196})}}],(n=[{key:"isTestnet",get:function(){return"mainnet"!==this.chain}}])&&ga(t.prototype,n),r&&ga(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),nu=n(88018);function ru(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ou(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t,n){return t&&iu(e.prototype,t),n&&iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var cu=au((function e(){uu(this,e),this.hash=void 0,this.index=void 0})),su=(ka=(0,nu.D)((function(){return cu})),ja=Reflect.metadata("design:type",void 0===cu?Object:cu),Oa=au((function e(){uu(this,e),ru(this,"outpoint",xa,this),this.pubKeyScript=void 0,this.value=void 0})),xa=ou(Oa.prototype,"outpoint",[ka,ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oa),lu=(Sa=(0,nu.D)((function(){return su})),Pa=Reflect.metadata("design:type",void 0===su?Object:su),Aa=au((function e(){uu(this,e),this.pubKey=void 0,this.shard=void 0,ru(this,"state",_a,this)})),_a=ou(Aa.prototype,"state",[Sa,Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Aa),fu=au((function e(){uu(this,e),this.burnFee=void 0,this.chain=void 0,this.mintFee=void 0})),du=(Ta=(0,nu.D)((function(){return fu})),Ra=Reflect.metadata("design:type",Array),Ca=au((function e(){uu(this,e),ru(this,"chains",Ia,this)})),Ia=ou(Ca.prototype,"chains",[Ta,Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ca),pu=(Ea=(0,nu.D)((function(){return du})),Ma=Reflect.metadata("design:type",void 0===du?Object:du),Da=(0,nu.D)((function(){return lu})),Fa=Reflect.metadata("design:type",Array),Na=au((function e(){uu(this,e),ru(this,"fees",Ba,this),this.gasCap=void 0,this.gasLimit=void 0,this.gasPrice=void 0,this.latestHeight=void 0,this.minimumAmount=void 0,ru(this,"shards",Za,this)})),Ba=ou(Na.prototype,"fees",[Ea,Ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Za=ou(Na.prototype,"shards",[Da,Fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Na),yu=(Wa=(0,nu.D)((function(){return pu})),La=Reflect.metadata("design:type",void 0===pu?Object:pu),Ua=function(){function e(){uu(this,e),ru(this,"BTC",za,this)}return au(e,[{key:"btc",get:function(){return this.BTC}}]),e}(),za=ou(Ua.prototype,"BTC",[Wa,La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ua),hu=au((function e(){uu(this,e)})),vu=(Ka=(0,nu.D)((function(){return hu})),qa=Reflect.metadata("design:type",void 0===hu?Object:hu),Ha=(0,nu.D)((function(){return yu})),Va=Reflect.metadata("design:type",void 0===yu?Object:yu),Ya=au((function e(){uu(this,e),ru(this,"t",Qa,this),ru(this,"v",$a,this)})),Qa=ou(Ya.prototype,"t",[Ka,qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a=ou(Ya.prototype,"v",[Ha,Va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ya),mu=(Ga=(0,nu.D)((function(){return vu})),Ja=Reflect.metadata("design:type",void 0===vu?Object:vu),Xa=function(){function e(){uu(this,e),ru(this,"state",eu,this)}return au(e,[{key:"publicKey",value:function(e){var t,n;return"BTC"===e&&null!==(t=null===(n=this.state.v.btc.shards[0])||void 0===n?void 0:n.pubKey)&&void 0!==t?t:null}}]),e}(),eu=ou(Xa.prototype,"state",[Ga,Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xa);function bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wu(e,t,n){return t&&bu(e.prototype,t),n&&bu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ku=wu((function e(){gu(this,e),this.confirmations=void 0,this.maxConfirmations=void 0,this.network=void 0,this.registries=void 0,this.whitelist=void 0}));function ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xu(e,t,n){return t&&Ou(e.prototype,t),n&&Ou(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Su=function(){function e(){ju(this,e),this.tx=void 0,this.txStatus=void 0}return xu(e,[{key:"valueOut",get:function(){return this.tx.out.v}},{key:"valueIn",get:function(){return this.tx.in.v}}]),e}();function Pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Au(e,t,n){return t&&Pu(e.prototype,t),n&&Pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _u,Tu=Au((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)})),Ru=n(75223);function Cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.to="to",e.from="from"}(_u||(_u={}));var Iu=function(){function e(t){var n=t.mintTokenSymbol,r=t.chainName,o=t.direction;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mintTokenSymbol=void 0,this.chainName=void 0,this.direction=void 0,this.mintTokenSymbol=n,this.chainName=r,this.direction=o}var t,n,r;return t=e,(n=[{key:"toString",value:function(){return"".concat(this.mintTokenSymbol,"/").concat(this.direction).concat((0,Ru.fm)(this.chainName))}}])&&Cu(t.prototype,n),r&&Cu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Eu=n(48834).Buffer;function Mu(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Du(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Du(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fu(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t,n){return t&&Bu(e.prototype,t),n&&Bu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wu=function(){function e(t){var n=t.confirmedSignature,r=t.nonce,o=t.recipient,i=t.amount;Nu(this,e),this.confirmedSignature=void 0,this.nonce=void 0,this.recipient=void 0,this.amount=void 0,this.confirmedSignature=n,this.nonce=r,this.recipient=o,this.amount=i}return Zu(e,[{key:"toJSON",value:function(){return{confirmedSignature:this.confirmedSignature,nonce:this.nonce.toString(),recipient:this.recipient,amount:this.amount}}}],[{key:"fromJSON",value:function(t){return new e({confirmedSignature:t.confirmedSignature,nonce:new Hi.u64(t.nonce),recipient:t.recipient,amount:t.amount})}}]),e}(),Lu=function(){function e(t){var n=t.rpcClient,r=t.chain,o=t.mintTokenSymbol,i=t.version,a=t.burnTo;Nu(this,e),this._rpcClient=void 0,this._chain=void 0,this._mintTokenSymbol=void 0,this._version=void 0,this._burnToChainName=void 0,this._rpcClient=n,this._chain=r,this._mintTokenSymbol=o,this._version=i,this._burnToChainName=a}var t,n;return Zu(e,[{key:"submitBurnTransaction",value:function(e){var t=e.account,n=e.amount,r=e.recipient;return this._chain.submitBurn({mintTokenSymbol:this._mintTokenSymbol,account:t,amount:n,recipient:r})}},{key:"getBurnState",value:function(t){var n=this._chain.signatureToData(t.confirmedSignature),r=this._getNonceBuffer(new($i())(t.nonce)),o=(0,Ki.x$)(r,n,"0"),i=(0,Ki.R7)(),a=(0,Ki.sO)(new Iu({mintTokenSymbol:this._mintTokenSymbol,chainName:this._burnToChainName,direction:_u.to}).toString()),u=(0,Ki.R8)(i,a,e.addressToBytes(t.recipient),r),c=wa.fromBuffer({gHash:u,gPubkey:new Uint8Array,nHash:o,nonce:r,amount:t.amount,pHash:i,to:t.recipient,txIndex:"0",txid:n}),s=(0,qi.toURLBase64)(c.hash({selector:this._chain.selector({mintTokenSymbol:this._mintTokenSymbol,direction:_u.from}),version:this._version}));return{sendTo:t.recipient,txIndex:"0",amount:t.amount,nHash:o,txid:n,pHash:i,gHash:u,txHash:s,gPubkey:new Uint8Array}}},{key:"release",value:(t=regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.details,o=this._selector(_u.from),i=this._getNonceBuffer(new($i())(r.nonce)),a=wa.fromState({state:n,nonce:i}),u=(0,qi.toURLBase64)(a.hash({selector:o,version:this._version})),e.next=7,this._rpcClient.submitTx({hash:u,selector:o,version:this._version,input:a});case 7:return e.abrupt("return",u);case 8:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Fu(i,r,o,a,u,"next",e)}function u(e){Fu(i,r,o,a,u,"throw",e)}a(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"_getNonceBuffer",value:function(e){return new($i())(e.toString()).toArrayLike(Eu,"be",32)}},{key:"_selector",value:function(e){return this._chain.selector({mintTokenSymbol:this._mintTokenSymbol,direction:e})}}],[{key:"addressToBytes",value:function(e){try{var t=Mu(Yi().decode(e).words),n=t[0],r=t.slice(1);return Eu.concat([Eu.from([n]),Eu.from(Yi().fromWords(r))])}catch(t){try{return Ji().decode(e)}catch(t){throw new Error('Unrecognized address format "'.concat(e,'".'))}}}}]),e}(),Uu=n(35654),zu=n(39684),Ku=n(98704),qu=n(48834).Buffer;function Hu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.nonce,r=t.createdAt,o=void 0===r?new Date:r,i=t.endAt;if(Hu(this,e),this.createdAt=void 0,this.endAt=void 0,this.nonce=void 0,i&&i<=o)throw ma.other("Invalid session");this.nonce=null!=n?n:Qu(Math.floor(Date.now()/1e3/60/60/24)),this.createdAt=o,this.endAt=null!=i?i:new Date(new Date(this.createdAt).setHours(this.createdAt.getHours()+36))}var t,n,r;return t=e,r=[{key:"fromJSON",value:function(t){return new e({nonce:t.nonce,createdAt:new Date(t.createdAt),endAt:new Date(t.endAt)})}}],(n=[{key:"isValid",get:function(){return this.endAt>new Date}}])&&Vu(t.prototype,n),r&&Vu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qu(e){return qu.from(e.toString(16).padStart(32)).toString("hex")}function $u(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Gu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$u(i,r,o,a,u,"next",e)}function u(e){$u(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xu=function(){function e(t){var n=t.rpcClient,r=t.chain,o=t.mintTokenSymbol,i=t.version,a=t.destinationAddress,u=t.session;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rpcClient=void 0,this._chain=void 0,this._mintTokenSymbol=void 0,this._version=void 0,this._destinationAddress=void 0,this._session=void 0,this._rpcClient=n,this._chain=r,this._mintTokenSymbol=o,this._version=i,this._destinationAddress=a,this._session=u||new Yu}var t,n,r,o;return t=e,n=[{key:"generateGatewayAddress",value:(o=Gu(regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._chain.getAssociatedTokenAddress({address:this._destinationAddress,mintTokenSymbol:this._mintTokenSymbol}),n=(0,Ki.sO)(this._selector(_u.to).toString()),r=(0,Ki.R8)((0,Ki.R7)(),n,t,(0,qi.fromHex)(this._session.nonce)),e.next=5,this._rpcClient.selectPublicKey(this._mintTokenSymbol);case 5:if(o=e.sent){e.next=8;break}throw new ma("Provider's public key not found");case 8:return i=(0,Uu.NX)((0,zu.hash160)(o),r,Uint8Array.from([this._rpcClient.network.p2shPrefix])),e.abrupt("return",{gatewayAddress:i,sendTo:t,gHash:r,gPubkey:o});case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getDepositState",value:function(e){var t=e.transactionHash,n=e.txIndex,r=e.amount,o=e.to,i=e.gHash,a=e.gPubkey,u=(0,qi.fromHex)(this._session.nonce),c=(0,qi.fromHex)(function(e){var t,n;return null!==(t=null===(n=e.match(/[a-fA-F0-9]{2}/g))||void 0===n?void 0:n.reverse().join(""))&&void 0!==t?t:""}(t)),s=(0,Ki.x$)(u,c,null!=n?n:"0"),l=(0,Ki.R7)(),f=wa.fromBuffer({gHash:i,gPubkey:a,nHash:s,nonce:u,amount:r,pHash:l,to:this._chain.dataToAddress(o),txIndex:n,txid:c}),d=(0,Ku.toURLBase64)(f.hash({selector:this._selector(_u.to),version:this._version}));return{gHash:i,gPubkey:a,sendTo:this._chain.dataToAddress(o),txid:c,nHash:s,pHash:l,txHash:d,txIndex:n,amount:r}}},{key:"submitMintTransaction",value:function(e){var t=this;return(0,Et.zK)(function(){var n=Gu(regeneratorRuntime.mark((function n(r){var o,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t._selector(_u.to),i=wa.fromState({state:e,nonce:(0,qi.fromHex)(t._session.nonce)}),a=(0,Ku.toURLBase64)(i.hash({selector:o,version:t._version})),n.next=5,r(t._rpcClient.submitTx({hash:a,selector:o,version:t._version,input:i}));case 5:return n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"mint",value:function(e){var t=this,n=e.state,r=e.account;return(0,Et.zK)(function(){var e=Gu(regeneratorRuntime.mark((function e(o){var i,a,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.txHash){e.next=3;break}throw new ma("txHash not found");case 3:return e.next=5,o(t._rpcClient.queryMint(i));case 5:if(a=e.sent,!(u=a.tx.out.v.revert)){e.next=9;break}throw new ma(u);case 9:if("done"===a.txStatus){e.next=11;break}throw ma.paramsMissing();case 11:return c=a.tx.out.v.amount,e.next=14,o(t._chain.submitMint({address:t._destinationAddress,mintTokenSymbol:t._mintTokenSymbol,account:r,responseQueryMint:a}));case 14:return s=e.sent,e.abrupt("return",{amountOut:c,signature:s});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"_selector",value:function(e){return this._chain.selector({mintTokenSymbol:this._mintTokenSymbol,direction:e})}}],n&&Ju(t.prototype,n),r&&Ju(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var ec,tc,nc,rc,oc,ic,ac,uc,cc,sc,lc,fc,dc,pc,yc,hc,vc,mc,bc,wc,gc,kc=n(54651);function jc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t,n){return t&&Oc(e.prototype,t),n&&Oc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pc(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Ac,_c,Tc,Rc,Cc,Ic,Ec,Mc,Dc,Fc,Nc,Bc,Zc,Wc,Lc,Uc,zc,Kc,qc,Hc,Vc,Yc,Qc,$c,Gc,Jc,Xc,es,ts,ns=(ec=(0,nu.D)((function(){return Hi.u64})),tc=(0,kc.w)((function(e){var t=e.value;return new Hi.u64(t)})),nc=Reflect.metadata("design:type",void 0===Hi.u64?Object:Hi.u64),rc=(0,nu.D)((function(){return Hi.u64})),oc=(0,kc.w)((function(e){var t=e.value;return new Hi.u64(t)})),ic=Reflect.metadata("design:type",void 0===Hi.u64?Object:Hi.u64),ac=xc((function e(){Sc(this,e),this.confirmed=void 0,jc(this,"blockHeight",uc,this),this.blockHash=void 0,jc(this,"blockTime",cc,this)})),uc=Pc(ac.prototype,"blockHeight",[ec,tc,nc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cc=Pc(ac.prototype,"blockTime",[rc,oc,ic],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac),rs=(sc=(0,nu.D)((function(){return Hi.u64})),lc=(0,kc.w)((function(e){var t=e.value;return new Hi.u64(t)})),fc=Reflect.metadata("design:type",void 0===Hi.u64?Object:Hi.u64),dc=(0,nu.D)((function(){return ns})),pc=Reflect.metadata("design:type",void 0===ns?Object:ns),yc=(0,nu.D)((function(){return Hi.u64})),hc=(0,kc.w)((function(e){var t=e.value;return new Hi.u64(t)})),vc=Reflect.metadata("design:type",void 0===Hi.u64?Object:Hi.u64),mc=xc((function e(){Sc(this,e),this.txid=void 0,jc(this,"vout",bc,this),jc(this,"status",wc,this),jc(this,"value",gc,this)})),bc=Pc(mc.prototype,"vout",[sc,lc,fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wc=Pc(mc.prototype,"status",[dc,pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gc=Pc(mc.prototype,"value",[yc,hc,vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc),os=n(40253);function is(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return as(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function us(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function cs(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fs(e,t,n){return t&&ls(e.prototype,t),n&&ls(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.valid="valid",e.invalid="invalid"}(ts||(ts={}));var ds=function(){function e(t){ss(this,e),this.type=void 0,this.reason=void 0,t&&(this.type=t.type,this.reason=t.reason)}return fs(e,null,[{key:"valid",value:function(){return new e({type:ts.valid})}},{key:"invalid",value:function(t){return new e({type:ts.invalid,reason:t})}}]),e}(),ps=(Ac=(0,nu.D)((function(){return rs})),_c=Reflect.metadata("design:type",void 0===rs?Object:rs),Tc=(0,nu.D)((function(){return Date})),Rc=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),Cc=(0,nu.D)((function(){return Date})),Ic=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),Ec=(0,nu.D)((function(){return Date})),Mc=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),Dc=(0,nu.D)((function(){return Date})),Fc=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),Nc=(0,nu.D)((function(){return Date})),Bc=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),Zc=(0,nu.D)((function(){return Date})),Wc=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),Lc=(0,nu.D)((function(){return Date})),Uc=Reflect.metadata("design:type","undefined"==typeof Date?Object:Date),zc=(0,nu.D)((function(){return ds})),Kc=Reflect.metadata("design:type",void 0===ds?Object:ds),qc=function(){function e(t){var n,r;ss(this,e),us(this,"tx",Hc,this),us(this,"receivedAt",Vc,this),us(this,"oneVoteAt",Yc,this),us(this,"twoVoteAt",Qc,this),us(this,"threeVoteAt",$c,this),us(this,"confirmedAt",Gc,this),us(this,"submittedAt",Jc,this),us(this,"mintedAt",Xc,this),us(this,"validationStatus",es,this),this.isProcessing=void 0,t&&(this.tx=t.tx,this.receivedAt=t.receivedAt,this.oneVoteAt=t.oneVoteAt,this.twoVoteAt=t.twoVoteAt,this.threeVoteAt=t.threeVoteAt,this.confirmedAt=t.confirmedAt,this.submittedAt=t.submittedAt,this.mintedAt=t.mintedAt,this.validationStatus=null!==(n=t.validationStatus)&&void 0!==n?n:ds.valid(),this.isProcessing=null!==(r=t.isProcessing)&&void 0!==r&&r)}return fs(e,[{key:"statusString",get:function(){return this.mintedAt?"Successfully minted ".concat((0,Ce.D$)((0,os.K4)(this.tx.value,8),{maximumFractionDigits:9})," renBTC!"):this.submittedAt?"Minting":this.confirmedAt?"Submitting to RenVM":this.receivedAt?"Waiting for deposit confirmation ".concat(this.tx.vout,"/").concat(e.maxVote):""}},{key:"value",get:function(){return(0,os.K4)(this.tx.value,8)}}],[{key:"maxVote",get:function(){return new Hi.u64(3)}},{key:"grouped",value:function(e){var t,n=[],r=[],o=[],i=[],a=is(e);try{for(a.s();!(t=a.n()).done;){var u=t.value;u.mintedAt?n.push(u):u.submittedAt?r.push(u):u.confirmedAt?o.push(u):u.receivedAt&&i.push(u)}}catch(e){a.e(e)}finally{a.f()}return{minted:n,submitted:r,confirmed:o,received:i}}}]),e}(),Hc=cs(qc.prototype,"tx",[Ac,_c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vc=cs(qc.prototype,"receivedAt",[Tc,Rc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yc=cs(qc.prototype,"oneVoteAt",[Cc,Ic],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qc=cs(qc.prototype,"twoVoteAt",[Ec,Mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$c=cs(qc.prototype,"threeVoteAt",[Dc,Fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gc=cs(qc.prototype,"confirmedAt",[Nc,Bc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jc=cs(qc.prototype,"submittedAt",[Zc,Wc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xc=cs(qc.prototype,"mintedAt",[Lc,Uc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es=cs(qc.prototype,"validationStatus",[zc,Kc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qc);function ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chainName=void 0}var t,n,r;return t=e,(n=[{key:"selector",value:function(e){var t=e.mintTokenSymbol,n=e.direction;return new Iu({mintTokenSymbol:t,chainName:this.chainName,direction:n})}}])&&ys(t.prototype,n),r&&ys(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),vs=n(49593),ms=n(65132),bs=n(59917);var ws=n(81567),gs=n(6391),ks=n.n(gs),js=n(48834).Buffer,Os=function(e){return js.from((0,qi.fromHex)(("0".repeat(64)+e.toString(16)).slice(-64)))};function xs(e){if(e.length<=64)throw new ma("Signature is not valid");var t=[e.slice(0,32),e.slice(32,64),e[64]%27],n=t[0],r=t[1],o=t[2],i=new(ks())((0,qi.Ox)(r),16),a=(o||0)%27+27;return i.gt(ws.secp256k1n.div(2))&&(i=ws.secp256k1n.minus(i),a=function(e){return 27===e?28:27}(a)),(0,ws.signatureToBuffer)({r:n,s:Os(i),v:a})}var Ss=n(87586),Ps=n(48834),As=n(83742);function _s(e){return function(e){if(Array.isArray(e))return Ts(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ts(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cs=As.struct([As.u8("numSignatures"),As.u16("signatureOffset"),As.u8("signatureInstructionIndex"),As.u16("ethAddressOffset"),As.u8("ethAddressInstructionIndex"),As.u16("messageDataOffset"),As.u16("messageDataSize"),As.u8("messageInstructionIndex"),As.blob(21,"ethAddress"),As.blob(64,"signature"),As.u8("recoveryId")]),Is=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"mintInstruction",value:function(e){var t=e.account,n=e.gatewayAccount,r=e.tokenMint,o=e.recipientTokenAccount,i=e.mintLogAccount,a=e.mintAuthority,u=e.programId;return new bs.TransactionInstruction({keys:[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:os.jQ.programId,isSigner:!1,isWritable:!1},{pubkey:os.jQ.sysvarInstruction,isSigner:!1,isWritable:!1},{pubkey:os.jQ.sysvarRent,isSigner:!1,isWritable:!1},{pubkey:os.jQ.tokenProgramId,isSigner:!1,isWritable:!1}],programId:u,data:Ps.Buffer.from([1])})}},{key:"createInstructionWithEthAddress2",value:function(e){var t,n=e.ethAddress,r=e.message,o=e.signature,i=e.recoveryId,a=(t="string"==typeof n?n.startsWith("0x")?Ps.Buffer.from(n.substr(2),"hex"):Ps.Buffer.from(n,"hex"):n).length;(0,Ki.hu)(t.length===this.ETHEREUM_ADDRESS_BYTES,"Address must be ".concat(this.ETHEREUM_ADDRESS_BYTES," bytes but received ").concat(a," bytes"));var u=1+this.SIGNATURE_OFFSETS_SERIALIZED_SIZE+1,c=u+a,s=c+o.length+1,l=Ps.Buffer.alloc(Number(Cs.span)+r.length);return Cs.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:1,ethAddressOffset:u,ethAddressInstructionIndex:1,messageDataOffset:s,messageDataSize:r.length,messageInstructionIndex:1,signature:(0,Ss.toBuffer)(o),ethAddress:(0,Ss.toBuffer)([0].concat(_s(t))),recoveryId:i},l),l.fill((0,Ss.toBuffer)(r),Cs.span),new bs.TransactionInstruction({keys:[],programId:bs.Secp256k1Program.programId,data:l})}},{key:"burnInstruction",value:function(e){var t=e.account,n=e.source,r=e.gatewayAccount,o=e.tokenMint,i=e.burnLogAccountId,a=e.recipient,u=e.programId;return new bs.TransactionInstruction({keys:[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:os.jQ.programId,isSigner:!1,isWritable:!1},{pubkey:os.jQ.sysvarInstruction,isSigner:!1,isWritable:!1},{pubkey:os.jQ.sysvarRent,isSigner:!1,isWritable:!1}],programId:u,data:Ps.Buffer.from([2,a.length].concat(_s(a)))})}}],(n=null)&&Rs(t.prototype,n),r&&Rs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Is.ETHEREUM_ADDRESS_BYTES=20,Is.SIGNATURE_OFFSETS_SERIALIZED_SIZE=11;var Es=n(48834).Buffer;function Ms(e){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(e)}function Ds(e){return function(e){if(Array.isArray(e))return Fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ns(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Bs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ns(i,r,o,a,u,"next",e)}function u(e){Ns(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t){return Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ws(e,t)}function Ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zs(e);if(t){var o=zs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Us(this,n)}}function Us(e,t){if(t&&("object"===Ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zs(e){return zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zs(e)}var Ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ws(e,t)}(l,e);var t,n,r,o,i,a,u,c,s=Ls(l);function l(e){var t,n=e.gatewayRegistryData,r=e.client,o=e.apiClient;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this)).gatewayStateKey="GatewayStateV0.1.4",t.chainName="Solana",t.gatewayRegistryData=void 0,t.client=void 0,t.apiClient=void 0,t.gatewayRegistryData=n,t.client=r,t.apiClient=o,t}return t=l,n=[{key:"resolveTokenGatewayContract",value:function(e){var t;try{t=new bs.PublicKey(Ji().encode((0,Ki.sO)(this.selector({mintTokenSymbol:e,direction:_u.to}).toString())))}catch(e){}if(!t)throw new ma("Could not resolve token gateway contract");var n=this.gatewayRegistryData.selectors.findIndex((function(e){return!!t&&Es.from(e).equals(t.toBuffer())}));if(-1===n||this.gatewayRegistryData.gateways.length<=n)throw new ma("Could not resolve token gateway contract");return this.gatewayRegistryData.gateways[n]}},{key:"getSPLTokenPubkey",value:function(e){var t=this.resolveTokenGatewayContract(e),n=(0,Ki.sO)(this.selector({mintTokenSymbol:e,direction:_u.to}).toString());return bs.PublicKey.findProgramAddressSync([Es.from(n)],t)[0]}},{key:"getAssociatedTokenAddress",value:function(e){var t=e.address,n=e.mintTokenSymbol,r=this.getSPLTokenPubkey(n);return(0,os.MO)(r,new bs.PublicKey(t)).toBytes()}},{key:"dataToAddress",value:function(e){return Ji().encode(e)}},{key:"signatureToData",value:function(e){return Uint8Array.from(Ji().decode(e))}},{key:"createAssociatedTokenAccount",value:(c=Bs(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.mintTokenSymbol,o=t.owner,i=this.getSPLTokenPubkey(r),a=Hi.Token.createAssociatedTokenAccountInstruction(os.jQ.splAssociatedTokenAccountProgramId,os.jQ.tokenProgramId,i,(0,os.MO)(i,n),n,o),e.next=5,this.apiClient.prepareTransaction({instructions:[a],owner:o,feePayer:o});case 5:return u=e.sent,e.abrupt("return",this.apiClient.sendTransaction({preparedTransaction:u}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"submitMint",value:function(e){var t=this,n=e.address,r=e.mintTokenSymbol,o=e.account,i=e.responseQueryMint;return(0,Et.zK)(function(){var e=Bs(regeneratorRuntime.mark((function e(a){var u,c,s,f,d,p,y,h,v,m,b,w,g,k,j,O,x,S,P,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(0,qi.fromBase64)(i.valueIn.phash),c=(0,qi.fromBase64)(i.valueIn.nhash),s=i.valueOut.amount,u&&c&&s){e.next=5;break}throw ma.paramsMissing();case 5:if(f=(0,Ki.sO)(t.selector({mintTokenSymbol:r,direction:_u.to}).toString()),d=i.valueOut.sig){e.next=9;break}throw ma.paramsMissing();case 9:return p=Es.from((0,qi.fromBase64)(d)),y=xs(p),h=Es.from(y),v=t.resolveTokenGatewayContract(r),m=bs.PublicKey.findProgramAddressSync([Es.from(t.gatewayStateKey)],v)[0],b=t.getSPLTokenPubkey(r),w=bs.PublicKey.findProgramAddressSync([b.toBuffer()],v)[0],g=new bs.PublicKey(t.getAssociatedTokenAddress({address:n,mintTokenSymbol:r})),k=l.buildRenVMMessage({pHash:u,amount:s,token:f,to:g,nHash:c}),j=bs.PublicKey.findProgramAddressSync([(0,ms.keccak256)(k)],v)[0],O=Is.mintInstruction({account:new bs.PublicKey(o),gatewayAccount:m,tokenMint:b,recipientTokenAccount:g,mintLogAccount:j,mintAuthority:w,programId:v}),e.next=22,a((0,Et.ts)(t.apiClient.getAccountInfo({account:m.toString(),decodedTo:qs})));case 22:if(x=e.sent,S=null==x?void 0:x.data){e.next=26;break}throw os.qh.couldNotRetrieveAccountInfo();case 26:return P=Is.createInstructionWithEthAddress2({ethAddress:Es.from(S.renVMAuthority),message:k,signature:h.slice(0,64),recoveryId:h[64]-27}),e.next=29,a((0,Et.ts)(t.apiClient.prepareTransaction({instructions:[O,P],feePayer:new bs.PublicKey(o)})));case 29:return A=e.sent,e.abrupt("return",(0,Et.ts)(t.apiClient.sendTransaction({preparedTransaction:A})));case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"submitBurn",value:(u=Bs(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,y,h,v,m,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mintTokenSymbol,r=t.account,o=t.amount,i=t.recipient,a=new Hi.u64(o)){e.next=4;break}throw ma.other("Amount is not valid");case 4:return u=new bs.PublicKey(r),c=this.resolveTokenGatewayContract(n),s=this.getSPLTokenPubkey(n),l=new bs.PublicKey(this.getAssociatedTokenAddress({address:u.toBytes(),mintTokenSymbol:n})),f=bs.PublicKey.findProgramAddressSync([Es.from(this.gatewayStateKey)],c)[0],e.next=11,this.apiClient.getAccountInfo({account:f.toString(),decodedTo:qs});case 11:if(d=e.sent,p=null==d?void 0:d.data){e.next=15;break}throw os.qh.couldNotRetrieveAccountInfo();case 15:return y=p.burnCount.addn(1),h=bs.PublicKey.findProgramAddressSync([y.toArrayLike(Es,"le",8)],c)[0],v=Hi.Token.createBurnCheckedInstruction(os.jQ.tokenProgramId,s,l,u,[],a,8),m=Is.burnInstruction({account:u,source:l,gatewayAccount:f,tokenMint:s,burnLogAccountId:h,recipient:Es.from(i),programId:c}),e.next=21,this.apiClient.prepareTransaction({instructions:[v,m],owner:u,feePayer:u});case 21:return b=e.sent,e.next=24,this.apiClient.sendTransaction({preparedTransaction:b});case 24:return w=e.sent,e.abrupt("return",new Wu({confirmedSignature:w,nonce:y,recipient:i,amount:o}));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"findMintByDepositDetail",value:(a=Bs(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,f,d,p,y,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.nHash,i=t.pHash,a=t.to,u=t.mintTokenSymbol,c=t.amount,s=this.resolveTokenGatewayContract(u),f=(0,Ki.sO)(this.selector({mintTokenSymbol:u,direction:_u.to}).toString()),d=l.buildRenVMMessage({pHash:i,amount:c,token:f,to:a,nHash:o}),p=bs.PublicKey.findProgramAddressSync([(0,ms.keccak256)(d)],s)[0],e.next=7,this.apiClient.getAccountInfo({account:p.toString(),decodedTo:os.RX});case 7:if(y=e.sent,h=null==y?void 0:y.data){e.next=11;break}throw ma.other("Invalid mint info");case 11:if(h.isInitialized){e.next=13;break}return e.abrupt("return","");case 13:return e.next=15,this.apiClient.provider.connection.getSignaturesForAddress(p);case 15:return v=e.sent,e.abrupt("return",null!==(n=null===(r=v[0])||void 0===r?void 0:r.signature)&&void 0!==n?n:"");case 17:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"waitForConfirmation",value:(i=Bs(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiClient.waitForConfirmation(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"isAlreadyMintedError",value:function(e){return function(e){return e instanceof os.g1&&console.error("do it",e),!1}(e)}}],r=[{key:"load",value:(o=Bs(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.apiClient,o=new bs.PublicKey(n.network.gatewayRegistry),i=bs.PublicKey.findProgramAddressSync([Es.from(this.gatewayRegistryStateKey)],o),e.next=5,r.getAccountInfo({account:i[0].toString(),decodedTo:Hs});case 5:if(a=e.sent,u=null==a?void 0:a.data){e.next=9;break}throw os.qh.couldNotRetrieveAccountInfo();case 9:return e.abrupt("return",new l({gatewayRegistryData:u,client:n,apiClient:r}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"buildRenVMMessage",value:function(e){var t=e.pHash,n=e.amount,r=e.token,o=e.to,i=e.nHash,a={pHash:new Uint8Array(t),amount:new Uint8Array(new Qi.BN(n).toArray("be",32)),token:new Uint8Array(r),to:new Uint8Array(o.toBuffer()),nHash:new Uint8Array(i)};return Es.from([].concat(Ds(a.pHash),Ds(a.amount),Ds(a.token),Ds(a.to),Ds(a.nHash)))}}],n&&Zs(t.prototype,n),r&&Zs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(hs);Ks.gatewayRegistryStateKey="GatewayRegistryState";var qs=(0,vs.struct)([(0,vs.bool)("isInitialized"),(0,vs.array)((0,vs.u8)(),20,"renVMAuthority"),(0,vs.array)((0,vs.u8)(),32,"selectors"),(0,vs.u64)("burnCount"),(0,vs.u8)("underlyingDecimals")]),Hs=(0,vs.struct)([(0,vs.bool)("isInitialized"),(0,vs.publicKey)("owner"),(0,vs.u64)("count"),(0,vs.vec)((0,vs.array)((0,vs.u8)(),32),"selectors"),(0,vs.vec)((0,vs.publicKey)(),"gateways")]),Vs=n(5106),Ys=n(19681),Qs=n(89489);function $s(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Gs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$s(i,r,o,a,u,"next",e)}function u(e){$s(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xs=function(e,t){return{id:1,jsonrpc:"2.0",method:e,params:t}},el=function(){function e(t){var n=t.network;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.network=void 0,this._emptyParams={},this.network=n}var t,n,r,o,i,a,u;return t=e,n=[{key:"call",value:function(e){var t=e.endpoint,n=e.method,r=e.params,o=e.log,i=e.timeout,a=void 0===i?120*Ys.SECONDS:i;return(0,Et.zK)(function(){var e=Gs(regeneratorRuntime.mark((function e(i){var u,c,s,l,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,new URL(t),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),ma.invalidEndpoint();case 7:return o&&os.Yd.log("renBTC event ".concat(n," ").concat(JSON.stringify(r,null,"    ")),os.gr.request),s=Xs(n,r),e.next=11,i(Nt({method:"post",url:t,data:s,timeout:a}));case 11:if(l=e.sent,f=null!==(u=l.status)&&void 0!==u?u:0,d=200<=f&&f<=300,o&&os.Yd.log(JSON.stringify(l.data.result,null,"    "),os.gr.response),p=l.data.result,!d||!p){e.next=18;break}return e.abrupt("return",p);case 18:throw null!==(c=l.data.error)&&void 0!==c?c:ma.unknown();case 19:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"getIncomingTransactions",value:(u=Gs(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="https://blockstream.info".concat(this.network.isTestnet?"/testnet":"","/api/address/").concat(t,"/utxo"),e.prev=1,new URL(n),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),ma.invalidEndpoint();case 8:return os.Yd.log(n,os.gr.request),e.next=11,fetch(n);case 11:return e.next=13,e.sent.json();case 13:return r=e.sent,os.Yd.log(JSON.stringify(r,null,"    "),os.gr.response),e.abrupt("return",(0,Qs.yE)(rs,r));case 16:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return u.apply(this,arguments)})},{key:"queryMint",value:function(e){var t=this;return(0,Et.zK)(function(){var n=Gs(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(t.call({endpoint:t.network.lightNode,method:Vs.RPCMethod.QueryTx,params:{txHash:e},log:!0}));case 2:return o=n.sent,n.abrupt("return",(0,Qs.yE)(Su,o));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"queryBlockState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,Et.zK)(function(){var n=Gs(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(e.call({endpoint:e.network.lightNode,method:Vs.RPCMethod.QueryBlockState,params:e._emptyParams,log:t}));case 2:return o=n.sent,n.abrupt("return",(0,Qs.yE)(mu,o));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"queryConfig",value:(a=Gs(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call({endpoint:this.network.lightNode,method:Vs.RPCMethod.QueryConfig,params:this._emptyParams,log:!0});case 2:return t=e.sent,e.abrupt("return",(0,Qs.yE)(ku,t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"submitTx",value:function(e){var t=this,n=e.hash,r=e.selector,o=e.version,i=e.input;return(0,Et.zK)(function(){var e=Gs(regeneratorRuntime.mark((function e(a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.call({endpoint:t.network.lightNode,method:Vs.RPCMethod.SubmitTx,params:{tx:{hash:n,selector:r.toString(),version:o,in:{t:(0,Vs.mintParamsType)(),v:i}}},log:!0}));case 2:return u=e.sent,e.abrupt("return",(0,Qs.yE)(Tu,u));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"selectPublicKey",value:(i=Gs(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryBlockState();case 2:return r=e.sent,e.abrupt("return",(0,qi.fromBase64)(null!==(n=r.publicKey(t))&&void 0!==n?n:""));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getTransactionFee",value:(o=Gs(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BTC"===t){e.next=2;break}throw ma.other("Unsupported token");case 2:return e.next=4,this.queryBlockState(!0);case 4:if(n=e.sent,r=new Hi.u64(n.state.v.btc.gasLimit),o=new Hi.u64(n.state.v.btc.gasCap),r&&o){e.next=9;break}throw ma.other("Could not calculate transaction fee");case 9:return e.abrupt("return",new Hi.u64(r.mul(o)));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}],n&&Js(t.prototype,n),r&&Js(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nl=function(){function e(t){var n=t.userDefaultKeyForSubmitedBurnTransactions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userDefaultKeyForSubmitedBurnTransactions=void 0,this._userDefaultKeyForSubmitedBurnTransactions=n}var t,n,r;return t=e,(n=[{key:"getNonReleasedTransactions",value:function(){var e=this._getFromUserDefault(this._userDefaultKeyForSubmitedBurnTransactions);return e?e.map((function(e){return Wu.fromJSON(e)})):[]}},{key:"persistNonReleasedTransactions",value:function(e){var t,n=(null!==(t=this._getFromUserDefault(this._userDefaultKeyForSubmitedBurnTransactions))&&void 0!==t?t:[]).map((function(e){return Wu.fromJSON(e)}));(n=n.filter((function(t){return t.confirmedSignature===e.confirmedSignature}))).push(e),this._saveToUserDefault(n,this._userDefaultKeyForSubmitedBurnTransactions)}},{key:"markAsReleased",value:function(e){var t,n=(null!==(t=this._getFromUserDefault(this._userDefaultKeyForSubmitedBurnTransactions))&&void 0!==t?t:[]).map((function(e){return Wu.fromJSON(e)}));n=n.filter((function(t){return t.confirmedSignature!==e.confirmedSignature})),this._saveToUserDefault(n,this._userDefaultKeyForSubmitedBurnTransactions)}},{key:"_getFromUserDefault",value:function(e){try{var t=localStorage.getItem(e),n=JSON.parse(t);return t&&n?n:null}catch(e){return null}}},{key:"_saveToUserDefault",value:function(e,t){localStorage.setItem(t,JSON.stringify(e))}}])&&tl(t.prototype,n),r&&tl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rl=n(79771),ol=n.n(rl);function il(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function al(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){il(i,r,o,a,u,"next",e)}function u(e){il(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sl(e,t,n){return t&&cl(e.prototype,t),n&&cl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ll=function(){function e(t){var n=t.name,r=t.symbol,o=t.decimals;ul(this,e),this.name=void 0,this.symbol=void 0,this.decimals=void 0,this.name=n,this.symbol=r,this.decimals=o}return sl(e,null,[{key:"bitcoin",get:function(){return new e({name:"Bitcoin",symbol:"BTC",decimals:8})}}]),e}(),fl=function(){function e(){ul(this,e),this.burnAndRelease=void 0}return sl(e,[{key:"save",value:function(e){this.burnAndRelease=e}}]),e}(),dl=function(){function e(t){var n=t.rpcClient,r=t.chainProvider,o=t.destinationChain,i=t.persistentStore,a=t.version;ul(this,e),this._rpcClient=void 0,this._chainProvider=void 0,this._destinationChain=void 0,this._persistentStore=void 0,this._version=void 0,this._cache=new fl,this._chain=void 0,this._rpcClient=n,this._chainProvider=r,this._destinationChain=o,this._persistentStore=i,this._version=a}var t,n,r,o,i,a;return sl(e,[{key:"resume",value:function(){var e=this;al(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._reload();case 2:return t.next=4,e._releaseUnfinishedTxsFromPersistentStore();case 4:case"end":return t.stop()}}),t)})))()}},{key:"isTestNet",value:function(){return this._rpcClient.network.isTestnet}},{key:"getFee",value:(a=al(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcClient.getTransactionFee(this._destinationChain.symbol);case 2:return t=e.sent,e.abrupt("return",(0,os.K4)(t,this._destinationChain.decimals));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"burnAndRelease",value:(i=al(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.recipient,r=t.amount,e.next=3,this._chainProvider.getAccount();case 3:return o=e.sent,e.next=6,this._getBurnAndRelease();case 6:return i=e.sent,e.next=9,i.submitBurnTransaction({account:o,amount:r.toString(),recipient:n});case 9:if(a=e.sent,this._persistentStore.persistNonReleasedTransactions(a),!(u=this._chain)){e.next=15;break}return e.next=15,u.waitForConfirmation(a.confirmedSignature);case 15:return e.next=17,this._release(a);case 17:return c=e.sent,this._persistentStore.markAsReleased(a),e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_reload",value:(o=al(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._chainProvider.load();case 2:this._chain=e.sent,t=new Lu({rpcClient:this._rpcClient,chain:this._chain,mintTokenSymbol:this._destinationChain.symbol,version:this._version,burnTo:this._destinationChain.name}),this._cache.save(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"_releaseUnfinishedTxsFromPersistentStore",value:(r=al(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._persistentStore.getNonReleasedTransactions(),e.next=3,Promise.all(t.map(function(){var e=al(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n._chain){e.next=3;break}throw ma.unknown();case 3:return e.prev=3,e.next=6,r.waitForConfirmation(t.confirmedSignature);case 6:return e.next=8,n._release(t);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_release",value:(n=al(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBurnAndRelease();case 2:return n=e.sent,r=n.getBurnState(t),e.abrupt("return",ol()(function(){var e=al(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.release({state:r,details:t}).catch(o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{forever:!0,maxTimeout:3e3}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_getBurnAndRelease",value:(t=al(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cache.burnAndRelease){e.next=3;break}return e.next=3,this._reload();case 3:if(!(t=this._cache.burnAndRelease)){e.next=6;break}return e.abrupt("return",t);case 6:throw ma.other("Could not initialize burn and release service");case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),pl=n(57740),yl=n.n(pl),hl=n(49520),vl=Object.prototype.hasOwnProperty;function ml(e){return e&&"EPROMISERETRY"===e.code&&vl.call(e,"retried")}function bl(e,t){var n=hl.operation(t);return(0,Et.ts)(new Promise((function(t,r){n.attempt((function(o){Et.k3.resolve().then((function(){return e((function(e){throw ml(e)&&(e=e.retried),yl()(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),o)})).then(t,(function(e){ml(e)&&(e=e.retried,n.retry(e||new Error))||r(e)}))}))})))}function wl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function jl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kl(i,r,o,a,u,"next",e)}function u(e){kl(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xl=function(){function e(t){var n=t.persistentStore,r=t.chainProvider,o=t.rpcClient,i=t.mintToken,a=t.version,u=void 0===a?"1":a,c=t.refreshingRate,s=void 0===c?5e3:c,l=t.showLog,f=t.txSubmittedCallback;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._persistentStore=void 0,this._chainProvider=void 0,this._rpcClient=void 0,this._mintToken=void 0,this._version=void 0,this._refreshingRate=void 0,this._showLog=void 0,this._txSubmittedCallback=void 0,this._gatewayAddressResponse=void 0,this._lockAndMint=void 0,this._chain=void 0,this._tasks=new Set,this.delegate=void 0,this.isLoading=!1,this._persistentStore=n,this._chainProvider=r,this._rpcClient=o,this._mintToken=i,this._version=u,this._refreshingRate=s,this._showLog=l,this._txSubmittedCallback=f}var t,n,r,o,i,a,u,c;return t=e,n=[{key:"resume",value:(c=jl(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._clean(),null!=(t=this._persistentStore.session)&&t.isValid){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._resume();case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"createSession",value:(u=jl(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._clean(),n=new Yu({createdAt:new Date,endAt:t}),this._persistentStore.saveSession(n),e.next=5,this._resume();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"expireCurrentSession",value:function(){this._clean(),this._persistentStore.clearAll()}},{key:"_clean",value:function(){var e;this._persistentStore.markAllTransactionsAsNotProcessing(),null===(e=this.delegate)||void 0===e||e.lockAndMintServiceUpdated(this._persistentStore.processingTransactions),this._tasks.forEach((function(e){return e.cancel("clean")}))}},{key:"_resume",value:(a=jl(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.delegate)||void 0===t||t.lockAndMintServiceWillStartLoading(),this.isLoading=!0,e.prev=2,e.next=5,this._chainProvider.getAccount();case 5:return r=e.sent,e.next=8,this._chainProvider.load();case 8:return this._chain=e.sent,this._lockAndMint=new Xu({rpcClient:this._rpcClient,chain:this._chain,mintTokenSymbol:this._mintToken.symbol,version:this._version,destinationAddress:r,session:this._persistentStore.session}),e.next=12,this._lockAndMint.generateGatewayAddress();case 12:this._gatewayAddressResponse=e.sent,o=this._chain.dataToAddress(this._gatewayAddressResponse.gatewayAddress),this._persistentStore.saveGatewayAddress(o),i=this.submitIfNeededAndMintAllTransactionsInQueue(),this._tasks.add(i),a=function(){var e=jl(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,c._getIncommingTransactionsAndMint();case 3:return e.next=5,Et.k3.delay(c._refreshingRate);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this._tasks.add((0,Et.ts)(a())),null===(n=this.delegate)||void 0===n||n.lockAndMintServiceLoaded(o),this.isLoading=!1,e.next=28;break;case 23:e.prev=23,e.t0=e.catch(2),null===(u=this.delegate)||void 0===u||u.lockAndMintServiceWithError(),this.isLoading=!1,console.error(e.t0);case 28:case"end":return e.stop()}}),e,this,[[2,23]])}))),function(){return a.apply(this,arguments)})},{key:"_getIncommingTransactionsAndMint",value:(i=jl(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._persistentStore.gatewayAddress){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this._rpcClient.getIncomingTransactions(t);case 6:n=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return");case 12:r=[],o=wl(n);try{for(a=function(){var e=i.value,t=new Date,n=e.status.blockTime;if(n&&(t=new Date(n.toNumber())),e.status.confirmed){var o,a=u._persistentStore.processingTransactions.find((function(t){return t.tx.txid===e.txid}));a&&a.validationStatus.type!==ts.valid?u._showLog&&os.Yd.log("Transaction ".concat(e.txid," is being ignored because it is ").concat(a.validationStatus.type),os.gr.event):(u._persistentStore.markAsConfirmed(e,t),null===(o=u.delegate)||void 0===o||o.lockAndMintServiceUpdated(u._persistentStore.processingTransactions)),r.push(e.txid)}else{var c;u._persistentStore.markAsReceived(e,t),null===(c=u.delegate)||void 0===c||c.lockAndMintServiceUpdated(u._persistentStore.processingTransactions)}},o.s();!(i=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return e.next=17,this.submitIfNeededAndMintAllTransactionsInQueue();case 17:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return i.apply(this,arguments)})},{key:"submitIfNeededAndMintAllTransactionsInQueue",value:function(){var e=this;return(0,Et.zK)(function(){var t=jl(regeneratorRuntime.mark((function t(n){var r,o,i,a,u,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=ps.grouped(e._persistentStore.processingTransactions),o=r.confirmed.concat(r.submitted),i=o.filter((function(e){return!e.isProcessing&&e.validationStatus.type===ts.valid})),a=wl(i);try{for(a.s();!(u=a.n()).done;)s=u.value,e._persistentStore.markAsProcessing(s),null===(c=e.delegate)||void 0===c||c.lockAndMintServiceUpdated(e._persistentStore.processingTransactions)}catch(e){a.e(e)}finally{a.f()}return t.next=7,n(Et.k3.all(i.map(function(){var t=jl(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.submitIfNeededAndMint(n);case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0),t.t0.message.startsWith("insufficient amount after fees")&&(e._persistentStore.markAsInvalid(n.tx.txid,t.t0.message),null===(r=e.delegate)||void 0===r||r.lockAndMintServiceUpdated(e._persistentStore.processingTransactions)),e._showLog&&os.Yd.log("Could not mint transaction with id ".concat(n.tx.txid,", error: ").concat(t.t0),os.gr.error);case 10:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}())));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"submitIfNeededAndMint",value:function(e){var t=this;return(0,Et.zK)(function(){var n=jl(regeneratorRuntime.mark((function n(r){var o,i,a,u,c,s,l,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r((0,Et.ts)(t._chainProvider.getAccount()));case 2:if(i=n.sent,a=t._gatewayAddressResponse,u=t._lockAndMint,c=t._chain,a&&u&&c){n.next=8;break}throw ma.unknown();case 8:if(s=u.getDepositState({transactionHash:e.tx.txid,txIndex:String(e.tx.vout),amount:String(e.tx.value),to:a.sendTo,gHash:a.gHash,gPubkey:a.gPubkey}),e.submittedAt){n.next=22;break}return n.prev=10,n.next=13,r(u.submitMintTransaction(s));case 13:f=n.sent,console.debug("submited transaction with hash: ".concat(f)),t._persistentStore.markAsSubmitted(e.tx,new Date),null===(l=t.delegate)||void 0===l||l.lockAndMintServiceUpdated(t._persistentStore.processingTransactions),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(10),console.error(n.t0);case 22:return"function"==typeof t._txSubmittedCallback&&t._txSubmittedCallback(t._persistentStore.getProcessingTransactionByTxid(e.tx.txid)),n.next=25,r(bl((function(e){return u.mint({state:s,account:i}).catch((function(t){if(console.error(t),!c.isAlreadyMintedError(t)){if(!ma.equals(t,ma.paramsMissing()))throw t;e(t)}}))}),{forever:!0,maxTimeout:5e3}));case 25:t._persistentStore.markAsMinted(e.tx,new Date),null===(o=t.delegate)||void 0===o||o.lockAndMintServiceUpdated(t._persistentStore.processingTransactions);case 27:case"end":return n.stop()}}),n,null,[[10,19]])})));return function(e){return n.apply(this,arguments)}}())}},{key:"getFee",value:(o=jl(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcClient.getTransactionFee(this._mintToken.symbol);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&Ol(t.prototype,n),r&&Ol(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=void 0,this.symbol=void 0,this.name=t,this.symbol=n}var t,n,r;return t=e,r=[{key:"bitcoin",get:function(){return new e("Bitcoin","BTC")}}],(n=null)&&Sl(t.prototype,n),r&&Sl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Al(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rl,Cl=function(){function e(t){var n=t.userDefaultKeyForSession,r=t.userDefaultKeyForGatewayAddress,o=t.userDefaultKeyForProcessingTransactions,i=t.showLog;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userDefaultKeyForSession=void 0,this._userDefaultKeyForGatewayAddress=void 0,this._userDefaultKeyForProcessingTransactions=void 0,this._showLog=void 0,this._userDefaultKeyForSession=n,this._userDefaultKeyForGatewayAddress=r,this._userDefaultKeyForProcessingTransactions=o,this._showLog=i}var t,n,r;return t=e,(n=[{key:"session",get:function(){var e=this._getFromUserDefault(this._userDefaultKeyForSession);return e?Yu.fromJSON(e):null}},{key:"saveSession",value:function(e){this._saveToUserDefault(e,this._userDefaultKeyForSession)}},{key:"gatewayAddress",get:function(){return this._getFromUserDefault(this._userDefaultKeyForGatewayAddress)}},{key:"saveGatewayAddress",value:function(e){this._saveToUserDefault(e,this._userDefaultKeyForGatewayAddress)}},{key:"processingTransactions",get:function(){var e=this._getFromUserDefault(this._userDefaultKeyForProcessingTransactions);return e?(0,Qs.yE)(ps,e):[]}},{key:"getProcessingTransactionByTxid",value:function(e){return this.processingTransactions.find((function(t){return t.tx.txid===e}))||null}},{key:"saveProcessingTransactions",value:function(e){this._saveToUserDefault((0,Qs.zb)(e),this._userDefaultKeyForProcessingTransactions)}},{key:"markAsProcessing",value:function(e){this._save((function(t){var n=t.findIndex((function(t){return t.tx.txid===e.tx.txid}));return-1!==n&&(t[n].isProcessing=!0,!0)})),this._showLog&&os.Yd.log("Transaction with id ".concat(e.tx.txid,", vout: ").concat(e.tx.vout.toString(),", isConfirmed: ").concat(e.tx.status.confirmed,", value: ").concat(e.tx.value.toString()," is being processed"),os.gr.request)}},{key:"markAllTransactionsAsNotProcessing",value:function(){this._save((function(e){var t,n=Al(e);try{for(n.s();!(t=n.n()).done;)t.value.isProcessing=!1}catch(e){n.e(e)}finally{n.f()}return!0})),this._showLog&&os.Yd.log("All transactions has been removed from queue",os.gr.info)}},{key:"markAsReceived",value:function(e,t){this._save((function(n){var r=n.findIndex((function(t){return t.tx.txid===e.txid}));return-1===r?(n.push(new ps({tx:e,receivedAt:t})),!0):(e.vout.eqn(3)&&!n[r].threeVoteAt&&(n[r].threeVoteAt=t),e.vout.eqn(2)&&!n[r].twoVoteAt&&(n[r].twoVoteAt=t),e.vout.eqn(1)&&!n[r].oneVoteAt&&(n[r].oneVoteAt=t),e.vout.eqn(0)&&!n[r].receivedAt&&(n[r].receivedAt=t),!0)})),this._showLog&&os.Yd.log("Received transaction with id ".concat(e.txid,", vout: ").concat(e.vout.toString(),", isConfirmed: ").concat(e.status.confirmed,", value: ").concat(e.value.toString()),os.gr.event)}},{key:"markAsConfirmed",value:function(e,t){this._save((function(n){var r=n.findIndex((function(t){return t.tx.txid===e.txid}));return-1===r?(n.push(new ps({tx:e,confirmedAt:t})),!0):(n[r].confirmedAt=t,!0)})),this._showLog&&os.Yd.log("Transaction with id ".concat(e.txid," has been confirmed, vout: ").concat(e.vout.toString(),", value: ").concat(e.value.toString()),os.gr.event)}},{key:"markAsSubmitted",value:function(e,t){this._save((function(n){var r=n.findIndex((function(t){return t.tx.txid===e.txid}));return-1===r?(n.push(new ps({tx:e,submittedAt:t})),!0):(n[r].submittedAt=t,!0)})),this._showLog&&os.Yd.log("Transaction with id ".concat(e.txid," has been submited, value: ").concat(e.value.toString()),os.gr.event)}},{key:"markAsMinted",value:function(e,t){this._save((function(n){var r=n.findIndex((function(t){return t.tx.txid===e.txid}));return-1===r?(n.push(new ps({tx:e,mintedAt:t})),!0):(n[r].mintedAt=t,!0)})),this._showLog&&os.Yd.log("Transaction with id ".concat(e.txid," has been minted, value: ").concat(e.value.toString()),os.gr.event)}},{key:"markAsInvalid",value:function(e,t){this._save((function(n){var r=n.findIndex((function(t){return t.tx.txid===e}));return-1!==r&&(n[r].validationStatus=ds.invalid(t),!0)})),this._showLog&&os.Yd.log("Transaction with id ".concat(e," is invalid, reason: ").concat(null!=t?t:"null"),os.gr.event)}},{key:"clearAll",value:function(){this._clearFromUserDefault(this._userDefaultKeyForSession),this._clearFromUserDefault(this._userDefaultKeyForGatewayAddress),this._clearFromUserDefault(this._userDefaultKeyForProcessingTransactions)}},{key:"_getFromUserDefault",value:function(e){try{var t=localStorage.getItem(e),n=JSON.parse(t);return t&&n?n:null}catch(e){return null}}},{key:"_saveToUserDefault",value:function(e,t){localStorage.setItem(t,JSON.stringify(e))}},{key:"_clearFromUserDefault",value:function(e){localStorage.removeItem(e)}},{key:"_save",value:function(e){var t=this.processingTransactions||[];e(t)&&this.saveProcessingTransactions(t)}}])&&Tl(t.prototype,n),r&&Tl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Il(e){return Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(e)}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ml(e,t){return Ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ml(e,t)}function Dl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nl(e);if(t){var o=Nl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(e,t){if(t&&("object"===Il(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nl(e)}var Bl,Zl=(0,ie.b2)()(Rl=Reflect.metadata("design:type",Function)(Rl=Reflect.metadata("design:paramtypes",[])(Rl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ml(e,t)}(i,e);var t,n,r,o=Dl(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,{userDefaultKeyForSubmitedBurnTransactions:"renVMSubmitedBurnTxDetails"})}return t=i,n&&El(t.prototype,n),r&&El(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(nl))||Rl)||Rl)||Rl;function Wl(e){return Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(e)}function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ul(e,t){return Ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ul(e,t)}function zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ql(e);if(t){var o=ql(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kl(this,n)}}function Kl(e,t){if(t&&("object"===Wl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ql(e)}var Hl,Vl=(0,ie.b2)()(Bl=Reflect.metadata("design:type",Function)(Bl=Reflect.metadata("design:paramtypes",[])(Bl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ul(e,t)}(a,e);var t,n,o,i=zl(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,{network:"mainnet-beta"===r.k.apiEndpoint.network?tu.mainnet:tu.testnet})}return t=a,n&&Ll(t.prototype,n),o&&Ll(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(el))||Bl)||Bl)||Bl;function Yl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $l,Gl=(0,ie.b2)()(Hl=Reflect.metadata("design:type",Function)(Hl=Reflect.metadata("design:paramtypes",[void 0===Vl?Object:Vl,void 0===Re.m?Object:Re.m])(Hl=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rpcClient=t,this._apiClient=n}var t,n,r,o,i;return t=e,n=[{key:"getAccount",value:function(){return Promise.resolve(this._apiClient.provider.wallet.publicKey.toBytes())}},{key:"load",value:(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks.load({client:this._rpcClient,apiClient:this._apiClient}));case 1:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Yl(i,n,r,a,u,"next",e)}function u(e){Yl(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}],n&&Ql(t.prototype,n),r&&Ql(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||Hl)||Hl)||Hl;function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ef(e,t){return ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ef(e,t)}function tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rf(e);if(t){var o=rf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nf(this,n)}}function nf(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rf(e)}var of=(0,ie.b2)()($l=Reflect.metadata("design:type",Function)($l=Reflect.metadata("design:paramtypes",[void 0===Vl?Object:Vl,void 0===Gl?Object:Gl,void 0===Zl?Object:Zl])($l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ef(e,t)}(i,e);var t,n,r,o=tf(i);function i(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,{rpcClient:e,chainProvider:t,destinationChain:ll.bitcoin,persistentStore:n,version:"1"})}return t=i,n&&Xl(t.prototype,n),r&&Xl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(dl))||$l)||$l)||$l,af=!1,uf={REACT_APP_BASENAME:"/p2p-wallet-web/pr-preview/pr-244",REACT_APP_AMPLITUDE_API_KEY:"fbf3c4bb3684e426cb1e7b675abb6e1d",REACT_APP_CRYPTO_COMPARE_API_KEY:"ad6104e4e9d655c1faab7ef1743c16651a1628f01d384bc5fea09661c0eb18db",REACT_APP_FEE_RELAYER_URL:"https://fee-relayer.key.app",REACT_APP_INTERCOM_APP_ID:"imvolhpe",REACT_APP_MOONPAY_API_KEY:"pk_live_B4RF614wiWeKQ4lwVyFcO493PbCdSlqu",REACT_APP_MOONPAY_SIGNER_URL:"https://moonpay.key.app/",REACT_APP_STAGING:"true",REACT_APP_SENTRY_DSN_ENDPOINT:"https://088e2b0cd1f44164a6ad584ec3fbab31@o1272413.ingest.sentry.io/6479116",REACT_APP_SENTRY_MODE:"staging",REACT_APP_SENTRY_TRACES_SAMPLE_RATE:"1",REACT_APP_SENTRY_RELEASE:"p2p-wallet-web_pr-preview_244_5179153",REACT_APP_FIREBASE_API_KEY:"AIzaSyCkGJ3kXDROTVEh9r9IChjnnVqeH-PGPvM",REACT_APP_FIREBASE_APP_ID:"1:553127941597:web:c90d78be1090d9a82c5234",REACT_APP_RPCPOOL_API_KEY:"78306120-3a44-4ede-89f4-6133642ccab2"}.REACT_APP_APP_LOCAL_WALLET_MNEMONIC,cf=n(33851);function sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ff,df=function(e){return function(t){var n=t.onClose;return(0,g.jsx)(cf.Q,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sf(Object(n),!0).forEach((function(t){lf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"mint",onClose:n},e))}};function pf(e){return pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(e)}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hf(e,t){return hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hf(e,t)}function vf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bf(e);if(t){var o=bf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mf(this,n)}}function mf(e,t){if(t&&("object"===pf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bf(e)}var wf,gf=(0,ie.b2)()(ff=Reflect.metadata("design:type",Function)(ff=Reflect.metadata("design:paramtypes",[])(ff=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&hf(e,t)}(i,e);var t,n,r,o=vf(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,{userDefaultKeyForSession:"renVMSession",userDefaultKeyForGatewayAddress:"renVMGatewayAddress",userDefaultKeyForProcessingTransactions:"renVMProcessingTxs",showLog:af})}return t=i,n&&yf(t.prototype,n),r&&yf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(Cl))||ff)||ff)||ff;function kf(e){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(e)}function jf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Of(e,t){return Of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Of(e,t)}function xf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pf(e);if(t){var o=Pf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sf(this,n)}}function Sf(e,t){if(t&&("object"===kf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pf(e)}var Af,_f=(0,ie.ri)()(wf=Reflect.metadata("design:type",Function)(wf=Reflect.metadata("design:paramtypes",[void 0===gf?Object:gf,void 0===Gl?Object:Gl,void 0===Vl?Object:Vl,void 0===li.g?Object:li.g])(wf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Of(e,t)}(i,e);var t,n,r,o=xf(i);function i(e,t,n,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,{persistentStore:e,chainProvider:t,rpcClient:n,mintToken:Pl.bitcoin,showLog:af,txSubmittedCallback:function(e){!function(e,t){if(e){var n=(0,Ce.D$)((0,os.K4)(e.tx.value,8),{maximumFractionDigits:8});e.mintedAt||!e.submittedAt||t.show(df({header:"Awaiting the signature on your wallet",text:"Mint ".concat(n," BTC"),status:"warning"}))}}(e,a._notificationService)}}))._notificationService=r,a}return t=i,n&&jf(t.prototype,n),r&&jf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(xl))||wf)||wf)||wf;function Tf(e){return Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(e)}function Rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cf(e,t){return Cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cf(e,t)}function If(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Df(e);if(t){var o=Df(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ef(this,n)}}function Ef(e,t){if(t&&("object"===Tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mf(e)}function Mf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Df(e)}var Ff,Nf=(0,ie.ri)()(Af=Reflect.metadata("design:type",Function)(Af=Reflect.metadata("design:paramtypes",[void 0===Te.A?Object:Te.A,void 0===Ui.S?Object:Ui.S,void 0===of?Object:of,void 0===_f?Object:_f,void 0===zi.o?Object:zi.o])(Af=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Cf(e,t)}(i,e);var t,n,r,o=If(i);function i(e,t,n,r,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this)).walletsRepository=e,u._solanaModel=t,u._burnAndRelease=n,u._lockAndMint=r,u._nameService=a,u.username=null,(0,oe.rC)(Mf(u),{username:oe.LO}),u}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){var e=this;this._solanaModel.initialize(),this.walletsRepository.initialize(),this._burnAndRelease.resume(),this._lockAndMint.resume(),this.addReaction((0,oe.gx)((function(){var t;return Boolean(null===(t=e.walletsRepository.nativeWallet)||void 0===t?void 0:t.pubkey)}),(function(){e._nameService.getName(e.walletsRepository.nativeWallet.pubkey).then((function(t){(0,oe.z)((function(){e.username=t}))}))})))}},{key:"afterReactionsRemoved",value:function(){this._solanaModel.end(),this.walletsRepository.end()}}])&&Rf(t.prototype,n),r&&Rf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||Af)||Af)||Af;function Bf(e){return Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(e)}function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wf(e,t){return Wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wf(e,t)}function Lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kf(e);if(t){var o=Kf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uf(this,n)}}function Uf(e,t){if(t&&("object"===Bf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zf(e)}function zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kf(e)}var qf=(0,ie.ri)()(Ff=Reflect.metadata("design:type",Function)(Ff=Reflect.metadata("design:paramtypes",[void 0===Te.A?Object:Te.A,void 0===zi.o?Object:zi.o,void 0===Xt?Object:Xt,void 0===Nf?Object:Nf])(Ff=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Wf(e,t)}(a,e);var t,n,o,i=Lf(a);function a(e,t,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=i.call(this)).walletsRepository=e,o.nameService=t,o._modalService=n,o._mainViewModal=r,(0,oe.rC)(zf(o),{username:oe.Fl,isWalletReady:oe.Fl,balance:oe.Fl,isBalanceLoading:oe.Fl}),o}return t=a,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"isWalletReady",get:function(){var e,t,n=this.walletsRepository.state,r=this.walletsRepository.dataObservable;return null==r||!r.length||(n===Li.H.loading||n===Li.H.initializing?(null!==(e=null==r?void 0:r.reduce((function(e,t){return e+t.amount}),0))&&void 0!==e?e:0)>0:(null!==(t=null==r?void 0:r.reduce((function(e,t){return e+t.amount}),0))&&void 0!==t?t:0)>0)}},{key:"balance",get:function(){var e,t=null!==(e=this.walletsRepository.dataObservable)&&void 0!==e?e:[];switch(this.walletsRepository.state){case Li.H.initializing:return"";case Li.H.loading:return"Loading...";case Li.H.loaded:var n=t.reduce((function(e,t){return e+t.amountInCurrentFiat}),0);return"".concat(r.k.fiat.symbol," ").concat((0,Ce.D$)(n,{maximumFractionDigits:2}));case Li.H.error:return"Error"}}},{key:"isBalanceLoading",get:function(){return this.walletsRepository.state===Li.H.loading}},{key:"username",get:function(){return this._mainViewModal.username}},{key:"openChooseBuyTokenMobileModal",value:function(){this._modalService.openModal(Gt.SHOW_MODAL_CHOOSE_BUY_TOKEN_MOBILE)}}])&&Zf(t.prototype,n),o&&Zf(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(ue.j))||Ff)||Ff)||Ff,Hf=(0,v.Z)("button")({name:"NavButton",class:"n155pca5"});n(52823);var Vf=(0,v.Z)("div")({name:"Wrapper",class:"wztp68e"}),Yf=(0,v.Z)(U.JO)({name:"IconStyled",class:"i1q8zbtv"}),Qf=function(e){var t=e.name,n=e.className;return(0,g.jsx)(Vf,{className:n,children:(0,g.jsx)(Yf,{name:t})})};n(29854);var $f=(0,v.Z)("div")({name:"NavButtons",class:"namreas"});n(97783);var Gf=n.p+"rocket-453f0b9b429f6536757c.png",Jf=(0,v.Z)(Yr)({name:"WrapperCard",class:"w1oxh54w"}),Xf=(0,v.Z)("div")({name:"Content",class:"cmq19vk"}),ed=(0,v.Z)("img")({name:"RocketImg",class:"r96toou"}),td=(0,v.Z)("div")({name:"Title",class:"t12niwef"}),nd=(0,v.Z)("div")({name:"Description",class:"d1ke0r8m"}),rd=(0,v.Z)("div")({name:"ButtonsWrapper",class:"b13pad8n"}),od=(0,v.Z)($f)({name:"NavButtonsStyled",class:"ndq5jgy"}),id=(0,v.Z)(Hf)({name:"NavButtonStyled",class:"n1vthr6p"}),ad=function(e){var t=e.viewModel,n=(0,a.k6)(),r=(0,a.TH)(),o=(0,y.dD)(),i=function(e){return function(){n.push(e,{fromPage:r.pathname})}};return(0,g.jsxs)(Jf,{children:[(0,g.jsxs)(Xf,{children:[(0,g.jsx)(ed,{src:Gf}),(0,g.jsx)(td,{children:"Top up your account to get started"}),(0,g.jsx)(nd,{children:"Make your first deposit or buy with your credit card"})]}),(0,g.jsx)(rd,{children:(0,g.jsxs)(od,{children:[(0,g.jsxs)(id,{onClick:function(){(0,Rt.L9)({name:"Wallets_Buy_Button"}),o?t.openChooseBuyTokenMobileModal():i("/buy")()},children:[(0,g.jsx)(Qf,{name:"plus"})," Buy"]}),(0,g.jsxs)(id,{onClick:function(){(0,Rt.L9)({name:"Wallets_Receive_Button"}),i("/receive")()},children:[(0,g.jsx)(Qf,{name:"bottom"})," Receive"]})]})})]})};n(15479);var ud=n(14080),cd=(0,v.Z)("div")({name:"Wrapper",class:"wgo4fkc"}),sd=(0,v.Z)("div")({name:"BalanceWrapper",class:"b1q6827r"}),ld=(0,v.Z)("div")({name:"Title",class:"t1biboai"}),fd=(0,v.Z)("span")({name:"Strong",class:"sania5i"}),dd=(0,v.Z)("div")({name:"Balance",class:"bp4b6a7"}),pd=(0,d.Pi)((function(e){var t=e.viewModel;return(0,g.jsx)(cd,{children:(0,g.jsxs)(sd,{children:[(0,g.jsx)(ld,{children:t.username?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(fd,{children:(0,Ru.iY)(t.username)})}):"Balance"}),(0,g.jsx)(dd,{children:t.isBalanceLoading?(0,g.jsx)(ud.Z,{width:100,height:30}):t.balance})]})})}));n(84533);var yd=n.p+"wallet-3412547552c5dcf17164.png",hd=(0,v.Z)("div")({name:"Wrapper",class:"wdmbhte"}),vd=(0,v.Z)("img")({name:"WalletImg",class:"w1ydgoil"}),md=(0,d.Pi)((function(e){var t=e.viewModel;return(0,g.jsxs)(hd,{children:[(0,g.jsx)(pd,{viewModel:t}),(0,g.jsx)(vd,{src:yd})]})}));n(60724);var bd=(0,v.Z)("div")({name:"Wrapper",class:"wj3rpck"}),wd=function(e){var t=e.viewModel;return(0,g.jsx)(bd,{children:(0,g.jsx)(pd,{viewModel:t})})};n(82033);var gd=function(e){var t=e.viewModel;return(0,y.dD)()?(0,g.jsx)(wd,{viewModel:t}):(0,g.jsx)(md,{viewModel:t})},kd=n(98357),jd=n.n(kd);function Od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sd=(0,v.Z)("div")({name:"Wrapper",class:"w4asbd4"}),Pd=(0,v.Z)($f)({name:"NavButtonsMenuStyled",class:"n83wq6a"}),Ad=function(e){var t=e.viewModel,n=(0,a.k6)(),r=(0,a.TH)(),i=(0,o.useRef)(null),u=Od((0,o.useState)(!1),2),c=u[0],s=u[1];(0,o.useEffect)((function(){var e=jd()((function(){var e,t,n=null==i||null===(e=i.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.bottom;n&&s(n<100)}),200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]);var l=function(e){return function(){n.push(e,{fromPage:r.pathname})}};return(0,g.jsx)(Sd,{children:(0,g.jsxs)(Pd,{className:b()({stuck:c}),ref:i,children:[(0,g.jsxs)(Hf,{onClick:function(){t.openChooseBuyTokenMobileModal()},children:[c?void 0:(0,g.jsx)(Qf,{name:"plus"})," Buy"]}),(0,g.jsxs)(Hf,{onClick:l("/receive"),children:[c?void 0:(0,g.jsx)(Qf,{name:"bottom"}),"Receive"]}),(0,g.jsxs)(Hf,{onClick:l("/send"),children:[c?void 0:(0,g.jsx)(Qf,{name:"top"}),"Send"]}),(0,g.jsxs)(Hf,{onClick:l("/swap"),children:[c?void 0:(0,g.jsx)(Qf,{name:"arrow-swap"}),"Swap"]})]})})};n(3941);var _d=n(35477),Td=(0,v.Z)("div")({name:"Title",class:"ts2zf1h"}),Rd=(0,v.Z)(_d.U)({name:"StaticSectionsCollectionViewStyled",class:"s1cgcy25"});n(93153);var Cd=n(36087),Id=n(74834),Ed=(0,v.Z)("div")({name:"Wrapper",class:"wnlpfja"}),Md=function(e){var t=e.children,n=e.onClick;return(0,g.jsx)(Ed,{onClick:n,children:t})};function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(n),!0).forEach((function(t){Nd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(65467);var Wd=(0,v.Z)("div")({name:"Wrapper",class:"w1rocbu0"}),Ld=(0,v.Z)("div")({name:"ActionsBehind",class:"a1ynn8ox"}),Ud=(0,v.Z)("div")({name:"Content",class:"c165pcaa"}),zd=function(e){var t=e.actions,n=e.children,r=Bd((0,o.useState)(!1),2),i=r[0],a=r[1],u=Bd((0,o.useState)(!1),2),c=u[0],s=u[1];var l=(0,Id.useSwipeable)({onSwipeStart:function(e){var t;"Down"!==(t=e).dir&&"Up"!==t.dir||a(!0)},onSwiped:function(){a(!1)},onSwiping:function(e){return t=e,void(i||("Left"!==t.dir||c?"Right"===t.dir&&c&&s(!1):s(!0)));var t},trackMouse:!0});return(0,g.jsxs)(Wd,Fd(Fd({},l),{},{children:[(0,g.jsx)(Ld,{children:null==t?void 0:t.map((function(e,t){return(0,g.jsx)(Md,{onClick:e.onClick,children:e.icon},t)}))}),(0,g.jsx)(Ud,{style:{transform:"translateX(".concat(c?"-".concat(66*((null==t?void 0:t.length)||0),"px"):"0px",")")},className:b()({isExpanded:c}),children:n})]}))};n(65843);var Kd=(0,v.Z)("div")({name:"Wrapper",class:"weti5mm"}),qd=(0,v.Z)(U.v2)({name:"MenuStyled",class:"modi0nb"}),Hd=(0,d.Pi)((function(e){var t=e.wallet,n=e.isHidden,r=void 0!==n&&n,i=e.onToggleClick,u=e.className,c=(0,a.k6)(),s=(0,a.TH)(),l=(0,o.useCallback)((function(e){return function(){c.push(e,{fromPage:s.pathname})}}),[c,s.pathname]);return(0,g.jsx)(Kd,{className:u,children:(0,g.jsxs)(qd,{vertical:!0,children:[t.token.isNativeSOL||"USDC"===t.token.symbol?(0,g.jsxs)(U.sN,{icon:"plus",onItemClick:l("/buy/".concat(t.token.symbol)),children:["Buy ",t.token.symbol]}):void 0,(0,g.jsxs)(U.sN,{icon:"top",onItemClick:l("/send/".concat(t.pubkey)),children:["Send ",t.token.symbol]}),t.token.symbol?(0,g.jsxs)(U.sN,{icon:"swap",onItemClick:l("/swap/".concat(t.token.symbol)),children:["Swap ",t.token.symbol]}):void 0,(0,g.jsxs)(U.sN,{icon:"bottom",onItemClick:l("/receive"),children:["Receive ",t.token.symbol]}),t.token.isNativeSOL?void 0:(0,g.jsxs)(U.sN,{icon:r?"eye":"eye-hide",onItemClick:i,children:[r?"Show":"Hide"," ",t.token.symbol]})]})})}));function Vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(n),!0).forEach((function(t){Qd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(46258);"\n  display: flex;\n  align-items: center;\n  padding: 12px 24px;\n\n  background: ".concat(y.rS.colors.bg.primary,";\n\n  ").concat(y.up.tablet," {\n    padding: 12px 8px;\n\n    border: 1px solid transparent;\n    border-radius: 12px;\n    cursor: pointer;\n  }\n");var $d=(0,v.Z)(U.JO)({name:"IconStyled",class:"i6ghheu"}),Gd=(0,v.Z)("div")({name:"Wrapper",class:"w6tocq1"}),Jd=(0,v.Z)(i.rU)({name:"WrapperLink",class:"w1g8kpkv"}),Xd=(0,v.Z)(Hd)({name:"TokenMenuStyled",class:"tfonbxk"}),ep=function(e){var t=e.wallet,n=e.isPlaceholder,r=void 0!==n&&n,i=e.isHidden,a=void 0!==i&&i,u=e.onToggleClick,c=(0,y.dD)(),s=(0,y.Av)();if(r)return(0,g.jsx)(Gd,{children:(0,g.jsx)(Cd.M,{isPlaceholder:r})});var l=[{icon:(0,g.jsx)($d,{name:a?"eye":"eye-hide"}),onClick:u}],f=c&&!(null!=t&&t.token.isNativeSOL),d=f?zd:o.Fragment;return(0,g.jsx)(d,Yd(Yd({},f?{actions:l}:{}),{},{children:(0,g.jsxs)(Jd,{to:t?"/wallet/".concat(t.pubkey):"",children:[(0,g.jsx)(Cd.M,{wallet:t}),s&&t?(0,g.jsx)(Xd,{wallet:t,isHidden:a,onToggleClick:u}):void 0]})}))};n(15186);var tp=function(e){var t=e.wallet,n=e.isPlaceholder,r=e.onShowClick;return(0,g.jsx)(ep,{wallet:t,isPlaceholder:n,isHidden:!0,onToggleClick:r})},np=(0,v.Z)(U.JO)({name:"ChevronIcon",class:"c1kbfa1y"}),rp=(0,v.Z)("div")({name:"ChevronWrapper",class:"c135m71f"}),op=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,o.useCallback)((function(e){return!!e&&e.isHidden}),[]);return t.hiddenWallets.length?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(Td,{onClick:function(){t.toggleIsHiddenWalletShown()},className:b()({isOpen:t.isHiddenWalletsShown}),children:["Hidden token",1!==t.hiddenWallets.length?"s":"",(0,g.jsx)(rp,{className:b()({isOpen:t.isHiddenWalletsShown}),children:(0,g.jsx)(np,{name:"chevron"})})]}),t.isHiddenWalletsShown?(0,g.jsx)(Rd,{viewModel:t,renderPlaceholder:function(e){return(0,g.jsx)(tp,{isPlaceholder:!0},e)},renderItem:function(e){return(0,g.jsx)(tp,{wallet:e,onShowClick:function(){return function(e){t.toggleWalletVisibility(e)}(e)}},e.pubkey)},customFilter:n}):null]}):null}));n(42397);var ip=function(e){var t=e.wallet,n=e.isPlaceholder,r=e.onHideClick;return(0,g.jsx)(ep,{wallet:t,isPlaceholder:n,onToggleClick:r})},ap=function(e){var t=e.viewModel;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Td,{children:"Tokens"}),(0,g.jsx)(Rd,{viewModel:t,renderPlaceholder:function(e){return(0,g.jsx)(ip,{isPlaceholder:!0},e)},renderItem:function(e){return(0,g.jsx)(ip,{wallet:e,onHideClick:function(){return function(e){t.toggleWalletVisibility(e)}(e)}},e.pubkey)},customFilter:function(e){return!!e&&!e.isHidden}})]})},up=(0,v.Z)("div")({name:"Wrapper",class:"wnikph7"}),cp=function(e){var t=e.viewModel;return(0,g.jsxs)(up,{children:[(0,g.jsx)(ap,{viewModel:t}),(0,g.jsx)(op,{viewModel:t})]})};n(47583);var sp=(0,v.Z)("div")({name:"Content",class:"chebo0n"}),lp=(0,d.Pi)((function(){var e=(0,re.Dz)(qf),t=(0,y.dD)();return(0,g.jsx)(Bi,{children:e.isWalletReady?(0,g.jsx)(bt,{title:"Wallets",icon:"wallet",children:(0,g.jsxs)(sp,{children:[(0,g.jsx)(gd,{viewModel:e}),t?(0,g.jsx)(Ad,{viewModel:e}):void 0,(0,g.jsx)(cp,{viewModel:e.walletsRepository})]})}):(0,g.jsx)(ad,{viewModel:e})})}));n(6006);var fp=(0,d.Pi)((function(e){var t=e.children;return(0,re.Dz)(Nf),(0,g.jsx)(g.Fragment,{children:t})})),dp=["forwardedRef","icon","title","backTo","action","children","className"];function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(n),!0).forEach((function(t){hp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vp(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var mp=(0,v.Z)("div")({name:"TitleWrapper",class:"t1kqyi5j"}),bp=(0,v.Z)(i.OL)({name:"BackLink",class:"b1r3hbul"}),wp=(0,v.Z)("div")({name:"IconWrapper",class:"i1semfw8"}),gp=(0,v.Z)(U.JO)({name:"IconStyled",class:"i1qpk39g"}),kp=(0,v.Z)("div")({name:"Title",class:"t1d8bkuu"}),jp=function(e){var t=e.forwardedRef,n=e.icon,r=e.title,i=e.backTo,a=e.action,u=e.children,c=e.className,s=vp(e,dp),l=(0,y.Av)();return(0,g.jsx)(oo,yp(yp({ref:t,title:l?Array.isArray(r)?(0,g.jsx)(mp,{children:r.map((function(e,t){var n=0===t,a=r.length-2===t,u=r.length-1!==t;return n?(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(bp,{to:i,children:[(0,g.jsx)(gp,{name:"chevron",className:"back"}),(0,g.jsx)(kp,{className:b()({notLast:u}),children:e},e)]}),u?(0,g.jsx)(kp,{className:b()({notLast:u}),children:"/"}):void 0]},e):(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(kp,{className:b()({notLast:u}),children:e}),u?(0,g.jsx)(kp,{className:b()({previous:a}),children:"/"}):void 0]},e)}))}):(0,g.jsxs)(mp,{children:[n?(0,g.jsx)(wp,{children:(0,g.jsx)(gp,{name:n})}):void 0,(0,g.jsx)(kp,{children:r})]}):null,action:a,className:c},s),{},{children:u}))},Op=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(jp,yp(yp({},e),{},{forwardedRef:t}))}));n(3422);var xp,Sp=function(e){return String(e).padStart(2,"0")},Pp=function(e){var t=function(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60);return{hours:Math.floor(e/36e5),minutes:n,seconds:t}}(e),n=t.hours,r=t.minutes,o=t.seconds;return"".concat(Sp(n),":").concat(Sp(r),":").concat(Sp(o))};function Ap(e){return Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(e)}function _p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rp(e,t){return Rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rp(e,t)}function Cp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mp(e);if(t){var o=Mp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ip(this,n)}}function Ip(e,t){if(t&&("object"===Ap(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ep(e)}function Ep(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(e)}var Dp,Fp=(0,ie.ri)()(xp=Reflect.metadata("design:type",Function)(xp=Reflect.metadata("design:paramtypes",[void 0===_f?Object:_f,void 0===gf?Object:gf])(xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Rp(e,t)}(u,e);var t,n,r,o,i,a=Cp(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this))._lockAndMintService=e,n._persistentStore=t,n.isLoading=!1,n.timer=void 0,n.address=void 0,n.secondsPassed=-1,n.processingTxs=[],n.sessionEndDate=null,n.remainingTime="35:59:59",n.fee=null,n.isFetchingFee=!1,(0,oe.rC)(Ep(n),{isLoading:oe.LO,address:oe.LO,secondsPassed:oe.LO,processingTxs:oe.LO,sessionEndDate:oe.LO,remainingTime:oe.LO,fee:oe.LO,isFetchingFee:oe.LO,lockAndMintServiceWillStartLoading:oe.aD,lockAndMintServiceLoaded:oe.aD,lockAndMintServiceWithError:oe.aD,lockAndMintServiceUpdated:oe.aD}),n}return t=u,n=[{key:"setDefaults",value:function(){this.isLoading=!1,this.timer=void 0,this.address=null,this.secondsPassed=-1,this.processingTxs=[],this.sessionEndDate=null,this.remainingTime="35:59:59"}},{key:"onInitialize",value:function(){this._bind()}},{key:"afterReactionsRemoved",value:function(){clearInterval(this.timer)}},{key:"acceptConditionAndLoadAddress",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this._persistentStore.session)&&t.isValid){e.next=6;break}return e.next=4,this._lockAndMintService.createSession();case 4:e.next=7;break;case 6:this._updateSessionEndDate();case 7:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){_p(i,n,r,a,u,"next",e)}function u(e){_p(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"_bind",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e.secondsPassed}),(function(){var t=e.sessionEndDate;if(!t)return"35:59:59";var n=t.getTime()-Date.now();e.remainingTime=Pp(n)}))),this.timer=setInterval((function(){return e._checkSessionEnd()}),1e3),this._checkSessionEnd(),this._lockAndMintService.delegate=this,this._lockAndMintService.isLoading&&(0,oe.z)((function(){e.isLoading=!0})),(0,oe.z)((function(){var t,n;e.address=e._persistentStore.gatewayAddress;var r=null!==(t=null===(n=e._persistentStore.session)||void 0===n?void 0:n.endAt)&&void 0!==t?t:null;e.sessionEndDate=r})),(0,oe.z)((function(){return e.isFetchingFee=!0})),this._lockAndMintService.getFee().then((0,oe.aD)((function(t){e.fee=t,e.isFetchingFee=!1}))).catch((0,oe.aD)((function(){return e.isFetchingFee=!1})))}},{key:"_updateSessionEndDate",value:function(){var e,t,n=this,r=null!==(e=null===(t=this._persistentStore.session)||void 0===t?void 0:t.endAt)&&void 0!==e?e:null;(0,oe.z)((function(){n.sessionEndDate=r}))}},{key:"_checkSessionEnd",value:function(){var e,t=this,n=null===(e=this._persistentStore.session)||void 0===e?void 0:e.endAt;n&&(Date.now()>=n.getTime()?(clearInterval(this.timer),this._lockAndMintService.expireCurrentSession()):(0,oe.z)((function(){t.secondsPassed++})))}},{key:"lockAndMintServiceWillStartLoading",value:function(){this.isLoading=!0}},{key:"lockAndMintServiceLoaded",value:function(e){this.address=e,this._updateSessionEndDate()}},{key:"lockAndMintServiceWithError",value:function(){this.sessionEndDate=null}},{key:"lockAndMintServiceUpdated",value:function(e){this.processingTxs=e}}],n&&Tp(t.prototype,n),r&&Tp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(ue.j))||xp)||xp)||xp;function Np(e){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(e)}function Bp(e,t){return Bp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bp(e,t)}function Zp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Up(e);if(t){var o=Up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wp(this,n)}}function Wp(e,t){if(t&&("object"===Np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lp(e)}function Lp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(e)}function zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(e,t,n){return t&&Kp(e.prototype,t),n&&Kp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Hp=function(){function e(t){zp(this,e),this.type=void 0,this.type=t}return qp(e,[{key:"name",get:function(){switch(this.type){case"solana":return"Solana";case"btc":return"Bitcoin"}}},{key:"mint",get:function(){switch(this.type){case"solana":return os.jQ.wrappedSOLMint.toBase58();case"btc":return os.jQ.renBTCMint.toBase58()}}},{key:"isSolana",value:function(){return"solana"===this.type}}],[{key:"solana",get:function(){return new e("solana")}},{key:"btc",get:function(){return new e("btc")}}]),e}(),Vp=(0,ie.ri)()(Dp=Reflect.metadata("design:type",Function)(Dp=Reflect.metadata("design:paramtypes",[void 0===Te.A?Object:Te.A,void 0===Re.m?Object:Re.m,void 0===Te.C?Object:Te.C,void 0===Xt?Object:Xt,void 0===Fp?Object:Fp])(Dp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Bp(e,t)}(n,e);var t=Zp(n);function n(e,r,o,i,a){var u;return zp(this,n),(u=t.call(this))._walletsRepository=e,u._solanaSDK=r,u._tokensRepository=o,u._modalService=i,u._receiveBitcoinViewModel=a,u.solanaToken=void 0,u.btcToken=void 0,u.tokenType=Hp.solana,(0,oe.rC)(Lp(u),{tokenType:oe.LO,solanaToken:oe.LO,btcToken:oe.LO,switchTokenType:oe.aD}),u._tokensRepository.getTokenWithMint(Hp.solana.mint).then((0,oe.aD)((function(e){return u.solanaToken=e}))),u._tokensRepository.getTokenWithMint(Hp.btc.mint).then((0,oe.aD)((function(e){return u.btcToken=e}))),u}return qp(n,[{key:"setDefaults",value:function(){this.tokenType=Hp.solana}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"isRenBtcCreated",value:function(){return this._walletsRepository.getWallets().some((function(e){return e.token.isRenBTC}))}},{key:"switchTokenType",value:function(e){this.tokenType=e,"btc"===e.type&&this._receiveBitcoinViewModel.acceptConditionAndLoadAddress()}},{key:"openReceiveBitcoinModal",value:function(){return this._modalService.openModal(Gt.SHOW_MODAL_RECEIVE_BITCOIN)}}]),n}(ue.j))||Dp)||Dp)||Dp,Yp=(0,v.Z)("div")({name:"Wrapper",class:"w77mzme"}),Qp=function(e){var t=e.size,n=e.className;return(0,g.jsx)(Yp,{className:n,children:(0,g.jsx)(Yt.a,{size:t})})};n(32459);var $p,Gp=n(41498),Jp=n.n(Gp),Xp=n(648),ey=n(50006);function ty(e){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(e)}function ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ry(e,t){return ry=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ry(e,t)}function oy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ay(e);if(t){var o=ay(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iy(this,n)}}function iy(e,t){if(t&&("object"===ty(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ay(e)}var uy=(0,ie.ri)()($p=Reflect.metadata("design:type",Function)($p=Reflect.metadata("design:paramtypes",[void 0===li.g?Object:li.g])($p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ry(e,t)}(i,e);var t,n,r,o=oy(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._notificationService=e,t}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"copyString",value:function(e,t,n){var r=this;(0,ey.XX)(t,(function(){r._notificationService.info("".concat(e," copied!")),n&&n()}),(function(e){return r._notificationService.error("Can't copy ".concat(t," to clipboard"))}))}},{key:"copyQRCode",value:function(e,t){var n=this;(0,ey.RH)(e,(function(){n._notificationService.info("QR Code copied!"),t&&t()}),(function(e){return n._notificationService.error("Can't copy QR Code to clipboard")}))}}])&&ny(t.prototype,n),r&&ny(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||$p)||$p)||$p,cy=n(26077),sy=(0,v.Z)("div")({name:"Wrapper",class:"w1fk0t0t"}),ly=(0,v.Z)("div")({name:"UsernameAddressWrapper",class:"u7erjx6"}),fy=(0,v.Z)("div")({name:"QRCodeWrapper",class:"q1b3llvz"}),dy=(0,v.Z)("div")({name:"AddressWrapper",class:"aglh90w"}),py=(0,v.Z)(Xp.x)({name:"AddressTextStyled",class:"a1xc67tq"}),yy=(0,v.Z)("div")({name:"Username",class:"ufnvzvm"}),hy=(0,v.Z)("img")({name:"LogoImg",class:"l1969fa3"}),vy=(0,v.Z)("div")({name:"ButtonsWrapper",class:"b1g1m4sx"}),my=function(e){var t=e.address,n=e.username,r=e.onUsernameCopied,o=e.onAddressCopied,i=e.onQRCodeCopied,a=(0,re.Dz)(uy),u=(0,y.dD)(),c=(0,y.Av)();return(0,g.jsxs)(sy,{children:[(0,g.jsxs)(ly,{children:[u&&n?(0,g.jsx)(yy,{children:n}):void 0,(0,g.jsx)(fy,{children:(0,g.jsx)(Jp(),{id:"qrcode",value:t,size:u?237:122})}),(0,g.jsxs)(dy,{children:[c&&n?(0,g.jsx)(yy,{children:n}):void 0,(0,g.jsx)(py,{address:t,small:!0}),c?(0,g.jsx)(hy,{src:Go}):void 0]})]}),(0,g.jsxs)(vy,{children:[n?(0,g.jsx)(cy.z,{small:!u,medium:u,hollow:!0,onClick:function(){return a.copyString("Username",n,r)},children:"Copy username"}):void 0,(0,g.jsx)(cy.z,{small:!u,medium:u,hollow:!0,onClick:function(){a.copyString("Address",t,o)},children:"Copy address"}),ey.HQ?(0,g.jsx)(cy.z,{small:!u,medium:u,hollow:!0,onClick:function(){var e=document.querySelector("#qrcode");e&&a.copyQRCode(e,i)},children:"Copy QR code"}):null]})]})};n(84273);var by=(0,v.Z)("div")({name:"Content",class:"c1beygsk"}),wy=(0,v.Z)("a")({name:"ExplorerA",class:"e13x8wjw"}),gy=(0,v.Z)("div")({name:"BottomWrapper",class:"bu6f6ty"}),ky=(0,v.Z)(U.JO)({name:"ShareIcon",class:"s9jufy8"});n(37357);var jy=["size"];function Oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oy(Object(n),!0).forEach((function(t){Sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Py(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ay=(0,v.Z)("div")({name:"Wrapper",class:"w623rkf"}),_y=(0,v.Z)("div")({name:"Inner",class:"imgtynh"}),Ty=function(e){var t=e.size,n=Py(e,jy);return(0,g.jsx)(Ay,xy(xy({style:{width:t&&"".concat(t,"px"),height:t&&"".concat(t,"px")}},n),{},{children:(0,g.jsx)(_y,{})}))};n(69959);var Ry=(0,v.Z)("div")({name:"Wrapper",class:"wjo27t1"}),Cy=(0,v.Z)("ul")({name:"List",class:"lu3oibn"}),Iy=(0,v.Z)("li")({name:"Row",class:"r1qu7dn0"}),Ey=(0,v.Z)("div")({name:"MinimumTxAmount",class:"mex3qn4"}),My=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,Ue.YN)((function(){return t.fee?(0,Ce.D$)((0,os.K4)(t.fee.mul(new Hi.u64(2)),8),{maximumFractionDigits:8}):"0.000112"}));return(0,g.jsx)(Ry,{children:(0,g.jsxs)(Cy,{children:[(0,g.jsxs)(Iy,{children:["This address accepts ",(0,g.jsx)("strong",{children:"only Bitcoin"}),". You may lose assets by sending another coin."]}),(0,g.jsx)(Iy,{children:(0,g.jsxs)(Ey,{children:["Minimum transaction amount of ",t.isFetchingFee?(0,g.jsx)(Ty,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("strong",{children:"".concat(n," BTC")}),"."]})]})}),(0,g.jsxs)(Iy,{children:[(0,g.jsx)("strong",{children:t.remainingTime})," is the remaining time to safely send the assets."]})]})})}));n(72237);var Dy=(0,v.Z)("div")({name:"Title",class:"t170gf3k"}),Fy=(0,v.Z)("div")({name:"Label",class:"loaxs4e"}),Ny=(0,v.Z)("div")({name:"Description",class:"d1824uru"}),By=(0,v.Z)("div")({name:"Value",class:"vcg5mfc"});n(7969);var Zy,Wy=n(55568);function Ly(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.waitingForConfirmation="waitingForConfirmation",e.confirmed="confirmed",e.submitted="submitted",e.minted="minted"}(Zy||(Zy={}));var Uy=function(){function e(t){var n=t.txid,r=t.status,o=t.time,i=t.vout,a=t.amount;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.txid=void 0,this.status=void 0,this.time=void 0,this.vout=void 0,this.amount=void 0,this.txid=n,this.status=r,this.time=o,this.vout=i,this.amount=a}var t,n,r;return t=e,(n=[{key:"stringValue",get:function(){var e;switch(this.status){case Zy.waitingForConfirmation:return"Waiting for deposit confirmation";case Zy.confirmed:return"Submitting to RenVM";case Zy.submitted:return"Minting";case Zy.minted:return"Successfully minted ".concat((0,Ce.D$)((0,os.K4)(null!==(e=this.amount)&&void 0!==e?e:Wy.ZERO,8),{maximumFractionDigits:9})," renBTC!")}}}])&&Ly(t.prototype,n),r&&Ly(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var zy=(0,v.Z)("div")({name:"Wrapper",class:"w14d2q64"}),Ky=function(e){var t=e.processingTx,n="".concat((0,Ce.D$)(t.value,{maximumFractionDigits:9})," renBTC"),r=(0,g.jsx)(Ny,{className:b()({green:t.mintedAt}),children:t.statusString}),i=(0,o.useMemo)((function(){return function(e){var t=[];return e.mintedAt&&t.push(new Uy({txid:e.tx.txid,status:Zy.minted,time:e.mintedAt,amount:e.tx.value})),e.submittedAt&&t.push(new Uy({txid:e.tx.txid,status:Zy.submitted,time:e.submittedAt})),e.confirmedAt&&t.push(new Uy({txid:e.tx.txid,status:Zy.confirmed,time:e.confirmedAt})),e.threeVoteAt&&t.push(new Uy({txid:e.tx.txid,status:Zy.waitingForConfirmation,time:e.threeVoteAt,vout:new Hi.u64(3)})),e.twoVoteAt&&t.push(new Uy({txid:e.tx.txid,status:Zy.waitingForConfirmation,time:e.twoVoteAt,vout:new Hi.u64(2)})),e.oneVoteAt&&t.push(new Uy({txid:e.tx.txid,status:Zy.waitingForConfirmation,time:e.oneVoteAt,vout:new Hi.u64(1)})),e.receivedAt&&t.push(new Uy({txid:e.tx.txid,status:Zy.waitingForConfirmation,time:e.receivedAt,vout:new Hi.u64(0)})),t.sort((function(e,t){var n,r;return e.time===t.time?(null!==(n=t.vout)&&void 0!==n?n:new Hi.u64(Number.MAX_SAFE_INTEGER)).sub(null!==(r=e.vout)&&void 0!==r?r:new Hi.u64(Number.MAX_SAFE_INTEGER)).toNumber():t.time.getTime()-e.time.getTime()})),t}(t)}),[t]),a=(0,o.useMemo)((function(){return function(e){var t=function(e){var t,n,r,o,i,a,u,c,s="black";switch(e.status){case Zy.waitingForConfirmation:o=null!==(t=e.vout)&&void 0!==t?t:Wy.ZERO,i=ps.maxVote,r="".concat(o,"/").concat(i),o.eqn(0)?s="red":o===i&&(s="green");break;case Zy.minted:r="+ ".concat((0,Ce.D$)((0,os.K4)(null!==(n=e.amount)&&void 0!==n?n:Wy.ZERO,8),{maximumFractionDigits:9})," renBTC"),s="green"}return r?(0,g.jsx)(By,{className:b()((a={},u=s,c=!0,u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a)),children:r}):null};return e.map((function(e){return{id:"".concat(e.txid).concat(e.status),className:"slim",rows:[{id:1,title:(0,g.jsxs)(Dy,{children:[(0,g.jsx)(Fy,{children:e.stringValue}),(0,g.jsx)(Ny,{children:new Date(e.time).toLocaleString("en-US",{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})})]}),value:t(e),valueClassName:"contentVerticalCenter"}]}}))}(i)}),[i]);return(0,g.jsx)(zy,{children:(0,g.jsx)(Xn,{title:n,titleBottomName:r,accordion:a})})};n(62881);var qy,Hy=(0,d.Pi)((function(e){var t=e.viewModel;return(0,g.jsx)(_d.U,{viewModel:t,renderItem:function(e){return(0,g.jsx)(Ky,{processingTx:e},e.tx.txid)}})})),Vy=n(34287);function Yy(e){return Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(e)}function Qy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $y(e,t){return $y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$y(e,t)}function Gy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xy(e);if(t){var o=Xy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jy(this,n)}}function Jy(e,t){if(t&&("object"===Yy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xy(e)}var eh,th=(0,ie.b2)()(qy=function(e,t){return(0,ie.f3)((0,ie.gw)((function(){return Fp})))(e,void 0,0)}(qy=Reflect.metadata("design:type",Function)(qy=Reflect.metadata("design:paramtypes",["undefined"==typeof Readonly?Object:Readonly])(qy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&$y(e,t)}(i,e);var t,n,r,o=Gy(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._receiveBitcoinViewModel=e,t.state=Li.H.loaded,t}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){this._bind()}},{key:"afterReactionsRemoved",value:function(){}},{key:"_bind",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e._receiveBitcoinViewModel.processingTxs}),(0,oe.aD)((function(t){e.data=t.reverse()})))),(0,oe.z)((function(){e.data=e._receiveBitcoinViewModel.processingTxs.reverse()}))}},{key:"reload",value:function(){}},{key:"fetchNext",value:function(){}}])&&Qy(t.prototype,n),r&&Qy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Vy.J))||qy)||qy)||qy)||qy,nh=(0,d.Pi)((function(){var e=(0,re.Dz)(th);return(0,g.jsx)(Nn,{title:"Receiving statuses",open:!0,children:(0,g.jsx)(Hy,{viewModel:e})})})),rh=(0,d.Pi)((function(){var e=(0,re.Dz)(Fp);if(!e.address)return(0,g.jsx)(Qp,{});var t=e.processingTxs.length;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(by,{className:"noTopPadding",children:[e.address?(0,g.jsx)(my,{address:e.address,onAddressCopied:function(){(0,Rt.L9)({name:"Receive_Address_Copied"})},onQRCodeCopied:function(){(0,Rt.L9)({name:"Receive_QR_Copied"})}}):null,(0,g.jsx)(My,{viewModel:e}),t?(0,g.jsx)(nh,{}):null]}),(0,g.jsx)(gy,{children:(0,g.jsxs)(wy,{href:"https://btc.com/btc/address/".concat(e.address),target:"_blank",rel:"noopener noreferrer noindex",className:b()({button:!0,disabled:!e.address}),onClick:function(){(0,Rt.L9)({name:"Receive_Bitcoin_Explorer"})},children:[(0,g.jsx)(ky,{name:"external"}),"View in Bitcoin explorer"]})})]})})),oh=(0,v.Z)("div")({name:"InfoWrapper",class:"i1m4otid"}),ih=(0,v.Z)("div")({name:"Line",class:"l1ywn0hy"}),ah=(0,v.Z)("div")({name:"Text",class:"t1axfnot"}),uh=(0,v.Z)("div")({name:"Network",class:"ncak5xq"}),ch=[Hp.solana,Hp.btc],sh=(0,d.Pi)((function(e){var t=e.viewModel,n="Showing my address for",r=function(e){return e?32:44}((0,y.dD)()),o=function(e){return e.isSolana()?t.solanaToken:t.btcToken};return(0,g.jsx)(mn,{mobileListTitle:n,value:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(or.y,{token:o(t.tokenType),size:44}),(0,g.jsxs)(oh,{children:[(0,g.jsx)(ih,{children:(0,g.jsx)(ah,{children:n})}),(0,g.jsx)(ih,{children:(0,g.jsxs)(ah,{className:"bottom",children:[t.tokenType.name," network"]})})]})]}),children:ch.map((function(e){return(0,g.jsxs)(kn,{isSelected:e.type===t.tokenType.type,onItemClick:function(){return n=e.type,void((r=new Hp(n)).isSolana()?t.switchTokenType(r):((0,Rt.L9)({name:"Receive_Bitcoin_Network"}),t.isRenBtcCreated()?t.switchTokenType(r):t.openReceiveBitcoinModal().then((function(e){e&&t.switchTokenType(r)}))));var n,r},children:[(0,g.jsx)(or.y,{token:o(e),size:r}),(0,g.jsxs)(uh,{children:[e.name," network"]})]},e.type)}))})}));function lh(e){return lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(e)}function fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dh(e,t){return dh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dh(e,t)}function ph(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vh(e);if(t){var o=vh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yh(this,n)}}function yh(e,t){if(t&&("object"===lh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hh(e)}function hh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(e)}n(52637);var mh=(0,ie.ri)()(eh=Reflect.metadata("design:type",Function)(eh=Reflect.metadata("design:paramtypes",[void 0===Re.m?Object:Re.m,void 0===zi.o?Object:zi.o])(eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&dh(e,t)}(i,e);var t,n,r,o=ph(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this))._solanaSDK=e,n._nameService=t,n.username=void 0,(0,oe.rC)(hh(n),{username:oe.LO,pubkeyBase58:oe.Fl}),n}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){var e=this;this._nameService.getName(this.pubkeyBase58).then((0,oe.aD)((function(t){return t&&(e.username=t)})))}},{key:"afterReactionsRemoved",value:function(){}},{key:"pubkeyBase58",get:function(){return this._solanaSDK.provider.wallet.publicKey.toBase58()}}])&&fh(t.prototype,n),r&&fh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||eh)||eh)||eh,bh=(0,v.Z)("div")({name:"Content",class:"c17cu77k"}),wh=(0,v.Z)("a")({name:"ExplorerA",class:"e1img2dj"}),gh=(0,v.Z)("div")({name:"BottomWrapper",class:"b1pq45lk"}),kh=(0,v.Z)(U.JO)({name:"ShareIcon",class:"s4e8lvl"}),jh=function(){var e=(0,re.Dz)(mh);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(bh,{className:"noTopPadding",children:(0,g.jsx)(my,{address:e.pubkeyBase58,username:e.username&&(0,Ru.iY)(e.username),onAddressCopied:function(){(0,Rt.L9)({name:"Receive_Address_Copied"})},onQRCodeCopied:function(){(0,Rt.L9)({name:"Receive_QR_Copied"})}})}),(0,g.jsx)(gh,{children:(0,g.jsxs)(wh,{href:"https://explorer.solana.com/address/".concat(e.pubkeyBase58),target:"_blank",rel:"noopener noreferrer noindex",className:"button",onClick:function(){(0,Rt.L9)({name:"Receive_Solana_Explorer"})},children:[(0,g.jsx)(kh,{name:"external"}),"View in Solana explorer"]})})]})};n(63078);var Oh=(0,v.Z)(i.OL)({name:"WhatTokensCanIReceiveLink",class:"w1yvm4w2"}),xh=(0,d.Pi)((function(){var e=(0,re.Dz)(Vp),t=e.tokenType.isSolana();return(0,g.jsx)(Bi,{children:(0,g.jsxs)(Op,{title:"Receive",icon:"bottom",children:[(0,g.jsxs)(by,{children:[(0,g.jsx)(sh,{viewModel:e})," ",t?(0,g.jsx)(Oh,{to:"/receive/tokens",onClick:function(){(0,Rt.L9)({name:"Receive_Token_Info"})},children:"What tokens can I receive?"}):null]}),e.tokenType.isSolana()?(0,g.jsx)(jh,{}):(0,g.jsx)(rh,{})]})})}));n(18290);var Sh=n(61616),Ph=n(70495),Ah=n(53416),_h=n(55632),Th=(0,v.Z)("div")({name:"Wrapper",class:"w677nf8"}),Rh=(0,v.Z)("div")({name:"Container",class:"c10jyso6"}),Ch=(0,d.Pi)((function(e){var t=e.viewModel,n=e.numberOfLoadingCells,r=void 0===n?2:n,i=e.renderPlaceholder,a=e.renderItem,u=e.renderEmpty,c=e.customFilter,s=e.transformer,l=e.className,f=(0,o.useRef)(null),d=(0,o.useMemo)((function(){return(0,Ue.YN)((function(){var e=t.data;c&&(e=e.filter(c)),s&&(e=s(e));var n=e.map((function(e){return new _h.T({value:e})}));switch(t.state){case Li.H.initializing:case Li.H.loading:for(var o=0;o<r;o++)n.push(new _h.T({placeholderIndex:(0,Ah.x0)()}));break;case Li.H.loaded:0===n.length&&u&&n.push(new _h.T({emptyCellIndex:(0,Ah.x0)()}));case Li.H.error:}return n}))}),[c,r,u,t.data,t.state]),p=(0,Ph.o)({paddingStart:0,paddingEnd:8,size:d.length,parentRef:f,overscan:6});if(0===d.length)return null;return(0,g.jsx)(Th,{className:l,ref:f,children:(0,g.jsx)(Rh,{style:{position:"relative",width:"100%",height:p.totalSize},children:p.virtualItems.map((function(e){return(0,g.jsx)("div",{ref:e.measureRef,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(e.start,"px)")},children:(t=d[e.index],t.isEmptyCell?t.isEmptyCell&&u?u():null:t.isPlaceholder?i():a(t.value))},e.index);var t}))})})}));n(45028);var Ih=["searchText","key","forwardedRef"];function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach((function(t){Dh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Nh=(0,v.Z)("div")({name:"Wrapper",class:"w7ap5he"}),Bh=(0,v.Z)("div")({name:"IconWrapper",class:"i1hgq7yl"}),Zh=(0,v.Z)(U.JO)({name:"RoundStopIcon",class:"r1r671ic"}),Wh=function(e){var t=e.searchText,n=e.key,r=e.forwardedRef,o=Fh(e,Ih);return(0,g.jsxs)(Nh,Mh(Mh({ref:r},o),{},{children:[(0,g.jsx)("div",{children:(0,g.jsx)(Bh,{children:(0,g.jsx)(Zh,{name:"round-stop"})})}),(0,g.jsxs)("div",{children:['If there is a token named "',t,"\", we don't recommend sending it to your Solana address since it will most likely be lost forever."]})]}),n)},Lh=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(Wh,Mh(Mh({},e),{},{forwardedRef:t}))}));function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uh(Object(n),!0).forEach((function(t){Kh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(21383);var qh=(0,v.Z)("div")({name:"Wrapper",class:"wdwuuv9"}),Hh=function(e){var t=e.key,n=e.forwardedRef,r=e.style;return(0,g.jsxs)(qh,{ref:n,style:r,children:["Each token in this list is available for receiving with this address; you can search for a token by typing its name or ticker.",(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),"If a token is not on this list,"," ",(0,g.jsx)("strong",{children:"we do not recommend sending it to this address"}),"."]},t)},Vh=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(Hh,zh(zh({},e),{},{forwardedRef:t}))}));function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yh(Object(n),!0).forEach((function(t){$h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(95308);var Gh=(0,v.Z)("div")({name:"Wrapper",class:"wssp31h"}),Jh=(0,v.Z)("div")({name:"Name",class:"nkqx3u4"}),Xh=(0,v.Z)("div")({name:"Symbol",class:"sf7l7ne"}),ev=function(e){var t=e.forwardedRef,n=e.token,r=e.isPlaceholder,o=e.style;if(r)return(0,g.jsxs)(Gh,{children:[(0,g.jsx)(ud.Z,{height:32,width:32,borderRadius:12}),(0,g.jsx)(Jh,{children:(0,g.jsx)(ud.Z,{width:100,height:16})}),(0,g.jsx)(Xh,{children:(0,g.jsx)(ud.Z,{width:100,height:16})})]});return(0,g.jsxs)(Gh,{ref:t,style:o,children:[(0,g.jsx)(or.y,{token:n,size:32}),(0,g.jsx)(Jh,{children:function(e){var t;return"SOL"===(null==e?void 0:e.symbol)?"Solana":null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""}(n)}),(0,g.jsx)(Xh,{children:null==n?void 0:n.symbol})]})},tv=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(ev,Qh(Qh({},e),{},{forwardedRef:t}))}));function nv(e){return function(e){if(Array.isArray(e))return rv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(90063);var ov,iv=(0,v.Z)(Ch)({name:"StaticSectionsCollectionVirtualizedViewStyled",class:"s8bbv1t"}),av=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,y.dD)(),r=n?function(){return(0,g.jsx)(Lh,{searchText:t.keyword})}:void 0,o=n?function(e){return["hint"].concat(nv(e))}:void 0;return(0,g.jsx)(iv,{viewModel:t,renderPlaceholder:function(){return(0,g.jsx)(tv,{isPlaceholder:!0})},renderItem:function(e){return e instanceof os.WU?(0,g.jsx)(tv,{token:e}):"hint"===e?(0,g.jsx)(Vh,{}):void 0},renderEmpty:r,transformer:o})}));function uv(e){return uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(e)}function cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sv(){return sv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lv(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},sv.apply(this,arguments)}function lv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hv(e)););return e}function fv(e,t){return fv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fv(e,t)}function dv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hv(e);if(t){var o=hv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pv(this,n)}}function pv(e,t){if(t&&("object"===uv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yv(e)}function yv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hv(e)}n(51924);var vv=(0,ie.ri)()(ov=Reflect.metadata("design:type",Function)(ov=Reflect.metadata("design:paramtypes",[void 0===Te.C?Object:Te.C])(ov=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&fv(e,t)}(i,e);var t,n,r,o=dv(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._tokensRepository=e,t.keyword="",t.createRequest=(0,oe.ls)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Set,e.next=3,this._tokensRepository.getTokensList().then((function(e){return(0,os.$K)(e)})).then((function(e){return e.filter((function(e){var n=!t.has(e.symbol);return n&&t.add(e.symbol),n}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),(0,oe.rC)(yv(t),{keyword:oe.LO,search:oe.aD}),t}return t=i,(n=[{key:"setDefaults",value:function(){this.keyword=""}},{key:"onInitialize",value:function(){this.reload()}},{key:"afterReactionsRemoved",value:function(){var e;null===(e=this.requestDisposable)||void 0===e||e.cancel(),this.data=[]}},{key:"map",value:function(e){var t=sv(hv(i.prototype),"map",this).call(this,e).sort((function(e,t){var n=mv(e),r=mv(t);return n===r?e.name<t.name?-1:e.name===t.name?0:1:n>r?-1:n===r?0:1})),n=this.keyword;return n&&(t=t.filter((function(e){return bv(e,n)}))),t}},{key:"search",value:function(e){this.keyword!==e&&(this.keyword=e,this.reload())}}])&&cv(t.prototype,n),r&&cv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Vy.J))||ov)||ov)||ov,mv=function(e){switch(e.symbol){case"SOL":return Number.MAX_SAFE_INTEGER;case"USDC":return Number.MAX_SAFE_INTEGER-1;case"BTC":return Number.MAX_SAFE_INTEGER-2;case"USDT":return Number.MAX_SAFE_INTEGER-3;case"ETH":return Number.MAX_SAFE_INTEGER-4;default:return 0}},bv=function(e,t){return e.symbol.toLowerCase().includes(t.toLowerCase())||e.name.toLowerCase().includes(t.toLowerCase())},wv=(0,d.Pi)((function(){var e=(0,y.Av)(),t=(0,re.Dz)(vv);return(0,g.jsx)(Bi,{children:(0,g.jsx)(Op,{title:["Receive","List of available tokens"],backTo:"/receive",children:(0,g.jsxs)(by,{children:[(0,g.jsx)(Sh.M,{placeholder:"Search for a token",onChange:function(e){return t.search(e)}}),e?(0,g.jsx)(Vh,{}):void 0,e&&t.keyword&&0===t.data.length?(0,g.jsx)(Lh,{searchText:t.keyword}):void 0,(0,g.jsx)(av,{viewModel:t})]})})})})),gv=function(){(0,Rt.Gf)("Receive_Start_Screen");var e=(0,a.$B)();return(0,g.jsxs)(a.rs,{children:[(0,g.jsx)(a.AW,{path:"".concat(e.path,"/tokens"),children:(0,g.jsx)(wv,{})}),(0,g.jsx)(a.AW,{path:e.path,exact:!0,children:(0,g.jsx)(xh,{})})]})},kv=(0,v.Z)("div")({name:"Content",class:"c16zf9qu"}),jv=(0,v.Z)("div")({name:"InfoWrapper",class:"i1czb19w"}),Ov=(0,v.Z)("div")({name:"FirstLineWrapper",class:"f1ah70hm"}),xv=(0,v.Z)("div")({name:"SecondLineWrapper",class:"scazbw"}),Sv=(0,v.Z)("div")({name:"FeeLabel",class:"fc6g0o8"}),Pv=(0,v.Z)("div")({name:"FeeValue",class:"f1x318oc"}),Av=(0,d.Pi)((function(e){var t,n=e.network,r=e.token;e.payingWallet,e.feeInfo;return t=n===Eb.bitcoin?(0,g.jsx)(Pv,{children:"0.0002 renBTC + 0.0002 SOL"}):(0,g.jsx)(Pv,{className:"green",children:"$0"}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(or.y,{token:r,size:44}),(0,g.jsx)(kv,{children:(0,g.jsxs)(jv,{children:[(0,g.jsxs)(Ov,{children:[(0,Ru.fm)(n)," network"]}),(0,g.jsxs)(xv,{children:[(0,g.jsx)(Sv,{children:"Fee:"}),t]})]})})]})}));function _v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(70476);var Rv=(0,v.Z)("div")({name:"CautionWrapper",class:"cfoy9oy"}),Cv=(0,v.Z)("div")({name:"NotificationWrapper",class:"njbkovz"}),Iv=function(e){return e?(t=e.currentUsage<e.maxUsage?"On the Solana network, the first ".concat(e.maxUsage," transactions in a day are\n        paid by P2P.org. Subsequent transactions will be charged based on the Solana blockchain gas\n        fee."):"Your ".concat(e.maxUsage," free transactions have been used up. You will have to pay \n        the network fee for subsequent transactions or wait until tomorrow when the counter resets."),(0,g.jsx)(Cv,{children:t},"notification")):null;var t},Ev=(0,d.Pi)((function(e){var t=e.viewModel,n=_v((0,o.useState)(null),2),r=n[0],i=n[1];(0,o.useLayoutEffect)((function(){t.getFreeTransactionFeeLimit().then(i)}),[]);var a=function(e){var n;return null===(n=e===Eb.solana?t.walletsRepository.nativeWallet:t.walletsRepository.getWallets().find((function(e){return"renBTC"===e.token.symbol})))||void 0===n?void 0:n.token};return(0,g.jsxs)(mn,{mobileListTitle:"Choose the network",value:(0,g.jsx)(Av,{network:t.network,token:a(t.network),payingWallet:t.payingWallet,feeInfo:t.feeInfo.value}),children:[(0,g.jsxs)(Rv,{children:["P2P Wallet will automatically match your withdrawal target address to the correct network for most withdrawals.",(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),"However, before sending your funds, make sure to double-check the selected network."]}),t.getSelectableNetworks.map((function(e){return[(0,g.jsx)(kn,{isSelected:t.network===e,onItemClick:function(){return t.selectNetwork(e)},children:(0,g.jsx)(Av,{network:e,token:a(e),payingWallet:t.payingWallet,feeInfo:t.feeInfo.value})},e),e===Eb.solana?Iv(r):null]})).flat()]})}));n(14825);var Mv=(0,v.Z)(U.JO)({name:"SendIcon",class:"suhm3dv"}),Dv=(0,d.Pi)((function(e){var t,n,r,o,i=e.viewModel,a=Boolean(i.error);return(0,g.jsx)(U.zx,{primary:!0,full:!0,disabled:a,onClick:function(){i.openConfirmModal()},children:null!==(t=null===(n=i.error)||void 0===n?void 0:n.buttonSuggestion)&&void 0!==t?t:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Mv,{name:"top"}),"Send ".concat((0,Ce.D$)(i.amount,{maximumFractionDigits:9})," ").concat(null!==(r=null===(o=i.wallet)||void 0===o?void 0:o.token.symbol)&&void 0!==r?r:"")]})})}));n(94167);var Fv=["prefix","placeholder","value","decimals","onChange"];function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nv(Object(n),!0).forEach((function(t){Zv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uv(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var zv=(0,v.Z)("label")({name:"WrapperLabel",class:"wpvup2m"}),Kv=("\n  color: ".concat(y.rS.colors.textIcon.primary,";\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 120%;\n"),(0,v.Z)("div")({name:"Prefix",class:"p1rmhwz1"})),qv=(0,v.Z)("input")({name:"Input",class:"il4uhgd"});var Hv=/^\d*(\.\d*)?$/,Vv=function(e){var t=e.prefix,n=e.placeholder,r=void 0===n?"0":n,i=e.value,a=void 0===i?"":i,u=e.decimals,c=e.onChange,s=Uv(e,Fv),l=Wv((0,o.useState)(a),2),f=l[0],d=l[1];(0,ir.Z)((function(){Number(a)!==Number(f)&&d(a)}),[a]);var p=(0,o.useMemo)((function(){var e=f||r;if(e)return String(e).length+"ch"}),[f,r]);return(0,g.jsxs)(zv,{children:[t?(0,g.jsx)(Kv,{className:b()({isText:"string"==typeof t}),children:t}):void 0,(0,g.jsx)(qv,Bv(Bv({},s),{},{placeholder:r,value:f,type:"text",inputMode:"decimal",autoComplete:"off",autoCorrect:"off",spellCheck:"false",onChange:function(e){var t=e.target.value.replace(/^0(\d+)/,"$1");"."===t&&(t="0."),t=function(e,t){return t&&e.includes(".")&&e.split(".")[1].length>t?Number(e).toFixed(t):e}(t,u),(!Number.isNaN(t)&&Hv.test(t)||""===t)&&(d(t),c&&c(t))},style:{width:p}}))]})};n(44790);var Yv=(0,v.Z)("div")({name:"Wrapper",class:"w2vjrcj"}),Qv=(0,v.Z)(U.JO)({name:"WalletIcon",class:"w15ciid7"}),$v=(0,v.Z)("div")({name:"TokenAvatarWrapper",class:"t1evat2u"}),Gv=(0,v.Z)("div")({name:"TokenName",class:"tdad1vr"}),Jv=(0,v.Z)("div")({name:"TokenWrapper",class:"tgbaosf"}),Xv=(0,v.Z)("div")({name:"EmptyName",class:"e40g"}),em=(0,d.Pi)((function(e){var t,n,r,o,i,a,u=e.viewModel;return(0,g.jsxs)(Yv,{children:[(0,g.jsx)($v,{className:b()({isOpen:u.isOpen&&!(null!==(t=u.selectedWallet)&&void 0!==t&&t.pubkey)}),children:null!==(n=u.selectedWallet)&&void 0!==n&&n.token?(0,g.jsx)(or.y,{token:null===(r=u.selectedWallet)||void 0===r?void 0:r.token,size:44}):(0,g.jsx)(Qv,{name:"wallet"})}),(0,g.jsx)(Jv,{className:b()({isOpen:u.isOpen}),children:(0,g.jsx)(Gv,{title:null!==(o=null===(i=u.selectedWallet)||void 0===i?void 0:i.pubkey)&&void 0!==o?o:void 0,children:(null===(a=u.selectedWallet)||void 0===a?void 0:a.token.symbol)||(0,g.jsx)(Xv,{children:"—"})})})]})}));n(99112);var tm,nm,rm,om=n(1487),im=n(98504);function am(e){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(e)}function um(e,t){return um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},um(e,t)}function cm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fm(e);if(t){var o=fm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(e,t){if(t&&("object"===am(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lm(e)}function lm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fm(e){return fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fm(e)}function dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ym(e,t,n){return t&&pm(e.prototype,t),n&&pm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.token="token",e.fiat="fiat"}(nm||(nm={})),function(e){e.loadingIsNotCompleted="loadingIsNotCompleted",e.destinationWalletIsMissing="destinationWalletIsMissing",e.invalidAmount="invalidAmount",e.insufficientFunds="insufficientFunds"}(rm||(rm={}));var hm=function(){function e(t){dm(this,e),this.type=void 0,this.type=t}return ym(e,[{key:"buttonSuggestion",get:function(){switch(this.type){case rm.loadingIsNotCompleted:return"Loading";case rm.destinationWalletIsMissing:return"Choose destination wallet";case rm.invalidAmount:return"Enter the amount to proceed";case rm.insufficientFunds:return"Insufficient funds"}}}],[{key:"loadingIsNotCompleted",get:function(){return new e(rm.loadingIsNotCompleted)}},{key:"destinationWalletIsMissing",get:function(){return new e(rm.destinationWalletIsMissing)}},{key:"invalidAmount",get:function(){return new e(rm.invalidAmount)}},{key:"insufficientFunds",get:function(){return new e(rm.insufficientFunds)}}]),e}(),vm=(0,ie.b2)()(tm=function(e,t){return(0,ie.f3)((0,ie.gw)((function(){return $b})))(e,void 0,1)}(tm=Reflect.metadata("design:type",Function)(tm=Reflect.metadata("design:paramtypes",[void 0===im.t?Object:im.t,"undefined"==typeof Readonly?Object:Readonly])(tm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&um(e,t)}(n,e);var t=cm(n);function n(e,r){var o;return dm(this,n),(o=t.call(this)).chooseWalletViewModel=e,o.sendViewModel=r,o.selectedNetwork=void 0,o.wallet=void 0,o.amount=void 0,o.currencyMode=void 0,o.wallet=null,o.amount=0,o.currencyMode=nm.token,(0,oe.rC)(lm(o),{selectedNetwork:oe.LO,wallet:oe.LO,amount:oe.LO,currencyMode:oe.LO,error:oe.Fl,calculateAvailableAmount:oe.Fl,toggleCurrencyMode:oe.aD}),o}return ym(n,[{key:"setDefaults",value:function(){this.wallet=null,this.amount=0,this.currencyMode=nm.token}},{key:"onInitialize",value:function(){this.chooseWalletViewModel.initialize(),this._bind()}},{key:"afterReactionsRemoved",value:function(){this.chooseWalletViewModel.end()}},{key:"_bind",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e.sendViewModel.wallet}),(function(t){e.wallet=t}))),this.addReaction((0,oe.U5)((function(){return e.sendViewModel.amount}),(function(t){e.amount=t})))}},{key:"error",get:function(){var e,t=this.wallet,n=this.amount;return t?!n||(null!=n?n:0)<=0?hm.invalidAmount:(null!=n?n:0)>(null!==(e=this.calculateAvailableAmount)&&void 0!==e?e:0)?hm.insufficientFunds:null:hm.destinationWalletIsMissing}},{key:"calculateAvailableAmount",get:function(){var e=this.wallet;if(!e)return null;var t=e.amount;return this.currencyMode===nm.fiat&&(t=(0,Ce.eP)(t*e.priceInCurrentFiat,2)),os.Yd.log("availableAmount ".concat(t),os.gr.debug),t}},{key:"isTokenValidForSelectedNetwork",value:function(){var e,t=this.selectedNetwork!==Eb.bitcoin||!0===(null===(e=this.wallet)||void 0===e?void 0:e.token.isRenBTC);return t}},{key:"toggleCurrencyMode",value:function(){this.currencyMode===nm.token?this.currencyMode=nm.fiat:this.currencyMode=nm.token}}]),n}(ue.j))||tm)||tm)||tm)||tm;var mm=(0,v.Z)("div")({name:"Wrapper",class:"winb1oj"}),bm=(0,v.Z)("div")({name:"TopWrapper",class:"t14adzd2"}),wm=(0,v.Z)("div")({name:"Title",class:"t1cscsum"}),gm=(0,v.Z)("div")({name:"BalanceText",class:"b1lhexsq"}),km=(0,v.Z)("div")({name:"AllBalance",class:"a6syi9z"}),jm=(0,v.Z)(U.JO)({name:"WalletBalanceIcon",class:"w1c9secz"}),Om=(0,v.Z)("div")({name:"Max",class:"m14nnyh5"}),xm=(0,v.Z)("div")({name:"MainWrapper",class:"m59lg9v"}),Sm=(0,v.Z)("div")({name:"InputWrapper",class:"i9ca2yh"}),Pm=(0,v.Z)("div")({name:"BottomWrapper",class:"bnsjjy3"}),Am=(0,d.Pi)((function(e){var t,n,o,i,a,u,c,s=e.viewModel,l=s.chooseTokenAndAmountViewModel,f=(0,Ue.YN)((function(){var e=l.wallet,t=l.currencyMode;if(!e)return null;var n=l.calculateAvailableAmount;return n?t===nm.fiat?"".concat((0,Ce.D$)(n,{maximumFractionDigits:2})," ").concat(r.k.fiat.code):"".concat((0,Ce.D$)(n,{maximumFractionDigits:9})," ").concat(e.token.symbol):null})),d=(0,Ue.YN)((function(){var e=s.amount,t=l.wallet,n=l.currencyMode;if(!t)return"";var o=e*t.priceInCurrentFiat,i=r.k.fiat.code,a=2;return n===nm.fiat&&(o=t.priceInCurrentFiat>0?e/t.priceInCurrentFiat:0,i=t.token.symbol,a=t.token.decimals),"".concat(i," ").concat((0,Ce.D$)(o,{maximumFractionDigits:a}))})),p=(0,Ue.YN)((function(){var e=l.error,t=l.amount,n="";return l.error&&0!==t?n="error":e||t!==l.calculateAvailableAmount||(n="success"),n})),y=(0,Ue.YN)((function(){return l.amount===l.calculateAvailableAmount}));return(0,g.jsxs)(mm,{children:[(0,g.jsxs)(bm,{children:[(0,g.jsx)(wm,{children:"From"}),(0,g.jsx)(gm,{children:(0,g.jsxs)(km,{className:b()((a={},u=p,c=!0,u in a?Object.defineProperty(a,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[u]=c,a)),onClick:function(){var e=l.calculateAvailableAmount,t=(0,Ce.D$)(null!=e?e:0,{maximumFractionDigits:9,groupingSeparator:""});s.enterAmount(Number(t)),s.setMaxWasClicked()},children:[(0,g.jsx)(jm,{name:"wallet"}),f,y?null:(0,g.jsx)(Om,{children:"MAX"})]})})]}),(0,g.jsxs)(xm,{children:[(0,g.jsx)(om.l,{viewModel:l.chooseWalletViewModel,customFilter:function(e){return e.amount>0},selector:(0,g.jsx)(em,{viewModel:l.chooseWalletViewModel}),selectedWallet:s.wallet,showOtherWallets:!1,onWalletChange:function(e){s.chooseWallet(e)}}),(0,g.jsx)(Sm,{children:(0,g.jsx)(Vv,{placeholder:(0,Ce.D$)(0,{maximumFractionDigits:null!==(t=null===(n=l.wallet)||void 0===n?void 0:n.token.decimals)&&void 0!==t?t:0}),value:0===s.amount?void 0:s.amount,decimals:null===(o=s.wallet)||void 0===o?void 0:o.token.decimals,onChange:function(e){s.enterAmount(Number(e))}})})]}),null!==(i=l.wallet)&&void 0!==i&&i.priceInCurrentFiat?(0,g.jsx)(Pm,{children:(0,g.jsx)(rr,{title:d,onClick:function(){l.toggleCurrencyMode(),(0,Rt.L9)({name:"Send_USD_Button",params:{Mode:l.currencyMode===nm.fiat?"Fiat":"Token"}})}})}):null]})}));n(90405);var _m=n(19260),Tm=n(9235),Rm=n(18744),Cm=n(78354),Im=n(16404),Em=n(21816),Mm=n(64532);function Dm(e){return Dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(e)}function Fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bm(e,t){if(t&&("object"===Dm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zm(e){var t="function"==typeof Map?new Map:void 0;return Zm=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Wm(e,arguments,zm(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Um(r,e)},Zm(e)}function Wm(e,t,n){return Wm=Lm()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Um(o,n.prototype),o},Wm.apply(null,arguments)}function Lm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Um(e,t){return Um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Um(e,t)}function zm(e){return zm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zm(e)}var Km=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Um(e,t)}(u,e);var t,n,r,o,i,a=(t=u,n=Lm(),function(){var e,r=zm(t);if(n){var o=zm(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Bm(this,e)});function u(){return Fm(this,u),a.apply(this,arguments)}return r=u,i=[{key:"invalidSourceWallet",value:function(){return new u("Source wallet is not valid")}},{key:"sendToYourself",value:function(){return new u("You can not send tokens to yourself")}},{key:"invalidPayingFeeWallet",value:function(){return new u("Paying fee wallet is not valid")}},{key:"swapPoolsNotFound",value:function(){return new u("Swap pools not found")}},{key:"unknown",value:function(){return new u("Unknown error")}}],(o=null)&&Nm(r.prototype,o),i&&Nm(r,i),Object.defineProperty(r,"prototype",{writable:!1}),u}(Zm(Error));function qm(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Hm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qm(i,r,o,a,u,"next",e)}function u(e){qm(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ym,Qm,$m=function(){function e(t){var n=t.solanaAPIClient,r=t.feeRelayer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._solanaAPIClient=void 0,this._feeRelayer=void 0,this._solanaAPIClient=n,this._feeRelayer=r}var t,n,r,o,i,a;return t=e,n=[{key:"getFeeViaRelayMethod",value:(a=Hm(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.context,r=t.wallet,o=t.receiver,i=t.payingTokenMint,a=Wy.ZERO,a=new Hi.u64(a.add(n.lamportsPerSignature)),a=new Hi.u64(a.add(n.lamportsPerSignature)),r.mintAddress!==os.jQ.wrappedSOLMint.toString()){e.next=8;break}u=!1,e.next=12;break;case 8:return e.next=10,this._solanaAPIClient.findSPLTokenDestinationAddress({mintAddress:r.mintAddress,destinationAddress:o});case 10:c=e.sent,u=c.isUnregisteredAsocciatedToken;case 12:if(this._isFreeTransactionNotAvailableAndUserIsPayingWithSOL({context:n,payingTokenMint:i})&&(a=new Hi.u64(a.sub(n.lamportsPerSignature))),s=new os.lk({transaction:a,accountBalances:u?n.minimumTokenAccountBalance:Wy.ZERO}),!this._isFreeTransactionNotAvailableAndUserIsPayingWithSOL({context:n,payingTokenMint:i})){e.next=16;break}return e.abrupt("return",s);case 16:return e.abrupt("return",this._feeRelayer.feeCalculator.calculateNeededTopUpAmount({context:n,expectedFee:s,payingTokenMint:i?new bs.PublicKey(i):void 0}));case 17:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"sendToSolanaBCViaRelayMethod",value:(i=Hm(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,r=t.wallet,o=t.receiver,i=t.amount,a=t.payingFeeWallet,u=this._getPayingFeeToken({payingFeeWallet:a}),c=r.mintAddress,e.next=5,this._prepareForSendingToSolanaNetworkViaRelayMethod({context:n,wallet:r,receiver:o,amount:(0,os.K4)(i,r.token.decimals),payingFeeToken:u});case 5:if(s=e.sent,l=s.preparedTransaction,!s.useFeeRelayer){e.next=12;break}return e.abrupt("return",this._feeRelayer.topUpAndRelayTransaction({context:n,transaction:l,fee:u,config:new Rm.Bx({operationType:Rm.pV.transfer,currency:c})}));case 12:return e.abrupt("return",this._solanaAPIClient.sendTransaction({preparedTransaction:l}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_prepareForSendingToSolanaNetworkViaRelayMethod",value:(o=Hm(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.context,r=t.wallet,o=t.receiver,i=t.amount,a=t.payingFeeToken,u=t.minRentExemption,c=(0,os.On)(i,r.token.decimals),s=r.pubkey){e.next=5;break}throw os.qh.other("Source wallet is not valid");case 5:if(o!==s){e.next=7;break}throw os.qh.other("You can not send tokens to yourself");case 7:if(this._isFreeTransactionNotAvailableAndUserIsPayingWithSOL({context:n,payingTokenMint:null==a?void 0:a.mint.toString()})?(l=null,f=!1):(l=n.feePayerAddress,f=!0),!r.isNativeSOL){e.next=14;break}return e.next=11,this._solanaAPIClient.prepareSendingNativeSOL({account:this._solanaAPIClient.provider.wallet.publicKey,destination:o,amount:c,feePayer:l});case 11:d=e.sent,e.next=17;break;case 14:return e.next=16,this._solanaAPIClient.prepareSendingSPLTokens({account:this._solanaAPIClient.provider.wallet.publicKey,mintAddress:r.mintAddress,decimals:r.token.decimals,fromPublicKey:s,destinationAddress:o,amount:c,feePayer:l,transferChecked:f,minRentExemption:u});case 16:d=e.sent.preparedTransaction;case 17:return e.abrupt("return",{preparedTransaction:d,useFeeRelayer:f});case 18:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_getPayingFeeToken",value:function(e){var t=e.payingFeeWallet;if(!t)return null;var n=t.pubkey;if(!n)throw Km.invalidPayingFeeWallet();var r=new bs.PublicKey(n),o=new bs.PublicKey(t.mintAddress);return new Rm._D({address:r,mint:o})}},{key:"_isFreeTransactionNotAvailableAndUserIsPayingWithSOL",value:function(e){var t=e.context,n=e.payingTokenMint,r=new Hi.u64(t.lamportsPerSignature.muln(2));return n===os.jQ.wrappedSOLMint.toString()&&!t.usageStatus.isFreeTransactionFeeAvailable({transactionFee:r})}}],n&&Vm(t.prototype,n),r&&Vm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Gm(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Jm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gm(i,r,o,a,u,"next",e)}function u(e){Gm(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tb(e,t,n){return t&&eb(e.prototype,t),n&&eb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e[e.relay=0]="relay"}(Qm||(Qm={}));var nb,rb=function(){function e(t){Xm(this,e),this.type=void 0,this.type=t}return tb(e,null,[{key:"relay",get:function(){return new e(Qm.relay)}},{key:"default",get:function(){return e.relay}}]),e}();!function(e){e.solana="solana",e.bitcoin="bitcoin"}(nb||(nb={}));var ob=(0,ie.b2)()(Ym=Reflect.metadata("design:type",Function)(Ym=Reflect.metadata("design:paramtypes",[void 0===Re.m?Object:Re.m,void 0===Em.n?Object:Em.n,void 0===of?Object:of,void 0===Mm.D?Object:Mm.D,void 0===Cm.dM?Object:Cm.dM,void 0===Te.A?Object:Te.A])(Ym=function(){function e(t,n,r,o,i,a){Xm(this,e),this._solanaAPIClient=t,this._orcaSwap=n,this._renVMBurnAndReleaseService=r,this._feeRelayer=o,this._feeRelayerRelaySolanaClient=i,this._walletsRepository=a,this.relayMethod=void 0,this._contextManager=void 0,this._sendServiceRelayMethod=void 0,this.relayMethod=rb.default;var u=new Rm._x;this._contextManager=new Im.e({owner:this._solanaAPIClient.provider.wallet.publicKey,solanaAPIClient:this._feeRelayerRelaySolanaClient,feeRelayerAPIClient:u}),this._sendServiceRelayMethod=new $m({solanaAPIClient:this._solanaAPIClient,feeRelayer:this._feeRelayer})}var t,n,r,o,i;return tb(e,[{key:"load",value:(i=Jm(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._orcaSwap.load();case 2:return e.next=4,this._contextManager.update();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"checkAccountValidation",value:function(e){return this._solanaAPIClient.checkAccountValidation(e)}},{key:"isTestNet",value:function(){return"mainnet-beta"!==this._solanaAPIClient.endpoint.network}},{key:"getFees",value:(o=Jm(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.wallet,r=t.receiver,o=t.network,i=t.payingTokenMint,e.t0=o,e.next=e.t0===nb.bitcoin?4:e.t0===nb.solana?5:19;break;case 4:return e.abrupt("return",new os.lk({transaction:new Hi.u64(2e4),accountBalances:Wy.ZERO,others:[new os.AR({amount:2e-4,unit:"renBTC"})]}));case 5:if(r){e.next=7;break}return e.abrupt("return",null);case 7:e.t1=this.relayMethod.type,e.next=e.t1===Qm.relay?10:19;break;case 10:return e.t2=this._sendServiceRelayMethod,e.next=13,this._contextManager.getCurrentContext();case 13:return e.t3=e.sent,e.t4=n,e.t5=r,e.t6=i,e.t7={context:e.t3,wallet:e.t4,receiver:e.t5,payingTokenMint:e.t6},e.abrupt("return",e.t2.getFeeViaRelayMethod.call(e.t2,e.t7));case 19:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getAvailableWalletsToPayFee",value:function(e){var t=this,n=e.feeInSOL;return Promise.all(this._walletsRepository.getWallets().filter((function(e){var t;return(null!==(t=e.lamports)&&void 0!==t?t:Wy.ZERO).gt(Wy.ZERO)})).map(function(){var e=Jm(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.mintAddress!==os.jQ.wrappedSOLMint.toString()){e.next=2;break}return e.abrupt("return",(null!==(o=r.lamports)&&void 0!==o?o:Wy.ZERO).gte(n.total)?r:null);case 2:return e.abrupt("return",t._feeRelayer.feeCalculator.calculateFeeInPayingToken({orcaSwap:t._orcaSwap,feeInSOL:n,payingFeeTokenMint:new bs.PublicKey(r.mintAddress)}).then((function(e){var t,n;return(null!==(t=e.total)&&void 0!==t?t:Wy.ZERO).lte(null!==(n=r.lamports)&&void 0!==n?n:Wy.ZERO)})).then((function(e){return e?r:null})).catch((function(){return null})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter(Boolean))}},{key:"getFeesInPayingToken",value:(r=Jm(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.feeInSOL,r=t.payingFeeWallet,this.relayMethod.type===Qm.relay){e.next=3;break}return e.abrupt("return",null);case 3:if(r.mintAddress!==os.jQ.wrappedSOLMint.toString()){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",this._feeRelayer.feeCalculator.calculateFeeInPayingToken({orcaSwap:this._orcaSwap,feeInSOL:n,payingFeeTokenMint:new bs.PublicKey(r.mintAddress)}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getFreeTransactionFeeLimit",value:(n=Jm(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._contextManager.getCurrentContext();case 2:return e.abrupt("return",e.sent.usageStatus);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"send",value:(t=Jm(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wallet,r=t.receiver,o=t.amount,i=t.network,a=t.payingFeeWallet,e.next=3,this._contextManager.update();case 3:if(u=(0,os.On)(o,n.token.decimals),c=n.pubkey){e.next=7;break}throw Km.invalidSourceWallet();case 7:if(r!==c){e.next=9;break}throw Km.sendToYourself();case 9:e.t0=i,e.next=e.t0===nb.solana?12:e.t0===nb.bitcoin?27:29;break;case 12:e.t1=this.relayMethod.type,e.next=e.t1===Qm.relay?15:26;break;case 15:return e.t2=this._sendServiceRelayMethod,e.next=18,this._contextManager.getCurrentContext();case 18:return e.t3=e.sent,e.t4=n,e.t5=r,e.t6=u,e.t7=a,e.t8={context:e.t3,wallet:e.t4,receiver:e.t5,amount:e.t6,payingFeeWallet:e.t7},s=e.t2.sendToSolanaBCViaRelayMethod.call(e.t2,e.t8),e.abrupt("break",26);case 26:return e.abrupt("break",29);case 27:return s=this._renVMBurnAndReleaseService.burnAndRelease({recipient:r,amount:u}),e.abrupt("break",29);case 29:return e.abrupt("return",s);case 30:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}())||Ym)||Ym)||Ym;function ib(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ab(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ub=(0,v.Z)("div")({name:"TooltipContent",class:"th7c4oe"}),cb=function(e){var t=e.viewModel,n=ib((0,o.useState)(null),2),r=n[0],i=n[1],a=(0,o.useCallback)((function(e){e&&(i(null),t.getFreeTransactionFeeLimit().then((function(e){return i(e)})))}),[t]),u=(0,g.jsx)(ub,{children:r?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("span",{children:["On the Solana network, the first ",r.maxUsage," transactions in a day are paid by P2P.org. You have ",r.maxUsage-r.currentUsage," free transactions left for today"]}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{})," Subsequent transactions will be charged based on the Solana blockchain gas fee."]}):(0,g.jsx)(ub,{className:"loader",children:(0,g.jsx)(Qp,{})})}),c=(0,o.useMemo)((function(){return r&&r.currentUsage>=r.maxUsage?y.rS.colors.textIcon.secondary:y.rS.colors.system.successMain}),[r]);return(0,g.jsx)(U.TE,{withClose:!0,elContent:u,iconColor:c,onChange:a})};n(17405);var sb=(0,v.Z)("div")({name:"Wrapper",class:"w1s7pm4b"}),lb=(0,v.Z)(or.y)({name:"TokenAvatarStyled",class:"tgyydx5"}),fb=(0,v.Z)("div")({name:"IconWrapper",class:"imrw9dq"}),db=(0,v.Z)(U.JO)({name:"RoundStopIcon",class:"r1xriz7l"}),pb=(0,v.Z)("div")({name:"Fees",class:"fhij2be"}),yb=(0,v.Z)("div")({name:"Top",class:"t12v5tpm"}),hb=(0,v.Z)("div")({name:"Bottom",class:"b1orkgqf"}),vb=(0,v.Z)("span")({name:"Label",class:"lzi9lhp"}),mb=(0,d.Pi)((function(e){var t,n,r,o=e.viewModel,i=o.getPrice("SOL"),a=o.payingWallet,u=o.feeInfo;return(0,g.jsxs)(sb,{children:[!a&&null!==(t=u.value)&&void 0!==t&&t.hasAvailableWalletToPayFee?null:null!==(n=u.value)&&void 0!==n&&n.hasAvailableWalletToPayFee?(0,g.jsx)(lb,{token:null==a?void 0:a.token,size:44}):(0,g.jsx)(fb,{children:(0,g.jsx)(db,{name:"round-stop"})}),(0,g.jsxs)(pb,{children:[a?(0,g.jsx)(yb,{children:bb({feeAmount:null===(r=u.value)||void 0===r?void 0:r.feeAmountInSOL,solPrice:i})}):null,(0,g.jsx)(hb,{children:wb({state:u.state.type,value:u.value,payingWallet:a})})]})]})}));function bb(e){var t=e.feeAmount,n=e.solPrice;if(!t)return null;var o=[];t.accountBalances.gtn(0)&&o.push("Account creation fee"),t.transaction.gtn(0)&&o.push("Transaction fee");var i=o.join(" + "),a=(0,os.K4)(t.total,9),u="".concat((0,Ce.D$)(a,{maximumFractionDigits:9,autoSetMaximumFractionDigits:!0})," SOL");return n&&(a*=n,u="~".concat(r.k.fiat.symbol," ").concat((0,Ce.D$)(a,{maximumFractionDigits:2}))),(0,g.jsxs)(vb,{children:[i," ",u]})}function wb(e){var t=e.state,n=e.value,r=e.payingWallet;if(!r)return(0,g.jsx)(vb,{children:"Choose the token to pay fees"});switch(t){case ae.wS.notRequested:return(0,g.jsx)(vb,{children:"Choose the token to pay fees"});case ae.wS.loading:return(0,g.jsx)(vb,{children:"Calculating fees"});case ae.wS.loaded:return n?n.hasAvailableWalletToPayFee?(0,g.jsxs)(vb,{children:[(0,Ce.D$)((0,os.K4)(n.feeAmount.total,r.token.decimals),{maximumFractionDigits:9,autoSetMaximumFractionDigits:!0})," ",r.token.symbol]}):(0,g.jsx)(vb,{className:"alert",children:"Not enough funds"}):(0,g.jsx)(vb,{children:"Could not calculating fees"});case ae.wS.error:return(0,g.jsx)(vb,{className:"alert",children:"Could not calculating fees"})}}n(1820);var gb=(0,v.Z)("div")({name:"Wrapper",class:"w1pai2er"}),kb=(0,d.Pi)((function(e){var t=e.viewModel;return(0,g.jsx)(gb,{children:(0,g.jsx)(om.l,{viewModel:t.choosePayingWalletViewModel,selector:(0,g.jsx)(mb,{viewModel:t}),selectedWallet:t.payingWallet,showOtherWallets:!1,onWalletChange:function(e){t.selectPayingWallet(e)}})})}));n(93029);var jb=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,Ue.YN)((function(){var e,n,r=t.amount,o=t.wallet;return Ob({fee:r,unit:null!==(e=null==o?void 0:o.token.symbol)&&void 0!==e?e:"",price:t.getPrice(null!==(n=null==o?void 0:o.token.symbol)&&void 0!==n?n:"")})})),o=(0,Ue.YN)((function(){var e,n,r,o=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmount,i=t.payingWallet;return o?function(e){var t=e.feeAmount,n=e.prices,r=e.symbol,o=e.decimals;return t.transaction.eqn(0)?(0,g.jsxs)(Tm.xv,{children:["Free ",(0,g.jsx)(Tm.xv,{className:"green inline-flex",children:"(Paid by P2P.org)"})]}):Ob({fee:(0,os.K4)(t.transaction,null!=o?o:0),unit:r,price:n[r]})}({feeAmount:o,prices:t.getPrices([null!==(n=null==i?void 0:i.token.symbol)&&void 0!==n?n:""]),symbol:null!==(r=null==i?void 0:i.token.symbol)&&void 0!==r?r:"",decimals:null==i?void 0:i.token.decimals}):""})),i=t.network!==Eb.solana?null:(0,g.jsx)(cb,{viewModel:t}),a=(0,Ue.YN)((function(){var e,n=t.network,r=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmount;return!r||(n!==Eb.solana||r.accountBalances.eq(Wy.ZERO))})),u=(0,Ue.YN)((function(){var e,n,r,o=t.network,i=t.payingWallet,a=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmount;return a?o!==Eb.solana?null:function(e){var t=e.feeAmount,n=e.price,r=e.symbol,o=e.decimals;if(t.accountBalances.lten(0))return null;return Ob({fee:(0,os.K4)(t.accountBalances,null!=o?o:0),unit:r,price:n})}({feeAmount:a,price:t.getPrice(null!==(n=null==i?void 0:i.token.symbol)&&void 0!==n?n:""),symbol:null!==(r=null==i?void 0:i.token.symbol)&&void 0!==r?r:"",decimals:null==i?void 0:i.token.decimals}):null})),c=(0,Ue.YN)((function(){var e,n=t.network,r=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmount;if(n!==Eb.bitcoin)return!0;var o=null==r?void 0:r.others;return!o||0===o.length})),s=(0,Ue.YN)((function(){var e,n,r=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmountInSOL;return r?function(e){var t=e.feeAmount,n=e.prices,r=t.others;if(!r||0===r.length)return null;return r.map((function(e,t){return(0,g.jsx)(Tm.X2,{children:Ob({fee:e.amount,unit:e.unit,price:n[e.unit]})},t)}))}({feeAmount:r,prices:null!==(n=t.getPrices(["SOL","renBTC"]))&&void 0!==n?n:{}}):null})),l=(0,Ue.YN)((function(){var e;if(t.relayMethod.type!==Qm.relay)return!0;if(t.network!==Eb.solana)return!0;var n=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmount;return!n||n.total.eqn(0)})),f=(0,Ue.YN)((function(){var e,n,o,i=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmount;if(!i)return null;var a=t.payingWallet;return function(e){var t=e.feeAmount,n=e.price,o=e.symbol,i=e.decimals;if(t.total.eqn(0))return(0,g.jsxs)(Tm.xv,{children:[r.k.fiat.symbol,"0"]});return Ob({fee:(0,os.K4)(t.total,null!=i?i:0),unit:o,price:n})}({feeAmount:i,price:t.getPrice(null!==(n=null==a?void 0:a.token.symbol)&&void 0!==n?n:""),symbol:null!==(o=null==a?void 0:a.token.symbol)&&void 0!==o?o:"",decimals:null==a?void 0:a.token.decimals})})),d=(0,Ue.YN)((function(){var e,n,r=null===(e=t.feeInfo.value)||void 0===e?void 0:e.feeAmount;if(!r)return"";var o=t.payingWallet,i=null==o?void 0:o.token.decimals,a=null!==(n=null==o?void 0:o.token.symbol)&&void 0!==n?n:"",u=(0,os.K4)(r.total,null!=i?i:0);return"".concat((0,Ce.D$)(u,{maximumFractionDigits:9})," ").concat(a)}));return(0,g.jsxs)(U.UQ,{title:(0,g.jsx)(_m.i,{title:"Transaction details",titleBottomName:"Total fee",titleBottomValue:d}),open:!0,noContentPadding:!0,children:[(0,g.jsxs)(Tm.lk,{children:[(0,g.jsxs)(Tm.X2,{children:[(0,g.jsx)(Tm.xv,{className:"gray",children:"Receive"}),n]}),(0,g.jsxs)(Tm.X2,{children:[(0,g.jsx)(Tm.xv,{className:"gray",children:"Transfer fee"}),(0,g.jsxs)(Tm.xv,{className:"inline-flex",children:[o," ",i]})]}),a?null:(0,g.jsxs)(Tm.X2,{children:[(0,g.jsx)(Tm.xv,{className:"gray",children:"Account creation fee"}),u]}),c?null:s]}),l?null:(0,g.jsx)(Tm.lk,{children:(0,g.jsx)(kb,{viewModel:t})}),(0,g.jsx)(Tm.lk,{className:"total",children:(0,g.jsxs)(Tm.X2,{children:[(0,g.jsx)(Tm.xv,{children:"Total fee"}),f]})})]})}));function Ob(e){var t=e.fee,n=e.unit,o=e.price,i=t*(void 0===o?0:o);return(0,g.jsxs)(Tm.xv,{className:"right",children:[(0,g.jsxs)(Tm.xv,{children:[(0,Ce.D$)(t,{maximumFractionDigits:9})," ",n]})," ",(0,g.jsxs)(Tm.xv,{className:"gray",children:["(~",r.k.fiat.symbol,(0,Ce.D$)(i,{maximumFractionDigits:2}),")"]})]})}var xb=n(63514),Sb=(0,v.Z)("div")({name:"Wrapper",class:"w19p83m2"}),Pb=(0,d.Pi)((function(e){var t,n,r=e.viewModel;if((0,Ue.YN)((function(){var e,t,n;return(null!==(e=null===(t=r.feeInfo.value)||void 0===t||null===(n=t.feeAmountInSOL)||void 0===n?void 0:n.accountBalances)&&void 0!==e?e:Wy.ZERO).eq(Wy.ZERO)})))return null;var o=null!==(t=null===(n=r.wallet)||void 0===n?void 0:n.token.symbol)&&void 0!==t?t:"";return(0,g.jsxs)(Sb,{children:["This address does not appear to have a ",o," account. You have to pay a one-time fee to create a ",o," account for this address. You can choose which currency to pay in below."]})}));n(8844);var Ab=(0,v.Z)("div")({name:"Wrapper",class:"w67w5ef"}),_b=(0,v.Z)("div")({name:"IconWrapper",class:"i11ybn8b"}),Tb=(0,v.Z)(U.JO)({name:"RoundStopIcon",class:"r12d84mq"}),Rb=(0,v.Z)("span")({name:"Text",class:"t1dmsz3d"}),Cb=(0,d.Pi)((function(e){var t=e.viewModel,n=!0,r="There is an error occurred. Please try again";switch(t.state){case Li.H.initializing:case Li.H.loading:break;case Li.H.loaded:0===t.data.length&&t.searchString&&(n=!1,r="There’s no address like this");break;case Li.H.error:n=!1}return n?null:(0,g.jsxs)(Ab,{children:[(0,g.jsx)(_b,{children:(0,g.jsx)(Tb,{name:"round-stop"})}),(0,g.jsx)(Rb,{children:r})]})}));n(91475);var Ib,Eb,Mb=n(17940),Db=n(96426);function Fb(e){return new RegExp("^(".concat(e?"tb1|":"","bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$"))}function Nb(e,t){return t.some((function(t){return t.test(e)}))}function Bb(e){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(e)}function Zb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Wb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wb(e,t){if(e){if("string"==typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lb(e,t):void 0}}function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ub(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function zb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ub(i,r,o,a,u,"next",e)}function u(e){Ub(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qb(e,t){return qb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qb(e,t)}function Hb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qb(e);if(t){var o=Qb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vb(this,n)}}function Vb(e,t){if(t&&("object"===Bb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yb(e)}function Yb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qb(e)}!function(e){e.solana="solana",e.bitcoin="bitcoin"}(Eb||(Eb={}));var $b=(0,ie.Yn)(ie.Fw.ResolutionScoped)(Ib=function(e,t){return(0,ie.f3)((0,ie.gw)((function(){return Rw})))(e,void 0,5)}(Ib=Reflect.metadata("design:type",Function)(Ib=Reflect.metadata("design:paramtypes",[void 0===Mb.g9?Object:Mb.g9,void 0===ob?Object:ob,void 0===Te.A?Object:Te.A,void 0===vm?Object:vm,void 0===im.t?Object:im.t,"undefined"==typeof Readonly?Object:Readonly,void 0===Xt?Object:Xt])(Ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&qb(e,t)}(a,e);var t,n,o,i=Hb(a);function a(e,t,n,r,o,u,c){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(s=i.call(this))._pricesService=e,s._sendService=t,s.walletsRepository=n,s.chooseTokenAndAmountViewModel=r,s.choosePayingWalletViewModel=o,s.selectAddressViewModel=u,s._modalService=c,s.wallet=void 0,s.amount=void 0,s.maxWasClicked=void 0,s.recipient=void 0,s.network=void 0,s.loadingState=void 0,s.payingWallet=void 0,s.feeInfo=void 0,s.relayMethod=void 0,s._walletsLoadPromise=void 0,s.relayMethod=rb.default,s.wallet=null,s.amount=0,s.maxWasClicked=!1,s.recipient=null,s.network=Eb.solana,s.loadingState=ae.EP.notRequested,s.payingWallet=null,s.feeInfo=new ae.c2(Promise.resolve({feeAmount:os.lk.zero(),feeAmountInSOL:os.lk.zero(),hasAvailableWalletToPayFee:!1})),s._walletsLoadPromise=null,(0,oe.rC)(Yb(s),{wallet:oe.LO,amount:oe.LO,recipient:oe.LO,network:oe.LO,loadingState:oe.LO,payingWallet:oe.LO,feeInfo:oe.LO,relayMethod:oe.LO,getSelectedWallet:oe.Fl,getFeeInCurrentFiat:oe.Fl,getSelectableNetworks:oe.Fl,chooseWallet:oe.aD,enterAmount:oe.aD,setMaxWasClicked:oe.aD,selectRecipient:oe.aD,selectNetwork:oe.aD,selectPayingWallet:oe.aD,openConfirmModal:oe.aD}),s}return t=a,n=[{key:"setDefaults",value:function(){this.relayMethod=rb.default,this.wallet=null,this.amount=0,this.maxWasClicked=!1,this.recipient=null,this.network=Eb.solana,this.loadingState=ae.EP.notRequested,this.payingWallet=null,this.feeInfo=new ae.c2(Promise.resolve({feeAmount:os.lk.zero(),feeAmountInSOL:os.lk.zero(),hasAvailableWalletToPayFee:!1})),this._walletsLoadPromise=null}},{key:"onInitialize",value:function(){this.chooseTokenAndAmountViewModel.initialize(),this.selectAddressViewModel.initialize(),this.choosePayingWalletViewModel.initialize(),this._bind(),this.reload()}},{key:"afterReactionsRemoved",value:function(){this.chooseTokenAndAmountViewModel.end(),this.selectAddressViewModel.end(),this.choosePayingWalletViewModel.end(),this._walletsLoadPromise&&this._walletsLoadPromise.cancel()}},{key:"_bind",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e.recipient}),(function(t){zb(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.wallet)&&t){n.next=3;break}return n.abrupt("return",os.lk.zero());case 3:return n.abrupt("return",e._sendService.getFees({wallet:r,receiver:t.address,network:e.network,payingTokenMint:r.mintAddress}).then((function(t){return t?e._sendService.getFeesInPayingToken({feeInSOL:t,payingFeeWallet:r}):os.lk.zero()})));case 4:case"end":return n.stop()}}),n)})))().then((function(t){var n,r=e.amount,o=e.wallet;r&&o&&t&&((0,os.On)(r,o.token.decimals).add(t.total).gt(null!==(n=o.lamports)&&void 0!==n?n:Wy.ZERO)?(0,oe.z)((function(){e.payingWallet=e.walletsRepository.nativeWallet})):(0,oe.z)((function(){e.payingWallet=o})))})).catch((function(e){return console.error(e)}))}))),this._bindFees()}},{key:"_bindFees",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return{payingWallet:e.payingWallet,recipient:e.recipient,network:e.network,wallet:e.getSelectedWallet}}),(function(t){var n=t.payingWallet,r=t.recipient,o=t.network,i=t.wallet;e.feeInfo.request=i?e._sendService.getFees({wallet:i,receiver:null==r?void 0:r.address,network:o,payingTokenMint:null==n?void 0:n.mintAddress}).then(function(){var t=zb(regeneratorRuntime.mark((function t(r){var o,i,a,u,c,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o=null!=r?r:os.lk.zero()).total.eq(Wy.ZERO)){t.next=3;break}return t.abrupt("return",{feeAmount:os.lk.zero(),feeAmountInSOL:os.lk.zero(),hasAvailableWalletToPayFee:!0});case 3:if(i=n){t.next=6;break}return t.abrupt("return",{feeAmount:os.lk.zero(),feeAmountInSOL:os.lk.zero(),hasAvailableWalletToPayFee:!1});case 6:return a=[],u=null,t.prev=8,t.next=11,Promise.all([e._sendService.getAvailableWalletsToPayFee({feeInSOL:o}),e._sendService.getFeesInPayingToken({feeInSOL:o,payingFeeWallet:i})]);case 11:return s=t.sent,l=Zb(s,2),a=l[0],u=l[1],t.abrupt("return",{feeAmount:null!==(c=u)&&void 0!==c?c:os.lk.zero(),feeAmountInSOL:o,hasAvailableWalletToPayFee:0!==a.length});case 18:return t.prev=18,t.t0=t.catch(8),console.error(t.t0),t.abrupt("return",{feeAmount:os.lk.zero(),feeAmountInSOL:o,hasAvailableWalletToPayFee:0!==a.length});case 22:case"end":return t.stop()}}),t,null,[[8,18]])})));return function(e){return t.apply(this,arguments)}}()):Promise.resolve({feeAmount:os.lk.zero(),feeAmountInSOL:os.lk.zero(),hasAvailableWalletToPayFee:!1}),e.feeInfo.reload()})))}},{key:"reload",value:function(){var e=this;this.loadingState=ae.EP.loading,this._walletsLoadPromise=(0,oe.gx)((function(){return e.walletsRepository.state===Li.H.loaded})),Promise.all([this._sendService.load(),this._walletsLoadPromise]).then((function(){(0,oe.z)((function(){e.loadingState=ae.EP.loaded,e.wallet||(e.wallet=e.walletsRepository.nativeWallet);var t=e.walletsRepository.getWallets().find((function(e){return e.mintAddress===r.k.payingTokenMint}));t&&(e.payingWallet=t)}))})).catch((function(t){console.error(t),(0,oe.z)((function(){e.loadingState=ae.EP.error(t)}))}))}},{key:"_send",value:function(){var e,t,n,r,o,i,a,u,c=this.wallet,s=this.amount,l=this.recipient;if(c&&s&&l){var f=null===(e=this.feeInfo.value)||void 0===e?void 0:e.feeAmount;if(f&&f.total.gtn(0)&&(null===(t=this.payingWallet)||void 0===t?void 0:t.pubkey)===c.pubkey){var d,p=(0,os.K4)(f.total,null===(d=this.payingWallet)||void 0===d?void 0:d.token.decimals);s+p>c.amount&&(s-=p)}var y=this.network;this._modalService.openModal(Gt.SHOW_MODAL_PROCESS_TRANSACTION,{transaction:new Db.ir({sendService:this._sendService,network:y,sender:c,receiver:l,authority:null!==(n=null===(r=this.walletsRepository.nativeWallet)||void 0===r?void 0:r.pubkey)&&void 0!==n?n:null,amount:(0,os.On)(s,c.token.decimals),payingFeeWallet:this.payingWallet,feeInSOL:null!==(o=null===(i=this.feeInfo.value)||void 0===i?void 0:i.feeAmountInSOL.total)&&void 0!==o?o:Wy.ZERO,feeInToken:null!==(a=null===(u=this.feeInfo.value)||void 0===u?void 0:u.feeAmount)&&void 0!==a?a:null,isSimulation:!1,isRenBTCViaBitcoinNetwork:y===Eb.bitcoin&&this._isRecipientBTCAddress()})})}}},{key:"getSelectedWallet",get:function(){return this.wallet}},{key:"getPrice",value:function(e){var t,n;return null!==(t=null===(n=this._pricesService.currentPrice(e))||void 0===n?void 0:n.value)&&void 0!==t?t:0}},{key:"getPrices",value:function(e){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wb(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o]=this.getPrice(o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getFeeInCurrentFiat",get:function(){var e=0,t=this.feeInfo.value;return t&&(e=(0,os.K4)(t.feeAmountInSOL.total,9)*this.getPrice("SOL")),"~".concat(r.k.fiat.symbol).concat((0,Ce.D$)(e,{maximumFractionDigits:2}))}},{key:"getSelectableNetworks",get:function(){var e,t=[Eb.solana];return null!==(e=this.getSelectedWallet)&&void 0!==e&&e.token.isRenBTC&&t.push(Eb.bitcoin),t}},{key:"getFreeTransactionFeeLimit",value:function(){return this._sendService.getFreeTransactionFeeLimit()}},{key:"chooseWallet",value:function(e){this.wallet=e,e.token.isRenBTC||this.network!==Eb.bitcoin||this.selectNetwork(Eb.solana)}},{key:"authenticateAndSend",value:function(){this._send()}},{key:"setMaxWasClicked",value:function(){this.maxWasClicked=!0}},{key:"enterAmount",value:function(e){this.amount=e}},{key:"selectRecipient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.recipient=e,null!==e&&(this._isRecipientBTCAddress()?this.network=Eb.bitcoin:this.network=Eb.solana)}},{key:"selectNetwork",value:function(e){switch(this.network=e,e){case Eb.solana:this._isRecipientBTCAddress()&&(this.selectAddressViewModel.clearRecipient(),this.selectAddressViewModel.clearSearching());break;case Eb.bitcoin:this._isRecipientBTCAddress()||(this.selectAddressViewModel.clearRecipient(),this.selectAddressViewModel.clearSearching())}}},{key:"selectPayingWallet",value:function(e){r.k.payingTokenMint=e.mintAddress,this.payingWallet=e}},{key:"_isRecipientBTCAddress",value:function(){var e=this.recipient;return!!e&&null===e.name&&Nb(e.address,[Fb(this._sendService.isTestNet())])}},{key:"openConfirmModal",value:function(){return this._modalService.openModal(Gt.SHOW_MODAL_CONFIRM_SEND,{viewModel:this})}},{key:"error",get:function(){return this.chooseTokenAndAmountViewModel.error||this.selectAddressViewModel.error}}],n&&Kb(t.prototype,n),o&&Kb(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(ue.j))||Ib)||Ib)||Ib)||Ib,Gb=(0,v.Z)("div")({name:"Wrapper",class:"wowy2yc"}),Jb=(0,v.Z)("div")({name:"IconWrapper",class:"i1c7td06"}),Xb=(0,v.Z)(U.JO)({name:"RecipientIcon",class:"r187k1gu"}),ew=(0,v.Z)("div")({name:"InfoWrapper",class:"ithid1e"}),tw=(0,v.Z)("div")({name:"Title",class:"t1po7n2i"}),nw=(0,v.Z)("div")({name:"Description",class:"d1sy6wv6"}),rw=(0,v.Z)("div")({name:"ClearWrapper",class:"c1kk859h"}),ow=(0,v.Z)(U.JO)({name:"ClearIcon",class:"c1me90nv"}),iw=(0,d.Pi)((function(e){var t=e.recipient,n=e.isPlaceholder,r=e.onRecipientClick,o=e.onClearClick;if(n)return(0,g.jsxs)(Gb,{children:[(0,g.jsx)(ud.Z,{height:44,width:44,borderRadius:12}),(0,g.jsxs)(ew,{children:[(0,g.jsx)(tw,{children:(0,g.jsx)(ud.Z,{width:100,height:16})}),(0,g.jsx)(nw,{children:(0,g.jsx)(ud.Z,{width:150,height:14})})]})]});if(!t)return null;var i=t.hasNoFunds||t.hasNoInfo,a=(0,Ue.YN)((function(){return!t.name&&i?(0,g.jsx)(Jb,{className:b()({isWarning:!0}),children:(0,g.jsx)(Xb,{name:"warning",className:b()({isWarning:!0})})}):(0,g.jsx)(Jb,{children:(0,g.jsx)(Xb,{name:"wallet"})})})),u=(0,Ue.YN)((function(){return(0,g.jsx)(tw,{children:t.name||(0,g.jsx)(Xp.x,{address:t.address,small:!0,gray:!0})})})),c=(0,Ue.YN)((function(){return t.name?(0,g.jsx)(nw,{children:(0,g.jsx)(Xp.x,{address:t.address,small:!0,gray:!0})}):i?(0,g.jsx)(nw,{className:b()({isWarning:!0}),children:t.hasNoFunds?"Caution: this address has no funds":"Could not retrieve account info"}):null}));return(0,g.jsxs)(Gb,{onClick:r,children:[a,(0,g.jsxs)(ew,{children:[u,c]}),o?(0,g.jsx)(rw,{onClick:o,children:(0,g.jsx)(ow,{name:"cross"})}):null]})}));n(55065);var aw,uw=function(e){var t=e.recipient,n=e.isPlaceholder,r=e.onRecipientClick,o=e.onClearClick;return(0,g.jsx)(iw,{recipient:t,isPlaceholder:n,onRecipientClick:r,onClearClick:o})},cw=(0,v.Z)(_d.U)({name:"StaticSectionsCollectionViewStyled",class:"s1st9pkw"}),sw=(0,d.Pi)((function(e){var t=e.viewModel,n=e.onRecipientClick,r=e.className;return(0,g.jsx)(cw,{viewModel:t,renderPlaceholder:function(e){return(0,g.jsx)(uw,{isPlaceholder:!0},e)},renderItem:function(e){return(0,g.jsx)(uw,{recipient:e,onRecipientClick:function(){return n(e)}},e.name||e.address)},className:r})}));function lw(e){return lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lw(e)}function fw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dw(e,t){return dw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dw(e,t)}function pw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hw(e);if(t){var o=hw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yw(this,n)}}function yw(e,t){if(t&&("object"===lw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hw(e)}n(84459);var vw,mw,bw=(0,ie.b2)()(aw=function(e,t){return(0,ie.f3)((0,ie.gw)((function(){return $b})))(e,void 0,2)}(aw=Reflect.metadata("design:type",Function)(aw=Reflect.metadata("design:paramtypes",[void 0===zi.o?Object:zi.o,void 0===ob?Object:ob,"undefined"==typeof Readonly?Object:Readonly])(aw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&dw(e,t)}(i,e);var t,n,r,o=pw(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this))._nameService=e,r._solanaAPIClient=t,r._sendViewModel=n,r._preSelectedNetwork=void 0,r.searchString=void 0,r.createRequest=(0,oe.ls)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.searchString){e.next=4;break}return e.next=3,Promise.resolve([]);case 3:case 6:return e.abrupt("return",e.sent);case 4:return e.next=6,this._preSelectedNetwork===Eb.bitcoin||this.isSearchingByAddress?this._findRecipientBy(this.searchString):this._findRecipientsBy(this.searchString);case 7:case"end":return e.stop()}}),e,this)}))),r._preSelectedNetwork=r._sendViewModel.network,r}return t=i,(n=[{key:"isSearchingByAddress",get:function(){return!!this.searchString&&Nb(this.searchString,[Fb(this._solanaAPIClient.isTestNet()),new RegExp("^[1-9A-HJ-NP-Za-km-z]{32,44}$")])}},{key:"setDefaults",value:function(){this._preSelectedNetwork=this._sendViewModel.network}},{key:"onInitialize",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e._sendViewModel.network}),(function(t){e._preSelectedNetwork=t})))}},{key:"afterReactionsRemoved",value:function(){}},{key:"_findRecipientsBy",value:function(e){return this._nameService.getOwners(e).then((function(e){return e.map((function(e){return{address:e.owner,name:e.name,hasNoFunds:!1}}))}))}},{key:"_findRecipientBy",value:function(e){switch(this._preSelectedNetwork){case Eb.bitcoin:return this._findAddressInBitcoinNetwork(e);case Eb.solana:return this._findAddressInSolanaNetwork(e);default:return Nb(e,[Fb(this._solanaAPIClient.isTestNet())])?this._findAddressInBitcoinNetwork(e):this._findAddressInSolanaNetwork(e)}}},{key:"_findAddressInBitcoinNetwork",value:function(e){return Nb(e,[Fb(this._solanaAPIClient.isTestNet())])?Promise.resolve([{address:e,name:null,hasNoFunds:!1}]):Promise.resolve([])}},{key:"_findAddressInSolanaNetwork",value:function(e){return this._solanaAPIClient.checkAccountValidation(e).catch((function(){return!1})).then((function(t){return[{address:e,name:null,hasNoFunds:!t}]}))}}])&&fw(t.prototype,n),r&&fw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Vy.J))||aw)||aw)||aw)||aw;function ww(e){return ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ww(e)}function gw(e,t){return gw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gw(e,t)}function kw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xw(e);if(t){var o=xw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jw(this,n)}}function jw(e,t){if(t&&("object"===ww(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ow(e)}function Ow(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xw(e)}function Sw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aw(e,t,n){return t&&Pw(e.prototype,t),n&&Pw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.chooseTheRecipientToProceed="chooseTheRecipientToProceed",e.chooseTheTokenToPayFees="chooseTheTokenToPayFees",e.calculatingFees="calculatingFees",e.pleaseChooseAnotherOne="pleaseChooseAnotherOne",e.insufficientFundsToCoverFees="insufficientFundsToCoverFees",e.yourAccountDoesNotHaveEnoughToCoverFeesNeedsAtLeast="yourAccountDoesNotHaveEnoughToCoverFeesNeedsAtLeast",e.yourAccountDoesNotHaveEnoughToCoverFees="yourAccountDoesNotHaveEnoughToCoverFees"}(mw||(mw={}));var _w,Tw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Sw(this,e),this.type=void 0,this.data=void 0,this.type=t,this.data=n}return Aw(e,[{key:"buttonSuggestion",get:function(){switch(this.type){case mw.chooseTheRecipientToProceed:return"Choose the recipient to proceed";case mw.chooseTheTokenToPayFees:return"Choose the token to pay fees";case mw.calculatingFees:return"Calculating fees";case mw.pleaseChooseAnotherOne:return"Paying token is not valid. Please choose another one";case mw.insufficientFundsToCoverFees:return"Insufficient funds to cover fees";case mw.yourAccountDoesNotHaveEnoughToCoverFeesNeedsAtLeast:return"Your account does not have enough ".concat(this.data.symbol," to cover fees. Needs at least ").concat(this.data.neededAmount," ").concat(this.data.symbol);case mw.yourAccountDoesNotHaveEnoughToCoverFees:return"Your account does not have enough ".concat(this.data.symbol," to cover fees")}}}],[{key:"chooseTheRecipientToProceed",get:function(){return new e(mw.chooseTheRecipientToProceed)}},{key:"chooseTheTokenToPayFees",get:function(){return new e(mw.chooseTheTokenToPayFees)}},{key:"calculatingFees",get:function(){return new e(mw.calculatingFees)}},{key:"pleaseChooseAnotherOne",get:function(){return new e(mw.pleaseChooseAnotherOne)}},{key:"insufficientFundsToCoverFees",get:function(){return new e(mw.insufficientFundsToCoverFees)}},{key:"yourAccountDoesNotHaveEnoughToCoverFeesNeedsAtLeast",value:function(t){return new e(mw.yourAccountDoesNotHaveEnoughToCoverFeesNeedsAtLeast,t)}},{key:"yourAccountDoesNotHaveEnoughToCoverFees",value:function(t){return new e(mw.yourAccountDoesNotHaveEnoughToCoverFees,t)}}]),e}();!function(e){e.searching="searching",e.recipientSelected="recipientSelected"}(_w||(_w={}));var Rw=(0,ie.b2)()(vw=function(e,t){return(0,ie.f3)((0,ie.gw)((function(){return $b})))(e,void 0,1)}(vw=Reflect.metadata("design:type",Function)(vw=Reflect.metadata("design:paramtypes",[void 0===bw?Object:bw,"undefined"==typeof Readonly?Object:Readonly])(vw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&gw(e,t)}(n,e);var t=kw(n);function n(e,r){var o;return Sw(this,n),(o=t.call(this)).recipientsListViewModel=e,o.sendViewModel=r,o.preSelectedNetwork=void 0,o.inputState=void 0,o.searchText=void 0,o.preSelectedNetwork=null,o.inputState=_w.searching,o.searchText=null,(0,oe.rC)(Ow(o),{inputState:oe.LO,searchText:oe.LO,search:oe.aD,selectRecipient:oe.aD,clearRecipient:oe.aD}),o}return Aw(n,[{key:"setDefaults",value:function(){this.preSelectedNetwork=null,this.inputState=_w.searching,this.searchText=null}},{key:"onInitialize",value:function(){this.recipientsListViewModel.initialize()}},{key:"afterReactionsRemoved",value:function(){this.recipientsListViewModel.end()}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.searchText=e,this.recipientsListViewModel.searchString!==e&&(this.recipientsListViewModel.searchString=e,this.recipientsListViewModel.reload())}},{key:"selectRecipient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sendViewModel.selectRecipient(e),this.inputState=_w.recipientSelected}},{key:"clearRecipient",value:function(){this.inputState=_w.searching,this.sendViewModel.selectRecipient(null)}},{key:"clearSearching",value:function(){this.search("")}},{key:"error",get:function(){var e=this.sendViewModel.wallet,t=this.sendViewModel.recipient,n=this.sendViewModel.payingWallet,r=this.sendViewModel.feeInfo,o=this.sendViewModel.network;if(null===t)return Tw.chooseTheRecipientToProceed;switch(o){case Eb.solana:if(this.sendViewModel.relayMethod.type===Qm.relay)switch(r.state.type){case ae.wS.notRequested:return Tw.chooseTheTokenToPayFees;case ae.wS.loading:return Tw.calculatingFees;case ae.wS.loaded:var i=r.value;if(!i)return Tw.pleaseChooseAnotherOne;if(!i.hasAvailableWalletToPayFee)return Tw.insufficientFundsToCoverFees;if(i.feeAmount.total.gt(Wy.ZERO)&&n&&n.lamports){if(n.lamports.lt(i.feeAmount.total)){var a=(0,Ce.D$)((0,os.K4)(i.feeAmount.total,n.token.decimals),{maximumFractionDigits:n.token.decimals});return Tw.yourAccountDoesNotHaveEnoughToCoverFeesNeedsAtLeast({symbol:n.token.symbol,neededAmount:a})}if(n.lamports.eq(i.feeAmount.total)&&(null==e?void 0:e.pubkey)===n.pubkey)return Tw.yourAccountDoesNotHaveEnoughToCoverFees({symbol:n.token.symbol})}if(i.feeAmount.total.eq(Wy.ZERO)&&i.feeAmountInSOL.total.gt(Wy.ZERO))return Tw.pleaseChooseAnotherOne;break;case ae.wS.error:return Tw.pleaseChooseAnotherOne}case Eb.bitcoin:}return null}}]),n}(ue.j))||vw)||vw)||vw)||vw,Cw=n(60669);function Iw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mw=(0,v.Z)("div")({name:"Wrapper",class:"w1akraow"}),Dw=(0,v.Z)("div")({name:"IconWrapper",class:"i11j033m"}),Fw=(0,v.Z)(U.JO)({name:"SearchIcon",class:"s4pbfid"}),Nw=(0,v.Z)("input")({name:"ToInput",class:"t3tjiou"}),Bw=(0,v.Z)("div")({name:"ClearWrapper",class:"c1te9uef"}),Zw=(0,v.Z)(U.JO)({name:"ClearIcon",class:"c1ryly83"}),Ww=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,o.useRef)(null),r=Iw((0,o.useState)(!1),2),i=r[0],a=r[1],u=(0,Cw.Z)((function(e){var n=e.target.value.trim();t.search(n)}),300);return(0,g.jsxs)(Mw,{children:[(0,g.jsx)(Dw,{className:b()({isFocused:i}),children:(0,g.jsx)(Fw,{name:"search"})}),(0,g.jsx)(Nw,{ref:n,placeholder:"Username / SOL address",onChange:u,onFocus:function(){return a(!0)},onBlur:function(){return a(!1)}}),(0,g.jsx)(Bw,{onClick:function(){t.clearSearching(),n.current&&(n.current.value="")},children:(0,g.jsx)(Zw,{name:"cross"})})]})}));n(65985);var Lw=(0,v.Z)("div")({name:"Wrapper",class:"w1k2sves"}),Uw=(0,v.Z)("div")({name:"CommonWrapper",class:"c1g18m0s"}),zw=(0,v.Z)("div")({name:"TopWrapper",class:"tuclmhz"}),Kw=(0,v.Z)("div")({name:"Title",class:"t17ndr80"}),qw=(0,v.Z)(sw)({name:"RecipientsCollectionViewStyled",class:"r16es75c"}),Hw=(0,d.Pi)((function(e){var t,n=e.viewModel,r=n.selectAddressViewModel;(0,xb.Z)((function(){return r.recipientsListViewModel.reload()}));var o=(0,Ue.YN)((function(){return r.inputState===_w.searching})),i=(0,Ue.YN)((function(){return null===r.preSelectedNetwork?o:!(!o||!r.searchText)}));return(0,g.jsxs)(Lw,{children:[(0,g.jsxs)(Uw,{children:[(0,g.jsx)(zw,{children:(0,g.jsx)(Kw,{children:"To"})}),o?(0,g.jsx)(Ww,{viewModel:r}):(0,g.jsx)(iw,{recipient:null!==(t=n.recipient)&&void 0!==t?t:void 0,onClearClick:function(){r.clearRecipient(),r.clearSearching()}})]}),(0,g.jsx)(Cb,{viewModel:r.recipientsListViewModel}),(0,g.jsx)(Pb,{viewModel:n}),i?(0,g.jsx)(qw,{viewModel:r.recipientsListViewModel,onRecipientClick:function(e){r.selectRecipient(e)}}):null]})}));n(75115);var Vw=(0,v.Z)("div")({name:"Wrapper",class:"w1oq7e1r"}),Yw=(0,d.Pi)((function(){var e,t=(0,re.Dz)($b);return(0,Rt.Gf)("Send_Start_Screen"),(0,g.jsx)(Bi,{children:(0,g.jsx)(_t,{title:"Send",icon:"top",bottom:(0,g.jsx)(Dv,{viewModel:t}),children:(0,g.jsxs)(Vw,{children:[(0,g.jsx)(Am,{viewModel:t}),(0,g.jsx)(Hw,{viewModel:t}),null!==(e=t.getSelectedWallet)&&void 0!==e&&e.token.isRenBTC?(0,g.jsx)(Ev,{viewModel:t}):null,(0,g.jsx)(jb,{viewModel:t})]})})})}));n(50090);var Qw,$w=n(72503),Gw=n.p+"app-store-badge-6ae027fee8de77aa4deb.png",Jw=n.p+"google-play-badge-be1311f5ab606da60603.png",Xw=n(13533);function eg(e){return eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(e)}function tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ng(e,t){return ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ng(e,t)}function rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ag(e);if(t){var o=ag(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return og(this,n)}}function og(e,t){if(t&&("object"===eg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ig(e)}function ig(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ag(e)}var ug,cg=(0,ie.ri)()(Qw=Reflect.metadata("design:type",Function)(Qw=Reflect.metadata("design:paramtypes",[void 0===Mb.g9?Object:Mb.g9,void 0===Re.m?Object:Re.m,void 0===zi.o?Object:zi.o,void 0===Xw.d?Object:Xw.d,void 0===_e?Object:_e,void 0===li.g?Object:li.g])(Qw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ng(e,t)}(a,e);var t,n,o,i=rg(a);function a(e,t,n,r,o,u){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this))._pricesService=e,c._solanaService=t,c._nameService=n,c.walletModel=r,c.locationService=o,c._notificationService=u,c.username=void 0,(0,oe.rC)(ig(c),{username:oe.LO,setFiat:oe.aD,setAppearance:oe.aD,setHideZeroBalances:oe.aD,setUseFreeTransactions:oe.aD}),c}return t=a,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){var e=this;this._nameService.getName(this._solanaService.provider.wallet.publicKey.toBase58()).then((0,oe.aD)((function(t){return t&&(e.username=t)})))}},{key:"afterReactionsRemoved",value:function(){}},{key:"pubkeyBase58",get:function(){return this._solanaService.provider.wallet.publicKey.toBase58()}},{key:"setFiat",value:function(e){r.k.fiat=new $w.M(e.type),this._pricesService.clearCurrentPrices(),this._pricesService.fetchAllTokensPriceInWatchList(),this._notificationService.info("Currency changed")}},{key:"setAppearance",value:function(e){r.k.appearance=e}},{key:"setHideZeroBalances",value:function(e){r.k.hideZeroBalances=e}},{key:"setUseFreeTransactions",value:function(e){r.k.useFreeTransactions=e}}])&&tg(t.prototype,n),o&&tg(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(ue.j))||Qw)||Qw)||Qw,sg=(0,v.Z)("div")({name:"Wrapper",class:"w1mnacua"}),lg=(0,v.Z)("div")({name:"ItemsWrapper",class:"igk7luq"}),fg=(0,v.Z)("div")({name:"Item",class:"i1c8ruq"}),dg=(0,v.Z)("div")({name:"ItemTitle",class:"i16q8m8e"}),pg=(0,v.Z)("div")({name:"ItemAction",class:"ieh9jwk"}),yg=(0,v.Z)("div")({name:"LogoutWrapper",class:"liawm31"}),hg=(0,v.Z)("div")({name:"Logout",class:"l103ubgr"}),vg=(0,v.Z)("div")({name:"CurrencyItem",class:"c1kk8t9g"}),mg=(0,v.Z)("span")({name:"Symbol",class:"s3s3ube"}),bg=(0,v.Z)("span")({name:"Capitalize",class:"cbgi4ey"}),wg=(0,v.Z)("div")({name:"Title",class:"t127j216"}),gg=(0,v.Z)(U.JO)({name:"ChevronIcon",class:"ch19ap4"}),kg=(0,v.Z)("div")({name:"ChevronWrapper",class:"chhd3sh"}),jg=(0,v.Z)("div")({name:"AccordionItem",class:"av3t259"}),Og=(0,v.Z)("div")({name:"AccordionTitle",class:"a17f186g"}),xg=(0,v.Z)("div")({name:"AccordionTitlePrimary",class:"aqme3cp"}),Sg=(0,v.Z)("div")({name:"AccordionTitleSecondary",class:"a45j4dj"}),Pg=(0,v.Z)("div")({name:"MobileButtons",class:"m14bbz76"}),Ag=(0,v.Z)("div")({name:"Text",class:"tzheclq"}),_g=[$w.M.usd,$w.M.eur,$w.M.rub],Tg=(0,d.Pi)((function(){var e=(0,re.Dz)(cg),t=(0,a.k6)(),n=function(){t.push("/settings/network")};return(0,g.jsx)(Bi,{children:(0,g.jsx)(sg,{children:(0,g.jsxs)(Op,{icon:"gear",title:"Settings",children:[(0,g.jsxs)(lg,{children:[(0,_r._)(Tr.A.ShowAllSettings)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(fg,{children:[(0,g.jsx)(dg,{children:"Currency"}),(0,g.jsx)(pg,{children:(0,g.jsx)(mn,{value:r.k.fiat.code,mobileListTitle:"Choose currency",children:_g.map((function(t){return(0,g.jsx)(kn,{isSelected:t.code===r.k.fiat.code,onItemClick:function(){return e.setFiat(t)},children:(0,g.jsxs)(vg,{children:[t.name,(0,g.jsx)(mg,{children:"(".concat(t.symbol,")")})]})},t.code)}))})})]}),(0,g.jsxs)(fg,{children:[(0,g.jsx)(dg,{children:"Appearance"}),(0,g.jsx)(pg,{children:(0,g.jsx)(mn,{value:(0,g.jsx)(bg,{children:r.k.appearance}),mobileListTitle:"Choose appearance",children:Object.values(r.u).map((function(t){return(0,g.jsx)(kn,{isSelected:t===r.k.appearance,onItemClick:function(){return e.setAppearance(t)},children:(0,g.jsx)(bg,{children:t})},t)}))})})]})]}):null,(0,g.jsx)(jg,{children:(0,g.jsx)(Nn,{title:(0,g.jsxs)(Og,{children:[(0,g.jsx)(xg,{children:"Username"}),(0,g.jsx)(Sg,{className:b()({warning:!e.username}),children:e.username?(0,Ru.iY)(e.username):"Not yet reserved"})]}),children:e.username?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Ag,{children:"Your P2P username allows you to receive any token within the Solana network even if it is not included in your wallet list."}),(0,g.jsx)(my,{address:e.pubkeyBase58,username:(0,Ru.iY)(e.username)})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Ag,{children:"You can receive and send tokens using your P2P username or link. Users who know your URL or username can also send you any token, even if you don’t have it in your wallet's list."}),(0,g.jsx)("div",{children:"You can access the feature in the app"}),(0,g.jsxs)(Pg,{children:[(0,g.jsx)("a",{href:Rr.iF,target:"_blank",className:"button",rel:"noreferrer",onClick:function(){(0,Rt.L9)({name:"Google_Click_Button"})},children:(0,g.jsx)("img",{src:Jw,height:"40",alt:"Download P2P Wallet at the Google Play Store"})}),(0,g.jsx)("a",{href:Rr.HT,target:"_blank",className:"button",rel:"noreferrer",onClick:function(){(0,Rt.L9)({name:"Appstore_Click_Button"})},children:(0,g.jsx)("img",{src:Gw,height:"40",alt:"Download P2P Wallet from the App Store"})})]})]})})}),(0,g.jsxs)(fg,{children:[(0,g.jsx)(dg,{children:"Network"}),(0,g.jsxs)(pg,{onClick:n,style:{cursor:"pointer"},children:[(0,g.jsx)(wg,{title:r.k.apiEndpoint.address,children:r.k.apiEndpoint.address}),(0,g.jsx)(kg,{onClick:n,children:(0,g.jsx)(gg,{name:"chevron"})})]})]}),(0,g.jsxs)(fg,{children:[(0,g.jsx)(dg,{children:"Hide zero balances"}),(0,g.jsx)(pg,{children:(0,g.jsx)(U.rs,{checked:r.k.hideZeroBalances,onChange:function(t){return e.setHideZeroBalances(t)}})})]}),(0,_r._)(Tr.A.ShowAllSettings)?(0,g.jsxs)(fg,{children:[(0,g.jsx)(dg,{children:"Use free transactions"}),(0,g.jsx)(pg,{children:(0,g.jsx)(U.rs,{checked:r.k.useFreeTransactions,onChange:function(t){return e.setUseFreeTransactions(t)}})})]}):null]}),(0,g.jsx)(yg,{children:(0,g.jsx)(hg,{onClick:function(){e.walletModel.disconnect(),e.locationService.reload()},children:"Logout now"})})]})})})}));function Rg(e){return Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(e)}function Cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ig(e,t){return Ig=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ig(e,t)}function Eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fg(e);if(t){var o=Fg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mg(this,n)}}function Mg(e,t){if(t&&("object"===Rg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dg(e)}function Dg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fg(e)}n(57676);var Ng=(0,ie.ri)()(ug=Reflect.metadata("design:type",Function)(ug=Reflect.metadata("design:paramtypes",[void 0===_e?Object:_e,void 0===_f?Object:_f])(ug=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ig(e,t)}(a,e);var t,n,o,i=Eg(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this))._locationService=e,n._lockAndMintService=t,(0,oe.rC)(Dg(n),{setAPIEndpoint:oe.aD}),n}return t=a,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"setAPIEndpoint",value:function(e){r.k.apiEndpoint=e,this._lockAndMintService.expireCurrentSession(),this._locationService.reload()}}])&&Cg(t.prototype,n),o&&Cg(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(ue.j))||ug)||ug)||ug,Bg=(0,v.Z)("label")({name:"Wrapper",class:"wiezlsi"}),Zg=(0,v.Z)("div")({name:"Label",class:"lw11b00"}),Wg=(0,v.Z)("input")({name:"Radio",class:"r1aall3d"}),Lg=function(e){var t=e.label,n=e.checked,r=e.value,o=e.onChange,i=e.className;return(0,g.jsxs)(Bg,{className:i,children:[(0,g.jsx)(Wg,{checked:n,name:"radio-button",type:"radio",onChange:function(){o(r)}}),(0,g.jsx)(Zg,{children:t})]})};n(53262);var Ug=(0,v.Z)("div")({name:"RadioButtonsWrapper",class:"r1qb7r41"}),zg=(0,v.Z)("div")({name:"RadioButtonItem",class:"re2mqpu"}),Kg=(0,d.Pi)((function(){var e=(0,re.Dz)(Ng);return(0,g.jsx)(Bi,{breadcrumb:{currentName:"Network",backTo:{pathname:"/settings",state:{fromPage:location.pathname}}},children:(0,g.jsx)(Op,{icon:"branch",title:"Network",children:(0,g.jsx)(Ug,{children:os.jI.definedEndpoints.map((function(t){return(0,g.jsx)(zg,{children:(0,g.jsx)(Lg,{label:t.address,value:t,checked:t.address===r.k.apiEndpoint.address,onChange:function(){return e.setAPIEndpoint(t)}})},t.address)}))})})})}));n(52409);var qg,Hg,Vg=n(42203);!function(e){e.swappingIsNotAvailable="swappingIsNotAvailable",e.sourceWalletIsEmpty="sourceWalletIsEmpty",e.destinationWalletIsEmpty="destinationWalletIsEmpty",e.canNotSwapToItSelf="canNotSwapToItSelf",e.tradablePoolsPairsNotLoaded="tradablePoolsPairsNotLoaded",e.tradingPairNotSupported="tradingPairNotSupported",e.feesIsBeingCalculated="feesIsBeingCalculated",e.couldNotCalculatingFees="couldNotCalculatingFees",e.inputAmountIsEmpty="inputAmountIsEmpty",e.inputAmountIsNotValid="inputAmountIsNotValid",e.insufficientFunds="insufficientFunds",e.estimatedAmountIsNotValid="estimatedAmountIsNotValid",e.bestPoolsPairsIsEmpty="bestPoolsPairsIsEmpty",e.slippageIsNotValid="slippageIsNotValid",e.nativeWalletNotFound="nativeWalletNotFound",e.payingFeeWalletNotFound="payingFeeWalletNotFound",e.notEnoughSOLToCoverFees="notEnoughSOLToCoverFees",e.notEnoughBalanceToCoverFees="notEnoughBalanceToCoverFees",e.unknown="unknown"}(qg||(qg={})),function(e){e.source="source",e.destination="destination",e.none="none"}(Hg||(Hg={}));var Yg,Qg=n(23108);function $g(e){return $g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(e)}function Gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jg(e,t){return Jg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jg(e,t)}function Xg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tk(e);if(t){var o=tk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ek(this,n)}}function ek(e,t){if(t&&("object"===$g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tk(e){return tk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tk(e)}var nk,rk=(0,ie.ri)()(Yg=Reflect.metadata("design:type",Function)(Yg=Reflect.metadata("design:paramtypes",[void 0===Re.m?Object:Re.m,void 0===Rm.dM?Object:Rm.dM,void 0===Em.n?Object:Em.n])(Yg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Jg(e,t)}(i,e);var t,n,r,o=Xg(i);function i(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,{owner:e.provider.wallet.publicKey,solanaApiClient:t,orcaSwap:n})}return t=i,n&&Gg(t.prototype,n),r&&Gg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(Rm.sE))||Yg)||Yg)||Yg;function ok(e){return ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ok(e)}function ik(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ak(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ik(i,r,o,a,u,"next",e)}function u(e){ik(i,r,o,a,u,"throw",e)}a(void 0)}))}}function uk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ck(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sk(e,t,n){return t&&ck(e.prototype,t),n&&ck(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lk(e,t){if(t&&("object"===ok(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fk(e){var t="function"==typeof Map?new Map:void 0;return fk=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return dk(e,arguments,hk(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),yk(r,e)},fk(e)}function dk(e,t,n){return dk=pk()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&yk(o,n.prototype),o},dk.apply(null,arguments)}function pk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function yk(e,t){return yk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yk(e,t)}function hk(e){return hk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hk(e)}var vk,mk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yk(e,t)}(o,e);var t,n,r=(t=o,n=pk(),function(){var e,r=hk(t);if(n){var o=hk(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return lk(this,e)});function o(){return uk(this,o),r.apply(this,arguments)}return sk(o,null,[{key:"incompatiblePoolsPair",value:function(){return new o("incompatiblePoolsPair")}},{key:"feeRelayIsNotReady",value:function(){return new o("feeRelayIsNotReady")}}]),o}(fk(Error)),bk=(0,ie.b2)()(nk=Reflect.metadata("design:type",Function)(nk=Reflect.metadata("design:paramtypes",[void 0===Re.m?Object:Re.m,void 0===Em.n?Object:Em.n,void 0===Mm.D?Object:Mm.D,void 0===rk?Object:rk,void 0===Rm.dM?Object:Rm.dM])(nk=function(){function e(t,n,r,o,i){uk(this,e),this._solanaAPIClient=t,this._orcaSwap=n,this._relayService=r,this._swapRelayService=o,this._feeRelayerRelaySolanaClient=i,this._feeRelayerContextManager=void 0;var a=new Rm._x;this._feeRelayerContextManager=new Cm.e0({owner:t.provider.wallet.publicKey,solanaAPIClient:this._feeRelayerRelaySolanaClient,feeRelayerAPIClient:a})}var t,n,r,o,i;return sk(e,[{key:"load",value:(i=ak(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._orcaSwap.load();case 2:return e.next=4,this._feeRelayerContextManager.update();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getPoolPair",value:function(e){var t=e.sourceMint,n=e.destinationMint;return this._orcaSwap.getTradablePoolsPairs({fromMint:t,toMint:n})}},{key:"getFees",value:(o=ak(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sourceMint,r=t.destinationAddress,o=t.destinationToken,i=t.bestPoolsPair,a=t.payingWallet,u=t.inputAmount,c=t.slippage,!a){e.next=7;break}return e.next=4,this._getNetworkFeesForSwappingViaRelayProgram({swapPools:i,sourceMint:n,destinationAddress:r,destinationToken:o,payingWallet:a});case 4:s=e.sent,e.next=8;break;case 7:s=[];case 8:return l=this._getLiquidityProviderFees({poolsPair:i,destinationAddress:r,destinationToken:o,inputAmount:u,slippage:c}),e.abrupt("return",{fees:s.concat(l)});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"findPosibleDestinationMints",value:function(e){return this._orcaSwap.findPosibleDestinationMints(e)}},{key:"calculateNetworkFeeInPayingToken",value:(r=ak(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.networkFee,(r=t.payingTokenMint)!==os.jQ.wrappedSOLMint.toString()){e.next=3;break}return e.abrupt("return",n);case 3:return e.abrupt("return",this._relayService.feeCalculator.calculateFeeInPayingToken({orcaSwap:this._orcaSwap,feeInSOL:n,payingFeeTokenMint:new bs.PublicKey(r)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"swap",value:function(e){var t=e.sourceAddress,n=e.sourceTokenMint,r=e.destinationAddress,o=e.destinationTokenMint,i=e.payingTokenAddress,a=e.payingTokenMint,u=e.poolsPair,c=e.amount,s=e.slippage;if(!u.length)throw mk.incompatiblePoolsPair();var l=u[0].getTokenADecimals();if(!l)throw mk.incompatiblePoolsPair();return this._swapViaRelayProgram({sourceAddress:t,sourceTokenMint:n,destinationAddress:r,destinationTokenMint:o,payingTokenAddress:i,payingTokenMint:a,poolsPair:u,amount:c,decimals:l,slippage:s})}},{key:"_getLiquidityProviderFees",value:function(e){var t=e.poolsPair,n=e.destinationAddress,r=e.destinationToken,o=e.inputAmount,i=e.slippage,a=[],u=this._orcaSwap.getLiquidityProviderFee({bestPoolsPair:t,inputAmount:o,slippage:i});if(t&&n&&r)if(1===u.length)a.push(new Vg.xj({type:Vg.nt.liquidityProviderFee,lamports:u[0],token:r}));else if(2===u.length){var c=t[0].tokenBName,s=t[0].getTokenBDecimals();s&&a.push(new Vg.xj({type:Vg.nt.liquidityProviderFee,lamports:u[0],token:os.WU.unsupported({decimals:s,symbol:c.toString()})})),a.push(new Vg.xj({type:Vg.nt.liquidityProviderFee,lamports:(0,Qt.Z)(u),token:r}))}return a}},{key:"_getNetworkFeesForSwappingViaRelayProgram",value:(n=ak(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,y,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.swapPools,r=t.sourceMint,o=t.destinationAddress,i=t.destinationToken,a=t.payingWallet,e.next=3,this._feeRelayerContextManager.getCurrentContext();case 3:return u=e.sent,e.next=6,this._swapRelayService.calculator.calculateSwappingNetworkFees({context:u,swapPools:n,sourceTokenMint:new bs.PublicKey(r),destinationTokenMint:new bs.PublicKey(i.address),destinationAddress:o?new bs.PublicKey(o):void 0});case 6:if(c=e.sent,this._isSwappingNatively({context:u,expectedTransactionFee:c.transaction,payingTokenMint:a.mintAddress})?c.transaction=new Hi.u64(c.transaction.sub(u.lamportsPerSignature)):c=this._relayService.feeCalculator.calculateNeededTopUpAmount({context:u,expectedFee:c,payingTokenMint:new bs.PublicKey(a.mintAddress)}),a.mintAddress!==os.jQ.wrappedSOLMint.toString()){e.next=12;break}s=c,e.next=24;break;case 12:return e.next=14,this._relayService.feeCalculator.calculateFeeInPayingToken({orcaSwap:this._orcaSwap,feeInSOL:c,payingFeeTokenMint:new bs.PublicKey(a.mintAddress)});case 14:if(e.t1=l=e.sent,e.t0=null!==e.t1,!e.t0){e.next=18;break}e.t0=void 0!==l;case 18:if(!e.t0){e.next=22;break}e.t2=l,e.next=23;break;case 22:e.t2=os.lk.zero();case 23:s=e.t2;case 24:return f=u.usageStatus,d=[],p=!1,y=null,s.transaction.eqn(0)&&(p=!0,h=f.maxUsage-f.currentUsage,v=f.maxUsage,y={alertTitle:"There are ".concat(h," free transactions left for today"),alertDescription:"On the Solana network, the first ".concat(v," transactions in a day are paid by P2P.org. Subsequent transactions will be charged based on the Solana blockchain gas fee."),payBy:"Paid by p2p.org"}),this._isSwappingNatively({context:u,payingTokenMint:os.jQ.wrappedSOLMint.toString()})&&d.push(new Vg.xj({type:Vg.nt.depositWillBeReturned,lamports:u.minimumTokenAccountBalance,token:os.WU.nativeSolana})),s.accountBalances.gtn(0)&&d.push(new Vg.xj({type:Vg.nt.accountCreationFee(i.symbol),lamports:s.accountBalances,token:a.token})),d.push(new Vg.xj({type:Vg.nt.transactionFee,lamports:s.transaction,token:a.token,isFree:p,info:y})),e.abrupt("return",d);case 33:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_swapViaRelayProgram",value:(t=ak(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,y,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sourceAddress,r=t.sourceTokenMint,o=t.destinationAddress,i=t.destinationTokenMint,a=t.payingTokenAddress,u=t.payingTokenMint,c=t.poolsPair,s=t.amount,l=t.decimals,f=t.slippage,e.next=3,this._feeRelayerContextManager.getCurrentContext();case 3:if(d=e.sent,p=null,a&&u&&(p=new Rm._D({address:new bs.PublicKey(a),mint:new bs.PublicKey(u)})),!this._isSwappingNatively({context:d,payingTokenMint:u})){e.next=11;break}return e.next=9,this._orcaSwap.swap({owner:this._solanaAPIClient.provider.wallet.publicKey,fromWalletPubkey:n,toWalletPubkey:o,bestPoolsPair:c,amount:(0,os.K4)(s,l),slippage:f,isSimulation:!1});case 9:return y=e.sent,e.abrupt("return",[y.transactionId]);case 11:return e.next=13,this._swapRelayService.prepareSwapTransaction({context:d,sourceToken:new Rm._D({address:new bs.PublicKey(n),mint:new bs.PublicKey(r)}),destinationTokenMint:new bs.PublicKey(i),destinationAddress:o?new bs.PublicKey(o):null,fee:p,swapPools:c,inputAmount:s,slippage:f});case 13:return h=e.sent,e.abrupt("return",this._relayService.topUpAndRelayTransactions({context:d,transactions:h.transactions,fee:p,config:new Rm.Bx({additionalPaybackFee:h.additionalPaybackFee,operationType:Rm.pV.swap,currency:r})}));case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_isSwappingNatively",value:function(e){var t=e.context,n=e.expectedTransactionFee,r=void 0===n?null:n,o=e.payingTokenMint,i=null!=r?r:new Hi.u64(t.lamportsPerSignature.muln(2));return o===os.jQ.wrappedSOLMint.toString()&&!1===t.usageStatus.isFreeTransactionFeeAvailable({transactionFee:i})}}]),e}())||nk)||nk)||nk;function wk(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return gk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gk(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function gk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kk(e){var t,n;return null!==(t=null===(n=e.find((function(e){return e.type===Vg.nt.transactionFee})))||void 0===n?void 0:n.token)&&void 0!==t?t:null}function jk(e){var t=kk(e);if(t){var n,r,o=e.filter((function(e){var n;return null!==(n=e.token.symbol===t.symbol)&&void 0!==n?n:e.type===Vg.nt.liquidityProviderFee})),i=null!==(n=null===(r=o[0])||void 0===r?void 0:r.token.decimals)&&void 0!==n?n:0;return(0,os.K4)(o.reduce((function(e,t){return e.add(t.lamports)}),Wy.ZERO),i)}return 0}function Ok(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.oneTenth="oneTenth",e.fiveTenth="fiveTenth",e.one="one",e.five="five",e.custom="custom"}(vk||(vk={}));var Sk,Pk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ok(this,e),this.type=void 0,this._value=null,this.type=t,this._value=n}var t,n,r;return t=e,r=[{key:"oneTenth",value:function(){return new e(vk.oneTenth)}},{key:"fiveTenth",value:function(){return new e(vk.fiveTenth)}},{key:"one",value:function(){return new e(vk.one)}},{key:"five",value:function(){return new e(vk.five)}},{key:"custom",value:function(t){return new e(vk.custom,t)}},{key:"new",value:function(t){switch(t){case.001:return e.oneTenth();case.005:return e.fiveTenth();case.01:return e.one();case.05:return e.five();default:return e.custom(100*t)}}}],(n=[{key:"description",get:function(){switch(this.type){case vk.oneTenth:return"0.1%";case vk.fiveTenth:return"0.5%";case vk.one:return"1%";case vk.five:return"5%";case vk.custom:return"Custom"}}},{key:"value",get:function(){var e;switch(this.type){case vk.oneTenth:e=.1;break;case vk.fiveTenth:e=.5;break;case vk.one:e=1;break;case vk.five:e=5;break;case vk.custom:e=this._value}return e?e/100:null}}])&&xk(t.prototype,n),r&&xk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ak(e){return Ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ak(e)}function _k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tk(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ck(e,t){return Ck=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ck(e,t)}function Ik(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dk(e);if(t){var o=Dk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ek(this,n)}}function Ek(e,t){if(t&&("object"===Ak(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mk(e)}function Mk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dk(e){return Dk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dk(e)}Pk.allCases=[Pk.oneTenth(),Pk.fiveTenth(),Pk.one(),Pk.five()];var Fk,Nk=(0,ie.ri)()(Sk=function(e,t){return(0,ie.f3)((0,ie.gw)((function(){return Vk})))(e,void 0,1)}(Sk=Reflect.metadata("design:type",Function)(Sk=Reflect.metadata("design:paramtypes",[void 0===Te.A?Object:Te.A,"undefined"==typeof Readonly?Object:Readonly])(Sk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ck(e,t)}(i,e);var t,n,r,o=Ik(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this))._walletsRepository=e,n._swapViewModel=t,n.possibleSlippageTypes=Pk.allCases,n.slippageType=void 0,n.customSlippageIsOpened=void 0,n.payingWallet=void 0,n.slippageType=Pk.new(n._swapViewModel.slippage),n.customSlippageIsOpened=!1,n.payingWallet=n._swapViewModel.payingWallet,(0,oe.rC)(Mk(n),{slippageType:oe.LO,customSlippageIsOpened:oe.LO,payingWallet:oe.LO,feesContent:oe.Fl,slippageSelected:oe.aD,customSlippageChanged:oe.aD}),n}return t=i,(n=[{key:"feesContent",get:function(){var e,t=this,n=this.payingWallet,r=[],o=_k(this._walletsRepository.getWallets().filter((function(e){return e.amount>0})));try{var i=function(){var o=e.value;r.push({wallet:o,tokenLabelText:o.token.symbol,isSelected:(null==n?void 0:n.mintAddress)===o.mintAddress,onClick:function(){t._swapViewModel.changeFeePayingToken(o)}})};for(o.s();!(e=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return r}},{key:"setDefaults",value:function(){this.slippageType=Pk.new(this._swapViewModel.slippage),this.customSlippageIsOpened=!1,this.payingWallet=this._swapViewModel.payingWallet}},{key:"onInitialize",value:function(){this._setCustomSlippageIsOpened(this.slippageType),this._bind()}},{key:"afterReactionsRemoved",value:function(){}},{key:"_bind",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e._swapViewModel.slippage}),(function(t){e.slippageType=Pk.new(t)}))),this.addReaction((0,oe.U5)((function(){return e._swapViewModel.payingWallet}),(function(t){e.payingWallet=t})))}},{key:"slippageSelected",value:function(e){this._setCustomSlippageIsOpened(e);var t=e.value;t&&this._swapViewModel.setSlippage(t)}},{key:"customSlippageChanged",value:function(e){var t=Pk.custom(e).value;this.customSlippageIsOpened&&(t?this._swapViewModel.setSlippage(t):this.customSlippageIsOpened=!1)}},{key:"_setCustomSlippageIsOpened",value:function(e){switch(e.type){case vk.oneTenth:case vk.fiveTenth:case vk.one:case vk.five:this.customSlippageIsOpened=!1;break;case vk.custom:this.customSlippageIsOpened=!0}}}])&&Rk(t.prototype,n),r&&Rk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||Sk)||Sk)||Sk)||Sk;function Bk(e){return Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bk(e)}function Zk(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Wk(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zk(i,r,o,a,u,"next",e)}function u(e){Zk(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Lk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uk(e,t){return Uk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Uk(e,t)}function zk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hk(e);if(t){var o=Hk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kk(this,n)}}function Kk(e,t){if(t&&("object"===Bk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qk(e)}function qk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hk(e){return Hk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hk(e)}var Vk=(0,ie.ri)()(Fk=function(e,t){return(0,ie.f3)((0,ie.gw)((function(){return Nk})))(e,void 0,3)}(Fk=Reflect.metadata("design:type",Function)(Fk=Reflect.metadata("design:paramtypes",[void 0===bk?Object:bk,void 0===om.t?Object:om.t,void 0===om.t?Object:om.t,void 0===Nk?Object:Nk,void 0===Te.A?Object:Te.A,void 0===Mb.g9?Object:Mb.g9,void 0===Xt?Object:Xt,void 0===_e?Object:_e])(Fk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Uk(e,t)}(u,e);var t,n,o,i,a=zk(u);function u(e,t,n,o,i,c,s,l){var f;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(f=a.call(this)).swapService=e,f.chooseSourceWalletViewModel=t,f.chooseDestinationWalletViewModel=n,f.swapSettingsViewModel=o,f._walletsRepository=i,f._pricesService=c,f._modalService=s,f._locationService=l,f.isUsingAllBalance=void 0,f.loadingState=void 0,f.sourceWallet=void 0,f.destinationWallet=void 0,f.tradablePoolsPairs=void 0,f.bestPoolsPair=void 0,f.availableAmount=void 0,f.inputAmount=void 0,f.estimatedAmount=void 0,f.fees=void 0,f.slippage=void 0,f.payingWallet=void 0,f.error=void 0,f.activeInputField=void 0,f.isUsingAllBalance=!1,f.loadingState=ae.EP.notRequested,f.sourceWallet=null,f.destinationWallet=null,f.tradablePoolsPairs=new ae.c2(Promise.resolve([])),f.bestPoolsPair=null,f.availableAmount=null,f.inputAmount=null,f.estimatedAmount=null,f.fees=new ae.c2(Promise.resolve([])),f.slippage=r.k.slippage,f.payingWallet=null,f.error=null,f.activeInputField=Hg.none,(0,oe.rC)(qk(f),{isUsingAllBalance:oe.LO,loadingState:oe.LO,sourceWallet:oe.LO,destinationWallet:oe.LO,tradablePoolsPairs:oe.LO,bestPoolsPair:oe.LO,availableAmount:oe.LO,inputAmount:oe.LO,estimatedAmount:oe.LO,fees:oe.LO,slippage:oe.LO,payingWallet:oe.LO,error:oe.LO,activeInputField:oe.LO,minimumReceiveAmount:oe.Fl,isSendingMaxAmount:oe.Fl,isShowingShowDetailsButton:oe.Fl,swapSourceAndDestination:oe.aD,useAllBalance:oe.aD,enterInputAmount:oe.aD,enterEstimatedAmount:oe.aD,walletDidSelect:oe.aD,changeFeePayingToken:oe.aD,setActiveInputField:oe.aD,setSlippage:oe.aD,totalFees:oe.Fl}),f}return t=u,n=[{key:"setDefaults",value:function(){this.isUsingAllBalance=!1,this.loadingState=ae.EP.notRequested,this.sourceWallet=null,this.destinationWallet=null,this.tradablePoolsPairs=new ae.c2(Promise.resolve([])),this.bestPoolsPair=null,this.availableAmount=null,this.inputAmount=null,this.estimatedAmount=null,this.fees=new ae.c2(Promise.resolve([])),this.slippage=r.k.slippage,this.payingWallet=null,this.error=null,this.activeInputField=Hg.none}},{key:"onInitialize",value:function(){var e=this;this.chooseSourceWalletViewModel.initialize(),this.chooseDestinationWalletViewModel.initialize(),this.swapSettingsViewModel.initialize(),this.addReaction((0,oe.gx)((function(){return e._walletsRepository.state===Li.H.loaded}),(function(){e.payingWallet=e._walletsRepository.nativeWallet,e.reload();var t=e._getPubkey(),n=e._walletsRepository.getWallets().find((function(e){return e.pubkey===t}));t&&!n&&e._locationService.push("/swap"),e._bind(null!=n?n:e._walletsRepository.nativeWallet)})))}},{key:"_getPubkey",value:function(){return this._locationService.getParams("/swap/:publicKey?").publicKey}},{key:"afterReactionsRemoved",value:function(){this.chooseSourceWalletViewModel.end(),this.chooseDestinationWalletViewModel.end(),this.swapSettingsViewModel.end()}},{key:"_bind",value:function(e){var t=this;e&&this.addReaction((0,oe.gx)((function(){return t.loadingState.type===ae.wS.loaded}),(function(){t.sourceWallet=e}))),this.addReaction((0,oe.U5)((function(){return{sourceWallet:t.sourceWallet,payingWallet:t.payingWallet,fees:t.fees.value}}),(function(e){var n=e.sourceWallet,r=e.payingWallet,o=e.fees;t.availableAmount=function(e){var t=e.sourceWallet,n=e.payingFeeWallet,r=e.fees;if(!t)return null;if((null==n?void 0:n.mintAddress)===t.mintAddress){var o,i=r?null===(o=(0,Vg.ni)(r,t.token.symbol))||void 0===o?void 0:o.total:null,a=i?(0,os.K4)(i,t.token.decimals):null,u=t.amount;if(a&&u)return u>a?u-a:0}return t.amount}({sourceWallet:n,payingFeeWallet:r,fees:o})}))),this.addReaction((0,oe.U5)((function(){return t.availableAmount}),(function(e){var n,r,o=t.inputAmount;return!!(t.isUsingAllBalance&&o&&e)&&t.isUsingAllBalance&&(0,Ce.eP)(o,null===(n=t.sourceWallet)||void 0===n?void 0:n.token.decimals)>(0,Ce.eP)(e,null===(r=t.sourceWallet)||void 0===r?void 0:r.token.decimals)}))),this.addReaction((0,oe.U5)((function(){return{sourceWallet:t.sourceWallet,destinationWallet:t.destinationWallet}}),(function(e){var n=e.sourceWallet,r=e.destinationWallet;if(!n||!r)return t.tradablePoolsPairs.request=Promise.resolve([]),void t.tradablePoolsPairs.reload();t.tradablePoolsPairs.request=t.swapService.getPoolPair({sourceMint:n.token.address,destinationMint:r.token.address}),t.tradablePoolsPairs.reload()}))),this.addReaction((0,oe.U5)((function(){return t.tradablePoolsPairs.state.type===ae.wS.loaded}),(function(){var e=t.inputAmount,n=t.estimatedAmount;e&&t.activeInputField!==Hg.destination?t.enterInputAmount(e):n&&t.enterEstimatedAmount(n)}))),this.addReaction((0,oe.U5)((function(){return{bestPoolsPair:t.bestPoolsPair,inputAmount:t.inputAmount,slippage:t.slippage,destinationWallet:t.destinationWallet,sourceWallet:t.sourceWallet,payingWallet:t.payingWallet}}),(function(){t.fees.request=t._feesRequest(),t.fees.reload()}))),this.addReaction((0,oe.U5)((function(){return t.sourceWallet}),(function(e){e&&(t._locationService.push("/swap/".concat(e.pubkey)),t.payingWallet=e)}))),this.addReaction((0,oe.U5)((function(){return t.inputAmount}),function(){var e=Wk(regeneratorRuntime.mark((function e(n){var r,o,i,a,u,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.availableAmount,n&&a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t._feesRequest();case 5:if(u=e.sent,(null===(r=t.payingWallet)||void 0===r?void 0:r.pubkey)!==(null===(o=t.sourceWallet)||void 0===o?void 0:o.pubkey)||null!==(i=t.payingWallet)&&void 0!==i&&i.isNativeSOL){e.next=12;break}if(!(n+jk(u)>a&&(null!==(c=null===(s=t._walletsRepository.nativeWallet)||void 0===s?void 0:s.amount)&&void 0!==c?c:0)>0)){e.next=12;break}if(l=t._walletsRepository.nativeWallet){e.next=11;break}return e.abrupt("return");case 11:t.changeFeePayingToken(l);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.addReaction((0,oe.U5)((function(){return{loadingState:t.loadingState,sourceWallet:t.sourceWallet,destinationWallet:t.destinationWallet,tradablePoolsPairs:t.tradablePoolsPairs.state,bestPoolsPair:t.bestPoolsPair,fees:t.fees.value,payingWallet:t.payingWallet}}),(function(){t.error=t._verify()})))}},{key:"authenticateAndSwap",value:function(){this._swap()}},{key:"_swap",value:function(){var e,t,n,r,o;if(!this._verify()){var i=null===(e=this._walletsRepository.nativeWallet)||void 0===e?void 0:e.pubkey,a=this.sourceWallet,u=this.destinationWallet,c=this.bestPoolsPair,s=this.inputAmount,l=this.estimatedAmount,f=this.payingWallet,d=this.slippage,p=null!==(t=null===(n=this.fees.value)||void 0===n?void 0:n.filter((function(e){return e.type!==Vg.nt.liquidityProviderFee})))&&void 0!==t?t:[],y=this.availableAmount===s,h=(null!==(r=this.minimumReceiveAmount)&&void 0!==r?r:0)*(null!==(o=u.priceInCurrentFiat)&&void 0!==o?o:0);this._modalService.openModal(Gt.SHOW_MODAL_PROCESS_TRANSACTION,{transaction:new Db.W8({swapService:this.swapService,sourceWallet:a,destinationWallet:u,payingWallet:f,authority:i,poolsPair:c,amount:s,estimatedAmount:l,slippage:d,fees:p,metaInfo:{swapMAX:y,swapUSD:h}})})}}},{key:"minimumReceiveAmount",get:function(){var e=this.bestPoolsPair,t=this.inputAmount,n=this.slippage,r=this.sourceWallet,o=this.destinationWallet,i=null==r?void 0:r.token.decimals;if(!t||!i)return null;var a=(0,os.On)(t,i),u=null==o?void 0:o.token.decimals;if(!e||!a||!u)return null;var c=(0,Qg.L$)(e,a,n);return c?(0,os.K4)(c,u):null}},{key:"exchangeRate",get:function(){var e=this.inputAmount,t=this.estimatedAmount;return e&&t&&e>0&&t>0?t/e:null}},{key:"isSendingMaxAmount",get:function(){return this.availableAmount===this.inputAmount}},{key:"isShowingShowDetailsButton",get:function(){return Boolean(this.sourceWallet)&&Boolean(this.destinationWallet)}},{key:"getPrice",value:function(e){var t,n;return null!==(t=null===(n=this._pricesService.currentPrice(e))||void 0===n?void 0:n.value)&&void 0!==t?t:null}},{key:"reload",value:function(){var e=this;this.loadingState=ae.EP.loading,this.swapService.load().then((0,oe.aD)((function(){e.loadingState=ae.EP.loaded}))).catch((0,oe.aD)((function(t){e.loadingState=ae.EP.error(t.message)})))}},{key:"swapSourceAndDestination",value:function(){var e=this.sourceWallet;this.sourceWallet=this.destinationWallet,this.destinationWallet=e}},{key:"useAllBalance",value:function(){this.isUsingAllBalance=!0,this.enterInputAmount(this.availableAmount);var e=this.fees.value;e&&e.length&&this.availableAmount!==this.inputAmount&&console.warn("This value is calculated by subtracting the transaction fee from your balance.")}},{key:"enterInputAmount",value:function(e){var t,n,r,o=e?(0,Ce.eP)(e,null===(t=this.sourceWallet)||void 0===t?void 0:t.token.decimals):null;this.inputAmount=o;var i,a,u,c,s=null===(n=this.sourceWallet)||void 0===n?void 0:n.token.decimals,l=null===(r=this.destinationWallet)||void 0===r?void 0:r.token.decimals,f=this.tradablePoolsPairs.value;s&&l&&(i=o?(0,os.On)(o,s):null)&&f&&(a=function(e){var t=e.inputAmount,n=e.poolsPairs;if(!n.length)return null;var r,o=null,i=Wy.ZERO,a=wk(n);try{for(a.s();!(r=a.n()).done;){var u=r.value,c=(0,Qg.Gv)(u,t);c&&c.gt(i)&&(i=c,o=u)}}catch(e){a.e(e)}finally{a.f()}return o}({poolsPairs:f,inputAmount:i}))&&(u=i?(0,Qg.Gv)(a,i):null)&&(c=u?(0,Ce.eP)((0,os.K4)(u,l),l):null)?(this.estimatedAmount=c,this.bestPoolsPair=a):(this.estimatedAmount=null,this.bestPoolsPair=null)}},{key:"enterEstimatedAmount",value:function(e){var t,n,r,o=e?(0,Ce.eP)(e,null===(t=this.destinationWallet)||void 0===t?void 0:t.token.decimals):null;this.estimatedAmount=o;var i,a,u,c,s=null===(n=this.sourceWallet)||void 0===n?void 0:n.token.decimals,l=null===(r=this.destinationWallet)||void 0===r?void 0:r.token.decimals,f=this.tradablePoolsPairs.value;s&&l&&(i=o?(0,os.On)(o,l):null)&&f&&(a=function(e){var t=e.estimatedAmount,n=e.poolsPairs;if(!n.length)return null;var r,o=null,i=new Hi.u64(2).pow(new Hi.u64(64)).subn(1),a=wk(n);try{for(a.s();!(r=a.n()).done;){var u=r.value,c=(0,Qg.R$)(u,t);c&&c.lt(i)&&(i=c,o=u)}}catch(e){a.e(e)}finally{a.f()}return o}({poolsPairs:f,estimatedAmount:i}))&&(u=i?(0,Qg.R$)(a,i):null)&&(c=(0,Ce.eP)((0,os.K4)(u,s),s))?(this.inputAmount=c,this.bestPoolsPair=a):(this.inputAmount=null,this.bestPoolsPair=null)}},{key:"walletDidSelect",value:function(e,t){t?(this.sourceWallet=e,(0,Rt.L9)({name:"Swap_Changing_Token_A",params:{Token_A_Name:e.token.symbol}})):(this.destinationWallet=e,(0,Rt.L9)({name:"Swap_Changing_Token_B",params:{Token_B_Name:e.token.symbol}}))}},{key:"changeFeePayingToken",value:function(e){this.payingWallet=e}},{key:"setActiveInputField",value:function(e){this.activeInputField=e}},{key:"_verify",value:function(){var e;if(this.loadingState.type!==ae.wS.loaded)return qg.swappingIsNotAvailable;var t=this.sourceWallet;if(!t)return qg.sourceWalletIsEmpty;var n=this.destinationWallet;if(!n)return qg.destinationWalletIsEmpty;if(t.token.address===n.token.address)return qg.canNotSwapToItSelf;if(this.tradablePoolsPairs.state.type!==ae.wS.loaded)return qg.tradablePoolsPairsNotLoaded;if(!this.tradablePoolsPairs.value||0===this.tradablePoolsPairs.value.length)return qg.tradingPairNotSupported;var r=this.inputAmount;if(!r)return qg.inputAmountIsEmpty;if((0,Ce.eP)(r,t.token.decimals)<=0)return qg.inputAmountIsNotValid;if((0,Ce.eP)(r,t.token.decimals)>(0,Ce.eP)(null!==(e=this.availableAmount)&&void 0!==e?e:0,t.token.decimals))return qg.insufficientFunds;var o=this.estimatedAmount;if(!o)return qg.estimatedAmountIsNotValid;if((0,Ce.eP)(o,n.token.decimals)<=0)return qg.estimatedAmountIsNotValid;if(!this.bestPoolsPair)return qg.bestPoolsPairsIsEmpty;if(this.fees.state.isError)return qg.couldNotCalculatingFees;if(this.fees.state.type!==ae.wS.loaded)return qg.feesIsBeingCalculated;var i=this.payingWallet;if(!i)return qg.payingFeeWalletNotFound;if(i.isNativeSOL){var a,u=this._walletsRepository.nativeWallet;if(!u)return qg.nativeWalletNotFound;if((this.fees.value?(0,Vg.Ol)(this.fees.value,"SOL"):Wy.ZERO).gt(null!==(a=u.lamports)&&void 0!==a?a:Wy.ZERO))return qg.notEnoughSOLToCoverFees}else{var c=this.fees.value?function(e){var t=kk(e);return t?e.filter((function(e){var n;return null!==(n=e.token.symbol===t.symbol)&&void 0!==n?n:e.type===Vg.nt.liquidityProviderFee})).reduce((function(e,t){return e.add(t.lamports)}),Wy.ZERO):Wy.ZERO}(this.fees.value):null;if(c){var s,l,f=this.fees.value?null===(s=kk(this.fees.value))||void 0===s?void 0:s.symbol:null;if(i.token.symbol===f&&c.gt(null!==(l=i.lamports)&&void 0!==l?l:Wy.ZERO))return qg.notEnoughBalanceToCoverFees}}return this._isSlippageValid()?null:qg.slippageIsNotValid}},{key:"_isSlippageValid",value:function(){return this.slippage<=Ce.j4&&this.slippage>0}},{key:"_feesRequest",value:(i=Wk(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.sourceWallet,n=this.destinationWallet,t&&n){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,this.swapService.getFees({sourceMint:t.mintAddress,destinationAddress:n.pubkey,destinationToken:n.token,bestPoolsPair:this.bestPoolsPair,payingWallet:this.payingWallet,inputAmount:this.inputAmount,slippage:this.slippage});case 6:return e.abrupt("return",e.sent.fees);case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"openConfirmModal",value:function(){return this._modalService.openModal(Gt.SHOW_MODAL_CONFIRM_SWAP,{viewModel:this})}},{key:"setSlippage",value:function(e){this.slippage=e}},{key:"totalFees",get:function(){var e,t,n=null!==(e=this.fees.value)&&void 0!==e?e:[],r=null===(t=n.find((function(e){return e.type.type===Vg.J0.transactionFee})))||void 0===t?void 0:t.token.symbol;if(r){var o,i,a,u=n.filter((function(e){return e.token.symbol===r&&e.type.type!==Vg.J0.liquidityProviderFee})),c=null!==(o=null===(i=u[0])||void 0===i?void 0:i.token.decimals)&&void 0!==o?o:0,s=(0,os.K4)(u.reduce((function(e,t){return e.add(t.lamports)}),Wy.ZERO),c),l=null!==(a=this.getPrice(r))&&void 0!==a?a:0;return{totalFeesSymbol:r,decimals:c,amount:s,amountInFiat:s*l}}return null}}],n&&Lk(t.prototype,n),o&&Lk(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(ue.j))||Fk)||Fk)||Fk)||Fk;var Yk=(0,d.Pi)((function(e){var t=e.viewModel,n=Boolean(t.error),r=(0,Ue.YN)((function(){var e,n,r=t.error,o=null===(e=t.payingWallet)||void 0===e?void 0:e.token.symbol;switch(r){case qg.swappingIsNotAvailable:n="Swapping is currently unavailable";break;case qg.sourceWalletIsEmpty:n="Choose source wallet";break;case qg.destinationWalletIsEmpty:n="Choose destination wallet";break;case qg.canNotSwapToItSelf:n="Choose another destination wallet";break;case qg.tradablePoolsPairsNotLoaded:n="Loading";break;case qg.tradingPairNotSupported:n="This trading pair is not supported";break;case qg.feesIsBeingCalculated:n="Calculating fees";break;case qg.couldNotCalculatingFees:n="Could not calculating fees";break;case qg.inputAmountIsEmpty:n="Enter the amount";break;case qg.inputAmountIsNotValid:n="Input amount is not valid";break;case qg.insufficientFunds:n="Insufficient funds";break;case qg.estimatedAmountIsNotValid:n="Amount is too small";break;case qg.bestPoolsPairsIsEmpty:n="This trading pair is not supported";break;case qg.slippageIsNotValid:n="Choose another slippage";break;case qg.nativeWalletNotFound:n="Could not connect to wallet";break;case qg.notEnoughSOLToCoverFees:n="Your account does not have enough SOL to cover fee";break;case qg.notEnoughBalanceToCoverFees:n="Your account does not have enough ".concat(null!=o?o:""," to cover fees");break;case qg.unknown:n="Unknown error";break;case qg.payingFeeWalletNotFound:n="payingFeeWalletNotFound";break;default:n="Review & confirm"}return n}));return(0,g.jsx)(U.zx,{primary:!0,full:!0,disabled:n,onClick:function(){t.openConfirmModal(),(0,Rt.L9)({name:"Swap_Review_Button"})},children:r})})),Qk=(0,v.Z)(U.JO)({name:"ActionIcon",class:"a3wgh7"}),$k=(0,v.Z)(U.zx)({name:"ButtonStyled",class:"b87jrq3"}),Gk=function(){var e=(0,a.k6)(),t=(0,a.UO)().publicKey;return(0,g.jsxs)($k,{small:!0,onClick:function(){e.push((0,a.Gn)("/swap/settings/:publicKey?",{publicKey:t}))},children:[(0,g.jsx)(Qk,{name:"gear"}),"Swap settings"]})};n(81452);var Jk=(0,v.Z)("div")({name:"SelectorValue",class:"s1hy3vpv"}),Xk=(0,v.Z)(or.y)({name:"TokenAvatarStyled",class:"ta9uhcw"}),ej=(0,v.Z)("div")({name:"Fees",class:"fgqa1j6"}),tj=(0,v.Z)("div")({name:"Top",class:"t1g1q16p"}),nj=(0,v.Z)("span")({name:"Label",class:"lnog2r4"}),rj=(0,v.Z)("div")({name:"LabelWrapper",class:"l4jnzku"}),oj=(0,d.Pi)((function(e){var t,n,r=e.items,o=e.flat,i=void 0!==o&&o,a=(0,Ue.YN)((function(){return r.find((function(e){return e.isSelected}))}));return(0,g.jsx)(mn,{flat:i,mobileListTitle:"Pay swap fees with",value:(0,g.jsxs)(Jk,{children:[(0,g.jsx)(Xk,{token:null==a||null===(t=a.wallet)||void 0===t?void 0:t.token,size:44}),(0,g.jsx)(ej,{children:(0,g.jsx)(tj,{children:(0,g.jsxs)(rj,{children:[(0,g.jsx)(nj,{children:"Pay swap fees with"}),(0,g.jsx)(nj,{className:"primary",children:null==a||null===(n=a.wallet)||void 0===n?void 0:n.token.symbol})]})})})]}),children:r.map((function(e){var t;return(0,g.jsx)(kn,{onItemClick:e.onClick,isSelected:e.isSelected,children:(0,g.jsx)(Cd.M,{wallet:e.wallet,isMobilePopupChild:!0})},null===(t=e.wallet)||void 0===t?void 0:t.pubkey)}))})}));n(3491);var ij=n(78901),aj=n(52616),uj=(0,v.Z)(U.JO)({name:"PenIcon",class:"pagt0f0"}),cj=function(e){var t=e.viewModel,n=(0,a.k6)(),r=(0,a.UO)().symbol,i=(0,o.useCallback)((function(){n.push((0,a.Gn)("/swap/settings/:symbol?",{symbol:r}))}),[n,r]);return(0,g.jsxs)(Tm.X2,{children:[(0,g.jsx)(Tm.xv,{className:"gray",children:"Max price slippage"}),(0,g.jsxs)(Tm.xv,{children:[100*t.slippage,"% ",(0,g.jsx)(uj,{name:"pen",onClick:i})]})]})};n(67700);var sj=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,Ue.YN)((function(){var e=t.totalFees;if(e){var n=e.amount,r=e.decimals,o=e.totalFeesSymbol;return"".concat((0,Ce.D$)(n,{maximumFractionDigits:r})," ").concat(o)}return""}));return(0,g.jsxs)(U.UQ,{title:(0,g.jsx)(_m.i,{title:"Swap details",titleBottomName:"Total fee",titleBottomValue:n}),open:!0,noContentPadding:!0,children:[(0,g.jsx)(aj.w,{exchangeRate:t.exchangeRate,sourceWallet:t.sourceWallet,destinationWallet:t.destinationWallet}),(0,g.jsx)(ij.E,{viewModel:t,slippageView:(0,g.jsx)(cj,{viewModel:t}),feesView:(0,g.jsx)(oj,{items:t.swapSettingsViewModel.feesContent,flat:!0})})]})})),lj=(0,v.Z)("div")({name:"Wrapper",class:"wv3bhy5"}),fj=(0,v.Z)("span")({name:"Black",class:"bah6vd8"}),dj=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,Ue.YN)((function(){var e=t.minimumReceiveAmount,n=t.destinationWallet;if(!e)return null;var o=(0,Ce.D$)(e,{maximumFractionDigits:9}),i=null==n?void 0:n.priceInCurrentFiat;if(!i)return o;var a=(0,Ce.D$)(e*i,{maximumFractionDigits:2}),u="(~".concat(r.k.fiat.symbol).concat(a,")");return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(fj,{children:o})," ",u]})}));return(0,g.jsxs)(lj,{className:b()({isHidden:!n}),children:[(0,g.jsx)("div",{children:"Receive at least:"}),(0,g.jsx)("div",{children:n})]})}));n(69970);var pj=(0,v.Z)("div")({name:"Wrapper",class:"w1ibosdf"}),yj=(0,v.Z)("div")({name:"SwitchWrapper",class:"sm6mvkl"}),hj=(0,v.Z)(U.JO)({name:"SwitchIcon",class:"s1dhkwr5"}),vj=function(e){var t=e.onClick;return(0,g.jsx)(pj,{children:(0,g.jsx)(yj,{onClick:t,children:(0,g.jsx)(hj,{name:"swap-bordered"})})})};n(89515);var mj=(0,v.Z)("div")({name:"TooltipContent",class:"tnasmj4"}),bj=function(e){var t=e.className;return(0,g.jsx)(U.TE,{withClose:!0,elContent:(0,g.jsx)(mj,{children:"This value is calculated by subtracting the account creation fee from your balance"}),className:t})};n(29524);var wj=(0,v.Z)("div")({name:"Wrapper",class:"w1iktgxj"}),gj=(0,v.Z)("div")({name:"Max",class:"m83cam9"}),kj=(0,v.Z)(U.JO)({name:"WalletBalanceIcon",class:"w12nsc3s"}),jj=(0,d.Pi)((function(e){var t=e.type,n=e.viewModel,r=(0,Ue.YN)((function(){if("source"===t){var e=n.error===qg.insufficientFunds||n.error===qg.inputAmountIsNotValid,r=n.isSendingMaxAmount;return e?"error":r?"success":void 0}})),o=(0,Ue.YN)((function(){if("source"===t){var e,r=n.sourceWallet;return(0,Ce.D$)(null!==(e=null==r?void 0:r.amount)&&void 0!==e?e:0,{maximumFractionDigits:9})}var o=n.destinationWallet;return null!=o&&o.amount?(0,Ce.D$)(o.amount,{maximumFractionDigits:9}):null})),i=(0,Ue.YN)((function(){return"source"!==t||n.isSendingMaxAmount}));return(0,g.jsxs)(wj,{className:r,children:[o?(0,g.jsx)(kj,{name:"wallet"}):null,o,i?null:(0,g.jsx)(gj,{onClick:function(){n.useAllBalance()},children:"MAX"})]})}));n(23559);var Oj=(0,v.Z)("div")({name:"Wrapper",class:"wekgz0a"}),xj=(0,v.Z)("div")({name:"TopWrapper",class:"tyicio0"}),Sj=(0,v.Z)("div")({name:"Title",class:"tgr7ma6"}),Pj=(0,v.Z)("div")({name:"MainWrapper",class:"msajrj4"}),Aj=(0,v.Z)("div")({name:"InputWrapper",class:"iyqsboo"}),_j=(0,v.Z)(bj)({name:"AccountCreationFeeTooltipStyled",class:"aleg61v"}),Tj=(0,d.Pi)((function(e){var t=e.type,n=e.viewModel,r=(0,Ue.YN)((function(){return"source"===t?n.chooseSourceWalletViewModel:n.chooseDestinationWalletViewModel})),o=(0,Ue.YN)((function(){return"source"===t?n.sourceWallet:n.destinationWallet})),i=(0,Ue.YN)((function(){return"source"!==t})),a=(0,Ue.YN)((function(){var e;return(0,Ce.D$)(0,{maximumFractionDigits:null!==(e=null==o?void 0:o.token.decimals)&&void 0!==e?e:0})})),u=(0,Ue.YN)((function(){var e,r;return"source"===t?null!==(e=n.inputAmount)&&void 0!==e?e:void 0:null!==(r=n.estimatedAmount)&&void 0!==r?r:void 0}));return(0,g.jsxs)(Oj,{children:[(0,g.jsxs)(xj,{children:[(0,g.jsx)(Sj,{children:"source"===t?"From":"To"}),(0,g.jsx)(jj,{type:t,viewModel:n})]}),(0,g.jsxs)(Pj,{children:[(0,g.jsx)(om.l,{viewModel:r,selector:(0,g.jsx)(em,{viewModel:r}),selectedWallet:o,customFilter:function(){if("source"===t)return function(e){return e.amount>0};var e=[],r=n.sourceWallet;if(r){var o=[];try{o=n.swapService.findPosibleDestinationMints(r.token.address)}catch(e){}0!==o.length&&(e=o)}var i=new Set(e),a=null==r?void 0:r.pubkey;return function(e){return e.pubkey!==a&&i.has(e.mintAddress)}}(),showOtherWallets:i,onWalletChange:function(e){var r="source"===t;n.walletDidSelect(e,r)}}),(0,g.jsxs)(Aj,{children:[(0,g.jsx)(Vv,{placeholder:a,value:u,decimals:null==o?void 0:o.token.decimals,onChange:function(e){var r=Number(e);"source"===t?n.enterInputAmount(r):n.enterEstimatedAmount(r)},onFocus:function(){n.setActiveInputField("source"===t?Hg.source:Hg.destination)},onBlur:function(){n.setActiveInputField(Hg.none)}}),"source"===t&&n.isSendingMaxAmount?(0,g.jsx)(_j,{}):null]})]})]})}));n(93916);var Rj=(0,v.Z)("div")({name:"Wrapper",class:"wtk1526"}),Cj=(0,d.Pi)((function(e){var t=e.viewModel;return(0,g.jsxs)(Rj,{children:[(0,g.jsx)(Tj,{type:"source",viewModel:t}),(0,g.jsx)(vj,{onClick:function(){t.swapSourceAndDestination()}}),(0,g.jsx)(Tj,{type:"destination",viewModel:t}),(0,g.jsx)(dj,{viewModel:t})]})}));n(46617);var Ij=(0,v.Z)("div")({name:"Wrapper",class:"we7ay1z"}),Ej=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,y.dD)();return(0,g.jsx)(_t,{title:"Swap",icon:"swap",action:n?null:(0,g.jsx)(Gk,{}),bottom:(0,g.jsx)(Yk,{viewModel:t}),children:(0,g.jsxs)(Ij,{children:[(0,g.jsx)(Cj,{viewModel:t}),t.isShowingShowDetailsButton?(0,g.jsx)(sj,{viewModel:t}):null]})})}));n(28390);var Mj=(0,v.Z)("div")({name:"Wrapper",class:"w3weoci"}),Dj=(0,v.Z)(U.JO)({name:"ActionIcon",class:"axwyv7x"}),Fj=(0,v.Z)(U.zx)({name:"ButtonStyled",class:"bvjfe8n"}),Nj=function(){var e=(0,a.k6)(),t=(0,a.UO)().publicKey;return(0,g.jsx)(Mj,{children:(0,g.jsxs)(Fj,{small:!0,onClick:function(){e.push((0,a.Gn)("/swap/:publicKey?",{publicKey:t}))},children:[(0,g.jsx)(Dj,{name:"arrow-left"}),"Go back to swap"]})})};n(85875);var Bj=(0,v.Z)("div")({name:"Wrapper",class:"wa0w4jd"}),Zj=(0,v.Z)("ul")({name:"DescriptionList",class:"d1402r5"}),Wj=(0,v.Z)("li")({name:"DescriptionItem",class:"dz7ayzs"}),Lj=function(){return(0,g.jsx)(Bj,{children:(0,g.jsx)(Zj,{children:["A slippage is a difference between the expected price and the actual price at which a trade is executed","Slippage can occur at any time, but it is most prevalent during periods of <strong>higher volatility</strong>","Transactions that exceed 20% slippage tolerance may be <strong>frontrun</strong>","Slippage tolerance <strong>cannot exceed 50%</strong>"].map((function(e,t){return(0,g.jsx)(Wj,{dangerouslySetInnerHTML:{__html:e}},t)}))})})};n(51203);var Uj=(0,v.Z)(U.zx)({name:"ButtonStyled",class:"bx7c5rx"});function zj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(92585);var qj=(0,v.Z)("div")({name:"Wrapper",class:"w1d80e3n"}),Hj=(0,v.Z)("span")({name:"Postfix",class:"p8ffkxt"}),Vj=(0,v.Z)("span")({name:"InputWrapper",class:"ittxxv5"}),Yj=(0,v.Z)("input")({name:"InputElement",class:"ivk8oyj"}),Qj=function(e){var t=e.defaultValue,n=e.maxSlippage,r=void 0===n?50:n,i=e.onChangeValue,a=(0,o.useRef)(null),u=zj((0,o.useState)(t),2),c=u[0],s=u[1];(0,o.useEffect)((function(){a.current&&a.current.focus()}),[a.current]);var l=function(e){i(String(Math.min(Number(e),r)))};return(0,g.jsxs)(qj,{children:[(0,g.jsx)(Vj,{children:(0,g.jsx)(Yj,{ref:a,type:"text",inputMode:"decimal",placeholder:"20",value:c,onChange:function(e){var t=e.target.value.replace(/,/g,".");t="."===t?"0.":t.replace(/(\D*)(\d*(\.\d{0,2})?)(.*)/,"$2").replace(/^0(\d+)/,"$1");var n=Number(t);t===n.toString()?n<=r&&s(Math.min(n,r).toString()):s(t)},onBlur:function(){l(c)},onKeyPress:function(e){["Enter","Escape"].includes(e.key)&&l(c)}})}),(0,g.jsx)(Hj,{children:"%"})]})};function $j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(48687);var Jj=(0,v.Z)(Uj)({name:"CustomButtonStyled",class:"c3q8rsz"}),Xj=(0,v.Z)("div")({name:"CustomButtonTitle",class:"c1o1meyh"}),eO=(0,v.Z)(U.JO)({name:"PenIcon",class:"p1fjwgtl"}),tO=function(e){var t=e.customSlippageIsOpened,n=e.slippageValue,r=e.onClick,i=e.onValueChange,a=$j((0,o.useState)(!1),2),u=a[0],c=a[1];return(0,g.jsx)(Jj,{className:b()("custom",{active:u||t,editing:u}),onClick:function(){c(!0),r()},children:u?(0,g.jsx)(Qj,{onChangeValue:function(e){c(!1),i(e)},defaultValue:t?n:""}):(0,g.jsx)(Xj,{children:t?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(eO,{name:"pen"}),n,"%"]}):"Custom"})})};n(55430);var nO=(0,v.Z)("div")({name:"Wrapper",class:"w1hxtbl9"}),rO=(0,d.Pi)((function(e){var t=e.viewModel,n=t.possibleSlippageTypes,r=t.slippageType,o=(0,Ue.YN)((function(){return n.findIndex((function(e){return e.type===r.type}))})),i=(0,Ue.YN)((function(){return r.type===vk.custom&&r.value?(100*r.value).toString():""}));return(0,g.jsxs)(nO,{children:[n.map((function(e,n){return(0,g.jsx)(Uj,{className:b()({active:!t.customSlippageIsOpened&&o===n}),onClick:function(){return n=e,void t.slippageSelected(n);var n},children:e.description},n)})),(0,g.jsx)(tO,{customSlippageIsOpened:t.customSlippageIsOpened,slippageValue:i,onClick:function(){t.slippageSelected(Pk.custom(null))},onValueChange:function(e){t.customSlippageChanged(Number(e))}})]})}));n(19719);var oO=(0,v.Z)("div")({name:"Wrapper",class:"wtcz036"}),iO=(0,v.Z)("div")({name:"Content",class:"c10oxz1z"}),aO=(0,v.Z)("div")({name:"SlippageWrapper",class:"s1it03qc"}),uO=(0,v.Z)("span")({name:"Title",class:"tvv1gc1"}),cO=(0,d.Pi)((function(e){var t=e.viewModel.swapSettingsViewModel,n=(0,a.UO)().symbol,r=(0,o.useMemo)((function(){return(0,a.Gn)("/swap/:symbol?",{symbol:n})}),[n]);return(0,g.jsx)(_t,{title:["Swap","Swap settings"],backTo:r,children:(0,g.jsxs)(oO,{children:[(0,g.jsxs)(iO,{children:[(0,g.jsxs)(aO,{children:[(0,g.jsx)(uO,{children:"Max price slippage"}),(0,g.jsx)(rO,{viewModel:t})]}),(0,g.jsx)(Lj,{})]}),(0,g.jsx)(oj,{items:t.feesContent})]})})}));n(3274);var sO=function(){(0,Rt.Gf)("Swap_Start_Screen");var e=(0,re.Dz)(Vk),t=(0,y.dD)(),n=(0,o.useMemo)((function(){return t?(0,g.jsxs)(a.rs,{children:[(0,g.jsx)(a.AW,{path:"/swap/settings/:publicKey?",children:(0,g.jsx)(Nj,{})}),(0,g.jsx)(a.AW,{path:"/swap/:publicKey?",children:(0,g.jsx)(Gk,{})})]}):null}),[t]);return(0,g.jsx)(Bi,{mobileAction:n,children:(0,g.jsxs)(a.rs,{children:[(0,g.jsx)(a.AW,{path:"/swap/settings/:publicKey?",children:(0,g.jsx)(cO,{viewModel:e})}),(0,g.jsx)(a.AW,{path:"/swap/:publicKey?",children:(0,g.jsx)(Ej,{viewModel:e})})]})})},lO=n(74441),fO=n(92812);function dO(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function pO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dO(i,r,o,a,u,"next",e)}function u(e){dO(i,r,o,a,u,"throw",e)}a(void 0)}))}}var yO=function(){var e=pO(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.permissions.query({name:"clipboard-write"});case 3:return t=e.sent,n=t.state,e.abrupt("return","granted"===n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),hO=function(){var e=pO(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return W.error("Can't copy to clipboard"),e.abrupt("return");case 3:return e.prev=3,n=[new ClipboardItem((r={},o=t.type,i=t,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r))],e.next=7,navigator.clipboard.write(n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),W.error(e.t0.message);case 12:case"end":return e.stop()}var r,o,i}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),vO=n(94789);function mO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wO=(0,v.Z)($e)({name:"WrapperCard",class:"w1n1sk0j"}),gO=(0,v.Z)("div")({name:"HeaderWrapper",class:"hudhabv"}),kO=(0,v.Z)("div")({name:"TokenWrapper",class:"toqmjtd"}),jO=(0,v.Z)("div")({name:"CopiedText",class:"c1iwn7im"}),OO=(0,v.Z)("div")({name:"TokenName",class:"t1s1keia"}),xO=(0,v.Z)("div")({name:"TokenAddress",class:"tml8uj3"}),SO=(0,v.Z)("div")({name:"ExpandWrapper",class:"eps8y49"}),PO=(0,v.Z)(U.JO)({name:"ExpandIcon",class:"e1aiw0c2"}),AO=(0,v.Z)("div")({name:"Content",class:"c9uvqv1"}),_O=(0,v.Z)("div")({name:"Text",class:"t2445qe"}),TO=(0,v.Z)("div")({name:"QRCodeWrapper",class:"q1dj82yb"}),RO=(0,v.Z)("div")({name:"QRCopiedWrapper",class:"q1f5z4z4"}),CO=(0,v.Z)("div")({name:"QRCopied",class:"q1coayyc"}),IO=(0,v.Z)("div")({name:"Details",class:"d1hn10hu"}),EO=(0,v.Z)("div")({name:"DetailRow",class:"d11pl600"}),MO=(0,v.Z)("div")({name:"FieldGroup",class:"f35suyz"}),DO=(0,v.Z)("div")({name:"FieldTitle",class:"f14hkg9p"}),FO=(0,v.Z)("div")({name:"FieldValue",class:"fqbjg3y"}),NO=(0,v.Z)(U.JO)({name:"ShareIcon",class:"s1ypkspb"}),BO=(0,v.Z)("div")({name:"ShareWrapper",class:"shdy84v"}),ZO=(0,v.Z)("div")({name:"Footer",class:"fdquywb"}),WO=function(e){var t,n,r,i,a,u=e.publicKey,c=e.className,s=mO((0,o.useState)(!1),2),l=s[0],f=s[1],d=mO((0,o.useState)(!1),2),p=d[0],y=d[1],h=mO((0,o.useState)(!1),2),v=h[0],m=h[1],w=mO((0,o.useState)(!1),2),k=w[0],j=w[1],O=mO((0,o.useState)(!1),2),x=O[0],S=O[1],P=(0,lO.Km)().network,A=(0,lO.Os)().publicKey,_=(0,lO.d)((0,fO.up)(u));if((0,o.useEffect)((function(){yO().then((function(e){return j(e)})).catch((function(){return j(!1)}))}),[]),!_)return null;var T=function(e,t){return function(){try{navigator.clipboard.writeText(t),f(!0),W.info("Address Copied!"),setTimeout((function(){f(!1)}),2e3)}catch(e){console.error(e)}}};return A?(0,g.jsxs)(wO,{className:c,children:[(0,g.jsxs)(gO,{children:[(0,g.jsxs)(kO,{children:[l?(0,g.jsx)(jO,{children:"Wallet Address Copied!"}):(0,g.jsx)(OO,{children:"Wallet Address"}),(0,g.jsx)(xO,{onClick:T(0,A.toBase58()),children:A.toBase58()})]}),(0,g.jsx)(SO,{onClick:function(){y(!p)},children:(0,g.jsx)(PO,{name:"qr"})})]}),p?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(AO,{children:[(0,g.jsx)(_O,{children:"Scan or copy QR code"}),(0,g.jsxs)(TO,{className:b()({isImageCopyAvailable:k}),onClick:k?function(){var e=document.querySelector("#qrcode");if(e)try{e.toBlob((function(e){return hO(e)})),S(!0),setTimeout((function(){S(!1)}),2e3)}catch(e){console.error(e)}}:void 0,children:[x?(0,g.jsx)(RO,{children:(0,g.jsx)(CO,{children:"Copied"})}):void 0,(0,g.jsx)(Jp(),{id:"qrcode",value:A.toBase58(),size:150})]})]}),v?(0,g.jsxs)(IO,{children:[(0,g.jsxs)(EO,{children:[(0,g.jsxs)(MO,{children:[(0,g.jsxs)(DO,{children:["Direct ",null===(t=_.balance)||void 0===t?void 0:t.token.symbol," Address"]}),_.key?(0,g.jsx)(FO,{onClick:T(0,_.key.toBase58()),children:_.key.toBase58()}):void 0]}),_.key?(0,g.jsx)("a",{href:(0,vO.j)("address",null==_?void 0:_.key.toBase58(),P),target:"_blank",rel:"noopener noreferrer noindex",className:"button",children:(0,g.jsx)(BO,{children:(0,g.jsx)(NO,{name:"external"})})}):void 0]}),(0,g.jsxs)(EO,{children:[(0,g.jsxs)(MO,{children:[(0,g.jsxs)(DO,{children:[null===(n=_.balance)||void 0===n?void 0:n.token.symbol," Mint Address"]}),_.balance?(0,g.jsx)(FO,{onClick:T(0,null===(r=_.balance)||void 0===r?void 0:r.token.address),children:null===(i=_.balance)||void 0===i?void 0:i.token.address}):void 0]}),_.balance?(0,g.jsx)("a",{href:(0,vO.j)("address",null===(a=_.balance)||void 0===a?void 0:a.token.address,P),target:"_blank",rel:"noopener noreferrer noindex",className:"button",children:(0,g.jsx)(BO,{children:(0,g.jsx)(NO,{name:"external"})})}):void 0]})]}):void 0,(0,g.jsx)(ZO,{children:(0,g.jsx)(U.zx,{lightGray:!0,onClick:function(){m((function(e){return!e}))},children:v?"Hide address details":"Show address details"})})]}):void 0]}):null},LO=(0,o.memo)(WO);n(26672);var UO=n(23206),zO=n(90904);var KO=(0,v.Z)("div")({name:"Wrapper",class:"w1tejeoc"}),qO=(0,v.Z)("div")({name:"EmptyImage",class:"e11eha70"}),HO=(0,v.Z)("div")({name:"Title",class:"t8wltmm"}),VO=(0,v.Z)("div")({name:"Description",class:"d5s85t2"}),YO=function(e){var t,n,r,o=e.type,i=e.title,a=void 0===i?"Nothing found":i,u=e.desc,c=void 0===u?"Change your search phrase and try again":u;return(0,g.jsxs)(KO,{children:[(0,g.jsx)(qO,{className:b()((t={},n=o,r=!0,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}),(0,g.jsx)(HO,{children:a}),(0,g.jsx)(VO,{children:c})]})};n(83688);var QO=(0,v.Z)("div")({name:"Wrapper",class:"w9adq4m"}),$O=function(e){var t=e.onClick;return(0,g.jsx)(QO,{onClick:t,children:(0,g.jsx)(YO,{type:"activity",title:"No transactions yet",desc:"You didn’t make any transactions yet"})})};n(38357);var GO=n(7552);function JO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var XO=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"byData",value:function(e){var t=e.viewModel,n=e.where,r=t.data,o=Object.entries((0,GO.Z)((function(e){return n(e).setHours(0,0,0,0).toString()}),r)).map((function(e){return[e[0],e[1]]}));return this._dateFormatter(o)}},{key:"_dateFormatter",value:function(e){return e.sort((function(e,t){return Number(t[0])-Number(e[0])})).map((function(e){return{userInfo:s()(Number(e[0])).format("LL"),items:e[1]}}))}}],(n=null)&&JO(t.prototype,n),r&&JO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ex=n(72664),tx=(0,v.Z)("div")({name:"TitleDate",class:"t1jzsdci"}),nx=(0,d.Pi)((function(e){var t=e.viewModel,n=e.mapDataToSections,r=e.numberOfLoadingCells,i=void 0===r?2:r,a=e.renderPlaceholder,u=e.renderItem,c=e.renderEmpty,s=e.className,l=(0,o.useMemo)((function(){return(0,Ue.YN)((function(){var e=n(t).map((function(e){return{userInfo:e.userInfo,items:e.items.map((function(e){return new _h.T({value:e})}))}}));switch(t.state){case Li.H.initializing:case Li.H.loading:for(var r=[],o=0;o<i;o++)r.push(new _h.T({placeholderIndex:(0,Ah.x0)()}));e.push({userInfo:"placeholder",items:r});break;case Li.H.loaded:var a=[];0===e.length&&c&&a.push(new _h.T({emptyCellIndex:(0,Ah.x0)()})),e.push({userInfo:"placeholder",items:a});case Li.H.error:}return e}))}),[i,c,t.data,t.state]);return 0===l.length?null:(0,g.jsx)("div",{className:s,children:(0,g.jsx)(ex.P,{disabled:!t.isFetchable,onNeedLoadMore:function(){return t.fetchNext()},children:l.map((function(e){return(0,g.jsxs)("div",{children:[["placeholder","empty"].includes(e.userInfo)?null:(0,g.jsx)(tx,{children:e.userInfo}),e.items.map((function(e,t){return e.isEmptyCell?e.isEmptyCell&&c?c(e.emptyCellIndex):null:e.isPlaceholder?a(e.placeholderIndex):u(e.value,t)}))]},e.userInfo)}))})})}));n(77138);var rx=(0,v.Z)("div")({name:"Wrapper",class:"w1clz7vm"}),ox=function(e){var t=e.onClick;return(0,g.jsx)(rx,{onClick:t,children:"ErrorView"})};n(80397);var ix=n(88192);function ax(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ux(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ax(i,r,o,a,u,"next",e)}function u(e){ax(i,r,o,a,u,"throw",e)}a(void 0)}))}}function cx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lx(e,t,n){return t&&sx(e.prototype,t),n&&sx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var fx=function(){function e(t){var n=t.solanaAPIClient;cx(this,e),this._solanaAPIClient=void 0,this._solanaAPIClient=n}var t;return lx(e,[{key:"getSignatures",value:function(e){var t=e.address,n=e.limit,r=e.before;return this._solanaAPIClient.provider.connection.getSignaturesForAddress(new bs.PublicKey(t),{limit:n,before:r})}},{key:"getTransaction",value:function(e){return this._solanaAPIClient.provider.connection.getParsedTransaction(e)}},{key:"getTransactions",value:(t=ux(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",this._solanaAPIClient.provider.connection.getParsedTransactions(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),dx=n(65378);function px(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function yx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){px(i,r,o,a,u,"next",e)}function u(e){px(i,r,o,a,u,"throw",e)}a(void 0)}))}}function hx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mx(e,t,n){return t&&vx(e.prototype,t),n&&vx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var bx=function(){function e(t){var n=t.p2pFeePayers,r=t.solanaAPIClient;hx(this,e),this._p2pFeePayers=void 0,this._parser=void 0,this._p2pFeePayers=n,this._parser=dx.RA.default({apiClient:r})}var t;return mx(e,[{key:"parse",value:(t=yx(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signatureInfo,r=t.transactionInfo,o=t.account,i=t.symbol,e.prev=1,r){e.next=4;break}throw os.qh.other("TransactionInfo is null");case 4:return e.next=6,this._parser.parse({transactionInfo:r,config:{accountView:o,symbolView:i,feePayers:this._p2pFeePayers}});case 6:return a=e.sent,u=r.blockTime?new Date(1e3*r.blockTime):null,e.abrupt("return",new dx.XL({status:a.status,signature:n.signature,info:a.info,slot:r.slot,blockTime:u,fee:a.fee,blockhash:a.blockhash}));case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),c=n.blockTime?new Date(1e3*n.blockTime):null,e.abrupt("return",new dx.XL({status:dx.qb.confirmed(),signature:n.signature,info:null,slot:n.slot,blockTime:c,fee:null,blockhash:null}));case 16:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(e){return t.apply(this,arguments)})}]),e}();function wx(e){return function(e){if(Array.isArray(e))return gx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jx=function(){function e(t){var n=t.pricesService;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pricesService=void 0,this._pricesService=n}var t,n,r;return t=e,(n=[{key:"process",value:function(e){var t=wx(e);for(var n in t)t[n]=this._updatedTransactionWithPrice(t[n]);return t}},{key:"_updatedTransactionWithPrice",value:function(e){var t,n=null===(t=this._pricesService.currentPrice(e.symbol))||void 0===t?void 0:t.value;if(!n)return e;var r=e.amount;return e.amountInFiat=r*n,e}}])&&kx(t.prototype,n),r&&kx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ox(e){return function(e){if(Array.isArray(e))return Sx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xx(e,t){if(e){if("string"==typeof e)return Sx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sx(e,t):void 0}}function Sx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Px(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ax=function(){function e(t){var n=t.accountFilter,r=t.transactionHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.accountFilter=void 0,this._repository=void 0,this.accountFilter=n,this._repository=r}var t,n,r;return t=e,(n=[{key:"process",value:function(e){var t,n=this.accountFilter;(t=n?this._repository.getProcessingTransactions(n):this._repository.getProcessingTransaction()).sort((function(e,t){var n,r,o=null===(n=e.blockTime)||void 0===n?void 0:n.getTime(),i=null===(r=t.blockTime)||void 0===r?void 0:r.getTime();return o&&i?o-i:-1}));var r,o=Ox(e),i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xx(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(t.reverse());try{var a=function(){var e=r.value,t=o.findIndex((function(t){return t.signature===e.signature}));t?o[t].status.type!==dx.i8.confirmed&&(o[t]=e):(e.signature&&(o=o.filter((function(e){return e.signature}))),o.unshift(e))};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return o}}])&&Px(t.prototype,n),r&&Px(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tx=function(){function e(t){var n=t.pricesService;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pricesService=void 0,this._pricesService=n}var t,n,r;return t=e,(n=[{key:"register",value:function(e){var t=this;return(0,oe.U5)((function(){return t._pricesService.currentPrices.value}),e)}}])&&_x(t.prototype,n),r&&_x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cx=function(){function e(t){var n=t.transactionHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._repository=void 0,this._repository=n}var t,n,r;return t=e,(n=[{key:"register",value:function(e){return this._repository.observeProcessingTransactionsAll(e)}}])&&Rx(t.prototype,n),r&&Rx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ix(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ex(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i;return t=e,n=[{key:"nextItems",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=this.next(t),o=null;case 3:return e.next=5,r.next();case 5:if((o=e.sent).done){e.next=9;break}n.push(o.value),e.next=3;break;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Ix(i,n,r,a,u,"next",e)}function u(e){Ix(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})}],n&&Ex(t.prototype,n),r&&Ex(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Dx(e){return Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(e)}function Fx(e){return function(e){if(Array.isArray(e))return Nx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bx(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Zx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bx(i,r,o,a,u,"next",e)}function u(e){Bx(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Wx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lx(e,t){return Lx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lx(e,t)}function Ux(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kx(e);if(t){var o=Kx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zx(this,n)}}function zx(e,t){if(t&&("object"===Dx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kx(e)}function qx(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,u=a instanceof Hx;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var u={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function Hx(e){this.wrapped=e}qx.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},qx.prototype.next=function(e){return this._invoke("next",e)},qx.prototype.throw=function(e){return this._invoke("throw",e)},qx.prototype.return=function(e){return this._invoke("return",e)};var Vx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Lx(e,t)}(c,e);var t,n,r,o,i,a,u=Ux(c);function c(e){var t,n=e.account,r=e.symbol,o=e.transactionRepository,i=e.transactionParser;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this)).transactionRepository=void 0,t.transactionParser=void 0,t._account=void 0,t._symbol=void 0,t._latestFetchedSignature=void 0,t._batchSize=15,t._buffer=[],t._isEmpty=!1,t._account=n,t._symbol=r,t.transactionRepository=o,t.transactionParser=i,t}return t=c,n=[{key:"currentItem",value:(a=Zx(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._buffer.length){e.next=3;break}return e.next=3,this._fillBuffer();case 3:if(t=this._buffer[0]){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",{signatureInfo:t,account:this._account,symbol:this._symbol});case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"next",value:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n._buffer.length){t.next=3;break}return t.next=3,new Hx(n._fillBuffer());case 3:if(r=n._buffer[0]){t.next=6;break}return t.abrupt("return");case 6:if(o=new Date,(i=r.blockTime)&&(o=new Date(1e3*i)),!(o>=e.timestampEnd)){t.next=15;break}return n._buffer.splice(0,1),t.next=13,{signatureInfo:r,account:n._account,symbol:n._symbol};case 13:t.next=16;break;case 15:return t.abrupt("return");case 16:case"end":return t.stop()}}),t)})),function(){return new qx(t.apply(this,arguments))})()}},{key:"_fillBuffer",value:(i=Zx(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isEmpty){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.transactionRepository.getSignatures({address:this._account,limit:this._batchSize,before:this._latestFetchedSignature});case 4:r=e.sent,this._isEmpty=0===r.length,this._latestFetchedSignature=null===(t=r.at(-1))||void 0===t?void 0:t.signature,(n=this._buffer).push.apply(n,Fx(r));case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"reset",value:(o=Zx(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._buffer=[],this._latestFetchedSignature=void 0;case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&Wx(t.prototype,n),r&&Wx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Mx);function Yx(e){return Yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(e)}function Qx(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qx(i,r,o,a,u,"next",e)}function u(e){Qx(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Gx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xx(e,t){return Xx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xx(e,t)}function eS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nS(e);if(t){var o=nS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tS(this,n)}}function tS(e,t){if(t&&("object"===Yx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nS(e){return nS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nS(e)}function rS(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,u=a instanceof oS;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var u={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function oS(e){this.wrapped=e}rS.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},rS.prototype.next=function(e){return this._invoke("next",e)},rS.prototype.throw=function(e){return this._invoke("throw",e)},rS.prototype.return=function(e){return this._invoke("return",e)};var iS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Xx(e,t)}(u,e);var t,n,r,o,i,a=eS(u);function u(){return Gx(this,u),a.apply(this,arguments)}return t=u,n=[{key:"next",value:function(e){return(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})),function(){return new rS(t.apply(this,arguments))})();var t}},{key:"currentItem",value:(i=$x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"reset",value:(o=$x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&Jx(t.prototype,n),r&&Jx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Mx);function aS(e){return aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(e)}function uS(e){return function(e){if(Array.isArray(e))return lS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cS(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=sS(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function sS(e,t){if(e){if("string"==typeof e)return lS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lS(e,t):void 0}}function lS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fS(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function dS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fS(i,r,o,a,u,"next",e)}function u(e){fS(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yS(e,t){return yS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yS(e,t)}function hS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mS(e);if(t){var o=mS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vS(this,n)}}function vS(e,t){if(t&&("object"===aS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mS(e){return mS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mS(e)}function bS(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,u=a instanceof wS;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var u={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function wS(e){this.wrapped=e}bS.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},bS.prototype.next=function(e){return this._invoke("next",e)},bS.prototype.throw=function(e){return this._invoke("throw",e)},bS.prototype.return=function(e){return this._invoke("return",e)};var gS,kS,jS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yS(e,t)}(c,e);var t,n,r,o,i,a,u=hS(c);function c(e){var t,n=e.sources;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this))._sources=void 0,t._buffer=[],t._sources=n,t}return t=c,n=[{key:"currentItem",value:(a=dS(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this._sources.map((function(e){return e.currentItem()})));case 2:return t=e.sent,e.abrupt("return",t.reduce((function(e,t){var n=null==t?void 0:t.signatureInfo.blockTime;if(!n)return e;var r=null==e?void 0:e.signatureInfo.blockTime;return r?n>r?t:e:null}),null));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"next",value:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n._buffer.length){t.next=3;break}return t.next=3,new wS(n._fillBuffer(e));case 3:if(r=n._buffer[0]){t.next=6;break}return t.abrupt("return",null);case 6:return n._buffer.splice(0),t.next=9,r;case 9:case"end":return t.stop()}}),t)})),function(){return new bS(t.apply(this,arguments))})()}},{key:"_fillBuffer",value:(i=dS(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=cS(this._sources),e.prev=2,o.s();case 4:if((i=o.n()).done){e.next=13;break}return a=i.value,e.t0=r,e.next=9,a.nextItems(t);case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(2),o.e(e.t2);case 18:return e.prev=18,o.f(),e.finish(18);case 21:u=r.reduce((function(e,t){return e.concat(t)}),[]),(n=this._buffer).push.apply(n,uS(u)),this._buffer.sort((function(e,t){var n=e.signatureInfo.blockTime,r=t.signatureInfo.blockTime;return n&&r?n-r:-1}));case 24:case"end":return e.stop()}}),e,this,[[2,15,18,21]])}))),function(e){return i.apply(this,arguments)})},{key:"reset",value:(o=dS(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._buffer=[],t=cS(this._sources),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=10;break}return r=n.value,e.next=8,r.reset();case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])}))),function(){return o.apply(this,arguments)})}],n&&pS(t.prototype,n),r&&pS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Mx);function OS(e){return function(e){if(Array.isArray(e))return PS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||SS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xS(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=SS(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function SS(e,t){if(e){if("string"==typeof e)return PS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PS(e,t):void 0}}function PS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AS(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function _S(e){return _S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_S(e)}function TS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RS(){return RS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=CS(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},RS.apply(this,arguments)}function CS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FS(e)););return e}function IS(e,t){return IS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IS(e,t)}function ES(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=FS(e);if(t){var o=FS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MS(this,n)}}function MS(e,t){if(t&&("object"===_S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return DS(e)}function DS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},FS(e)}function NS(e){return new ZS(e)}function BS(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,u=a instanceof ZS;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var u={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function ZS(e){this.wrapped=e}BS.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},BS.prototype.next=function(e){return this._invoke("next",e)},BS.prototype.throw=function(e){return this._invoke("throw",e)},BS.prototype.return=function(e){return this._invoke("return",e)},function(e){e.items="items",e.empty="empty",e.error="error"}(kS||(kS={}));var WS=(0,ie.ri)()(gS=Reflect.metadata("design:type",Function)(gS=Reflect.metadata("design:paramtypes",[void 0===Te.A?Object:Te.A,void 0===li.g?Object:li.g,void 0===Re.m?Object:Re.m,void 0===ix.$?Object:ix.$,void 0===Mb.g9?Object:Mb.g9])(gS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&IS(e,t)}(a,e);var t,n,o,i=ES(a);function a(e,t,n,o,u){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,{isPaginationEnabled:!0,limit:10}))._walletsRepository=e,c._notificationService=t,c._solanaAPIClient=n,c._transactionHandler=o,c._pricesService=u,c.transactionRepository=new fx({solanaAPIClient:c._solanaAPIClient}),c.transactionParser=new bx({p2pFeePayers:r.k.p2pFeePayerPubkeys,solanaAPIClient:c._solanaAPIClient}),c.accountSymbol=void 0,c._refreshTriggers=[new Tx({pricesService:c._pricesService}),new Cx({transactionHandler:c._transactionHandler})],c._source=new iS,c._outputs=[],c._errorRelay=!1,c._next=(0,oe.ls)(function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,c,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],e.prev=1;case 2:return e.next=5,NS(this._source.currentItem());case 5:if(n=e.sent,r=null==n?void 0:n.signatureInfo.blockTime,n&&r){e.next=9;break}return e.abrupt("return",t);case 9:o=new Date(1e3*r-864e5),i=this._source.next({timestampEnd:o}),a=null,u=function(){var e=a.value.signatureInfo;return s.data.some((function(t){return t.signature===e.signature}))||t.some((function(t){return t.signatureInfo.signature===e.signature}))?"continue":(t.push(a.value),t.length>15?{v:t}:void 0)};case 13:return e.next=15,NS(i.next());case 15:if((a=e.sent).done){e.next=23;break}if("continue"!==(c=u())){e.next=19;break}return e.abrupt("continue",13);case 19:if("object"!==_S(c)){e.next=21;break}return e.abrupt("return",c.v);case 21:e.next=13;break;case 23:e.next=2;break;case 25:e.next=33;break;case 27:return e.prev=27,e.t0=e.catch(1),console.error(e.t0),e.next=32,t;case 32:throw e.t0;case 33:case"end":return e.stop()}}),e,this,[[1,27]])})),function(){return new BS(e.apply(this,arguments))});return function(e){return t.apply(this,arguments)}}()),c.next=(0,oe.ls)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._next().then(function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.transactionRepository.getTransactions(n.map((function(e){return e.signatureInfo.signature})));case 2:r=e.sent,o=[],i=xS(r),e.prev=5,u=regeneratorRuntime.mark((function e(){var r,i,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.value){e.next=3;break}return e.abrupt("return","continue");case 3:if(i=n.find((function(e){return e.signatureInfo.signature===r.transaction.signatures[0]}))){e.next=6;break}return e.abrupt("return","continue");case 6:return u=i.signatureInfo,c=i.account,s=i.symbol,e.t0=o,e.next=10,t.transactionParser.parse({signatureInfo:u,transactionInfo:r,account:c,symbol:s});case 10:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 12:case"end":return e.stop()}}),e)})),i.s();case 8:if((a=i.n()).done){e.next=15;break}return e.delegateYield(u(),"t0",10);case 10:if("continue"!==e.t0){e.next=13;break}return e.abrupt("continue",13);case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(5),i.e(e.t1);case 20:return e.prev=20,i.f(),e.finish(20);case 23:return e.abrupt("return",o);case 24:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){AS(i,r,o,a,u,"next",e)}function u(e){AS(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),this._errorRelay=!0,this._notificationService.error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,6]])}))),(0,oe.rC)(DS(c),{setAccountSymbol:oe.aD,next:oe.ls}),c}return t=a,(n=[{key:"stateDriver",get:function(){var e,t=this.dataObservable,n=this.stateObservable;return this._errorRelay?kS.error:n===zO.H5.loading||n===zO.H5.initializing||(null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0)>0?kS.items:kS.empty}},{key:"setDefaults",value:function(){}},{key:"tryAgain",value:function(){this.reload(),this._errorRelay=!1}},{key:"refreshPage",value:function(){this.reload()}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"setAccountSymbol",value:function(e){var t,n=this;this.end(),this.accountSymbol={account:e.pubkey,symbol:e.token.symbol},this._outputs=[new Ax({accountFilter:null===(t=this.accountSymbol)||void 0===t?void 0:t.account,transactionHandler:this._transactionHandler}),new jx({pricesService:this._pricesService})];var r,o=xS(this._refreshTriggers);try{for(o.s();!(r=o.n()).done;){var i=r.value;this.addReaction(i.register((function(){n.refreshUI()})))}}catch(e){o.e(e)}finally{o.f()}this._buildSource(),this._bind(),this.initialize()}},{key:"_buildSource",value:function(){var e=new fx({solanaAPIClient:this._solanaAPIClient}),t=new bx({p2pFeePayers:r.k.p2pFeePayerPubkeys,solanaAPIClient:this._solanaAPIClient}),n=this.accountSymbol;if(n)this._source=new Vx({account:n.account,symbol:n.symbol,transactionRepository:e,transactionParser:t});else{var o=this._walletsRepository.getWallets().reverse().map((function(n){var r;return new Vx({account:null!==(r=n.pubkey)&&void 0!==r?r:"",symbol:n.token.symbol,transactionRepository:e,transactionParser:t})}));this._source=new jS({sources:o})}}},{key:"_bind",value:function(){var e=this;this.addReaction((0,oe.gx)((function(){var t,n;return(null!==(t=null===(n=e._walletsRepository.dataObservable)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0}),(function(){e.reload()})))}},{key:"clear",value:function(){this._buildSource(),RS(FS(a.prototype),"clear",this).call(this)}},{key:"join",value:function(e){var t,n=this,r=[],o=xS(e);try{var i=function(){var e=t.value;if(n.data.some((function(t){return t.signature===e.signature})))return"continue";r.push(e)};for(o.s();!(t=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return this.data.concat(r)}},{key:"map",value:function(e){var t,n=OS(e),r=xS(this._outputs);try{for(r.s();!(t=r.n()).done;)n=t.value.process(n)}catch(e){r.e(e)}finally{r.f()}return RS(FS(a.prototype),"map",this).call(this,n)}}])&&TS(t.prototype,n),o&&TS(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(zO.lZ))||gS)||gS)||gS,LS=n(90619),US=n(91436),zS=(0,v.Z)("div")({name:"Wrapper",class:"w83yco6"}),KS=(0,v.Z)("div")({name:"TopStack",class:"t13b3win"}),qS=(0,v.Z)("div")({name:"TransactionTypeLabel",class:"tcvkvwl"}),HS=(0,v.Z)("div")({name:"AmountInFiatLabel",class:"akresvy"}),VS=(0,v.Z)(US.C)({name:"TransactionImageViewStyled",class:"t1ovu3al"}),YS=(0,v.Z)("div")({name:"BottomStack",class:"b10om3n"}),QS=(0,v.Z)("div")({name:"Main",class:"mzkpi32"}),$S=(0,d.Pi)((function(e){var t=e.transaction,n=e.isPlaceholder,o=void 0!==n&&n,i=e.onTransactionClick;if(o||!t)return(0,g.jsx)(zS,{children:(0,g.jsxs)(QS,{children:[(0,g.jsx)(ud.Z,{width:48,height:48,borderRadius:12}),(0,g.jsxs)("div",{children:[(0,g.jsxs)(KS,{children:[(0,g.jsx)(qS,{children:(0,g.jsx)(ud.Z,{width:50,height:16})}),(0,g.jsx)(HS,{children:(0,g.jsx)(ud.Z,{width:50,height:16})})]}),(0,g.jsxs)(YS,{children:[(0,g.jsx)("div",{children:(0,g.jsx)(ud.Z,{width:70,height:16})}),(0,g.jsx)("div",{children:(0,g.jsx)(ud.Z,{width:70,height:16})})]})]})]})});var a=(0,Ue.YN)((function(){var e,n,o=null,i=(0,LS.a)(t),a=!1;switch(null===(e=t.info)||void 0===e?void 0:e.constructor){case dx.Wh:var u=t.info.newWallet;u&&(o="".concat(u.token.symbol," Created"));break;case dx.st:var c=t.info.closedWallet;c&&(o="".concat(c.token.symbol," Closed"));break;case dx.LU:switch(t.info.transferType){case dx.Z$.send:var s=t.info.destination;s&&(o="To ".concat(s.pubkey?(0,Ru.kp)(s.pubkey):""));break;case dx.Z$.receive:var l=t.info.source;l&&(o="From ".concat(l.pubkey?(0,Ru.kp)(l.pubkey):""))}break;case dx.SS:var f=t.info.source,d=t.info.destination;f&&d&&(o="".concat(f.token.symbol," to ").concat(d.token.symbol));break;default:var p=t.signature;p&&(o=(0,Ru.kp)(p)),a=!0}var y,h,v=null;(null===(n=t.info)||void 0===n?void 0:n.constructor)===dx.SS?v={fromOneToOne:{from:null===(y=t.info.source)||void 0===y?void 0:y.token,to:null===(h=t.info.destination)||void 0===h?void 0:h.token}}:v={oneImage:(0,LS.G)(t)};var m=null;switch(t.status.type){case dx.i8.requesting:case dx.i8.processing:m="clock";break;case dx.i8.error:m="warning"}var b=null,w=void 0,g=t.amountInFiat;if(g){var k="".concat(r.k.fiat.symbol).concat((0,Ce.D$)(g,{maximumFractionDigits:2,showMinus:!1}));t.amount<0?k="- ".concat(k):t.amount>0?(k="+ ".concat(k),w="green"):k="",b=k}var j=null;if(a){var O=t.blockhash;O&&(j="#".concat((0,Ru.kp)(O)))}else 0!==t.amount&&(j="".concat((0,Ce.D$)(t.amount,{maximumFractionDigits:9,showPlus:!0})," ").concat(t.symbol));return{descriptionLabel:o,transactionTypeLabel:i,imageView:v,statusImage:m,amountInFiatLabel:b,amountInFiatLabelTextColor:w,amountInTokenLabel:j}})),u=a.descriptionLabel,c=a.transactionTypeLabel,s=a.imageView,l=a.statusImage,f=a.amountInFiatLabel,d=a.amountInFiatLabelTextColor,p=a.amountInTokenLabel;return(0,g.jsx)(zS,{children:(0,g.jsxs)(QS,{onClick:i,children:[(0,g.jsx)(VS,{imageView:s,statusImage:l}),(0,g.jsxs)("div",{children:[(0,g.jsxs)(KS,{children:[(0,g.jsx)(qS,{children:c}),(0,g.jsx)(HS,{className:b()(d),children:f})]}),(0,g.jsxs)(YS,{children:[(0,g.jsx)("div",{children:u}),(0,g.jsx)("div",{children:p})]})]})]})})}));n(12421);var GS=(0,v.Z)("div")({name:"Wrapper",class:"wtqwjs6"}),JS=(0,d.Pi)((function(e){var t=e.viewModel,n=(0,zO.Dz)(WS);(0,o.useLayoutEffect)((function(){t.wallet&&n.setAccountSymbol(t.wallet)}),[t.wallet]);var r=(0,Ue.YN)((function(){switch(n.stateDriver){case kS.items:return(0,g.jsx)(nx,{viewModel:n,mapDataToSections:function(e){return XO.byData({viewModel:e,where:function(e){var t;return null!==(t=e.blockTime)&&void 0!==t?t:new Date}})},numberOfLoadingCells:7,renderPlaceholder:function(e){return(0,g.jsx)($S,{isPlaceholder:!0},e)},renderItem:function(e){return(0,g.jsx)($S,{transaction:e,onTransactionClick:function(){return n=e,t.showTransaction(n);var n}},e.signature)}});case kS.empty:return(0,g.jsx)($O,{onClick:function(){return n.refreshPage()}});case kS.error:return(0,g.jsx)(ox,{onClick:function(){return n.tryAgain()}})}}));return(0,g.jsx)(oo,{title:"Activity",children:(0,g.jsx)(GS,{children:r})})}));n(63525);var XS=n(23738),eP=(0,v.Z)("div")({name:"Wrapped",class:"w1xuxn8p"}),tP=(0,v.Z)("div")({name:"ValueCurrency",class:"vilw10g"}),nP=(0,v.Z)("div")({name:"BottomWrapper",class:"bhcgidm"}),rP=(0,v.Z)("div")({name:"ValueOriginal",class:"v1sa4c4o"}),oP=(0,d.Pi)((function(e){var t=e.viewModel,n=e.isSticky;if(!t.wallet)return null;var o=(0,Ue.YN)((function(){var e=t.wallet;return e?"".concat((0,Ce.D$)(e.amount,{maximumFractionDigits:9})," ").concat(e.token.symbol):""})),i=(0,Ue.YN)((function(){var e=t.wallet;return"".concat(r.k.fiat.symbol," ").concat(e?(0,Ce.D$)(e.amountInCurrentFiat,{maximumFractionDigits:2}):"0")}));return(0,g.jsxs)(eP,{className:b()({isSticky:n}),children:[t.wallet?(0,g.jsx)(tP,{className:b()({isSticky:n}),children:i}):null,(0,g.jsx)(nP,{className:b()({isSticky:n}),children:(0,g.jsx)(rP,{children:o})})]})}));function iP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(29096);var uP,cP,sP=(0,v.Z)("div")({name:"Header",class:"hrlawuu"}),lP=(0,v.Z)("div")({name:"TokenInfo",class:"t1f7evcv"}),fP=(0,v.Z)("div")({name:"TokenSymbol",class:"tscy1pk"}),dP=(0,v.Z)("div")({name:"TokenName",class:"t1itoqu4"}),pP=(0,v.Z)("div")({name:"Buttons",class:"bxjyy9"}),yP=(0,v.Z)(U.zx)({name:"ButtonStyled",class:"b8t4hxm"}),hP=(0,v.Z)(U.JO)({name:"ActionIcon",class:"a15i6bjx"}),vP=(0,v.Z)("div")({name:"WrapperFixed",class:"w1nonvxf"}),mP=(0,v.Z)("div")({name:"FixedInfoWrapper",class:"fxy1v21"}),bP=function(e){var t,n,r,i=e.viewModel,a=(0,o.useRef)(null),u=iP((0,o.useState)(!1),2),c=u[0],s=u[1],l=(0,o.useCallback)((function(){return jd()((function(){if(a.current){var e=a.current.getBoundingClientRect().bottom;s(e<=150)}}),100)}),[]);(0,XS.Z)("scroll",l);var f=function(){return(0,g.jsx)(pP,{children:i.walletActions.map((function(e){return(0,g.jsx)(yP,{primary:!0,small:!0,title:e.text,onClick:function(){return i.start(e)},children:(0,g.jsx)(hP,{name:e.icon})},e.text)}))})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(at,{ref:a,title:i.wallet?(0,g.jsxs)(sP,{children:[(0,g.jsx)(or.y,{token:i.wallet.token,size:44}),(0,g.jsxs)(lP,{children:[(0,g.jsx)(fP,{children:i.wallet.token.symbol}),(0,g.jsx)(dP,{title:null!==(t=i.wallet.pubkey)&&void 0!==t?t:void 0,children:(null===(n=i.wallet)||void 0===n?void 0:n.token.name)||(i.wallet.pubkey?(0,UO.sC)(i.wallet.pubkey):null)})]})]}):null,action:f(),children:(0,g.jsx)(oP,{viewModel:i})}),c?(0,g.jsxs)(vP,{children:[(0,g.jsxs)(mP,{children:[(0,g.jsx)(or.y,{token:null===(r=i.wallet)||void 0===r?void 0:r.token,size:36}),(0,g.jsx)(oP,{viewModel:i,isSticky:!0})]}),f()]}):null]})};function wP(e){return wP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wP(e)}function gP(e,t){return gP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gP(e,t)}function kP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xP(e);if(t){var o=xP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(e,t){if(t&&("object"===wP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return OP(e)}function OP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xP(e){return xP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xP(e)}function SP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function AP(e,t,n){return t&&PP(e.prototype,t),n&&PP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n(67311),function(e){e.send="send",e.swap="swap"}(cP||(cP={}));var _P,TP,RP,CP=function(){function e(t){SP(this,e),this.type=void 0,this.type=t}return AP(e,[{key:"text",get:function(){switch(this.type){case cP.send:return"Send";case cP.swap:return"Swap"}}},{key:"icon",get:function(){switch(this.type){case cP.send:return"top";case cP.swap:return"swap"}}}],[{key:"send",get:function(){return new e(cP.send)}},{key:"swap",get:function(){return new e(cP.swap)}}]),e}(),IP=(0,ie.ri)()(uP=Reflect.metadata("design:type",Function)(uP=Reflect.metadata("design:paramtypes",[void 0===Te.A?Object:Te.A,void 0===_e?Object:_e,void 0===Xt?Object:Xt])(uP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&gP(e,t)}(n,e);var t=kP(n);function n(e,r,o){var i;return SP(this,n),(i=t.call(this))._walletsRepository=e,i._locationService=r,i._modalService=o,i.pubkey=void 0,i.wallet=void 0,i.pubkey=null,i.wallet=null,(0,oe.rC)(OP(i),{pubkey:oe.LO,wallet:oe.LO,walletActions:oe.Fl}),i}return AP(n,[{key:"walletActions",get:function(){var e=this.wallet;return e?(e.isNativeSOL||e.token.symbol,[CP.send,CP.swap]):[]}},{key:"setDefaults",value:function(){this.pubkey=null,this.wallet=null}},{key:"onInitialize",value:function(){this._bind()}},{key:"afterReactionsRemoved",value:function(){}},{key:"_bind",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e._locationService.getParams("/wallet/:pubkey").pubkey}),(function(t){t&&(e.pubkey=t)}),{fireImmediately:!0})),this.addReaction((0,oe.U5)((function(){return{wallets:e._walletsRepository.dataObservable,pubkey:e.pubkey}}),(function(t){var n=t.wallets,r=t.pubkey,o=null==n?void 0:n.find((function(e){return e.pubkey===r}));o&&(e.wallet=o)}),{fireImmediately:!0}))}},{key:"_sendTokens",value:function(){var e=this.wallet;e&&this._locationService.push("/send/".concat(e.pubkey))}},{key:"_swapTokens",value:function(){var e=this.wallet;e&&this._locationService.push("/swap/".concat(e.pubkey))}},{key:"start",value:function(e){switch(e.type){case cP.send:this._sendTokens();break;case cP.swap:this._swapTokens()}}},{key:"showTransaction",value:function(e){this._modalService.openModal(Gt.SHOW_MODAL_TRANSACTION,{transaction:e})}}]),n}(ue.j))||uP)||uP)||uP,EP=(0,d.Pi)((function(){var e=(0,re.Dz)(IP),t=(0,a.UO)().publicKey,n=(0,Ue.YN)((function(){var t;return null!==(t=e.wallet)&&void 0!==t&&t.token.symbol?"".concat(e.wallet.token.symbol," Wallet"):e.pubkey?"".concat((0,UO.sC)(e.pubkey)," Wallet"):""}));return(0,g.jsxs)(Bi,{breadcrumb:{currentName:n,backTo:{pathname:"/wallets",state:{fromPage:location.pathname}}},children:[(0,g.jsx)(bP,{viewModel:e}),(0,g.jsx)(LO,{publicKey:t}),(0,g.jsx)(JS,{viewModel:e})]})})),MP=n(36832),DP=n(12830),FP=n(63145);function NP(e){return NP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NP(e)}function BP(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ZP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ZP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LP(e,t){return LP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},LP(e,t)}function UP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KP(e);if(t){var o=KP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zP(this,n)}}function zP(e,t){if(t&&("object"===NP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function KP(e){return KP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},KP(e)}var qP,HP,VP,YP,QP=(0,ie.b2)()(_P=Reflect.metadata("design:type",Function)(_P=Reflect.metadata("design:paramtypes",[void 0===Mb.g9?Object:Mb.g9])((RP=TP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&LP(e,t)}(a,e);var t,n,o,i=UP(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._pricesService=e,t._connection=void 0,t._requestConfig=null,t.createRequest=(0,oe.ls)(regeneratorRuntime.mark((function e(){var t,n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._requestConfig,n=t.seed,r=t.derivationPathValue,o=new Array(a._derivableAccountsNumber).fill(null).map((function(e,t){var o=(0,FP.AW)(n,t,r);return new bs.PublicKey(o)})),e.next=4,this._connection.getMultipleAccountsInfo(o).then((function(e){return e.map((function(e,t){var n,r;return e?os.w5.nativeSolana({lamports:new Hi.u64(null==e?void 0:e.lamports),pubkey:null===(r=o[t])||void 0===r?void 0:r.toString()}):os.w5.nativeSolana({lamports:new Hi.u64(0),pubkey:null===(n=o[t])||void 0===n?void 0:n.toString()})}))})).then((function(e){var t=e.map((function(e){return e.token})).filter((function(e){return!i._pricesService.getWatchList().has(e)}));return i._pricesService.addToWatchList(t),i._pricesService.fetchPrices(t),e}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),t._connection=new bs.Connection(r.k.apiEndpoint.getURL()),t}return t=a,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e._pricesService.currentPrices.state.type}),(function(){e._updatePrices()})))}},{key:"afterReactionsRemoved",value:function(){}},{key:"_updatePrices",value:function(){if(this.state===Li.H.loaded){var e=this._mapPrices(this.data);e=e.sort(os.w5.defaultSorter),this.overrideData(e)}}},{key:"_mapPrices",value:function(e){var t,n=e,r=BP(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.price=this._pricesService.currentPrice(o.token.symbol)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"fetchWallets",value:function(e){this._requestConfig=e,this.reload()}}])&&WP(t.prototype,n),o&&WP(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(Vy.J),TP._derivableAccountsNumber=5,_P=RP))||_P)||_P)||_P;function $P(e){return $P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$P(e)}function GP(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function JP(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){GP(i,r,o,a,u,"next",e)}function u(e){GP(i,r,o,a,u,"throw",e)}a(void 0)}))}}function XP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eA(e,t){return eA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eA(e,t)}function tA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oA(e);if(t){var o=oA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nA(this,n)}}function nA(e,t){if(t&&("object"===$P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rA(e)}function rA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(e){return oA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oA(e)}!function(e){e.CREATE_START="CREATE_START",e.CREATE_CONFIRM_MNEMONIC="CREATE_CONFIRM_MNEMONIC",e.CREATE_SET_PASSWORD="CREATE_SET_PASSWORD",e.RESTORE_START="RESTORE_START",e.RESTORE_PASSWORD="RESTORE_PASSWORD",e.RESTORE_ACCOUNTS="RESTORE_ACCOUNTS",e.FINAL="FINAL"}(qP||(qP={}));var iA=[qP.CREATE_START,qP.CREATE_CONFIRM_MNEMONIC,qP.CREATE_SET_PASSWORD],aA=[qP.RESTORE_START,qP.RESTORE_PASSWORD,qP.RESTORE_ACCOUNTS],uA=(0,ie.ri)()(HP=Reflect.metadata("design:type",Function)(HP=Reflect.metadata("design:paramtypes",[void 0===QP?Object:QP,void 0===Xw.d?Object:Xw.d])((YP=VP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&eA(e,t)}(c,e);var t,n,r,o,i,a,u=tA(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this)).walletListsViewModel=e,n._walletModel=t,n.step=void 0,n.authInfo=void 0,n.initialCreateMnemonic=void 0,n.initialRestoreMnemonic=void 0,n.step=c.defaultState.step,n.authInfo=c.defaultState.authInfo,n.initialCreateMnemonic=c.defaultState.initialCreateMnemonic,n.initialRestoreMnemonic=c.defaultState.initialRestoreMnemonic,(0,oe.rC)(rA(n),{step:oe.LO,authInfo:oe.LO,isRestore:oe.Fl,isCreate:oe.Fl,showBackButton:oe.Fl,seed:oe.Fl,connecting:oe.Fl,setCreateStart:oe.aD.bound,setRestoreStart:oe.aD.bound,previousStep:oe.aD.bound,nextStep:oe.aD.bound,setPassword:oe.aD.bound,setDerivationPath:oe.aD.bound}),n}return t=c,n=[{key:"onInitialize",value:function(){var e=this;this.walletListsViewModel.initialize(),this.addReaction((0,oe.U5)((function(){return e.authInfo.derivationPath.value}),JP(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._fetchWallets());case 1:case"end":return t.stop()}}),t)}))))),this.addReaction((0,oe.gx)((function(){return e.step===qP.RESTORE_ACCOUNTS}),JP(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._fetchWallets());case 1:case"end":return t.stop()}}),t)})))))}},{key:"afterReactionsRemoved",value:function(){this.walletListsViewModel.end()}},{key:"setDefaults",value:function(){this.step=c.defaultState.step,this.authInfo=c.defaultState.authInfo,this.initialCreateMnemonic=c.defaultState.initialCreateMnemonic,this.initialRestoreMnemonic=c.defaultState.initialRestoreMnemonic}},{key:"setCreateStart",value:function(){(0,Rt.L9)({name:"Create_Start_Button"}),this.step=qP.CREATE_START}},{key:"setRestoreStart",value:function(){(0,Rt.L9)({name:"Restore_Start_Button"}),this.step=qP.RESTORE_START}},{key:"nextStep",value:function(){var e=this._getCurrent(),t=this._getList();switch(!0){case e===t.length-1:this.step=qP.FINAL;break;case-1===e:this.step=t[0];break;default:this.step=t[e+1]}}},{key:"previousStep",value:function(){var e=this._getCurrent(),t=this._getList();switch(!0){case 0===e:break;case-1===e:this.step=t[0];break;default:this.step=t[e-1]}}},{key:"setPassword",value:function(e){this.authInfo.password=e}},{key:"finalize",value:(a=JP(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.seed;case 2:return t=e.sent,n={mnemonic:this.authInfo.mnemonic,password:this.authInfo.password,seed:t},e.next=6,this._walletModel.connectAdaptor(DP.R,{type:"sign",derivationPath:this.authInfo.derivationPath.value,storageInfo:n});case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"connectExtension",value:(i=JP(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._walletModel.connectAdaptor(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"setMnemonic",value:function(e){this.authInfo.mnemonic=e}},{key:"setDerivationPath",value:function(e){this.authInfo.derivationPath=e}},{key:"seed",get:function(){return(0,FP.OI)(this.authInfo.mnemonic)}},{key:"isRestore",get:function(){return this.step.startsWith("RESTORE")}},{key:"isCreate",get:function(){return this.step.startsWith("CREATE")}},{key:"showBackButton",get:function(){return this.step!==qP.CREATE_START&&this.step!==qP.RESTORE_START}},{key:"connecting",get:function(){return this._walletModel.connecting}},{key:"_getList",value:function(){return this.isCreate?iA:aA}},{key:"_getCurrent",value:function(){return this._getList().indexOf(this.step)}},{key:"_fetchWallets",value:(o=JP(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.walletListsViewModel,e.next=3,this.seed;case 3:e.t1=e.sent,e.t2=this.authInfo.derivationPath.value,e.t3={seed:e.t1,derivationPathValue:e.t2},e.t0.fetchWallets.call(e.t0,e.t3);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&XP(t.prototype,n),r&&XP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(ue.j),VP.defaultState={step:qP.RESTORE_START,initialCreateMnemonic:MP.generateMnemonic(DP.n.mnemonicStrength),initialRestoreMnemonic:"",authInfo:(0,oe.LO)({mnemonic:uf,derivationPath:{label:"m/44'/501'/0'/0'",value:FP.PT.Bip44Change},password:""})},HP=YP))||HP)||HP)||HP,cA=(0,v.Z)("div")({name:"Wrapper",class:"w1beiwwp"}),sA=(0,v.Z)(Ty)({name:"LoaderStyled",class:"l1o86ims"}),lA=(0,v.Z)("div")({name:"Logo",class:"l1bjq1q5"}),fA=function(){return(0,g.jsxs)(cA,{children:[(0,g.jsx)(sA,{}),(0,g.jsx)(lA,{})]})};n(76111);var dA=n.p+"app-2515c518a7e9485a3080.png",pA=(0,v.Z)("div")({name:"Wrapper",class:"wgok49u"}),yA=(0,v.Z)(U.JO)({name:"BackIcon",class:"b867n0d"}),hA=function(e){var t=e.onClick,n=e.className;return(0,g.jsx)(pA,{onClick:t,className:n,children:(0,g.jsx)(yA,{name:"arrow"})})};n(97205);var vA=(0,v.Z)("div")({name:"Wrapper",class:"w1die307"}),mA=(0,v.Z)("div")({name:"Left",class:"l16enttf"}),bA=(0,v.Z)("div")({name:"Logo",class:"l1qjeh3i"}),wA=(0,v.Z)("span")({name:"Title",class:"tkc4snu"}),gA=(0,v.Z)("span")({name:"WalletTitle",class:"wnabe0f"}),kA=(0,v.Z)(hA)({name:"BackStyled",class:"b2cqbbf"}),jA=(0,v.Z)("strong")({name:"TitleBold",class:"t110vnye"}),OA=(0,v.Z)("img")({name:"AppImg",class:"a1lpb681"}),xA=(0,v.Z)("button")({name:"TabButton",class:"t579yzv"}),SA=(0,v.Z)("div")({name:"Navigate",class:"n12bgnhm"}),PA=(0,v.Z)("div")({name:"MenuContainer",class:"m1i34wxd"}),AA=(0,v.Z)("div")({name:"ContentContainer",class:"c64i0sp"}),_A=(0,d.Pi)((function(e){var t=e.showNavigation,n=e.children,r=(0,y.Ce)(),o=(0,re.Dz)(uA),i=r&&(0,g.jsxs)(mA,{children:[(0,g.jsx)(bA,{}),(0,g.jsxs)(wA,{children:["Your crypto ",(0,g.jsx)(jA,{children:"is starting here"})]}),(0,g.jsx)(OA,{src:dA})]}),a=t&&(0,g.jsxs)(SA,{children:[(0,g.jsx)(xA,{className:b()({isActive:o.isCreate}),onClick:o.setCreateStart,children:"Create new wallet"}),(0,g.jsx)(xA,{className:b()({isActive:o.isRestore}),onClick:o.setRestoreStart,children:"I already have wallet"})]}),u=t&&(0,g.jsxs)(gA,{children:[o.showBackButton&&(0,g.jsx)(kA,{onClick:o.previousStep}),o.isCreate?"New wallet":"Log in to your wallet"]});return(0,g.jsxs)(vA,{children:[i,(0,g.jsxs)(PA,{children:[a,(0,g.jsxs)(AA,{children:[u,n]}),o.connecting&&(0,g.jsx)(fA,{})]})]})}));_A.defaultProps={showNavigation:!0},n(49147);var TA=(0,v.Z)("button")({name:"Button",class:"b2k0b26"});n(96973);var RA=(0,v.Z)("div")({name:"Background",class:"b13dmkmk"}),CA=(0,v.Z)("div")({name:"Wrapper",class:"w4gddki"}),IA=(0,v.Z)("div")({name:"Header",class:"htvsgho"}),EA=(0,v.Z)("div")({name:"Description",class:"d1sqc5da"}),MA=(0,v.Z)("div")({name:"Buttons",class:"b1sk9mb9"}),DA=(0,v.Z)(U.zx)({name:"ButtonClose",class:"b1e6j003"}),FA=function(e){var t=e.close;return(0,g.jsx)(RA,{children:(0,g.jsxs)(CA,{children:[(0,g.jsx)(IA,{children:"Do you really want to turn off login with password?"}),(0,g.jsx)(EA,{children:"The seed phrase will not be saved on your device in future. On every login you’ll need to enter your private seed phrase. You can manage this function in settings."}),(0,g.jsxs)(MA,{children:[(0,g.jsx)(DA,{onClick:function(){t(!1)},children:"Yes, turn off"}),(0,g.jsx)(U.zx,{dark:!0,onClick:function(){t(!0)},children:"No, keep login with password"})]})]})})};function NA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return BA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(14761);var ZA=(0,v.Z)("div")({name:"Wrapper",class:"w1y6a1v5"}),WA=(0,v.Z)("div")({name:"TopWrapper",class:"tdn91fp"}),LA=(0,v.Z)("div")({name:"Logo",class:"l1au1vm1"}),UA=(0,v.Z)("span")({name:"Title",class:"tiqyzu6"}),zA=(0,v.Z)("span")({name:"Desc",class:"d1noeoo8"}),KA=(0,v.Z)("label")({name:"SwitcherLabel",class:"s1so0xei"}),qA=(0,v.Z)("span")({name:"SwitcherText",class:"s1omffs8"}),HA=(0,d.Pi)((function(){var e=(0,re.Dz)(uA),t=NA((0,o.useState)(!0),2),n=t[0],r=t[1],i=NA((0,o.useState)(!1),2),a=i[0],u=i[1];return(0,g.jsxs)(ZA,{children:[a?(0,g.jsx)(FA,{close:function(e){u(!1),r(e)}}):void 0,(0,g.jsxs)(WA,{children:[(0,g.jsx)(LA,{}),(0,g.jsx)(UA,{children:e.isRestore?"Welcome back!":"Your wallet is ready!"}),(0,g.jsx)(zA,{children:"You can turn on a quick enter via password. Only you have access to your keys, not the government, not us, not anyone else. It’s 100% stored on your devices."})]}),(0,g.jsxs)(KA,{children:[(0,g.jsx)(U.rs,{checked:n,onChange:function(e){e?r(e):u(!0)}}),(0,g.jsx)(qA,{children:"Use fast enter with password"})]}),(0,g.jsx)(TA,{onClick:function(){try{e.finalize()}catch(e){W.error(e.message)}},children:"Finish setup"})]})}));n(69617);var VA=(0,v.Z)("div")({name:"Wrapper",class:"w1191yvg"}),YA=(0,v.Z)(U.JO)({name:"WarningIcon",class:"w1rmqunw"}),QA=function(e){var t=e.error,n=e.noIcon;return(0,g.jsxs)(VA,{children:[n?void 0:(0,g.jsx)(YA,{name:"warning"}),t]})};n(23954);var $A=["onChange","onFocus","onBlur","className","isError"];function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GA(Object(n),!0).forEach((function(t){XA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return t_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n_(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var r_=(0,v.Z)("label")({name:"WrapperLabel",class:"w168g8n5"}),o_=(0,v.Z)("input")({name:"Input",class:"i1yl0jkw"}),i_=(0,v.Z)("div")({name:"EyeWrapper",class:"e14pq2o6"}),a_=(0,v.Z)(U.JO)({name:"EyeIcon",class:"eusps22"}),u_=/[^\w!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,c_=function(e){var t=e.onChange,n=e.onFocus,r=e.onBlur,i=e.className,a=e.isError,u=n_(e,$A),c=e_((0,o.useState)(!1),2),s=c[0],l=c[1],f=e_((0,o.useState)(!1),2),d=f[0],p=f[1];return(0,g.jsxs)(r_,{className:b()(i,{isFocused:d,isError:a}),children:[(0,g.jsx)(o_,JA(JA({type:s?"input":"password"},u),{},{placeholder:"Password",onChange:function(e){var n=e.target.value.replace(u_,"");t(n)},onFocus:function(e){p(!0),n&&n(e)},onBlur:function(e){p(!1),r&&r(e)}})),(0,g.jsx)(i_,{onClick:function(){l((function(e){return!e}))},children:(0,g.jsx)(a_,{name:s?"eye":"eye-hide"})})]})};function s_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(7510);var f_=(0,v.Z)("div")({name:"Wrapper",class:"wopjzog"}),d_=(0,v.Z)("span")({name:"SubTitle",class:"s15zt9hf"}),p_=(0,v.Z)(d_)({name:"CreatePassword",class:"covrefq"}),y_=(0,v.Z)("span")({name:"CreatePasswordHint",class:"ckwdqch"}),h_=(0,v.Z)("div")({name:"RulesWrapper",class:"r1l3ybll"}),v_=(0,v.Z)("div")({name:"StepsWrappers",class:"s1hhaovc"}),m_=(0,v.Z)("div")({name:"Step",class:"smqbjhx"}),b_=(0,v.Z)("ul")({name:"RulesList",class:"r1g9iysd"}),w_=(0,v.Z)("li")({name:"Rule",class:"r1k5eg3m"}),g_=(0,v.Z)(d_)({name:"RepeatPassword",class:"r13155kf"}),k_=(0,v.Z)(TA)({name:"ButtonStyled",class:"b1dfdeb3"}),j_=(0,d.Pi)((function(){var e=(0,re.Dz)(uA),t=s_((0,o.useState)(""),2),n=t[0],r=t[1],i=s_((0,o.useState)(!1),2),a=i[0],u=i[1],c=(0,FP.uo)(e.authInfo.password),s=c.isLowerCase,l=c.isUpperCase,f=c.isNumber,d=c.isMinLength,p=!(e.authInfo.password&&s&&l&&f&&d&&e.authInfo.password===n);return(0,g.jsxs)(f_,{children:[(0,g.jsx)(p_,{children:"Create password"}),(0,g.jsx)(y_,{children:"Create a password to protect your wallet. It will be used for security actions, confirmations and for editing your profile info."}),(0,g.jsx)(c_,{placeholder:"Create new password",value:e.authInfo.password,onChange:e.setPassword,isError:!1}),function(){if(e.authInfo.password){var t=[s,l,f,d].reduce((function(e,t){return t?e+1:e}),0);return(0,g.jsxs)(h_,{children:[(0,g.jsxs)(v_,{children:[new Array(t).fill(null).map((function(e,n){return(0,g.jsx)(m_,{className:b()({red:1===t,orange:2===t,green:3===t,blue:4===t})},n)})),new Array(4-t).fill(null).map((function(e,t){return(0,g.jsx)(m_,{},t)}))]}),(0,g.jsxs)(b_,{children:[(0,g.jsx)(w_,{className:b()({done:l}),children:"One uppercase letter"}),(0,g.jsx)(w_,{className:b()({done:s}),children:"One lowercase letter"}),(0,g.jsx)(w_,{className:b()({done:f}),children:"One number"}),(0,g.jsx)(w_,{className:b()({done:d}),children:"8+ characters"})]})]})}}(),(0,g.jsx)(g_,{children:"Repeat password"}),(0,g.jsx)(c_,{placeholder:"Repeat new password",value:n,onChange:function(t){r(t),a&&u(e.authInfo.password!==t)},onBlur:function(){u(e.authInfo.password!==n)},className:b()({error:a}),isError:!1}),a?(0,g.jsx)(QA,{error:"Passwords doesn’t match"}):void 0,(0,g.jsx)(k_,{disabled:p,onClick:e.nextStep,children:"Continue"})]})}));function O_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(39330);var S_=(0,v.Z)("div")({name:"Wrapper",class:"w1q0o9zo"}),P_=(0,v.Z)("span")({name:"PasteMnemonic",class:"pap66p5"}),A_=(0,v.Z)("span")({name:"PasteMnemonicHint",class:"p123h6oy"}),__=(0,v.Z)("div")({name:"MnemonicWrapper",class:"m1equu6x"}),T_=(0,v.Z)("textarea")({name:"MnemonicTextarea",class:"myoky6g"}),R_=(0,d.Pi)((function(){var e=(0,re.Dz)(uA),t=O_((0,o.useState)(""),2),n=t[0],r=t[1],i=O_((0,o.useState)(!1),2),a=i[0],u=i[1],c=function(t){u(t!==e.authInfo.mnemonic)},s=n.trim()!==e.authInfo.mnemonic||a;return(0,g.jsxs)(S_,{children:[(0,g.jsx)(P_,{children:"Paste your seed phrase"}),(0,g.jsx)(A_,{children:"Paste or enter your seed phrase to confirm that you’ve stored it safely. If you lose it you will lost access to your wallet."}),(0,g.jsxs)(__,{children:[(0,g.jsx)(T_,{placeholder:"Seed phrase",value:n,onInput:function(e){r(e.target.value),c(e.target.value.trim())},onBlur:function(e){var t=e.target.value.trim();r(t),c(t)},className:b()({hasError:a})}),a?(0,g.jsx)(QA,{error:"Incorrect seed phrase"}):void 0]}),(0,g.jsx)(TA,{disabled:s,onClick:e.nextStep,children:"Continue"})]})}));n(26905);var C_=(0,v.Z)("label")({name:"WrapperLabel",class:"w9ssyv4"}),I_=(0,v.Z)("input")({name:"Input",class:"i3a86yv"}),E_=(0,v.Z)("div")({name:"CheckboxIcon",class:"c1xf6q3a"}),M_=function(e){var t=e.checked,n=e.label,r=e.onChange;return(0,g.jsxs)(C_,{children:[(0,g.jsx)(I_,{type:"checkbox",checked:t,onChange:function(e){return r(e.target.checked)}}),(0,g.jsx)(E_,{className:b()({checked:t})}),n]})};function D_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(6568);var N_=(0,v.Z)("div")({name:"Wrapper",class:"wgseyo3"}),B_=(0,v.Z)("span")({name:"PleaseText",class:"pz1zzyo"}),Z_=(0,v.Z)("span")({name:"SecurityKey",class:"s3tyeok"}),W_=(0,v.Z)("span")({name:"SecurityKeyHint",class:"s13f02rd"}),L_=(0,v.Z)("div")({name:"MnemonicWrapper",class:"myolfqf"}),U_=(0,v.Z)("textarea")({name:"MnemonicTextarea",class:"maotc97"}),z_=(0,v.Z)("div")({name:"CheckboxWrapper",class:"c10e10f"}),K_=(0,d.Pi)((function(){var e=D_((0,o.useState)(!1),2),t=e[0],n=e[1],r=(0,re.Dz)(uA);return(0,g.jsxs)(N_,{children:[(0,g.jsxs)(B_,{children:["Please write down the following twelve words ",(0,g.jsx)("br",{})," and keep them in a safe place."]}),(0,g.jsx)(Z_,{children:"Your security key"}),(0,g.jsx)(W_,{children:"Your private keys are only stored on your current computer or device. You will need these words to restore your wallet if your browser’s storage is cleared or your device is damaged or lost."}),(0,g.jsx)(L_,{children:(0,g.jsx)(U_,{placeholder:"Seed phrase",value:r.initialCreateMnemonic,readOnly:!0})}),(0,g.jsx)(z_,{children:(0,g.jsx)(M_,{checked:t,label:"I have saved these words in a safe place.",onChange:function(e){n(e)}})}),(0,g.jsx)(TA,{disabled:!t,onClick:function(){r.setMnemonic(r.initialCreateMnemonic),r.nextStep()},children:"Continue"})]})}));function q_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(59332);var V_=(0,v.Z)("div")({name:"Wrapper",class:"we90jg6"}),Y_=(0,v.Z)("div")({name:"ButtonWrapper",class:"bih500a"}),Q_=(0,v.Z)("div")({name:"PopoverWrapper",class:"p6fkrts"}),$_=function(e){var t=e.button,n=e.children,r=(0,o.useRef)(null),i=q_((0,o.useState)(!1),2),a=i[0],u=i[1],c=function(e){var t;null!==(t=r.current)&&void 0!==t&&t.contains(e.target)||u(!1)};(0,o.useEffect)((function(){return window.addEventListener("mouseup",c),function(){window.removeEventListener("mouseup",c)}}),[]);return(0,g.jsxs)(V_,{ref:r,children:[(0,g.jsx)(Y_,{onClick:function(){u(!a)},children:t(a)}),a?(0,g.jsx)(Q_,{children:n}):null]})};n(60766);var G_=(0,v.Z)("div")({name:"Wrapper",class:"w11wg7da"}),J_=(0,v.Z)("div")({name:"ItemWrapper",class:"id2ty6d"}),X_=(0,v.Z)("div")({name:"Info",class:"i1xhc92o"}),eT=(0,v.Z)("div")({name:"Top",class:"t1l855wa"}),tT=(0,v.Z)("div")({name:"TokenSymbol",class:"tva8894"}),nT=(0,v.Z)("div")({name:"Bottom",class:"b2vzp7j"}),rT=function(e){var t=e.wallet;return(0,g.jsx)(G_,{children:(0,g.jsxs)(J_,{children:[(0,g.jsx)(or.y,{size:44,token:t.token}),(0,g.jsxs)(X_,{children:[(0,g.jsxs)(eT,{children:[(0,g.jsx)(tT,{children:t.token.symbol}),(0,g.jsxs)("div",{children:[$w.M.usd.symbol,(0,Ce.D$)(t.amountInCurrentFiat,{maximumFractionDigits:2})]})]}),(0,g.jsxs)(nT,{children:[(0,g.jsx)("div",{children:t.shortAddress}),(0,g.jsxs)("div",{children:[t.amount," ",t.token.symbol]})]})]})]})})};n(88492);var oT=function(){return(0,g.jsx)(G_,{children:(0,g.jsxs)(J_,{children:[(0,g.jsx)(ud.Z,{width:44,height:44,borderRadius:12}),(0,g.jsxs)(X_,{children:[(0,g.jsxs)(eT,{children:[(0,g.jsx)(ud.Z,{width:50,height:16}),(0,g.jsx)(ud.Z,{width:50,height:16})]}),(0,g.jsxs)(nT,{children:[(0,g.jsx)(ud.Z,{width:100,height:14}),(0,g.jsx)(ud.Z,{width:100,height:16})]})]})]})})};function iT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uT=(0,v.Z)("div")({name:"Wrapper",class:"welwndo"}),cT=(0,v.Z)("div")({name:"MainWrapper",class:"m10og77d"}),sT=(0,v.Z)("div")({name:"Value",class:"v4w754i"}),lT=(0,v.Z)("div")({name:"Text",class:"t6jbdmu"}),fT=(0,v.Z)(U.JO)({name:"ChevronIcon",class:"c8i3zwa"}),dT=(0,v.Z)("div")({name:"ChevronWrapper",class:"cyk6j1i"}),pT=(0,v.Z)("div")({name:"DropDownListContainer",class:"d6h3i0c"}),yT=(0,v.Z)("div")({name:"DropDownList",class:"d3d98u9"}),hT=(0,v.Z)("div")({name:"DropDownListItem",class:"dhw8wdt"}),vT=(0,d.Pi)((function(e){var t=e.value,n=e.items,r=e.onChange,i=e.className,a=(0,o.useRef)(null),u=(0,o.useRef)(null),c=(0,o.useRef)(null),s=iT((0,o.useState)(!1),2),l=s[0],f=s[1],d=function(e){var t,n;null!==(t=a.current)&&void 0!==t&&t.contains(e.target)||null!==(n=u.current)&&void 0!==n&&n.contains(e.target)||f(!1)};(0,o.useEffect)((function(){return window.addEventListener("click",d),function(){window.removeEventListener("click",d)}}),[]);var p=function(e){return"string"==typeof e.label?(0,g.jsx)(lT,{children:e.label}):e.label};return(0,g.jsxs)(uT,{className:i,children:[(0,g.jsxs)(cT,{ref:a,onClick:function(){f(!l)},className:b()({isOpen:l}),children:[(0,g.jsx)(sT,{children:t?"string"==typeof t.label?(0,g.jsx)(lT,{children:t.label}):t.label:null}),(0,g.jsx)(dT,{className:b()({isOpen:l}),children:(0,g.jsx)(fT,{name:"arrow-triangle"})})]}),l?(0,g.jsx)(pT,{ref:u,children:(0,g.jsx)(yT,{ref:c,children:n.map((function(e){return(0,g.jsx)(hT,{onClick:(t=e,function(){f(!1),r(t)}),children:p(e)},e.value);var t}))})}):void 0]})}));n(60992);var mT=(0,v.Z)("div")({name:"Wrapper",class:"w1ig0x8k"}),bT=(0,v.Z)("div")({name:"SubTitle",class:"s152ph08"}),wT=(0,v.Z)(bT)({name:"SelectDerivationPath",class:"s88h08e"}),gT=(0,v.Z)("div")({name:"CloseWrapper",class:"c15lnp1o"}),kT=(0,v.Z)(U.JO)({name:"CloseIcon",class:"c1x1b2ha"}),jT=(0,v.Z)(U.JO)({name:"QuestionIcon",class:"q1ni69x8"}),OT=(0,v.Z)("div")({name:"PopoverContent",class:"ppvsncf"}),xT=(0,v.Z)(bT)({name:"Derivable",class:"d1a0ezup"}),ST=(0,v.Z)("div")({name:"AccountsWrapper",class:"ak14u3x"}),PT=[{label:"m/44'/501'/0'",value:FP.PT.Bip44},{label:"m/44'/501'/0'/0'",value:FP.PT.Bip44Change},{label:"m/501'/0'/0/0 (deprecated)",value:FP.PT.Deprecated}],AT=(0,d.Pi)((function(){var e=(0,re.Dz)(uA);return(0,g.jsxs)(mT,{children:[(0,g.jsxs)(wT,{children:["Select Derivation Path"," ",(0,g.jsx)($_,{button:function(e){return e?(0,g.jsx)(gT,{children:(0,g.jsx)(kT,{name:"close"})}):(0,g.jsx)(jT,{name:"question-circle"})},children:(0,g.jsx)(OT,{children:"By default, P2P wallet will use m/44'/501'/0'/0' as the derivation path for the main wallet. To use an alternative path, try restoring an existing wallet."})})]}),(0,g.jsx)(vT,{value:e.authInfo.derivationPath,items:PT,onChange:e.setDerivationPath}),(0,g.jsx)(xT,{children:"Derivable Accounts"}),(0,g.jsx)(ST,{children:(0,g.jsx)(_d.U,{viewModel:e.walletListsViewModel,renderPlaceholder:function(e){return(0,g.jsx)(oT,{},e)},renderItem:function(e){return(0,g.jsx)(rT,{wallet:e},e.pubkey)}})}),(0,g.jsx)(TA,{onClick:e.nextStep,children:"Continue"})]})}));n(91865);var _T=n(6048),TT=n(57950);function RT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var IT=(0,v.Z)("div")({name:"Wrapper",class:"w4ta6vd"}),ET=(0,v.Z)("div")({name:"ButtonsWrapper",class:"b1ts5x1h"}),MT=(0,v.Z)("button")({name:"SocialButton",class:"s17o9yrs"}),DT=(0,v.Z)("div")({name:"WalletIcon",class:"w1gxnkn8"}),FT=(0,v.Z)("div")({name:"ArrowIcon",class:"a1iic8js"}),NT=(0,v.Z)("div")({name:"Delimiter",class:"dml4zp1"}),BT=(0,v.Z)("div")({name:"DelimiterText",class:"d1juin8y"}),ZT=(0,v.Z)("div")({name:"SecurityWrapper",class:"stfnp7e"}),WT=(0,v.Z)("span")({name:"SecurityKey",class:"si4ui7g"}),LT=(0,v.Z)(U_)({name:"MnemonicTextarea",class:"m18fzvsd"}),UT=(0,d.Pi)((function(){var e=(0,re.Dz)(uA),t=RT((0,o.useState)(e.initialRestoreMnemonic),2),n=t[0],r=t[1],i=RT((0,o.useState)(!1),2),a=i[0],u=i[1],c=function(t){return function(){try{e.connectExtension(t)}catch(e){W.error(e.message)}}},s=jd()((function(e){MP.validateMnemonic(e)?u(!1):a||u(!0)}),100,{leading:!1,trailing:!0}),l=!n||a;return(0,g.jsxs)(IT,{children:[(0,g.jsxs)(ET,{children:[(0,g.jsxs)(MT,{onClick:c(TT.rO),children:[(0,g.jsx)(DT,{className:"sollet"}),"Sollet.io",(0,g.jsx)(FT,{})]}),(0,g.jsxs)(MT,{onClick:c(TT.yL),children:[(0,g.jsx)(DT,{className:"sollet"}),"Sollet Extension",(0,g.jsx)(FT,{})]}),(0,g.jsxs)(MT,{onClick:c(_T.B),children:[(0,g.jsx)(DT,{className:"phantom"}),"Phantom",(0,g.jsx)(FT,{})]})]}),(0,g.jsx)(NT,{children:(0,g.jsx)(BT,{children:"Or use your seed..."})}),(0,g.jsxs)(ZT,{children:[(0,g.jsx)(WT,{children:"Enter security key"}),(0,g.jsx)(LT,{placeholder:"Seed phrase",value:n,onInput:function(e){var t=e.target.value,n=t.trim();MP.validateMnemonic(n)?r(n):r(t),s(n)},onBlur:function(e){var t=e.target.value.trim();r(t),s(t)},className:b()({hasError:a})}),a?(0,g.jsx)(QA,{error:"Incorrect seed phrase"}):void 0]}),(0,g.jsx)(TA,{disabled:l,onClick:function(){e.setMnemonic(n),e.nextStep()},children:"Continue"})]})}));function zT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(7511);var KT,qT=(0,d.Pi)((function(){var e,t=(0,a.TH)(),n=(0,a.k6)(),r=(0,re.Dz)(uA);return"?restore"===t.search&&(r.setRestoreStart(),n.replace({})),"?create"===t.search&&(r.setCreateStart(),n.replace({})),(zT(e={},qP.CREATE_START,(0,g.jsx)(_A,{children:(0,g.jsx)(K_,{})})),zT(e,qP.CREATE_CONFIRM_MNEMONIC,(0,g.jsx)(_A,{children:(0,g.jsx)(R_,{})})),zT(e,qP.CREATE_SET_PASSWORD,(0,g.jsx)(_A,{children:(0,g.jsx)(j_,{})})),zT(e,qP.RESTORE_START,(0,g.jsx)(_A,{children:(0,g.jsx)(UT,{})})),zT(e,qP.RESTORE_PASSWORD,(0,g.jsx)(_A,{children:(0,g.jsx)(j_,{})})),zT(e,qP.RESTORE_ACCOUNTS,(0,g.jsx)(_A,{children:(0,g.jsx)(AT,{})})),zT(e,qP.FINAL,(0,g.jsx)(_A,{showNavigation:!1,children:(0,g.jsx)(HA,{})})),e)[r.step]})),HT=(0,d.Pi)((function(){return(0,g.jsx)(qT,{})}));function VT(e){return VT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VT(e)}function YT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QT(e,t){return QT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},QT(e,t)}function $T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=JT(e);if(t){var o=JT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GT(this,n)}}function GT(e,t){if(t&&("object"===VT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function JT(e){return JT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},JT(e)}var XT,eR=(0,ie.ri)()(KT=Reflect.metadata("design:type",Function)(KT=Reflect.metadata("design:paramtypes",[void 0===Mb.g9?Object:Mb.g9,void 0===Xw.d?Object:Xw.d])(KT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&QT(e,t)}(i,e);var t,n,r,o=$T(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this))._pricesService=e,n.walletModel=t,n}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){this._pricesService.startObserving(),this.walletModel.initialize()}},{key:"afterReactionsRemoved",value:function(){this._pricesService.stopObserving()}}])&&YT(t.prototype,n),r&&YT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||KT)||KT)||KT,tR=(0,d.Pi)((function(e){var t=e.children,n=(0,re.Dz)(eR),r=(0,a.TH)(),o="/"===r.pathname||"/onboard"===r.pathname;return n.walletModel.connected||o?n.walletModel.connected&&o?(0,g.jsx)(a.l_,{to:"/wallets"}):(0,g.jsx)(g.Fragment,{children:t}):(0,g.jsx)(a.l_,{to:"/onboard".concat(r.search)})})),nR=n(22696);function rR(e){return rR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rR(e)}function oR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iR(e,t){return iR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},iR(e,t)}function aR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sR(e);if(t){var o=sR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uR(this,n)}}function uR(e,t){if(t&&("object"===rR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cR(e)}function cR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sR(e){return sR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sR(e)}var lR=(0,ie.ri)()(XT=Reflect.metadata("design:type",Function)(XT=Reflect.metadata("design:paramtypes",[])(XT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&iR(e,t)}(i,e);var t,n,r,o=aR(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),(0,oe.rC)(cR(e),{isOn:oe.Fl,featureFlags:oe.Fl}),e}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"isOn",get:function(){return nR.O.isOn}},{key:"featureFlags",get:function(){return nR.O.featureFlags}},{key:"setDebugFeatureFlagsOn",value:function(e){nR.O.setIsOn(e)}},{key:"setDebugFeatureFlag",value:function(e,t){nR.O.setFeatureFlag(e,t)}}])&&oR(t.prototype,n),r&&oR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||XT)||XT)||XT;function fR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pR,yR=(0,v.Z)("div")({name:"Wrapper",class:"w1rcmz5k"}),hR=(0,v.Z)("div")({name:"Row",class:"r1f5milk"}),vR=function(e){var t,n,r,o=e.label,i=e.checked,a=e.onClick,u=e.disabled,c=e.className,s=void 0===c?"":c;return(0,g.jsxs)(hR,{onClick:a,className:b()((t={disabled:u},n=s,r=!0,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),children:[(0,g.jsx)("label",{children:o}),(0,g.jsx)("input",{id:o,type:"checkbox",checked:i,disabled:u,readOnly:!0})]})},mR=(0,d.Pi)((function(){var e=(0,o.useRef)(null),t=fR((0,o.useState)(!1),2),n=t[0],r=t[1],i=(0,re.Dz)(lR),a=function(t){var n;null!==(n=e.current)&&void 0!==n&&n.contains(t.target)||r(!1)},u=function(e){e.ctrlKey&&73===e.which&&r((function(e){return!e}))};(0,o.useEffect)((function(){return window.addEventListener("click",a),document.addEventListener("keyup",u),function(){window.removeEventListener("click",a),document.removeEventListener("keyup",u)}}),[]);return n?(0,g.jsxs)(yR,{ref:e,children:[(0,g.jsx)(vR,{label:"Turn on Debug flags",checked:i.isOn,onClick:function(){i.setDebugFeatureFlagsOn(!i.isOn)},className:"bold delimited"}),Object.entries(Tr.A).map((function(e){var t=fR(e,2),n=t[0],r=t[1];return(0,g.jsx)(vR,{label:n,checked:i.featureFlags[r],onClick:function(){return e=r,void i.setDebugFeatureFlag(e,!i.featureFlags[e]);var e},disabled:!i.isOn},n)}))]}):null}));function bR(e){return bR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bR(e)}function wR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gR(e,t){return gR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gR(e,t)}function kR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=OR(e);if(t){var o=OR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jR(this,n)}}function jR(e,t){if(t&&("object"===bR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function OR(e){return OR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},OR(e)}n(93183);var xR,SR=(0,ie.ri)()(pR=Reflect.metadata("design:type",Function)(pR=Reflect.metadata("design:paramtypes",[void 0===_e?Object:_e])(pR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&gR(e,t)}(i,e);var t,n,r,o=kR(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._locationService=e,t}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"setHistory",value:function(e){this._locationService.setHistory(e)}}])&&wR(t.prototype,n),r&&wR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||pR)||pR)||pR,PR=function(){var e=(0,re.Dz)(SR),t=(0,a.k6)();return(0,o.useLayoutEffect)((function(){return e.setHistory(t)}),[t]),null};function AR(e){return AR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AR(e)}function _R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TR(e,t){return TR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TR(e,t)}function RR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ER(e);if(t){var o=ER(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CR(this,n)}}function CR(e,t){if(t&&("object"===AR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IR(e)}function IR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ER(e){return ER=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ER(e)}var MR=(0,ie.ri)()(xR=Reflect.metadata("design:type",Function)(xR=Reflect.metadata("design:paramtypes",[void 0===Xt?Object:Xt])(xR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&TR(e,t)}(i,e);var t,n,r,o=RR(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this))._modalService=e,(0,oe.rC)(IR(t),{modals:oe.Fl}),t}return t=i,(n=[{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){}},{key:"afterReactionsRemoved",value:function(){}},{key:"modals",get:function(){return this._modalService.modals}},{key:"openModal",value:function(e,t){return this._modalService.openModal(e,t)}},{key:"closeModal",value:function(e,t){return this._modalService.closeModal(e,t)}},{key:"closeTopModal",value:function(){this._modalService.closeTopModal()}}])&&_R(t.prototype,n),r&&_R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ue.j))||xR)||xR)||xR;function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach((function(t){NR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BR,ZR=(0,v.Z)("div")({name:"Wrapper",class:"w1h1jqsk"}),WR=(0,v.Z)("div")({name:"ModalContainer",class:"m49how2"}),LR=(0,v.Z)(Wo)({name:"ModalWrapper",class:"moxw3k7"}),UR=new Map([[Gt.SHOW_MODAL_ACTIONS_MOBILE,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,36594))}))],[Gt.SHOW_MODAL_RECEIVE_BITCOIN,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,4767))}))],[Gt.SHOW_MODAL_CONFIRM_SEND,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,18661))}))],[Gt.SHOW_MODAL_CONFIRM_SWAP,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,97993))}))],[Gt.SHOW_MODAL_TRANSACTION,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,64713))}))],[Gt.SHOW_MODAL_PROCESS_TRANSACTION,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,52554))}))],[Gt.SHOW_MODAL_TRANSACTION_DETAILS,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,4045))}))],[Gt.SHOW_MODAL_CHOOSE_BUY_TOKEN_MOBILE,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,27473))}))],[Gt.SHOW_MODAL_SELECT_LIST_MOBILE,(0,o.lazy)((function(){return Promise.all([n.e(536),n.e(178),n.e(361),n.e(92),n.e(411),n.e(425),n.e(585),n.e(83)]).then(n.bind(n,73371))}))],[Gt.SHOW_MODAL_ERROR,(0,o.lazy)((function(){return n.e(83).then(n.bind(n,91214))}))]]),zR=(0,d.Pi)((function(){var e,t=(0,zO.Dz)(MR),n=(0,o.useCallback)((function(e){e.target===e.currentTarget&&t.closeTopModal()}),[t]),r=(0,Ue.YN)((function(){return t.modals.map((function(e){var r=UR.get(e.modalType);return r?(0,g.jsx)(o.Suspense,{fallback:null,children:(0,g.jsx)(WR,{children:(0,g.jsx)(LR,{onMouseDown:n,children:(0,o.createElement)(r,FR(FR({},e.props),{},{key:e.modalId,close:function(n){return t.closeModal(e.modalId,n)}}))})})},e.modalId):null}))}));if(0===r.length)return null;var i=(null===(e=t.modals.at(-1))||void 0===e?void 0:e.modalType)===Gt.SHOW_MODAL_ACTIONS_MOBILE?"nav":"regular";return(0,g.jsx)(ZR,{className:b()(i),children:r})}));function KR(e){return KR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KR(e)}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qR(Object(n),!0).forEach((function(t){VR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QR(e,t){return QR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},QR(e,t)}function $R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=XR(e);if(t){var o=XR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GR(this,n)}}function GR(e,t){if(t&&("object"===KR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return JR(e)}function JR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XR(e){return XR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},XR(e)}n(71928);var eC=(0,ie.ri)()(BR=Reflect.metadata("design:type",Function)(BR=Reflect.metadata("design:paramtypes",[void 0===li.g?Object:li.g])(BR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&QR(e,t)}(a,e);var t,n,r,i=$R(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._notificationService=e,t._heights=void 0,t._toastsRefs=void 0,t._bottomOffsets=void 0,t._heights={},t._bottomOffsets={},t._toastsRefs={},(0,oe.rC)(JR(t),{_bottomOffsets:oe.LO,currentToasts:oe.Fl}),setTimeout((function(){return t._checkHeights(t._notificationService.currentToasts)}),0),t}return t=a,(n=[{key:"setDefaults",value:function(){this._heights={},this._toastsRefs={},this._bottomOffsets={}}},{key:"onInitialize",value:function(){var e=this;this.addReaction((0,oe.U5)((function(){return e._notificationService.currentToasts}),(function(t){e._cleanRefs(t),setTimeout((function(){return e._checkHeights(t)}),0)})))}},{key:"afterReactionsRemoved",value:function(){this._notificationService.eraseData()}},{key:"_cleanRefs",value:function(e){var t=this;Object.keys(this._toastsRefs).filter((function(t){return!e.some((function(e){return e.id===Number(t)}))})).forEach((function(e){return delete t._toastsRefs[e]}))}},{key:"_checkHeights",value:function(e){var t=this,n={},r=!1;e.forEach((function(e){var o=e.id,i=e.isHiding,a=t._toastsRefs[o];if(null!=a&&a.current){var u=i?0:a.current.clientHeight;n[o]=u,void 0!==t._heights[o]&&t._heights[o]===u||(r=!0)}})),r&&(this._heights=n,this._calcOffsets())}},{key:"_calcOffsets",value:function(){for(var e=this,t={},n=0,r=this._notificationService.currentToasts.length-1;r>=0;r--){var o=this._notificationService.currentToasts[r],i=o.id;if(o.isHiding)t[i]=this._bottomOffsets[i];else{var a=this._heights[i],u=void 0;a?(u=n,n+=a):u=0,t[i]=u}}(0,oe.z)((function(){return e._bottomOffsets=t}))}},{key:"currentToasts",get:function(){var e=this;return this._notificationService.currentToasts.map((function(t){return e._toastsRefs[t.id]=e._toastsRefs[t.id]||(0,o.createRef)(),HR(HR({},t),{},{bottomOffset:e._bottomOffsets[t.id],ref:e._toastsRefs[t.id]})}))}},{key:"hideToast",value:function(e){this._notificationService.startToastsHiding(e)}},{key:"disableDeferredHiding",value:function(){this._notificationService.disableDeferredHiding()}},{key:"enableDeferredHiding",value:function(){this._notificationService.enableDeferredHiding()}}])&&YR(t.prototype,n),r&&YR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(ue.j))||BR)||BR)||BR;function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rC=(0,v.Z)("div")({name:"Wrapper",class:"w10e88tl"}),oC=(0,v.Z)("div")({name:"ToastContainer",class:"tuguz09"}),iC=(0,v.Z)("div")({name:"ToastWrapper",class:"t9lm9mb"}),aC=function(e){return(0,g.jsx)(cf.Q,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach((function(t){nC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},uC=(0,d.Pi)((function(){var e=(0,re.Dz)(eC),t=(0,Ue.YN)((function(){return e.currentToasts.map((function(t){var n=t.id,r=t.type,o=t.header,i=t.text,a=t.renderer,u=t.isHiding,c=t.bottomOffset,s=t.ref,l=void 0!==c,f=a||aC;return(0,g.jsx)(oC,{ref:s,style:{transform:"translate(0, -".concat(c,"px)")},className:b()({isInvisible:!l,isRight:false}),children:(0,g.jsx)(iC,{className:b()({isRight:false,isAppearing:l,isHiding:u}),children:f({type:r,header:o,text:i,onClose:function(){var t;t=n,e.hideToast(t)}})})},n)}))}));return(0,g.jsx)(rC,{onMouseEnter:function(){e.disableDeferredHiding()},onMouseLeave:function(){e.enableDeferredHiding()},children:t})}));function cC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(89614);var lC={widedesktop:1440,desktop:1440,tablet:1024,mobileLandscape:568,mobile:320},fC=("@media (max-width: ".concat(lC.mobileLandscape,"px)"),"@media (max-width: ".concat(lC.mobile,"px)"),{widedesktop:"@media (min-width: ".concat(lC.widedesktop,"px)"),desktop:"@media (min-width: ".concat(lC.desktop,"px)"),tablet:"@media (min-width: ".concat(lC.tablet,"px)"),mobileLandscape:"@media (min-width: ".concat(lC.mobileLandscape,"px)")}),dC=function(e){var t=e.replace(/^@media\s*/,""),n=cC((0,o.useState)(null),2),r=n[0],i=n[1];return(0,o.useEffect)((function(){var e=window.matchMedia(t),n=function(e){i(e.matches)};return i(e.matches),e.addEventListener?(e.addEventListener("change",n),function(){e.removeEventListener("change",n)}):(e.addListener(n),function(){e.removeListener(n)})}),[t]),r},pC=(0,v.Z)("div")({name:"Wrapper",class:"wfhlkpn"}),yC=(0,v.Z)("div")({name:"DrawerBg",class:"dkp4287"}),hC=(0,v.Z)("div")({name:"CloseIcon",class:"c10ygqw"}),vC=(0,v.Z)("div")({name:"DrawerMenu",class:"dx7zkls"}),mC=(0,v.Z)("div")({name:"Logo",class:"lzwzp6n"}),bC=(0,v.Z)(i.rU)({name:"MenuLink",class:"mg8s5mo"}),wC=function(e){var t=e.isOpen,n=e.onDrawerClose;if(dC(fC.desktop)||!t)return null;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(pC,{children:[(0,g.jsx)(yC,{onClick:function(){n()},children:(0,g.jsx)(hC,{})}),(0,g.jsxs)(vC,{children:[(0,g.jsx)(mC,{children:"Wallet"}),(0,g.jsx)(bC,{to:"/onboard",children:"I have a wallet"}),(0,g.jsx)(bC,{to:"/onboard",className:"green",children:"Create new wallet"})]})]})})};n(94374);var gC=["glow","green","className"],kC=["glow","className"];function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jC(Object(n),!0).forEach((function(t){xC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var PC=(0,v.Z)(i.rU)({name:"ButtonLink",class:"b1m49c8t"}),AC=(0,v.Z)("a")({name:"ButtonA",class:"bnaazyq"}),_C=(0,v.Z)("div")({name:"Text",class:"tondcrz"}),TC=function(e){var t=e.glow,n=e.green,r=e.className,o=SC(e,gC);return(0,g.jsx)(PC,OC(OC({to:"/signup",className:b()(r,{glow:t,green:n})},o),{},{children:(0,g.jsx)(_C,{className:"web",children:"Go to web wallet"})}))},RC=function(e){var t=e.glow,n=e.className,r=SC(e,kC);return(0,g.jsx)(AC,OC(OC({href:"https://testflight.apple.com/join/hxaQVX0E",target:"_blank",className:b()(n,{glow:t,green:!0})},r),{},{children:(0,g.jsx)(_C,{className:"ios",children:"Download for iOS"})}))};n(98134);var CC=(0,v.Z)("div")({name:"Wrapper",class:"w94m6aa"}),IC=(0,v.Z)("div")({name:"Title",class:"tpw4ax"}),EC=(0,v.Z)("div")({name:"GradientWrapper",class:"g31ohee"}),MC=(0,v.Z)("div")({name:"FeaturesWrapper",class:"fcx52sv"}),DC=(0,v.Z)("div")({name:"FeaturesColumn",class:"fdvqc1d"}),FC=(0,v.Z)("div")({name:"Feature",class:"fml18gk"}),NC=(0,v.Z)("div")({name:"FeatureTitle",class:"f16cwklb"}),BC=(0,v.Z)("div")({name:"FeatureDescription",class:"f1nh2fpl"}),ZC=(0,v.Z)("div")({name:"ButtonWrapper",class:"b1n4fvrc"}),WC=function(){dC(fC.tablet);return(0,g.jsxs)(CC,{children:[(0,g.jsx)(IC,{children:"Store, receive, transfer your money with all those great features"}),(0,g.jsx)(EC,{children:(0,g.jsxs)(MC,{children:[(0,g.jsxs)(DC,{children:[(0,g.jsxs)(FC,{children:[(0,g.jsx)(NC,{children:"It’s cross-platform"}),(0,g.jsx)(BC,{children:"You can use your P2P Wallet everywhere. iOs, Web, Android (soon). Yes, yes, we know, it shouldn’t be a feature, but the market shows different..."})]}),(0,g.jsxs)(FC,{children:[(0,g.jsx)(NC,{children:"It’s protected"}),(0,g.jsx)(BC,{children:"Your device — your keys. We don’t have any access to your private info. Use fingerprint or face scanning to access your wallet."})]}),(0,g.jsxs)(FC,{children:[(0,g.jsx)(NC,{children:"It’s fast as a rocket"}),(0,g.jsx)(BC,{dangerouslySetInnerHTML:{__html:"Fastest decentralized swap with full transparency in < 1s."}})]})]}),(0,g.jsxs)(DC,{children:[(0,g.jsxs)(FC,{children:[(0,g.jsx)(NC,{children:"It’s designed for people"}),(0,g.jsx)(BC,{children:"It’s simple with an intuitive interface inside. Everything under your fingertips."})]}),(0,g.jsxs)(FC,{children:[(0,g.jsx)(NC,{children:"No registration or account setup..."}),(0,g.jsx)(BC,{children:"...actually, it’s up to you. There can be some cool experiences with that functionality."})]}),(0,g.jsxs)(ZC,{children:[(0,g.jsx)(TC,{glow:!0}),(0,g.jsx)(RC,{glow:!0})]})]})]})})]})};n(19333);var LC=(0,v.Z)("div")({name:"Wrapper",class:"wjwkukk"}),UC=(0,v.Z)("div")({name:"FooterWrapper",class:"fxoi5c0"}),zC=(0,v.Z)("div")({name:"Top",class:"tgy0855"}),KC=(0,v.Z)("div")({name:"Logo",class:"lexipak"}),qC=(0,v.Z)("div")({name:"Title",class:"t1gegh9m"}),HC=(0,v.Z)("div")({name:"ButtonWrapper",class:"b1fdtsta"}),VC=(0,v.Z)("div")({name:"BackgroundBlack",class:"b198v99l"}),YC=(0,v.Z)("div")({name:"DelimiterSection",class:"d1yxnsel"}),QC=(0,v.Z)("div")({name:"Middle",class:"m1qvpzjf"}),$C=(0,v.Z)("div")({name:"MiddleContainer",class:"m1hv0lyw"}),GC=(0,v.Z)("div")({name:"LogoWrapper",class:"la8hbzc"}),JC=(0,v.Z)("div")({name:"LogoP2P",class:"lboftwg"}),XC=(0,v.Z)("div")({name:"DelimiterLogo",class:"dc2bw81"}),eI=(0,v.Z)("div")({name:"Wallet",class:"w1bv1z9l"}),tI=(0,v.Z)("div")({name:"Bottom",class:"brwmyic"}),nI=function(){return(0,g.jsx)(LC,{children:(0,g.jsxs)(UC,{children:[(0,g.jsxs)(zC,{children:[(0,g.jsx)(KC,{}),(0,g.jsx)(qC,{children:"Carefully crafted for people from people in and around the world"}),(0,g.jsxs)(HC,{children:[(0,g.jsx)(TC,{glow:!0}),(0,g.jsx)(RC,{glow:!0})]})]}),(0,g.jsxs)(VC,{children:[(0,g.jsx)(YC,{}),(0,g.jsx)(QC,{children:(0,g.jsx)($C,{children:(0,g.jsxs)(GC,{children:[(0,g.jsx)(JC,{}),(0,g.jsx)(XC,{}),(0,g.jsx)(eI,{children:"Wallet"})]})})}),(0,g.jsx)(YC,{}),(0,g.jsx)(tI,{children:"There shoud be something about privacy policy and terms of services, but you can use it anonymously"})]})]})})};function rI(e){return function(e){if(Array.isArray(e))return aI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||iI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||iI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iI(e,t){if(e){if("string"==typeof e)return aI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aI(e,t):void 0}}function aI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(72808);var uI=(0,v.Z)("div")({name:"Wrapper",class:"www8bqi"}),cI=(0,v.Z)("div")({name:"HackathonWrapper",class:"ha876sr"}),sI=(0,v.Z)("div")({name:"Container",class:"c13xwuk3"}),lI=(0,v.Z)("div")({name:"Curves",class:"cp9ve1b"}),fI=(0,v.Z)("div")({name:"CarouselWrapper",class:"cfhmpmi"}),dI=(0,v.Z)("div")({name:"Carousel",class:"cb0bkr5"}),pI=(0,v.Z)("div")({name:"Selectors",class:"shc276u"}),yI=(0,v.Z)("div")({name:"Icon",class:"i38oieq"}),hI=(0,v.Z)("div")({name:"Selector",class:"s1ysa3t9"}),vI=(0,v.Z)("div")({name:"SelectorName",class:"s1n5c9uz"}),mI=(0,v.Z)("div")({name:"SlideImage",class:"s3ogml1"}),bI=(0,v.Z)("div")({name:"TextWrapper",class:"t1txmbhl"}),wI=(0,v.Z)("div")({name:"TextContent",class:"t1dc9t51"}),gI=(0,v.Z)("div")({name:"Title",class:"tzk9e0d"}),kI=(0,v.Z)("span")({name:"TitleBold",class:"tvfiwce"}),jI=(0,v.Z)("div")({name:"Description",class:"d1p712hd"}),OI=function(){var e=dC(fC.tablet),t=oI((0,o.useState)("send"),2),n=t[0],r=t[1],i=oI((0,o.useState)(["send","store","swap"]),2),a=i[0],u=i[1],c=function(e){return function(){var t=a.filter((function(t){return t!==e}));r(e),u([e].concat(rI(t)))}};return(0,g.jsx)(uI,{children:(0,g.jsxs)(sI,{children:[(0,g.jsx)(lI,{}),e?(0,g.jsx)(cI,{}):void 0,(0,g.jsxs)(fI,{children:[(0,g.jsx)(dI,{children:a.map((function(e){return(0,g.jsx)(mI,{className:e},e)}))}),(0,g.jsxs)(pI,{children:[(0,g.jsxs)(hI,{className:b()({active:"send"===n}),onClick:c("send"),children:[(0,g.jsx)(yI,{className:"send"}),(0,g.jsx)(vI,{children:"Send"})]}),(0,g.jsxs)(hI,{className:b()({active:"store"===n}),onClick:c("store"),children:[(0,g.jsx)(yI,{className:"store"}),(0,g.jsx)(vI,{children:"Store"})]}),(0,g.jsxs)(hI,{className:b()({active:"swap"===n}),onClick:c("swap"),children:[(0,g.jsx)(yI,{className:"swap"}),(0,g.jsx)(vI,{children:"Swap"})]})]})]}),(0,g.jsxs)(bI,{children:["send"===n?(0,g.jsxs)(wI,{children:[(0,g.jsxs)(gI,{children:["Send ",(0,g.jsx)(kI,{children:"USDC"}),", ",(0,g.jsx)(kI,{children:"BTC"}),","," ",(0,g.jsx)(kI,{children:"ETH"}),", and other tokens ",(0,g.jsx)(kI,{children:"in a seconds"})," ","with ",(0,g.jsx)(kI,{children:"no fees"}),". Use QR code or address right in your app or web wallet."]}),(0,g.jsx)(jI,{children:"Solana has 400ms blocks and extremely low fees by design. Every transaction takes less than a minute. All the fees are on us."})]}):void 0,"store"===n?(0,g.jsxs)(wI,{children:[(0,g.jsxs)(gI,{children:["Full control of your cryptos and your keys."," ",(0,g.jsx)(kI,{children:"Only you can access your assets."})," ",(0,g.jsx)("br",{})," Not government. Not us. Not anyone else. Easily manage 30+ coins."]}),(0,g.jsx)(jI,{children:"Easily import your existing wallet with a 12/24-word recovery phrase."})]}):void 0,"swap"===n?(0,g.jsx)(wI,{children:(0,g.jsxs)(gI,{children:["Exchange crypto using the advantages of DeFi Solutions with a"," ",(0,g.jsx)(kI,{children:"high speed"})," of centralized exchanges."," ",(0,g.jsx)(kI,{children:"No signup required."})," Exchange in a few seconds. Sophisticated UI/UX."]})}):void 0]})]})})};n(4434);var xI=(0,v.Z)("div")({name:"Wrapper",class:"wd94qw8"}),SI=(0,v.Z)("div")({name:"Left",class:"lpsslr2"}),PI=(0,v.Z)("div")({name:"HamburgerIcon",class:"hqr3ho2"}),AI=(0,v.Z)("div")({name:"LogoWrapper",class:"ltf41fp"}),_I=(0,v.Z)("div")({name:"Logo",class:"lj8hr8m"}),TI=(0,v.Z)("div")({name:"Delimiter",class:"d1pvlu30"}),RI=(0,v.Z)("div")({name:"Wallet",class:"w1cpyts2"}),CI=(0,v.Z)("div")({name:"Right",class:"r1hv2im"}),II=(0,v.Z)(i.rU)({name:"Button",class:"bk3ziwa"}),EI=function(e){var t=e.onDrawerToggle,n=dC(fC.tablet);return(0,g.jsxs)(xI,{children:[(0,g.jsxs)(SI,{children:[n?(0,g.jsx)(PI,{onClick:function(){t()}}):void 0,(0,g.jsxs)(AI,{children:[(0,g.jsx)(_I,{}),(0,g.jsx)(TI,{}),(0,g.jsx)(RI,{children:"Wallet"})]})]}),n?(0,g.jsxs)(CI,{children:[(0,g.jsx)(II,{to:"/onboard?restore",children:"I have a wallet"}),(0,g.jsx)(II,{to:"/onboard?create",className:"white",children:"Create wallet"})]}):void 0]})};n(73468);var MI=(0,v.Z)("div")({name:"Wrapper",class:"w7l1k15"}),DI=(0,v.Z)("div")({name:"Logo",class:"l14zdl4j"}),FI=(0,v.Z)("span")({name:"Title",class:"t1ab67lu"}),NI=(0,v.Z)("span")({name:"TitleGreen",class:"t1iq7vt1"}),BI=(0,v.Z)("span")({name:"Description",class:"dhst386"}),ZI=(0,v.Z)("div")({name:"ButtonsWrapper",class:"bythjbu"}),WI=function(){return(0,g.jsxs)(MI,{children:[(0,g.jsx)(DI,{}),(0,g.jsxs)(FI,{children:["A wallet with super-speed and ",(0,g.jsx)(NI,{children:"free transactions"})]}),(0,g.jsxs)(BI,{children:[(0,g.jsx)(BI,{className:"line-through",children:"One more"})," The first ever wallet where you can send money with free transactions and without hidden fees."," "]}),(0,g.jsxs)(ZI,{children:[(0,g.jsx)(TC,{glow:!0}),(0,g.jsx)(RC,{glow:!0})]})]})};function LI(e){return function(e){if(Array.isArray(e))return KI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||zI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zI(e,t){if(e){if("string"==typeof e)return KI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KI(e,t):void 0}}function KI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(91159);var qI=(0,v.Z)("div")({name:"Wrapper",class:"w43fw8x"}),HI=(0,v.Z)("div")({name:"Carousel",class:"c1kha5gr"}),VI=(0,v.Z)("div")({name:"Container",class:"c1nvfw2z"}),YI=(0,v.Z)("div")({name:"SlideImage",class:"s10r7ffu"}),QI=(0,v.Z)("div")({name:"Navigation",class:"n19vuz36"}),$I=(0,v.Z)("div")({name:"Nav",class:"n16acvvs"}),GI=function(){var e=(0,o.useRef)(null),t=UI((0,o.useState)(0),2),n=t[0],r=t[1];(0,o.useEffect)((function(){var t=e.current,n=function(){if(t){var e=t.scrollLeft,n=t.scrollWidth-t.clientWidth;return 0===e?r(0):e>n?r(100):void r(e/n*100)}};return t&&t.addEventListener("scroll",n),function(){t&&t.removeEventListener("scroll",n)}}),[]);var i,a;return(0,g.jsxs)(qI,{children:[(0,g.jsx)(HI,{ref:e,children:(0,g.jsxs)(VI,{children:[(0,g.jsx)(YI,{className:"one"}),(0,g.jsx)(YI,{className:"two"}),(0,g.jsx)(YI,{className:"three"})]})}),(0,g.jsx)(QI,{children:(i=3,a=n*i/100,LI(new Array(i).keys()).map((function(t){return(0,g.jsx)($I,{onClick:function(){if(e.current){var n=e.current,r=n.scrollWidth-n.clientWidth;e.current.scrollTo({left:r/i*(t?t+1:t),behavior:"smooth"})}},className:b()({active:a>=t&&a<=t+1})},t)})))})]})};n(28020);var JI=(0,v.Z)("div")({name:"Wrapper",class:"w1tnfdxw"}),XI=function(e){var t=e.level,n=e.children,r=e.className;return(0,g.jsx)(JI,{className:"".concat(r||""," level").concat(t),children:n})};n(15070);var eE=n.p+"screen-1-desktop-2be10f00ca11e6262083.png",tE=n.p+"screen-2-desktop-b3fd46d19cd2f137a2b5.png",nE=n.p+"screen-3-desktop-4f60fef3d58de5dba680.png",rE=n.p+"screen-4-desktop-b33d8f4ce3ba157e69d4.png";function oE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aE=(0,v.Z)("div")({name:"Wrapper",class:"wiu2o4b"}),uE=(0,v.Z)("div")({name:"ItemWrapper",class:"igtjbbs"}),cE=(0,v.Z)("div")({name:"ArrowIconWrapper",class:"a1usd70q"}),sE=(0,v.Z)(U.JO)({name:"ChevronIcon",class:"c5syk4b"}),lE=(0,v.Z)("div")({name:"Navigation",class:"nuis6ke"}),fE=(0,v.Z)("div")({name:"Dots",class:"dsjkkyp"}),dE=(0,v.Z)("div")({name:"Dot",class:"d1ektebj"}),pE=[{src:eE},{src:tE},{src:nE},{src:rE}],yE=function(){var e=oE((0,o.useState)(0),2),t=e[0],n=e[1],r=function(e){return function(){n(e)}};return(0,g.jsxs)(aE,{children:[function(){for(var e=pE.map((function(e,t){return(0,g.jsx)(uE,{onClick:r(t),children:(0,g.jsx)("img",{src:e.src})},e.src)})),n=[],o=0;o<e.length;o++){var i=o;o<0&&(i=e.length+o),n.push((0,g.jsx)(XI,{className:"".concat(o),level:o-t,children:e[i]},o))}return n}(),(0,g.jsxs)(lE,{children:[0!==t?(0,g.jsx)(cE,{className:"top",onClick:function(){n((function(e){return e-1}))},children:(0,g.jsx)(sE,{name:"chevron-rounded"})}):null,(0,g.jsx)(fE,{children:pE.map((function(e,n){return(0,g.jsx)(dE,{className:b()({active:n===t})},n)}))}),t!==pE.length-1?(0,g.jsx)(cE,{className:"bottom",onClick:function(){n((function(e){return e+1}))},children:(0,g.jsx)(sE,{name:"chevron-rounded"})}):null]})]})};n(32500);var hE=(0,v.Z)("div")({name:"Wrapper",class:"w1mq5pja"}),vE=(0,v.Z)("div")({name:"Top",class:"tko6p4z"}),mE=(0,v.Z)("div")({name:"Title",class:"t1d5bbhi"}),bE=(0,v.Z)("span")({name:"Bold",class:"b1e0yi1j"}),wE=(0,v.Z)("div")({name:"CarouselWrapper",class:"c196ecjm"}),gE=(0,v.Z)("div")({name:"Bottom",class:"b1tuorl2"}),kE=(0,v.Z)("div")({name:"Hint",class:"h1ss2ycc"}),jE=function(){var e=dC(fC.tablet);return(0,g.jsxs)(hE,{children:[(0,g.jsx)(vE,{children:(0,g.jsxs)(mE,{children:["Here’s a sneak peek of what we have ",(0,g.jsx)(bE,{children:"under the hood"})]})}),(0,g.jsx)(wE,{children:e?(0,g.jsx)(yE,{}):(0,g.jsx)(GI,{})}),(0,g.jsxs)(gE,{children:[e?(0,g.jsx)(TC,{green:!0}):(0,g.jsx)(RC,{}),(0,g.jsx)(kE,{children:"Will take less than a 2 min."})]})]})};n(83612);var OE=(0,v.Z)("div")({name:"Wrapper",class:"wt6eeca"}),xE=(0,v.Z)("div")({name:"Top",class:"t3z4fne"}),SE=(0,v.Z)("div")({name:"Title",class:"tc29w1o"}),PE=(0,v.Z)("div")({name:"Hint",class:"h7gs700"}),AE=(0,v.Z)("span")({name:"TitleBold",class:"t1bubuuq"}),_E=(0,v.Z)("div")({name:"Middle",class:"mtrsejv"}),TE=(0,v.Z)("div")({name:"MiddleContainer",class:"m142syyj"}),RE=(0,v.Z)("div")({name:"TextWrapper",class:"t1ikle8j"}),CE=(0,v.Z)("div")({name:"TextContent",class:"t10meg3w"}),IE=(0,v.Z)("div")({name:"TextTitle",class:"t3drztl"}),EE=(0,v.Z)("span")({name:"TextTitleBold",class:"t18hdryu"}),ME=(0,v.Z)("div")({name:"Text",class:"t1c9xbsr"}),DE=(0,v.Z)("span")({name:"TextBold",class:"txoxrgt"}),FE=(0,v.Z)("div")({name:"Window",class:"wcx8kkh"}),NE=(0,v.Z)("div")({name:"Bottom",class:"bv4a8s4"}),BE=function(e){var t=e.children,n=dC(fC.desktop);return(0,g.jsxs)(OE,{children:[(0,g.jsxs)(xE,{children:[(0,g.jsx)(SE,{children:"Imagine if you can send USD, BTC or ETH without fees in just a few seconds?"}),(0,g.jsxs)(PE,{children:["We have it! ",(0,g.jsx)(AE,{children:"BTC"}),", ",(0,g.jsx)(AE,{children:"ETH"})," and"," ",(0,g.jsx)(AE,{children:"30+"})," another tokens*"]})]}),(0,g.jsx)(_E,{children:(0,g.jsxs)(TE,{children:[(0,g.jsx)(RE,{children:(0,g.jsxs)(CE,{children:[(0,g.jsxs)(IE,{children:["You can send a ",(0,g.jsx)(EE,{children:"lot of tokens"})," fast and with no fees"]}),(0,g.jsxs)(ME,{children:["Doesn’t matter what token you want to send. ",n?void 0:(0,g.jsx)("br",{}),(0,g.jsx)(DE,{children:"The speed is stable for all of them!"}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),"Solana blockchain contains many tokens. It’s native and wrapped by different technologies such as FTX, Sollet etc. It allows us to keep the speed and no-fees in front of others."]})]})}),(0,g.jsx)(FE,{})]})}),(0,g.jsx)(NE,{children:t})]})};function ZE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return WE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(94907);var LE=(0,v.Z)("div")({name:"Wrapper",class:"w1sbfsge"}),UE=function(){var e=ZE((0,o.useState)(!1),2),t=e[0],n=e[1],r=function(){n(!t)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(si.q,{children:(0,g.jsx)("body",{className:"landing"})}),(0,g.jsxs)(LE,{children:[(0,g.jsx)(wC,{isOpen:t,onDrawerClose:r}),(0,g.jsx)(EI,{onDrawerToggle:r}),(0,g.jsx)(WI,{}),(0,g.jsx)(OI,{}),(0,g.jsx)(WC,{}),(0,g.jsxs)(BE,{children:[(0,g.jsx)(jE,{}),(0,g.jsx)(nI,{})]})]})]})};n(10229);var zE=["allow","redirect"];function KE(){return KE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KE.apply(this,arguments)}function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qE(Object(n),!0).forEach((function(t){VE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YE(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var QE=function(e){var t=e.allow,n=e.redirect,r=YE(e,zE),o=(0,a.TH)();return t?(0,g.jsx)(a.AW,HE({},r)):(0,g.jsx)(a.l_,{to:{pathname:n,state:{fromPage:"/"!==o.pathname?o.pathname:void 0}},from:o.pathname})},$E=function(e){var t=KE({},e),n=(0,re.Dz)(eR);return(0,g.jsx)(QE,HE({allow:n.walletModel.connected,redirect:"/login"},t))},GE=n(82066),JE=function(e){var t=e.publicKey.toBase58(),n=t.length>20?"".concat(t.substring(0,7),".....").concat(t.substring(t.length-7,t.length)):t;W.info("Wallet update","Connected to wallet "+n)},XE=function(){W.info("Wallet disconnected")},eM=function(e){var t=e.children;return(0,g.jsx)(lO.hK,{children:(0,g.jsx)(lO.Qr,{onConnect:JE,onDisconnect:XE,networkConfigs:lO.m,children:(0,g.jsx)(fO.IC,{initialState:{waitForConfirmation:!0},children:(0,g.jsx)(lO.Qy,{children:(0,g.jsx)(lO.r,{children:t})})})})})},tM=new GE.QueryClient,nM=function(e){var t=e.children;return(0,le.ZP)("imvolhpe","REACT_APP_INTERCOM_APP_ID doesn't set in environment"),(0,g.jsx)(p.H,{appId:"imvolhpe",autoBoot:!0,autoBootProps:{hideDefaultLauncher:!0},children:(0,g.jsx)(GE.QueryClientProvider,{client:tM,children:(0,g.jsx)(eM,{children:t})})})};function rM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s().extend(f());var iM=(0,d.Pi)((function(){var e=i.UT;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(u.SV,{children:(0,g.jsx)(e,{basename:"/p2p-wallet-web/pr-preview/pr-244",children:(0,g.jsx)(nM,{children:(0,g.jsxs)(tR,{children:[(0,g.jsx)(PR,{}),(0,g.jsxs)(a.rs,{children:[(0,g.jsx)(a.AW,{path:"/",exact:!0,component:UE}),(0,g.jsx)(a.AW,{path:"/onboard",exact:!0,component:HT}),(0,g.jsxs)(fp,{children:[(0,g.jsx)($E,{path:"/wallets",component:lp}),(0,g.jsx)($E,{path:"/wallet/:publicKey",exact:!0,component:EP}),(0,g.jsx)($E,{path:"/buy/:symbol?",component:Wi}),(0,g.jsx)($E,{path:"/receive/(tokens)?",component:gv}),(0,g.jsx)($E,{path:"/send/:publicKey/:status(result)",component:Yw}),(0,g.jsx)($E,{path:"/send/:publicKey?",component:Yw}),(0,g.jsx)($E,{path:"/swap/(settings)?/:publicKey?",component:sO}),(0,g.jsx)($E,{path:"/settings/network",component:Kg}),(0,g.jsx)($E,{path:"/settings",component:Tg,exact:!0}),(0,g.jsx)(zR,{})]})]}),(0,g.jsx)(h,{}),(0,g.jsx)(W,{anchor:"left",renderToast:function(e){return(0,g.jsx)(te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rM(Object(n),!0).forEach((function(t){oM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}}),(0,g.jsx)(uC,{}),(0,g.jsx)(mR,{})]})})})})})})),aM=iM},61988:function(e,t,n){"use strict";n.d(t,{y:function(){return O}});var r=n(2784),o=n(8895),i=n(74441),a=n(72779),u=n.n(a),c=n(57269),s=n(52322),l=(0,o.Z)("div")({name:"Wrapper",class:"wyipx8c",vars:{"wyipx8c-0":[function(e){var t=e.size;return t?"".concat(t,"px"):"auto"}]}}),f=(0,o.Z)("div")({name:"IconStyled",class:"i8m3nrk"}),d=function(e){var t=e.address,n=e.size,r=e.className;return(0,s.jsx)(l,{size:n,className:r,children:(0,s.jsx)(f,{children:(0,s.jsx)(c.ZP,{seed:(0,c.Ds)(t),diameter:n})})})};n(32526);var p=n(12869),y=["token","symbol","address","className"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var k=(0,o.Z)("div")({name:"Wrapper",class:"w1x0kpxf"}),j=(0,o.Z)("div")({name:"WrappedBy",class:"w1g5ggxl"}),O=function(e){var t=e.token,n=e.symbol,o=e.address,a=e.className,c=g(e,y),l=(0,i.VJ)(),f=l.tokenMap,h=l.tokens,m=b((0,r.useState)(!1),2),w=m[0],O=m[1];(0,r.useEffect)((function(){O(!1)}),[null==t?void 0:t.icon]);var x,S=(0,r.useMemo)((function(){return t?null:o&&f[o]||h.find((function(e){return e.symbol===n||e.address===o}))}),[o,n,t,f,h]),P=(0,r.useMemo)((function(){var e=t||S;return!(!e||"SOL"===e.symbol||!["wrapped","wormhole","wrapped-sollet"].some((function(t){var n;return null===(n=e.tags)||void 0===n?void 0:n.includes(t)}))&&!e.name.toLowerCase().includes("wrapped"))}),[t,S]);return(0,s.jsxs)(k,{className:u()(a,{isNotExists:!S||!t}),children:[(x={onError:function(){return O(!0)}},t&&!w?(0,s.jsx)(p.qE,v(v({src:t.icon},c),x)):t&&w?(0,s.jsx)(d,{address:t.address,size:c.size}):S&&S.icon||!o?(0,s.jsx)(p.qE,v(v({src:(null==S?void 0:S.icon)||void 0},c),x)):(0,s.jsx)(d,{address:o,size:c.size})),P?(0,s.jsx)(j,{className:u()({isWrapped:P})}):void 0]})};n(38507)},19260:function(e,t,n){"use strict";n.d(t,{i:function(){return f}});var r=n(8895),o=n(52322),i=(0,r.Z)("div")({name:"AccordionTitleWrapper",class:"atif0df"}),a=(0,r.Z)("div")({name:"AccordionTitlePrimary",class:"aonptd8"}),u=(0,r.Z)("div")({name:"AccordionTitleSecondary",class:"adrv75u"}),c=(0,r.Z)("div")({name:"AccordionTitleSecondaryValue",class:"a15xpxop"}),s=function(e,t){return(0,o.jsxs)(o.Fragment,{children:[e,t?":":null]})},l=function(e){return e?(0,o.jsx)(c,{children:e}):null},f=function(e){var t=e.title,n=e.titleBottomName,r=e.titleBottomValue;return(0,o.jsxs)(i,{children:[(0,o.jsx)(a,{children:t}),(0,o.jsxs)(u,{children:[s(n,r),l(r)]})]})};n(40113)},9235:function(e,t,n){"use strict";n.d(t,{X2:function(){return i},lk:function(){return o},xv:function(){return a}});var r=n(8895),o=(0,r.Z)("div")({name:"ListWrapper",class:"le17bjg"}),i=(0,r.Z)("div")({name:"Row",class:"r10mf61u"}),a=(0,r.Z)("div")({name:"Text",class:"t1ru9zrg"});n(59979)},12869:function(e,t,n){"use strict";n.d(t,{UQ:function(){return xn},qE:function(){return Jt},zx:function(){return Ht},JO:function(){return Dt},TE:function(){return Fn},v2:function(){return ln},sN:function(){return yn},rs:function(){return nn}});var r=n(18934),o=n(45966),i=n.n(o),a=n(10045),u=n.n(a),c=new(i())({id:"arrow-icon",use:"arrow-icon-usage",viewBox:"0 0 14 14",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="arrow-icon"><path d="M12.834 7H1.167M7 12.834 1.167 7 7 1.167" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),s=(u().add(c),c),l=new(i())({id:"arrow-triangle-icon",use:"arrow-triangle-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="arrow-triangle-icon"><g clip-path="url(#arrow-triangle-icon_a)"><path d="M17 8.507a.417.417 0 0 0-.209-.367c-.14-.09-.33-.135-.57-.135L7.773 8c-.237 0-.425.046-.564.138A.419.419 0 0 0 7 8.502c0 .082.02.159.06.231.04.072.088.154.143.246l4.084 6.563c.106.168.215.286.327.355.112.069.24.103.383.103a.712.712 0 0 0 .386-.103c.11-.07.22-.187.33-.355L16.79 8.98c.06-.088.109-.169.149-.241.04-.072.06-.15.06-.231Z" fill="currentColor" /></g><defs><clipPath id="arrow-triangle-icon_a"><path fill="#fff" transform="translate(7 8)" d="M0 0h10v8H0z" /></clipPath></defs></symbol>'}),f=(u().add(l),l),d=new(i())({id:"attention-icon",use:"attention-icon-usage",viewBox:"0 0 24 23",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 23" id="attention-icon"><path style="fill:#fff;fill-opacity:0;pointer-events:none" fill="none" d="M0 0h24v23H0z" /><path d="M21.95 22.195H2.394c-.438 0-.841-.247-1.06-.647a1.35 1.35 0 0 1 .005-1.291l9.778-18.043c.218-.395.62-.639 1.055-.639.435 0 .837.244 1.056.64l9.778 18.042c.22.399.222.891.004 1.291-.217.4-.623.647-1.06.647Z" fill="#FFC107" /><path d="M10.95 18.42c0-.173.028-.331.087-.48a1.106 1.106 0 0 1 .628-.635c.149-.06.316-.09.503-.09s.356.03.506.09a1.09 1.09 0 0 1 .633.635c.059.149.087.307.087.48 0 .174-.028.333-.087.477-.058.145-.14.27-.246.38-.105.106-.234.19-.387.252a1.37 1.37 0 0 1-.506.089c-.187 0-.354-.03-.503-.09a1.116 1.116 0 0 1-.628-.631 1.252 1.252 0 0 1-.087-.477Zm2.126-2.669H11.26l-.258-7.732h2.331l-.257 7.732Z" fill="#5D4037" /></symbol>'}),p=(u().add(d),d),y=new(i())({id:"branch-icon",use:"branch-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="branch-icon"><path d="M16.8 4.8c-1.765 0-3.2 1.413-3.2 3.15 0 1.399.937 2.573 2.222 2.984-.134.838-.5 1.53-1.125 2.09-1.78 1.596-5.053 1.742-6.583 1.717V9.152C9.431 8.763 10.4 7.572 10.4 6.15 10.4 4.413 8.965 3 7.2 3 5.435 3 4 4.413 4 6.15c0 1.422.97 2.613 2.286 3.003v5.694C4.969 15.237 4 16.428 4 17.85 4 19.587 5.435 21 7.2 21c1.765 0 3.2-1.413 3.2-3.15 0-.496-.128-.959-.335-1.376 1.883-.168 4.257-.681 5.86-2.115 1.002-.897 1.582-2.038 1.74-3.391C19.008 10.594 20 9.39 20 7.95c0-1.737-1.435-3.15-3.2-3.15ZM5.829 6.15c0-.744.615-1.35 1.371-1.35s1.371.606 1.371 1.35c0 .744-.615 1.35-1.371 1.35a1.363 1.363 0 0 1-1.371-1.35ZM7.2 19.2a1.363 1.363 0 0 1-1.371-1.35c0-.739.607-1.34 1.355-1.348l.118.009c.709.052 1.27.629 1.27 1.339 0 .744-.616 1.35-1.372 1.35Zm9.6-9.9a1.362 1.362 0 0 1-1.371-1.35c0-.744.615-1.35 1.371-1.35s1.371.606 1.371 1.35c0 .744-.615 1.35-1.371 1.35Z" fill="currentColor" /></symbol>'}),h=(u().add(y),y),v=new(i())({id:"bucket-icon",use:"bucket-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="bucket-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.287 5.243c.39 0 .713.323.713.734v.38a.73.73 0 0 1-.713.734H3.714A.73.73 0 0 1 3 6.357v-.38c0-.411.324-.734.714-.734H6.63c.592 0 1.107-.421 1.24-1.015l.153-.682C8.261 2.617 9.041 2 9.935 2h4.13c.884 0 1.674.617 1.902 1.497l.163.73a1.28 1.28 0 0 0 1.241 1.016h2.916Zm-1.481 13.891c.304-2.837.837-9.577.837-9.645a.746.746 0 0 0-.18-.558.726.726 0 0 0-.524-.234H5.07c-.2 0-.391.087-.524.234a.79.79 0 0 0-.19.558l.053.647c.142 1.763.537 6.674.793 8.998.18 1.712 1.304 2.788 2.931 2.827 1.256.029 2.55.039 3.872.039 1.246 0 2.51-.01 3.805-.039 1.684-.029 2.806-1.086 2.997-2.827Z" fill="currentColor" /></symbol>'}),m=(u().add(v),v),b=new(i())({id:"card-icon",use:"card-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="card-icon"><path d="M3 16.773c0 .59.237 1.157.659 1.575.422.417.994.652 1.591.652h13.5c.597 0 1.169-.235 1.591-.652.422-.418.659-.985.659-1.575v-6.125H3v6.125Zm2.652-3.023c0-.316.127-.62.353-.844.226-.224.532-.35.852-.35h1.929c.32 0 .626.127.852.35.226.224.353.527.353.844v.796c0 .316-.127.62-.353.843-.226.224-.533.35-.852.35H6.857c-.32 0-.626-.126-.852-.35a1.187 1.187 0 0 1-.353-.843v-.796ZM18.75 5H5.25c-.597 0-1.169.235-1.591.652A2.216 2.216 0 0 0 3 7.227v1.034h18V7.227c0-.59-.237-1.157-.659-1.575A2.262 2.262 0 0 0 18.75 5Z" fill="currentColor" /></symbol>'}),w=(u().add(b),b),g=new(i())({id:"chain-icon",use:"chain-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chain-icon"><path d="M10.667 12.666a3.335 3.335 0 0 0 5.027.36l2-2a3.333 3.333 0 0 0-4.714-4.713l-1.146 1.14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M13.334 11.333a3.334 3.334 0 0 0-5.027-.36l-2 2a3.333 3.333 0 0 0 4.713 4.714l1.14-1.14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),k=(u().add(g),g),j=new(i())({id:"change-icon",use:"change-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="change-icon"><path d="M6.037 10.838c.676.037 1.013-.263 1.013-.863s-.412-1.012-1.013-1.012H3.525c1.2-4.088 4.875-6.975 9.188-6.975 4.387 0 8.175 3 9.262 7.274.112.488.712.9 1.2.713.488-.112.9-.713.712-1.2C22.462 3.6 17.887 0 12.6 0 7.912 0 3.825 2.888 1.875 7.162V4.987c0-.524-.225-1.012-.825-1.012S.038 4.388 0 4.987v4.688c.037.712.6 1.2 1.35 1.162h4.688ZM22.65 13.838h-4.388c-.3 0-.638.075-.863.262-.262.188-.45.488-.45.863 0 .487.45.75 1.013.75h2.475c-1.388 3.825-4.875 6.225-8.775 6.225-4.088 0-7.65-2.588-8.963-6.563-.187-.488-.712-.787-1.312-.6-.488.188-.788.713-.6 1.312C2.437 20.813 6.712 24 11.699 24c4.388 0 8.25-2.475 10.425-6.375v2.288c.038.562.225 1.012.825 1.012s1.013-.413 1.05-1.012v-4.688c-.037-.675-.637-1.275-1.35-1.387Z" fill="currentColor" /></symbol>'}),O=(u().add(j),j),x=new(i())({id:"checkmark-icon",use:"checkmark-icon-usage",viewBox:"0 0 20 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="checkmark-icon"><path d="M9.022 14.167c.251 0 .446-.106.584-.317l4.42-7.019c.047-.077.082-.15.106-.218a.641.641 0 0 0 .035-.209.557.557 0 0 0-.16-.41.552.552 0 0 0-.409-.16.56.56 0 0 0-.296.071.709.709 0 0 0-.221.24l-4.077 6.597-2.093-2.74c-.135-.176-.3-.264-.494-.264a.565.565 0 0 0-.583.58.637.637 0 0 0 .174.442l2.436 3.1c.16.204.353.307.578.307Z" fill="currentColor" stroke="currentColor" /></symbol>'}),S=(u().add(x),x),P=new(i())({id:"chevron-1-icon",use:"chevron-1-icon-usage",viewBox:"0 0 15 15",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" id="chevron-1-icon"><path d="m3.75 5.625 3.75 3.75 3.75-3.75" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),A=(u().add(P),P),_=new(i())({id:"chevron-rounded-icon",use:"chevron-rounded-icon-usage",viewBox:"0 0 17 15",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 15" id="chevron-rounded-icon"><path d="M10.37 1.135c.08.077.418.367.695.638 1.747 1.586 4.606 5.724 5.479 7.89.14.33.437 1.16.456 1.605 0 .426-.098.832-.297 1.219-.278.483-.715.87-1.23 1.082-.359.137-1.43.35-1.45.35-1.171.211-3.076.328-5.181.328-2.006 0-3.833-.117-5.023-.29-.019-.02-1.35-.232-1.806-.465-.834-.425-1.35-1.257-1.35-2.147v-.077c.02-.58.537-1.798.556-1.798.874-2.05 3.593-6.092 5.4-7.717 0 0 .464-.458.754-.657.416-.31.933-.464 1.449-.464.575 0 1.112.174 1.549.503Z" fill="currentColor" /></symbol>'}),T=(u().add(_),_),R=new(i())({id:"clock-send-icon",use:"clock-send-icon-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="clock-send-icon"><path d="M16 9.333V16l4 4m8-4c0 6.627-5.373 12-12 12S4 22.627 4 16 9.373 4 16 4s12 5.373 12 12Z" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),C=(u().add(R),R),I=new(i())({id:"close-icon",use:"close-icon-usage",viewBox:"0 0 17 17",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" id="close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.757.462c.47.47.47 1.23 0 1.7L2.161 15.758a1.202 1.202 0 0 1-1.7-1.7L14.058.463c.47-.469 1.23-.469 1.7 0Z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M.461.462c.47-.469 1.23-.469 1.7 0L15.757 14.06a1.202 1.202 0 0 1-1.7 1.7L.462 2.161c-.469-.47-.469-1.23 0-1.7Z" fill="currentColor" /></symbol>'}),E=(u().add(I),I),M=new(i())({id:"currency-icon",use:"currency-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="currency-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 8a1 1 0 0 1 1 1v8a3 3 0 0 1-3 3H7a1 1 0 1 1 0-2h12a1 1 0 0 0 1-1V9a1 1 0 0 1 1-1Z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M5.286 5h11.428C17.977 5 19 6.075 19 7.4v7.2c0 1.325-1.023 2.4-2.286 2.4H5.286C4.023 17 3 15.925 3 14.6V7.4C3 6.075 4.023 5 5.286 5ZM14 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" fill="currentColor" /></symbol>'}),D=(u().add(M),M),F=new(i())({id:"db-icon",use:"db-icon-usage",viewBox:"0 0 26 26",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" id="db-icon"><g clip-path="url(#db-icon_a)" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 9.75c4.039 0 7.313-1.091 7.313-2.438 0-1.346-3.274-2.437-7.313-2.437S5.687 5.966 5.687 7.313C5.688 8.659 8.962 9.75 13 9.75ZM20.313 13c0 1.349-3.25 2.438-7.313 2.438S5.687 14.348 5.687 13" /><path d="M5.688 7.313v11.375c0 1.348 3.25 2.437 7.312 2.437 4.063 0 7.313-1.089 7.313-2.438V7.313" /></g><defs><clipPath id="db-icon_a"><path fill="#fff" transform="translate(3.25 3.25)" d="M0 0h19.5v19.5H0z" /></clipPath></defs></symbol>'}),N=(u().add(F),F),B=new(i())({id:"error-icon",use:"error-icon-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="error-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.536 0h6.936C14.184 0 16 1.903 16 4.735v6.536c0 2.825-1.816 4.73-4.528 4.73H4.536C1.824 16 0 14.095 0 11.27V4.735C0 1.903 1.824 0 4.536 0ZM4.23 5.486a.889.889 0 0 1 1.257-1.257L8 6.743l2.514-2.514a.889.889 0 0 1 1.257 1.257L9.257 8l2.514 2.514a.889.889 0 0 1-1.257 1.257L8 9.257l-2.514 2.514a.889.889 0 0 1-1.257-1.257L6.743 8 4.229 5.486Z" fill="currentColor" /></symbol>'}),Z=(u().add(B),B),W=new(i())({id:"error-send-icon",use:"error-send-icon-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="error-send-icon"><path d="M16 28c6.627 0 12-5.373 12-12S22.627 4 16 4 4 9.373 4 16s5.373 12 12 12Z" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /><path d="m8 8 16 16" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),L=(u().add(W),W),U=new(i())({id:"free-tx-icon",use:"free-tx-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="free-tx-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.74 2.811a1 1 0 0 0-1.48 0L9.93 4.273l-1.884-.6a1 1 0 0 0-1.28.739l-.423 1.931-1.931.423a1 1 0 0 0-.74 1.28l.6 1.884-1.46 1.33a1 1 0 0 0 0 1.48l1.46 1.33-.6 1.884a1 1 0 0 0 .74 1.28l1.931.423.423 1.931a1 1 0 0 0 1.28.74l1.883-.6 1.332 1.46a1 1 0 0 0 1.478 0l1.332-1.46 1.883.6a1 1 0 0 0 1.28-.74l.423-1.931 1.931-.422a1 1 0 0 0 .74-1.28l-.6-1.884 1.46-1.332a1 1 0 0 0 0-1.478l-1.46-1.331.6-1.884a1 1 0 0 0-.74-1.28l-1.931-.423-.422-1.931a1 1 0 0 0-1.28-.74l-1.884.6-1.332-1.46Zm.262 4.745-2.944 8.597.914.292 2.945-8.573-.915-.316Zm-2.832.328c-1.002 0-1.503.592-1.503 1.775 0 1.176.5 1.763 1.503 1.763s1.504-.587 1.504-1.763c0-1.183-.501-1.775-1.504-1.775Zm-.275 1.763c0-.292.016-.494.05-.608.042-.121.117-.182.225-.182.109 0 .18.06.213.182.042.114.063.316.063.608s-.02.499-.063.62c-.033.122-.104.183-.213.183-.108 0-.183-.061-.225-.183-.034-.121-.05-.328-.05-.62Zm3.935 3.016c-1.003 0-1.504.591-1.504 1.775 0 1.176.501 1.763 1.504 1.763 1.002 0 1.503-.587 1.503-1.763 0-1.184-.5-1.775-1.503-1.775Zm-.276 1.763c0-.292.017-.495.05-.608.042-.122.117-.182.226-.182.108 0 .18.06.213.182.041.113.062.316.062.608s-.02.498-.062.62c-.034.122-.105.183-.213.183-.109 0-.184-.061-.226-.183-.033-.121-.05-.328-.05-.62Z" fill="currentColor" /></symbol>'}),z=(u().add(U),U),K=new(i())({id:"lock-icon",use:"lock-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="lock-icon"><path d="M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5ZM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9V7Zm4 10.723V19a1 1 0 1 1-2 0v-1.277a1.993 1.993 0 0 1 .567-3.677A2.001 2.001 0 0 1 14 16a1.99 1.99 0 0 1-1 1.723Z" fill="currentColor" /></symbol>'}),q=(u().add(K),K),H=new(i())({id:"logout-icon",use:"logout-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="logout-icon"><path d="M13 4.009a1 1 0 1 0-2 0l-.003 8.003a1 1 0 0 0 2 0L13 4.01Z" fill="currentColor" /><path d="M4 12.992c0-2.21.895-4.21 2.343-5.657l1.414 1.414a6 6 0 1 0 8.485 0l1.415-1.414A8 8 0 1 1 4 12.992Z" fill="currentColor" /></symbol>'}),V=(u().add(H),H),Y=new(i())({id:"more-icon",use:"more-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="more-icon"><path d="M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM19 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM5 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Q=(u().add(Y),Y),$=new(i())({id:"app-store-icon",use:"app-store-icon-usage",viewBox:"0 0 20 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="app-store-icon"><path d="M7.5 5.833c-2.5 0-3.333 2.5-3.333 4.584 0 2.5 1.666 6.25 3.333 6.25.907-.039 1.4-.417 2.5-.417 1.093 0 1.25.417 2.5.417s3.333-2.5 3.333-4.167c-.023-.008-2.06-.336-2.083-2.5-.016-1.808 2.013-2.462 2.083-2.5-.852-1.243-2.459-1.636-2.916-1.667-1.194-.092-2.359.834-2.917.834-.567 0-1.583-.834-2.5-.834ZM10 3.333a1.667 1.667 0 0 0 1.667-1.666A1.666 1.666 0 0 0 10 3.333Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),G=(u().add($),$),J=new(i())({id:"arrow-down-icon",use:"arrow-down-icon-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="arrow-down-icon"><path d="M8 12.667V3.333m0 9.334L10.666 10M8 12.667 5.333 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),X=(u().add(J),J),ee=new(i())({id:"arrow-left-icon",use:"arrow-left-icon-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="arrow-left-icon"><path d="M3.333 8h9.333M3.333 8 6 10.667M3.333 8 6 5.333" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),te=(u().add(ee),ee),ne=new(i())({id:"arrow-swap-icon",use:"arrow-swap-icon-usage",viewBox:"0 0 20 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="arrow-swap-icon"><path d="M4.08 5.603a.678.678 0 0 0 0 .999l3.24 3.164c.125.125.32.207.489.207.396 0 .665-.276.665-.666a.607.607 0 0 0-.194-.464L6.936 7.55l-.954-.83 1.331.051h8.149a.65.65 0 0 0 .672-.672c0-.389-.283-.665-.672-.665H7.313l-1.33.044.953-.823L8.28 3.362a.62.62 0 0 0 .194-.47c0-.384-.27-.66-.665-.66a.735.735 0 0 0-.49.207L4.08 5.603Zm11.834 8.312a.678.678 0 0 0 0-.998L12.68 9.753a.763.763 0 0 0-.496-.207c-.39 0-.66.276-.66.665 0 .182.063.34.189.465l1.343 1.293.955.823-1.331-.044H4.532a.653.653 0 0 0-.672.671c0 .383.289.666.672.666h8.149l1.33-.044-.954.822-1.343 1.294a.634.634 0 0 0-.189.464c0 .39.27.666.66.666.17 0 .364-.082.496-.208l3.233-3.164Z" fill="currentColor" /></symbol>'}),re=(u().add(ne),ne),oe=new(i())({id:"bottom-icon",use:"bottom-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="bottom-icon"><path d="M4 20h16m-8-6V4m0 10 4-4m-4 4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),ie=(u().add(oe),oe),ae=new(i())({id:"caret-icon",use:"caret-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="caret-icon"><path d="M11.576 15.322a.5.5 0 0 0 .848 0l4.098-6.557A.5.5 0 0 0 16.098 8H7.902a.5.5 0 0 0-.424.765l4.098 6.557Z" fill="currentColor" /></symbol>'}),ue=(u().add(ae),ae),ce=new(i())({id:"check-icon",use:"check-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="check-icon"><path d="m5 12 5 5L20 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),se=(u().add(ce),ce),le=new(i())({id:"chevron-icon",use:"chevron-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chevron-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.207 16.207a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 1.414-1.414l4.293 4.293 4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5Z" fill="currentColor" /></symbol>'}),fe=(u().add(le),le),de=new(i())({id:"clock-icon",use:"clock-icon-usage",viewBox:"0 0 28 28",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="clock-icon"><path d="M14 7.333V14l4 4m8-4c0 6.627-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2s12 5.373 12 12Z" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),pe=(u().add(de),de),ye=new(i())({id:"copy-icon",use:"copy-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="copy-icon"><path d="M16 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2m2-8h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),he=(u().add(ye),ye),ve=new(i())({id:"cross-icon",use:"cross-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cross-icon"><path d="M18 6 6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),me=(u().add(ve),ve),be=new(i())({id:"external-icon",use:"external-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="external-icon"><path d="M11 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-5m-7 1L20 4m0 0h-5m5 0v5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),we=(u().add(be),be),ge=new(i())({id:"eye-hide-icon",use:"eye-hide-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="eye-hide-icon"><path d="M14.12 14.12a3 3 0 1 1-4.24-4.24M1 1l22 22m-5.06-5.06A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94l11.88 11.88ZM9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.498 18.498 0 0 1-2.16 3.19L9.9 4.24Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),ke=(u().add(ge),ge),je=new(i())({id:"eye-icon",use:"eye-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="eye-icon"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Oe=(u().add(je),je),xe=new(i())({id:"gear-icon",use:"gear-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="gear-icon"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.723 1.723 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37 1 .608 2.296.07 2.572-1.065Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Se=(u().add(xe),xe),Pe=new(i())({id:"google-play-icon",use:"google-play-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="google-play-icon"><path d="M15 9 4.5 20.5m0-17L15 15M4 3.71v16.58a.7.7 0 0 0 1.05.606l14.622-8.42a.55.55 0 0 0 0-.953L5.05 3.104A.7.7 0 0 0 4 3.71Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Ae=(u().add(Pe),Pe),_e=new(i())({id:"info-icon",use:"info-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info-icon"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3ZM9 3 5 6.99h3V14h2V6.99h3L9 3Zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3ZM9 3 5 6.99h3V14h2V6.99h3L9 3Z" fill="currentColor" /></symbol>'}),Te=(u().add(_e),_e),Re=new(i())({id:"kebab-icon",use:"kebab-icon-usage",viewBox:"0 0 20 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="kebab-icon"><path d="M10.833 15.833a.833.833 0 1 0-1.666 0 .833.833 0 0 0 1.666 0ZM10.833 10a.833.833 0 1 0-1.666 0 .833.833 0 0 0 1.666 0ZM10.833 4.167a.833.833 0 1 0-1.666 0 .833.833 0 0 0 1.666 0Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Ce=(u().add(Re),Re),Ie=new(i())({id:"pen-icon",use:"pen-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="pen-icon"><path d="M12 19h8M16 4.544a1.9 1.9 0 0 1 2.055-.403 1.888 1.888 0 0 1 1.02 1.006 1.835 1.835 0 0 1-.408 2.026L7.556 18.123 4 19l.889-3.504L16 4.544Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Ee=(u().add(Ie),Ie),Me=new(i())({id:"plus-icon",use:"plus-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="plus-icon"><path d="M12 3.515V12m0 0v8.485M12 12H3.515M12 12h8.485" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),De=(u().add(Me),Me),Fe=new(i())({id:"qr-icon",use:"qr-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="qr-icon"><path d="M7 17v.01M7 7v.01M17 7v.01M17 14h-3v3m6-3v.01M14 20h3m0-3h3v3M5 4h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1Zm10 0h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1ZM5 14h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Ne=(u().add(Fe),Fe),Be=new(i())({id:"question-icon",use:"question-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="question-icon"><path d="M12 15.857v.013m-1.466-7.05A1.928 1.928 0 1 1 12 12v1m9-1a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Ze=(u().add(Be),Be),We=new(i())({id:"rocket-icon",use:"rocket-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="rocket-icon"><path d="M7 14a6 6 0 0 0-3 6 6 6 0 0 0 6-3m-6-4a8 8 0 0 1 7 7 6 6 0 0 0 3-5 9 9 0 0 0 6-8 3 3 0 0 0-3-3 9 9 0 0 0-8 6 6 6 0 0 0-5 3Zm12-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Le=(u().add(We),We),Ue=new(i())({id:"round-stop-icon",use:"round-stop-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="round-stop-icon"><path d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18ZM6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),ze=(u().add(Ue),Ue),Ke=new(i())({id:"search-icon",use:"search-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="search-icon"><path d="m20 20-5.333-5.333m1.777-4.445a6.222 6.222 0 1 1-12.444 0 6.222 6.222 0 0 1 12.444 0Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),qe=(u().add(Ke),Ke),He=new(i())({id:"send-message-icon",use:"send-message-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="send-message-icon"><path d="M10 14 21 3M10 14l3.5 7a.55.55 0 0 0 1 0L21 3M10 14l-7-3.5a.55.55 0 0 1 0-1L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Ve=(u().add(He),He),Ye=new(i())({id:"store-icon",use:"store-icon-usage",viewBox:"0 0 20 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="store-icon"><path d="M9.167 5.833H5A1.667 1.667 0 0 0 3.333 7.5V15A1.667 1.667 0 0 0 5 16.667h7.5A1.667 1.667 0 0 0 14.167 15v-4.167m-5.834.834 8.334-8.334m0 0H12.5m4.167 0V7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Qe=(u().add(Ye),Ye),$e=new(i())({id:"swap-bordered-icon",use:"swap-bordered-icon-usage",viewBox:"0 0 48 48",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="swap-bordered-icon"><path d="M.5 24c0-8.972 1.502-14.795 5.104-18.396C9.205 2.002 15.028.5 24 .5c8.972 0 14.795 1.502 18.396 5.104C45.998 9.205 47.5 15.028 47.5 24c0 8.972-1.502 14.795-5.104 18.396C38.795 45.998 32.972 47.5 24 47.5c-8.972 0-14.795-1.502-18.396-5.104C2.002 38.795.5 32.972.5 24Z" fill="#fff" stroke="currentColor" /><path d="M19 15v18m0-18 3 3m-3-3-3 3m16 12-3 3m0 0-3-3m3 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Ge=(u().add($e),$e),Je=new(i())({id:"swap-icon",use:"swap-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="swap-icon"><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4m-4 4a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),Xe=(u().add(Je),Je),et=new(i())({id:"top-icon",use:"top-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="top-icon"><path d="M12 4v10m0-10 4 4m-4-4L8 8M4 20h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),tt=(u().add(et),et),nt=new(i())({id:"wallet-icon",use:"wallet-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="wallet-icon"><path d="M17 8V5a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2m0 0a2 2 0 0 0 2 2h12a1 1 0 0 1 1 1v3M4 6v12a2 2 0 0 0 2 2h12a1 1 0 0 0 1-1v-3m1-4v4h-4a2 2 0 0 1 0-4h4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),rt=(u().add(nt),nt),ot=new(i())({id:"warning-icon",use:"warning-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="warning-icon"><path d="M12 9v2m0 4v.01M5 19h14a2 2 0 0 0 1.84-2.75L13.74 4a2 2 0 0 0-3.5 0l-7.1 12.25A2 2 0 0 0 4.89 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),it=(u().add(ot),ot),at=new(i())({id:"opposite-arrows-icon",use:"opposite-arrows-icon-usage",viewBox:"0 0 14 14",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="opposite-arrows-icon"><path d="M3.667 1v12m0-12 2 2m-2-2-2 2m10.666 8-2 2m0 0-2-2m2 2V1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),ut=(u().add(at),at),ct=new(i())({id:"plug-icon",use:"plug-icon-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="plug-icon"><path d="M2.908 5.137c0 .316.257.572.573.572h.559v2.864c0 1.263 1.014 2.29 2.262 2.29h1.131v2.299a.566.566 0 1 0 1.132 0v-2.298h1.131c1.248 0 2.263-1.028 2.263-2.291V5.709h.558a.573.573 0 0 0 0-1.145H3.481a.573.573 0 0 0-.573.573Zm2.263-2.298a.566.566 0 1 1 1.131 0V3.99H5.171V2.84Zm4.525 0a.566.566 0 1 1 1.131 0V3.99h-1.13V2.84Z" fill="currentColor" /></symbol>'}),st=(u().add(ct),ct),lt=new(i())({id:"question-circle-icon",use:"question-circle-icon-usage",viewBox:"0 0 20 20",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="question-circle-icon"><g clip-path="url(#question-circle-icon_a)"><path d="M10 20a9.592 9.592 0 0 0 3.858-.784 10.264 10.264 0 0 0 3.191-2.162 10.148 10.148 0 0 0 2.167-3.191A9.627 9.627 0 0 0 20 10a9.592 9.592 0 0 0-.784-3.858 10.222 10.222 0 0 0-2.167-3.191A10.205 10.205 0 0 0 13.853.784 9.627 9.627 0 0 0 9.99 0a9.592 9.592 0 0 0-3.858.784A10.264 10.264 0 0 0 .784 6.142 9.592 9.592 0 0 0 0 10c0 1.366.261 2.654.784 3.863a10.148 10.148 0 0 0 2.167 3.19 10.264 10.264 0 0 0 3.191 2.163A9.592 9.592 0 0 0 10 20Zm-.186-7.873c-.55 0-.824-.268-.824-.804v-.137c0-.503.123-.91.368-1.22.245-.31.55-.593.916-.848.458-.308.796-.576 1.015-.804.22-.23.329-.52.329-.873 0-.385-.14-.7-.422-.941-.281-.242-.657-.363-1.127-.363-.347 0-.647.08-.902.24a1.8 1.8 0 0 0-.618.662 38.76 38.76 0 0 0-.407.495c-.108.134-.309.201-.603.201-.17 0-.33-.06-.48-.181-.15-.121-.226-.296-.226-.525a1.674 1.674 0 0 1 .079-.51c.13-.477.479-.892 1.044-1.245.565-.352 1.29-.529 2.171-.529.589 0 1.131.1 1.628.3.497.198.895.493 1.196.881.3.39.451.868.451 1.437 0 .62-.16 1.108-.48 1.46-.32.353-.73.7-1.226 1.04-.36.242-.626.465-.799.671-.173.206-.26.453-.26.74v.128a.685.685 0 0 1-.22.515c-.147.14-.348.21-.603.21Zm.03 2.951c-.282 0-.535-.1-.76-.299a.97.97 0 0 1-.339-.76c0-.3.113-.552.338-.754.226-.203.48-.304.76-.304.288 0 .544.1.77.299a.97.97 0 0 1 .338.76.966.966 0 0 1-.338.764 1.14 1.14 0 0 1-.77.294Z" fill="currentColor" /></g><defs><clipPath id="question-circle-icon_a"><path fill="#fff" d="M0 0h20v20H0z" /></clipPath></defs></symbol>'}),ft=(u().add(lt),lt),dt=new(i())({id:"reload-icon",use:"reload-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reload-icon"><path d="M12 2.25c-5.376 0-9.75 4.374-9.75 9.75 0 5.384 4.366 9.75 9.75 9.75 5.376 0 9.75-4.374 9.75-9.75 0-5.385-4.366-9.75-9.75-9.75Zm4.406 10.266A4.407 4.407 0 1 1 12 8.109h.197l-.66-.66a.656.656 0 1 1 .927-.929l1.632 1.632a1 1 0 0 1 0 1.414l-1.632 1.632a.656.656 0 0 1-.928-.928l.845-.844c-.113-.004-.24-.004-.381-.004a3.094 3.094 0 1 0 3.094 3.094.656.656 0 0 1 1.312 0Z" fill="currentColor" /></symbol>'}),pt=(u().add(dt),dt),yt=new(i())({id:"search-icon",use:"search-icon-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="search-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.398 14.327c0-3.294 2.636-5.927 5.843-5.927a5.8 5.8 0 0 1 4.123 1.729 5.97 5.97 0 0 1 1.72 4.198c0 3.293-2.637 5.927-5.843 5.927-3.207 0-5.843-2.634-5.843-5.927ZM14.241 6.4c-4.331 0-7.843 3.55-7.843 7.927 0 4.378 3.512 7.927 7.843 7.927 4.331 0 7.842-3.55 7.842-7.927a7.97 7.97 0 0 0-2.297-5.605A7.8 7.8 0 0 0 14.241 6.4Zm7.712 14.313 2.336 1.885h.04a1.232 1.232 0 0 1 0 1.73 1.2 1.2 0 0 1-1.71 0l-1.939-2.222a.99.99 0 0 1 0-1.393.901.901 0 0 1 1.273 0Z" fill="currentColor" /></symbol>'}),ht=(u().add(yt),yt),vt=new(i())({id:"settings-icon",use:"settings-icon-usage",viewBox:"0 0 32 32",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="settings-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.889 7.111c.49 0 .889.398.889.889v16A.889.889 0 0 1 8 24V8c0-.491.398-.889.889-.889ZM23.11 7.111c.492 0 .89.398.89.889v16a.889.889 0 0 1-1.778 0V8c0-.491.398-.889.889-.889Z" fill="currentColor" /><rect x="21.443" y="14.333" width="3.333" height="3.333" rx="1.667" fill="#F6F6F8" stroke="currentColor" stroke-width="2" /><path fill-rule="evenodd" clip-rule="evenodd" d="M16 7.111c.49 0 .888.398.888.889v16a.889.889 0 1 1-1.778 0V8c0-.491.398-.889.89-.889Z" fill="currentColor" /><rect x="14.333" y="17.889" width="3.333" height="3.333" rx="1.667" fill="#F6F6F8" stroke="currentColor" stroke-width="2" /><rect x="7.222" y="10.778" width="3.333" height="3.333" rx="1.667" fill="#F6F6F8" stroke="currentColor" stroke-width="2" /></symbol>'}),mt=(u().add(vt),vt),bt=new(i())({id:"success-icon",use:"success-icon-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="success-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.536 0h6.936C14.184 0 16 1.903 16 4.735v6.536c0 2.825-1.816 4.73-4.528 4.73H4.536C1.824 16 0 14.095 0 11.27V4.735C0 1.903 1.824 0 4.536 0Zm2.99 12.62a.79.79 0 0 1-.7.38c-.27 0-.502-.123-.694-.368l-2.923-3.72A.765.765 0 0 1 3 8.383a.677.677 0 0 1 .7-.696c.233 0 .43.106.592.317l2.512 3.287 4.892-7.916a.852.852 0 0 1 .265-.288.671.671 0 0 1 .356-.086c.2 0 .363.064.491.193a.668.668 0 0 1 .192.492.77.77 0 0 1-.042.25c-.029.083-.071.17-.127.263L7.526 12.62Z" fill="currentColor" /></symbol>'}),wt=(u().add(bt),bt),gt=new(i())({id:"success-send-icon",use:"success-send-icon-usage",viewBox:"0 0 28 28",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="success-send-icon"><path d="m8 14 4 4 8-8m6 4c0 6.627-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2s12 5.373 12 12Z" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /></symbol>'}),kt=(u().add(gt),gt),jt=new(i())({id:"sun-icon",use:"sun-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="sun-icon"><path d="M12.64 2.268a.87.87 0 0 1 .274.644v1.816c0 .25-.091.464-.273.64A.893.893 0 0 1 12 5.63a.893.893 0 0 1-.64-.263.856.856 0 0 1-.274-.64V2.912a.87.87 0 0 1 .273-.644A.885.885 0 0 1 12 2c.245 0 .459.09.64.268ZM12.64 18.632c.183.176.274.39.274.64v1.816a.87.87 0 0 1-.273.644A.885.885 0 0 1 12 22a.885.885 0 0 1-.64-.268.87.87 0 0 1-.274-.644v-1.816c0-.25.091-.464.273-.64a.893.893 0 0 1 .641-.264c.245 0 .459.088.64.264ZM21.731 12.64a.888.888 0 0 1-.645.263h-1.81a.878.878 0 0 1-.636-.264.863.863 0 0 1-.269-.639c0-.245.09-.456.269-.635a.87.87 0 0 1 .636-.268h1.81c.25 0 .466.089.645.268.18.179.269.39.269.635 0 .25-.09.464-.269.64ZM2.269 11.365a.87.87 0 0 1 .636-.268h1.819c.245 0 .458.089.64.268a.86.86 0 0 1 .274.635c0 .25-.091.464-.273.64a.893.893 0 0 1-.641.263H2.905a.878.878 0 0 1-.636-.264A.863.863 0 0 1 2 12c0-.245.09-.456.269-.635ZM6.848 7.778a.862.862 0 0 1-.645-.268l-1.29-1.297a.822.822 0 0 1-.247-.63.894.894 0 0 1 .264-.65.87.87 0 0 1 .65-.25.889.889 0 0 1 .631.26l1.29 1.297a.859.859 0 0 1 .256.644.845.845 0 0 1-.273.635.847.847 0 0 1-.636.26ZM16.238 6.88c0-.254.087-.467.26-.64l1.3-1.297a.882.882 0 0 1 .636-.264.85.85 0 0 1 .636.255c.173.173.261.389.264.648a.835.835 0 0 1-.255.64l-1.29 1.288a.886.886 0 0 1-.65.268.871.871 0 0 1-.64-.26.868.868 0 0 1-.26-.639ZM17.139 16.23c.254 0 .467.087.64.26l1.3 1.288c.173.173.26.386.26.64a.868.868 0 0 1-.26.64.882.882 0 0 1-.636.263.85.85 0 0 1-.637-.255l-1.308-1.288a.869.869 0 0 1-.26-.64c0-.253.087-.466.26-.639a.857.857 0 0 1 .64-.268ZM4.652 18.409c0-.254.09-.467.27-.64l1.29-1.279a.877.877 0 0 1 .645-.26c.256 0 .472.09.645.27a.853.853 0 0 1 .255.639.869.869 0 0 1-.273.64l-1.29 1.287a.878.878 0 0 1-.646.246.893.893 0 0 1-.645-.264.884.884 0 0 1-.25-.64ZM10.172 7.657A4.523 4.523 0 0 1 12 7.287c.64 0 1.244.123 1.815.37a4.87 4.87 0 0 1 1.505 1.016c.433.429.773.93 1.021 1.502.248.573.372 1.181.372 1.825 0 .644-.124 1.252-.372 1.825a4.808 4.808 0 0 1-2.527 2.527 4.51 4.51 0 0 1-1.814.37c-.651 0-1.26-.123-1.828-.37a4.902 4.902 0 0 1-1.505-1.02 4.71 4.71 0 0 1-1.022-1.507A4.59 4.59 0 0 1 7.278 12a4.658 4.658 0 0 1 1.389-3.327c.436-.43.938-.768 1.505-1.016Z" fill="currentColor" /></symbol>'}),Ot=(u().add(jt),jt),xt=new(i())({id:"timer-icon",use:"timer-icon-usage",viewBox:"0 0 38 38",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" id="timer-icon"><path d="M20.629 6.667c0-.857.694-1.552 1.55-1.552h3.103a1.551 1.551 0 1 1 0 3.103H22.18a1.551 1.551 0 0 1-1.551-1.551ZM5.116 14.423c0-.857.694-1.551 1.551-1.551H9.77a1.551 1.551 0 0 1 0 3.102H6.667a1.551 1.551 0 0 1-1.551-1.551Zm0 12.41c0-.857.694-1.551 1.551-1.551H9.77a1.551 1.551 0 1 1 0 3.102H6.667a1.551 1.551 0 0 1-1.551-1.55Zm-1.552-6.205c0-.857.695-1.551 1.552-1.551h3.087a1.551 1.551 0 1 1 0 3.102H5.116a1.551 1.551 0 0 1-1.552-1.55Zm29.475-8.665a1.551 1.551 0 0 0-2.194-2.194l-.446.446c-.65.65-1.65.755-2.497.398a10.71 10.71 0 0 0-4.17-.844c-5.987 0-10.86 4.873-10.86 10.86 0 5.985 4.873 10.858 10.86 10.858 5.986 0 10.858-4.872 10.858-10.859 0-2.228-.681-4.297-1.84-6.021-.523-.779-.514-1.84.149-2.503l.14-.141Zm-7.757 8.665a1.551 1.551 0 0 1-3.102 0V15.91a1.551 1.551 0 0 1 3.102 0v4.72Z" fill="currentColor" /></symbol>'}),St=(u().add(xt),xt),Pt=new(i())({id:"wallet-icon",use:"wallet-icon-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="wallet-icon"><path d="M20 7H5.6C4.4 7 4 6.4 4 6l16-1.5V3c0-.6-.6-1.1-1.2-1L3.7 4.7c-1 .2-1.7 1-1.7 2V20c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2Zm-1.5 9c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Z" fill="currentColor" /></symbol>'}),At=(u().add(Pt),Pt),_t=n(52322),Tt=["name","size","height","width"];function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Mt=new Map([["arrow",s],["app-store",G],["arrow-triangle",f],["bottom",ie],["caret",ue],["check",se],["branch",h],["card",w],["chain",k],["change",O],["checkmark",S],["chevron-1",A],["chevron",fe],["chevron-rounded",T],["close",E],["copy",he],["cross",me],["currency",D],["db",N],["bucket",m],["gear",Se],["google-play",Ae],["info",Te],["more",Q],["arrow-down",X],["arrow-left",te],["eye-hide",ke],["eye",Oe],["external",we],["search",qe],["send-message",Ve],["search-old",ht],["settings",mt],["success",wt],["sun",Ot],["swap",Xe],["swap-bordered",Ge],["timer",St],["wallet",rt],["lock",q],["logout",V],["pen",Ee],["plug",st],["plus",De],["qr",Ne],["question",Ze],["round-stop",ze],["question-circle",ft],["reload",pt],["top",tt],["wallet-old",At],["warning",it],["error",Z],["attention",p],["clock",pe],["free-tx",z],["kebab",Ce],["opposite-arrows",ut],["store-icon",Qe],["arrow-swap",re],["clock-send",C],["success-send",kt],["error-send",L],["rocket",Le]]),Dt=function(e){var t=e.name,n=e.size,o=e.height,i=e.width,a=Et(e,Tt),u={};Object.keys(a).forEach((function(e){(0,r.Z)(e)&&(u[e]=a[e])}));var c=Mt.get(t);return c?(0,_t.jsx)("svg",Ct(Ct({},u),{},{viewBox:c.viewBox,height:n||o,width:n||i,children:(0,_t.jsx)("use",{xlinkHref:"#".concat(c.id)})})):null},Ft=n(2784),Nt=n(8895),Bt=n(72779),Zt=n.n(Bt),Wt=["type","primary","secondary","dark","light","gray","lightGray","lightBlue","link","error","hollow","small","medium","big","full","children","style","className"];function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var qt=(0,Nt.Z)("button")({name:"Wrapper",class:"ww8ilx7"}),Ht=function(e){var t=e.type,n=void 0===t?"button":t,r=e.primary,o=e.secondary,i=e.dark,a=e.light,u=e.gray,c=e.lightGray,s=e.lightBlue,l=e.link,f=e.error,d=e.hollow,p=e.small,y=e.medium,h=e.big,v=e.full,m=e.children,b=e.style,w=e.className,g=Kt(e,Wt);return(0,_t.jsx)(qt,Ut(Ut({type:n},g),{},{style:b,className:Zt()(w,{primary:r,secondary:o,light:a,dark:i,gray:u,lightGray:c,lightBlue:s,link:l,error:f,hollow:d,small:p,medium:y,big:h,full:v}),children:m}))};n(67195);n(97374);var Vt=["src","size"];function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Gt=(0,Nt.Z)("img")({name:"Wrapper",class:"w1r0jatj",vars:{"w1r0jatj-0":[function(e){var t=e.size;return t?"".concat(t,"px"):"auto"}]}}),Jt=function(e){var t=e.src,n=e.size,r=$t(e,Vt);return(0,_t.jsx)(Gt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({src:t,size:n},r))};n(58002);var Xt=(0,Nt.Z)("label")({name:"Wrapper",class:"wzihcw4"}),en=(0,Nt.Z)("div")({name:"Toggler",class:"txxozo9"}),tn=(0,Nt.Z)("input")({name:"CheckboxHidden",class:"cm70ti8"}),nn=function(e){var t=e.checked,n=e.onChange;return(0,_t.jsxs)(Xt,{className:Zt()({checked:t}),children:[(0,_t.jsx)(en,{className:Zt()({checked:t})}),(0,_t.jsx)(tn,{type:"checkbox",checked:t,onChange:function(){n(!t)}})]})};n(58041);function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(62685);var an=(0,Nt.Z)("div")({name:"Wrapper",class:"w1ijokg9"}),un=(0,Nt.Z)(Dt)({name:"MoreIcon",class:"m8xj2ri"}),cn=(0,Nt.Z)("div")({name:"MoreIconWrapper",class:"m1wwc5c3"}),sn=(0,Nt.Z)("div")({name:"DropDownList",class:"d8wz9th"}),ln=function(e){var t=e.children,n=e.vertical,r=e.className,o=(0,Ft.useRef)(null),i=rn((0,Ft.useState)(!1),2),a=i[0],u=i[1],c=function(e){var t;null!==(t=o.current)&&void 0!==t&&t.contains(e.target)||u(!1)};(0,Ft.useEffect)((function(){return window.addEventListener("click",c),function(){window.removeEventListener("click",c)}}),[]);var s=function(e){null==e||e.preventDefault(),u(!a)},l=Ft.Children.map(t,(function(e){return(0,Ft.isValidElement)(e)?(0,Ft.cloneElement)(e,{close:s}):e}));return(0,_t.jsxs)(an,{ref:o,className:r,children:[(0,_t.jsx)(cn,{onClick:s,className:Zt()({isOpen:a,vertical:n}),children:(0,_t.jsx)(un,{name:"more"})}),a?(0,_t.jsx)(sn,{children:l}):void 0]})};n(59505);var fn=(0,Nt.Z)(Dt)({name:"IconStyled",class:"i1tcru47"}),dn=(0,Nt.Z)("div")({name:"Wrapper",class:"w7qk93r"}),pn=(0,Nt.Z)("div")({name:"IconWrapper",class:"ilvuk4"}),yn=function(e){var t=e.icon,n=e.children,r=e.onItemClick,o=e.close,i=void 0===o?function(){}:o;return(0,_t.jsxs)(dn,{onClick:function(e){e.preventDefault(),r(),i()},children:[t?(0,_t.jsx)(pn,{children:(0,_t.jsx)(fn,{name:t})}):void 0,n]})};n(72508);n(32651);function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(48592);var mn=(0,Nt.Z)("div")({name:"Wrapper",class:"wiq0kkg"}),bn=(0,Nt.Z)("div")({name:"TitleWrapper",class:"tmfb548"}),wn=(0,Nt.Z)("div")({name:"Title",class:"ti6nb7b"}),gn=(0,Nt.Z)("div")({name:"Left",class:"l158jgm9"}),kn=(0,Nt.Z)("div")({name:"Right",class:"r1r8a14j"}),jn=(0,Nt.Z)(Dt)({name:"ChevronIcon",class:"c1slicge"}),On=(0,Nt.Z)("div")({name:"Content",class:"c1rlu0p"}),xn=function(e){var t=e.title,n=e.right,r=e.open,o=void 0!==r&&r,i=e.hideRightIfOpen,a=e.noContentPadding,u=e.onToggle,c=e.children,s=e.className,l=hn((0,Ft.useState)(o),2),f=l[0],d=l[1];return(0,_t.jsxs)(mn,{className:s,children:[(0,_t.jsxs)(bn,{onClick:function(){d(!f),u&&u(!f)},className:Zt()({isOpen:f}),children:[(0,_t.jsxs)(wn,{children:[(0,_t.jsx)(gn,{children:t}),n?i&&f?void 0:(0,_t.jsx)(kn,{children:n}):void 0]}),(0,_t.jsx)(jn,{name:"chevron",className:Zt()({isOpen:f})})]}),f?(0,_t.jsx)(On,{className:Zt()({noContentPadding:a}),children:c}):void 0]})};n(75508);n(20276);var Sn=n(56388),Pn=n(56253);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var In=(0,Nt.Z)("div")({name:"TooltipContent",class:"t11xz6xy"}),En=(0,Nt.Z)(Dt)({name:"QuestionIcon",class:"qoz76c6",vars:{"qoz76c6-0":[function(e){return e.iconColor||Pn.rS.colors.textIcon.secondary}]}}),Mn=(0,Nt.Z)("div")({name:"Anchor",class:"a2fc289"}),Dn=(0,Nt.Z)("button")({name:"CloseButton",class:"cpbxz3o"}),Fn=function(e){var t=e.placement,n=e.withClose,r=e.possiblePlacements,o=e.snap,i=e.auto,a=e.hideOnScroll,u=e.iconColor,c=e.elContent,s=e.elAnchor,l=e.onChange,f=e.className,d=Rn((0,Sn.XI)({hideOnScroll:a}),3),p=d[0],y=d[1],h=d[2],v=y.onMouseEnter,m=y.onTouchEnd,b=y.onTouchStart,w=n?{onMouseEnter:v,onTouchEnd:m,onTouchStart:b}:y;(0,Ft.useEffect)((function(){l&&l(p)}),[p]);var g=(0,Sn.sJ)({isOpen:p,placement:t,overflowContainer:!1,possiblePlacements:r,snap:o,auto:i,arrowOffset:15,triggerOffset:10,onOutsideClick:h}),k=g.triggerProps,j=g.layerProps,O=g.arrowProps,x=g.renderLayer,S=null!=s?s:(0,_t.jsx)(En,{name:"question",iconColor:u}),P=(0,_t.jsx)(Dn,{onClick:h,children:(0,_t.jsx)(Dt,{width:12,height:12,name:"close"})});return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Mn,_n(_n(_n({},k),w),{},{className:f,children:S})),p&&x((0,_t.jsxs)(In,_n(_n({className:"tooltip"},j),{},{children:[c,n&&P,(0,_t.jsx)(Sn.Eh,_n(_n({},O),{},{backgroundColor:"rgba(44, 44, 46, 0.9",angle:35,size:10}))]})))]})};Fn.defaultProps={placement:"top-end",withClose:!1,hideOnScroll:!1,auto:!0},n(93642)},79846:function(e,t,n){"use strict";n(26805),n(5632);var r=n(2784),o=n(28316),i=(n(56253),n(29617)),a=n(37237),u=n(13955),c=n(52322);i.S({dsn:u.x_,integrations:[new a.gE],environment:u.X8,release:u.V2,tracesSampleRate:Number(u.Qn)});var s;s=n(28849).Z,o.render((0,c.jsx)(r.StrictMode,{children:(0,c.jsx)(s,{})}),document.querySelector("#root"))},72503:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o;n.d(t,{M:function(){return i}}),function(e){e.usd="usd",e.eur="eur",e.cny="cny",e.vnd="vnd",e.rub="rub",e.gbp="gbp"}(o||(o={}));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=o.usd,this.type=t}var t,n,i;return t=e,i=[{key:"usd",get:function(){return new e(o.usd)}},{key:"eur",get:function(){return new e(o.eur)}},{key:"cny",get:function(){return new e(o.cny)}},{key:"vnd",get:function(){return new e(o.vnd)}},{key:"rub",get:function(){return new e(o.rub)}},{key:"gbp",get:function(){return new e(o.gbp)}}],(n=[{key:"code",get:function(){return this.type.toUpperCase()}},{key:"symbol",get:function(){switch(this.type){case o.usd:return"$";case o.eur:return"€";case o.cny:return"¥";case o.vnd:return"₫";case o.rub:return"₽";case o.gbp:return"£"}}},{key:"name",get:function(){switch(this.type){case o.usd:return"United States Dollar";case o.eur:return"Euro";case o.cny:return"Chinese Yuan";case o.vnd:return"Vietnamese Dong";case o.rub:return"Russian Ruble";case o.gbp:return"British Pound sterling"}}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},94131:function(e,t,n){"use strict";n.d(t,{EP:function(){return c},c2:function(){return s},wS:function(){return r}});var r,o=n(80075);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.notRequested="notRequested",e.loading="loading",e.loaded="loaded",e.error="error"}(r||(r={}));var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,e),this.type=void 0,this.message=void 0,this.type=t,this.message=n}return u(e,[{key:"isLoading",get:function(){return this.type===r.loading}},{key:"isError",get:function(){return this.type===r.error}}],[{key:"notRequested",get:function(){return new e(r.notRequested)}},{key:"loading",get:function(){return new e(r.loading)}},{key:"loaded",get:function(){return new e(r.loaded)}},{key:"error",value:function(t){return new e(r.error,t)}}]),e}(),s=function(){function e(t){i(this,e),this.request=void 0,this.value=null,this.state=new c(r.notRequested),this.disposable=void 0,this.createRequest=(0,o.ls)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),this.request=t,(0,o.rC)(this,{request:o.LO,state:o.LO,value:o.LO,flush:o.aD,reload:o.aD,createRequest:o.ls,refresh:o.aD,accept:o.aD})}return u(e,[{key:"flush",value:function(){this.cancelRequest(),this.value=null,this.state=c.notRequested}},{key:"reload",value:function(){this.flush(),this.refresh()}},{key:"refresh",value:function(){var e=this;this.cancelRequest(),this.state=c.loading,this.disposable=this.createRequest(),this.disposable.then((0,o.aD)((function(t){e.value=e.map(e.value,t),e.state=c.loaded}))).catch((0,o.aD)((function(t){console.error(t),e.state=c.error(t)})))}},{key:"map",value:function(e,t){return t}},{key:"cancelRequest",value:function(){var e;null===(e=this.disposable)||void 0===e||e.cancel()}},{key:"accept",value:function(e,t){this.cancelRequest(),this.value=e,this.state=t}}]),e}()},42203:function(e,t,n){"use strict";n.d(t,{J0:function(){return r},Ol:function(){return v},Q9:function(){return y},ni:function(){return h},nt:function(){return d},xj:function(){return p}});var r,o=n(55568),i=n(181),a=n(40253);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e[e.liquidityProviderFee=0]="liquidityProviderFee",e[e.accountCreationFee=1]="accountCreationFee",e[e.orderCreationFee=2]="orderCreationFee",e[e.transactionFee=3]="transactionFee",e[e.depositWillBeReturned=4]="depositWillBeReturned"}(r||(r={}));var d=function(){function e(t){var n=t.type,r=t.token;s(this,e),this.type=void 0,this._token=void 0,this.type=n,this._token=r}return f(e,[{key:"headerString",get:function(){switch(this.type){case r.liquidityProviderFee:return"Liquidity provider fee";case r.accountCreationFee:return this._token?"".concat(this._token," Account Creation"):"Account creation fee";case r.orderCreationFee:return"Serum order creation (paid once per pair)";case r.transactionFee:return"Network fee";case r.depositWillBeReturned:return"Deposit (will be returned)"}}}],[{key:"liquidityProviderFee",get:function(){return new e({type:r.liquidityProviderFee})}},{key:"accountCreationFee",value:function(t){return new e({type:r.accountCreationFee,token:t})}},{key:"orderCreationFee",get:function(){return new e({type:r.orderCreationFee})}},{key:"transactionFee",get:function(){return new e({type:r.transactionFee})}},{key:"depositWillBeReturned",get:function(){return new e({type:r.depositWillBeReturned})}}]),e}(),p=f((function e(t){var n=t.type,r=t.lamports,o=t.token,i=t.isFree,a=void 0!==i&&i,u=t.info,c=void 0===u?null:u;s(this,e),this.type=void 0,this.lamports=void 0,this.token=void 0,this.isFree=void 0,this.info=void 0,this.type=n,this.lamports=r,this.token=o,this.isFree=a,this.info=c}));function y(e){var t,n,i,c,s=null,l=null,f=null,d=u(e);try{for(d.s();!(c=d.n()).done;){var p=c.value;switch(p.type.type){case r.transactionFee:s=p.lamports;break;case r.accountCreationFee:l=p.lamports;break;case r.depositWillBeReturned:f=p.lamports}}}catch(e){d.e(e)}finally{d.f()}return new a.lk({transaction:null!==(t=s)&&void 0!==t?t:o.ZERO,accountBalances:null!==(n=l)&&void 0!==n?n:o.ZERO,deposit:null!==(i=f)&&void 0!==i?i:o.ZERO})}function h(e,t){var n,i,c,s,l=e.filter((function(e){return e.token.symbol===t})),f=null,d=null,p=null,y=u(l);try{for(y.s();!(s=y.n()).done;){var h=s.value;switch(h.type.type){case r.transactionFee:f=h.lamports;break;case r.accountCreationFee:d=h.lamports;break;case r.depositWillBeReturned:p=h.lamports}}}catch(e){y.e(e)}finally{y.f()}return new a.lk({transaction:null!==(n=f)&&void 0!==n?n:o.ZERO,accountBalances:null!==(i=d)&&void 0!==i?i:o.ZERO,deposit:null!==(c=p)&&void 0!==c?c:o.ZERO})}function v(e,t){return e.filter((function(e){return e.type.type===r.transactionFee&&e.token.symbol===t})).reduce((function(e,t){return e.add(t.lamports)}),new i.u64(0))}},80477:function(e,t,n){"use strict";n.d(t,{LN:function(){return y},g8:function(){return r},oJ:function(){return h}});var r,o=n(55568),i=n(59917),a=n(80075),u=n(42203),c=n(40253),s=n(65378),l=n(96426);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.sending="sending",e.confirmed="confirmed",e.finalized="finalized",e.error="error"}(r||(r={}));var y=function(){function e(t){var n=t.type,r=t.numberOfConfirmed,o=void 0===r?null:r,i=t.error,a=void 0===i?null:i;f(this,e),this.type=void 0,this._numberOfConfirmed=void 0,this._error=void 0,this.type=n,this._numberOfConfirmed=o,this._error=a}return p(e,[{key:"numberOfConfirmations",get:function(){return this.type===r.confirmed?this._numberOfConfirmed:null}},{key:"isProcessing",get:function(){switch(this.type){case r.sending:case r.confirmed:return!0;default:return!1}}},{key:"progress",get:function(){switch(this.type){case r.sending:return 0;case r.confirmed:var t=this.numberOfConfirmations;return t>=e.maxConfirmed&&(t=e.maxConfirmed-1),t/e.maxConfirmed;case r.finalized:case r.error:return 1}}},{key:"error",get:function(){return this.type===r.error?this._error:null}},{key:"rawValue",get:function(){switch(this.type){case r.sending:return"sending";case r.confirmed:return"processing(".concat(this._numberOfConfirmed,")");case r.finalized:return"finalized";case r.error:return"error"}}}],[{key:"sending",value:function(){return new e({type:r.sending})}},{key:"confirmed",value:function(t){return new e({type:r.confirmed,numberOfConfirmed:t})}},{key:"finalized",value:function(){return new e({type:r.finalized})}},{key:"error",value:function(t){return new e({type:r.error,error:t})}}]),e}();y.maxConfirmed=31;var h=function(){function e(t){var n=t.transactionId,r=t.sentAt,o=t.writtenToRepository,i=void 0!==o&&o,u=t.rawTransaction,c=t.status,s=t.slot,l=void 0===s?0:s;f(this,e),this.transactionId=void 0,this.sentAt=void 0,this.writtenToRepository=void 0,this.rawTransaction=void 0,this.status=void 0,this.slot=void 0,this.transactionId=n,this.sentAt=r,this.writtenToRepository=i,this.rawTransaction=u,this.status=c,this.slot=l,(0,a.ky)(this)}return p(e,[{key:"parse",value:function(e){var t,n,a=e.pricesService,f=e.authority,d=void 0===f?null:f;switch(this.status.type){case r.sending:n=s.qb.requesting();break;case r.confirmed:n=s.qb.processing(0);break;case r.finalized:n=s.qb.confirmed();break;case r.error:n=s.qb.error(null===(t=this.status.error)||void 0===t?void 0:t.message)}var p,y,h,v=this.transactionId,m=this.rawTransaction;switch(m.constructor){case l.ir:var b,w,g=(0,c.K4)(m.amount,m.sender.token.decimals);p=new s.LU({source:m.sender,destination:new c.w5({pubkey:m.receiver.address,lamports:o.ZERO,token:m.sender.token}),authority:d,destinationAuthority:null,rawAmount:g,account:m.sender.pubkey}),y=g*(null!==(b=null===(w=a.currentPrice(m.sender.token.symbol))||void 0===w?void 0:w.value)&&void 0!==b?b:0),h=m.feeInToken;break;case l.W8:var k,j,O=m.destinationWallet,x=new i.PublicKey(O.mintAddress);if(d&&x){var S=new i.PublicKey(d);O.pubkey=(0,c.MO)(x,S,!1,c.jQ.splAssociatedTokenAccountProgramId,c.jQ.tokenProgramId).toString()}p=new s.SS({source:m.sourceWallet,sourceAmount:m.amount,destination:O,destinationAmount:m.estimatedAmount,accountSymbol:null}),y=m.amount*(null!==(k=null===(j=a.currentPrice(m.sourceWallet.token.symbol))||void 0===j?void 0:j.value)&&void 0!==k?k:0),h=(0,u.Q9)(m.fees);break;default:return null}return new s.XL({status:n,signature:v,info:p,amountInFiat:y,slot:this.slot,blockTime:this.sentAt,fee:h,blockhash:null})}}]),e}()},13955:function(e,t,n){"use strict";n.d(t,{x_:function(){return i},X8:function(){return a},V2:function(){return c},Qn:function(){return u},HT:function(){return r},iF:function(){return o}});var r="https://apps.apple.com/vn/app/p2p-wallet/id1605603333",o="https://play.google.com/store/apps/details?id=org.p2p.wallet",i="https://088e2b0cd1f44164a6ad584ec3fbab31@o1272413.ingest.sentry.io/6479116",a={REACT_APP_BASENAME:"/p2p-wallet-web/pr-preview/pr-244",REACT_APP_AMPLITUDE_API_KEY:"fbf3c4bb3684e426cb1e7b675abb6e1d",REACT_APP_CRYPTO_COMPARE_API_KEY:"ad6104e4e9d655c1faab7ef1743c16651a1628f01d384bc5fea09661c0eb18db",REACT_APP_FEE_RELAYER_URL:"https://fee-relayer.key.app",REACT_APP_INTERCOM_APP_ID:"imvolhpe",REACT_APP_MOONPAY_API_KEY:"pk_live_B4RF614wiWeKQ4lwVyFcO493PbCdSlqu",REACT_APP_MOONPAY_SIGNER_URL:"https://moonpay.key.app/",REACT_APP_STAGING:"true",REACT_APP_SENTRY_DSN_ENDPOINT:"https://088e2b0cd1f44164a6ad584ec3fbab31@o1272413.ingest.sentry.io/6479116",REACT_APP_SENTRY_MODE:"staging",REACT_APP_SENTRY_TRACES_SAMPLE_RATE:"1",REACT_APP_SENTRY_RELEASE:"p2p-wallet-web_pr-preview_244_5179153",REACT_APP_FIREBASE_API_KEY:"AIzaSyCkGJ3kXDROTVEh9r9IChjnnVqeH-PGPvM",REACT_APP_FIREBASE_APP_ID:"1:553127941597:web:c90d78be1090d9a82c5234",REACT_APP_RPCPOOL_API_KEY:"78306120-3a44-4ede-89f4-6133642ccab2"}.SENTRY_ENVIRONMENT,u="1",c="p2p-wallet-web_pr-preview_244_5179153"},76827:function(e,t,n){"use strict";n.d(t,{Q$:function(){return p}});var r=n(76635);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&s(e,t)}(u,e);var t,n,o,i=l(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).reactions=void 0,e.reactions=[],e}return t=u,(n=[{key:"onEnd",value:function(){this.removeAllReactions(),this.afterReactionsRemoved()}},{key:"addReaction",value:function(e){return this.reactions.push(e)-1}},{key:"removeReaction",value:function(e){if(e>-1&&e<this.reactions.length){var t=this.reactions[e];t&&t(),(0,r.pullAt)(this.reactions,e)}}},{key:"removeAllReactions",value:function(){var e,t=a(this.reactions);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}this.reactions=[]}},{key:"reactionsCount",get:function(){return this.reactions.length}}])&&c(t.prototype,n),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initGuard=0}var t,n,r;return t=e,(n=[{key:"initialize",value:function(){++this.initGuard,this.initGuard>1||this.onInitialize()}},{key:"end",value:function(){--this.initGuard,this.initGuard>0||(this.initGuard=0,this.onEnd())}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())},14609:function(e,t,n){"use strict";n.d(t,{H:function(){return f}});var r=n(53416);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&u(e,t)}(l,e);var t,n,o,s=c(l);function l(){var e;a(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=s.call.apply(s,[this].concat(n))).id=(0,r.x0)(10),e}return t=l,n&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(76827).Q$)},34287:function(e,t,n){"use strict";n.d(t,{J:function(){return y}});var r=n(80075);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&s(e,t)}(f,e);var t,n,o,c=l(f);function f(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.initialData,o=void 0===n?[]:n,a=t.isPaginationEnabled,u=void 0!==a&&a,s=t.limit,l=void 0===s?10:s,p=t.offset,y=void 0===p?0:p;return i(this,f),(e=c.call(this,{initialData:o})).isPaginationEnabled=void 0,e.limit=void 0,e.offset=void 0,e._isLastPageLoaded=!1,e.isPaginationEnabled=u,e.limit=l,e.offset=y,(0,r.rC)(d(e),{isPaginationEnabled:r.LO,limit:r.LO,offset:r.LO,fetchNext:r.aD,join:r.aD,overrideData:r.aD,map:r.aD,updateItem:r.aD}),e}return t=f,(n=[{key:"flush",value:function(){this.offset=0,this._isLastPageLoaded=!1,u(p(f.prototype),"flush",this).call(this)}},{key:"isFetchable",get:function(){return u(p(f.prototype),"isFetchable",this)&&!this._isLastPageLoaded}},{key:"fetchNext",value:function(){u(p(f.prototype),"request",this).call(this)}},{key:"handleNewData",value:function(e){var t=this.join(e);(!this.isPaginationEnabled||e.length<this.limit)&&(this._isLastPageLoaded=!0);var n=this.map(t);u(p(f.prototype),"handleNewData",this).call(this,n),this.offset+=this.limit}},{key:"join",value:function(e){var t=this;return this.isPaginationEnabled?this.data.concat(e.filter((function(e){return!t.data.includes(e)}))):e}},{key:"overrideData",value:function(e){var t=this.map(e);t!==this.data&&u(p(f.prototype),"handleNewData",this).call(this,t)}},{key:"map",value:function(e){var t=e;return this.customFilter&&(t=t.filter(this.customFilter)),this.customSorter&&(t=t.sort(this.customSorter)),t}},{key:"getCurrentPage",value:function(){return this.isPaginationEnabled&&0!==this.limit?this.offset/this.limit:null}},{key:"updateItem",value:function(e,t){var n=!1,r=this.data.findIndex(e),o=t(this.data[r]);if(o!==this.data[r]){n=!0;var i=this.data;i[r]=o,this.overrideData(i)}return n}}])&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),f}(n(27802).g)},27802:function(e,t,n){"use strict";n.d(t,{H:function(){return r},g:function(){return p}});var r,o=n(80075),i=n(92670);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}!function(e){e.initializing="initializing",e.loading="loading",e.loaded="loaded",e.error="error"}(r||(r={}));var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&c(e,t)}(l,e);var t,n,i,a=s(l);function l(e){var t,n=e.initialData;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this)).initialData=void 0,t.requestDisposable=void 0,t.data=void 0,t.error=null,t.state=void 0,t.createRequest=(0,o.ls)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(this.data);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),t.initialData=n,t.data=n,t.state=r.initializing,(0,o.rC)(f(t),{data:o.LO,error:o.LO,state:o.LO,flush:o.aD,reload:o.aD,cancelRequest:o.aD,isFetchable:o.Fl,request:o.aD,handleNewData:o.aD,handleError:o.aD,dataObservable:o.Fl}),t}return t=l,n=[{key:"flush",value:function(){this.data=this.initialData}},{key:"reload",value:function(){this.flush(),this.request(!0)}},{key:"cancelRequest",value:function(){var e;null===(e=this.requestDisposable)||void 0===e||e.cancel()}},{key:"isFetchable",get:function(){return this.state!==r.loading}},{key:"request",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)this.cancelRequest();else if(!this.isFetchable)return;this.state=r.loading,this.requestDisposable=this.createRequest(),this.requestDisposable.then((function(t){e.handleNewData(t)})).catch((function(t){e.handleError(t)}))}},{key:"handleNewData",value:function(e){this.data=e,this.error=null,this.state=r.loaded}},{key:"handleError",value:function(e){this.error=e,this.state=r.error}},{key:"dataObservable",get:function(){return this.state===r.loaded?this.data:null}}],n&&u(t.prototype,n),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.j)},92670:function(e,t,n){"use strict";n.d(t,{j:function(){return p}});var r=n(80075);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&c(e,t)}(l,e);var t,n,o,u=s(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),e=u.call(this),(0,r.rC)(f(e),{setDefaults:r.aD}),e}return t=l,(n=[{key:"onEnd",value:function(){a(d(l.prototype),"onEnd",this).call(this),this.setDefaults()}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(n(76827).Q$)},90904:function(e,t,n){"use strict";n.d(t,{H5:function(){return o.H},lZ:function(){return S},Dz:function(){return P.Dz}});n(34287);var r=n(80075),o=n(27802);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&u(e,t)}(f,e);var t,n,i,s=c(f);function f(e){var t,n=e.initialData;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this)).initialData=void 0,t.task=void 0,t.data=void 0,t.error=null,t.state=o.H.initializing,t.next=(0,r.ls)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.reject(new Error);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),t.initialData=n,t.data=n,(0,r.rC)(l(t),{data:r.LO,error:r.LO,state:r.LO,clear:r.aD,reload:r.aD,cancelRequest:r.aD,isFetchable:r.Fl,fetch:r.aD,handleData:r.aD,handleError:r.aD,dataObservable:r.Fl}),t}return t=f,n=[{key:"clear",value:function(){this.data=this.initialData,this.state=o.H.initializing}},{key:"reload",value:function(){this.clear(),this.fetch(!0)}},{key:"cancelRequest",value:function(){var e;null===(e=this.task)||void 0===e||e.cancel()}},{key:"isFetchable",get:function(){return this.state!==o.H.loading}},{key:"fetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)this.cancelRequest();else if(!this.isFetchable)return;this.state=o.H.loading,this.task=this.next(),this.task.then((function(t){e.handleData(t)})).catch((function(t){e.handleError(t)})).finally((function(){e.state=o.H.loaded}))}},{key:"handleData",value:function(e){this.data=e,this.error=null}},{key:"handleError",value:function(e){console.error(e),this.error=e,this.state=o.H.error}},{key:"dataObservable",get:function(){return this.state===o.H.loaded?this.data:null}},{key:"stateObservable",get:function(){return this.state}}],n&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),f}(n(92670).j);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&g(e,t)}(u,e);var t,n,i,a=k(u);function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.initialData,o=void 0===n?[]:n,i=t.isPaginationEnabled,c=void 0!==i&&i,s=t.limit,l=void 0===s?10:s,f=t.offset,d=void 0===f?0:f;return v(this,u),(e=a.call(this,{initialData:o})).isPaginationEnabled=void 0,e.limit=void 0,e.offset=void 0,e._cache=[],e._isLastPageLoaded=!1,e.isPaginationEnabled=c,e.limit=l,e.offset=d,(0,r.rC)(O(e),{isPaginationEnabled:r.LO,limit:r.LO,offset:r.LO,fetchNext:r.aD,join:r.aD,overrideData:r.aD,map:r.aD,updateItem:r.aD}),e}return t=u,n=[{key:"isEmpty",get:function(){return this._isLastPageLoaded&&0===this.data.length}},{key:"clear",value:function(){this.offset=0,this._isLastPageLoaded=!1,b(x(u.prototype),"clear",this).call(this)}},{key:"isFetchable",get:function(){return b(x(u.prototype),"isFetchable",this)&&!this._isLastPageLoaded}},{key:"fetchNext",value:function(){this.fetch()}},{key:"fetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)this.cancelRequest();else if(!this.isFetchable)return;this.state=o.H.loading,this._cache=[],this.task=this.next(),this.task.then((function(t){e.handleData(t),(!e.isPaginationEnabled||e._cache.length<e.limit)&&(e._isLastPageLoaded=!0),e.offset+=e.limit,e.state=o.H.loaded})).catch((function(t){e.handleError(t)}))}},{key:"handleData",value:function(e){var t;(t=this._cache).push.apply(t,y(e));var n=this.join(e),r=this.map(n);b(x(u.prototype),"handleData",this).call(this,r),this.state=o.H.loading}},{key:"join",value:function(e){var t=this;return this.isPaginationEnabled?this.data.concat(e.filter((function(e){return!t.data.includes(e)}))):e}},{key:"overrideData",value:function(e){var t=this.map(e);t!==this.data&&b(x(u.prototype),"handleData",this).call(this,t)}},{key:"map",value:function(e){var t=e;return this.customFilter&&(t=t.filter(this.customFilter)),this.customSorter&&(t=t.sort(this.customSorter)),t}},{key:"setState",value:function(e,t){this.state=e,t&&this.overrideData(t)}},{key:"refreshUI",value:function(){this.overrideData(this.data)}},{key:"getCurrentPage",value:function(){return this.isPaginationEnabled&&0===this.limit?this.offset/this.limit:null}},{key:"updateItem",value:function(e,t){var n=!1,r=this.data.findIndex(e),o=t(this.data[r]);if(o!==this.data[r]){n=!0;var i=this.data;i[r]=o,this.overrideData(i)}return n}}],n&&m(t.prototype,n),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(d),P=n(27664)},27664:function(e,t,n){"use strict";n.d(t,{Dz:function(){return w}});var r=n(2784),o=n(76635),i=n(53416),a=n(13920);n(26805);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSSR=!1,this.globalContext=void 0,this.objectsStored=new Array;var t="undefined"!=typeof window;if(!(void 0!==n.g)&&!t)throw new Error("".concat(e.STATIC_CONTEXT_ID,"; Unknown environment: Global is undefined and Window is undefined "));this.globalContext=t?window:n.g,(0,o.set)(this.globalContext,e.GLOBAL_CONTEXTS_ID,this),this.isSSR=!t}var t,r,i;return t=e,i=[{key:"Get",value:function(){if(!e._instance){var t=e.Find(e.GLOBAL_CONTEXTS_ID);e._instance=null!=t?t:new e}return e._instance}},{key:"SetDebug",value:function(t){e.PutInGlobal("__RK_DEBUG",t)}},{key:"GetDebug",value:function(){var t;return null!==(t=e.FindInGlobal("__RK_DEBUG"))&&void 0!==t&&t}},{key:"Find",value:function(e){var t="undefined"!=typeof window,r=void 0!==n.g;if(t)return(0,o.get)(window,e);if(r)return(0,o.get)(n.g,e);throw new Error("Environment does not provide a valid global context")}},{key:"FindInGlobal",value:function(t){var n=e.Get();return(0,o.get)(n.globalContext,t)}},{key:"PutInGlobal",value:function(t,n){var r=e.Get();if((0,o.set)(r.globalContext,t,n),r.objectsStored.push(t),n&&(0,o.keys)(n).includes("isSSR")&&(0,o.set)(n,"isSSR",r.isSSR),n&&(0,o.keys)(n).includes("context")){var i=n.context,a=void 0===i?"":i;(0,o.set)(r.globalContext,"".concat(t,"_").concat(a),n)}return n}},{key:"RemoveFromGlobal",value:function(t){var n=e.Get();(0,o.set)(n.globalContext,t,null)}},{key:"RemoveAllFromGlobal",value:function(){var t=e.Get();t.objectsStored.forEach((function(t){e.RemoveFromGlobal(t)})),t.objectsStored=new Array}}],(r=null)&&u(t.prototype,r),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}c._instance=void 0,c.STATIC_CONTEXT_ID=(0,i.x0)(5),c.GLOBAL_CONTEXTS_ID="__S_a_GlobalContextStore";var l=(0,o.memoize)((function(){var e=c.FindInGlobal("__RK_Global_Container");return e||(e=a.nC,c.PutInGlobal("__RK_Global_Container",e)),e}))();c.Get().isSSR||(0,o.set)(window,"__RK_printContainer",(function(){(0,o.get)(l,"_registry._registryMap").forEach((function(e){console.log("obj: ",(0,o.get)(e[0],"instance"))}))}));var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"registerValue",value:function(e,t){return l.register(e,{useValue:t})}},{key:"registerSingleton",value:function(e){if(!(0,o.isFunction)(e))throw new Error("{token} must be a function");return l.registerSingleton(e)}},{key:"registerAsSingleton",value:function(e,t){return l.registerSingleton(e,t)}},{key:"registerClass",value:function(e){return l.register(e,{useClass:e},{lifecycle:a.Fw.Transient})}},{key:"resolve",value:function(e){var t=l.resolve(e);if(c.GetDebug()&&(0,o.hasIn)(t,"id")){var n=(0,o.isString)(e)?e:e.toString().substring(0,25);console.log("~~~~ Resolving: ".concat(n," with id: ").concat((0,o.get)(t,"id")))}return t}},{key:"resolveSafe",value:function(t){return(0,o.isFunction)(t)||l.isRegistered(t)?e.resolve(t):null}},{key:"container",value:function(){return l}},{key:"isRegistered",value:function(e){return l.isRegistered(e)}}],(n=null)&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=f;function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h="__RK_mountCount",v="__RK_initKey",m=function(e){return(0,o.hasIn)(e,h)?(0,o.get)(e,h):0},b=function(e,t){(0,o.set)(e,h,t)},w=function(e){var t=d.resolveSafe(e);t||(d.container().register(e,{useFactory:(0,a.i$)((function(t){return new e}))}),t=d.resolve(e));var n=p((0,r.useState)(t),1)[0];return function(e){return(0,o.hasIn)(e,v)&&!(0,o.isEmpty)((0,o.get)(e,v))}(n)||(!function(e){(0,o.set)(e,v,(0,i.x0)())}(n),n.initialize()),(0,r.useEffect)((function(){var e,t;return t=m(e=n),++t,b(e,t),function(){!function(e){var t=m(e);t=Math.max(0,t-1),b(e,t)}(n),0===m(n)&&(n.end(),function(e){(0,o.set)(e,v,null)}(n))}}),[]),n}},3549:function(e,t,n){"use strict";n.d(t,{S:function(){return v}});var r,o=n(94758),i=n(59917),a=n(13920),u=n(13533),c=n(7954),s=n(14609);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var v=(0,a.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===u.d?Object:u.d])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&d(e,t)}(u,e);var t,n,r,a=p(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this))._walletModel=e,t._provider=null,t._connection=null,t}return t=u,(n=[{key:"onInitialize",value:function(){"undefined"!=typeof window&&(this.setUpConnection(),this.setUpProvider())}},{key:"afterReactionsRemoved",value:function(){this._provider=null,this._connection=null}},{key:"setUpConnection",value:function(){this._connection=new i.Connection(c.k.apiEndpoint.getURL())}},{key:"setUpProvider",value:function(){var e=this.connection,t=this._walletModel.signer;if(!t)throw new Error("~~~ No Signer object was provided");if(!e)throw new Error("~~~ No Connection");this._provider||(this._provider=new o.zt(e,t,o.zt.defaultOptions()))}},{key:"connection",get:function(){return this._connection||this.setUpConnection(),this._connection}},{key:"provider",get:function(){return this._provider||this.setUpProvider(),this._provider}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(s.H))||r)||r)||r},11901:function(e,t,n){"use strict";n.d(t,{S:function(){return r.S}});var r=n(3549)},13533:function(e,t,n){"use strict";n.d(t,{d:function(){return _}});n(26805);var r,o=n(27798),i=n(6048),a=n(59917),u=n(80075),c=n(13920),s=n(12830),l=n(90788);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d,p,y,h=(0,c.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[])(r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getAdaptors",value:function(e){return[new s.n,new l.Ox,new l.Ig({network:e}),new l.hB({network:e})]}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||r)||r)||r,v=n(14609);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,u,"next",e)}function u(e){b(i,r,o,a,u,"throw",e)}a(void 0)}))}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var _=(0,c.ri)()(d=Reflect.metadata("design:type",Function)(d=Reflect.metadata("design:paramtypes",[void 0===h?Object:h,void 0===s.n?Object:s.n])((y=p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&O(e,t)}(d,e);var t,n,r,i,c,l,f=x(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=f.call(this)).walletAdaptorService=e,n._mnemonicAdapter=t,n.name=void 0,n.publicKey=void 0,n.adaptors=[],n.network=void 0,n.connected=void 0,n.connecting=void 0,n.selectedAdaptor=null,n._adaptors=null,n.name="",n.network=o.QZ.Mainnet,n.publicKey="",n.connected=!1,n.connecting=!1,(0,u.rC)(P(n),{_restoreLocal:u.aD,connectAdaptor:u.aD,name:u.LO,publicKey:u.LO,network:u.LO,connected:u.LO,connecting:u.LO,selectedAdaptor:u.LO,adaptors:u.LO,pubKey:u.Fl,signer:u.Fl}),n.onConnect=n.onConnect.bind(P(n)),n.onDisconnect=n.onDisconnect.bind(P(n)),n}return t=d,n=[{key:"signAllTransactions",value:function(e){if(!this.selectedAdaptor)throw new Error("Not connected to an adaptor");return this.signer.signAllTransactions(e)}},{key:"signTransaction",value:function(e){if(!this.selectedAdaptor)throw new Error("Not connected to a wallet adaptor");return this.signer.signTransaction(e)}},{key:"disconnect",value:(l=w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(d._previousAdaptorKey),e.next=3,null===(t=this.selectedAdaptor)||void 0===t?void 0:t.disconnect();case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"connectAdaptor",value:(c=w(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.setupAdaptors(),r=this._getAdaptors(),!(o=r.find((function(e){return e.name===t})))){e.next=8;break}return this.connecting=!0,e.next=8,o.connect(n);case 8:this._saveAdaptorName(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:return e.prev=14,this.connecting=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,11,14,17]])}))),function(e,t){return c.apply(this,arguments)})},{key:"_saveAdaptorName",value:function(e){e!==s.R&&localStorage.setItem(d._previousAdaptorKey,e)}},{key:"setUpAdaptor",value:function(e){var t=this;return e.on("connect",(function(n){t.onConnect(e,n)})),e.on("disconnect",(function(){t.onDisconnect(e)})),e.connected&&e.publicKey&&this.onConnect(e,e.publicKey),e}},{key:"createReactions",value:function(){var e=this;this.addReaction((0,u.EH)((function(){e.network&&e.setupAdaptors()})))}},{key:"afterReactionsRemoved",value:function(){}},{key:"onInitialize",value:function(){this.createReactions(),this._restoreLocal()}},{key:"onEnd",value:function(){this.adaptors.forEach((function(e){e.removeAllListeners("connect"),e.removeAllListeners("disconnect")})),k(A(d.prototype),"onEnd",this).call(this)}},{key:"setupAdaptors",value:function(){var e=this,t=this._getAdaptors().map((function(t){return e.setUpAdaptor(t)}));(0,u.z)((function(){e.adaptors=t}))}},{key:"onConnect",value:function(e,t){var n=this;(0,u.z)((function(){n.selectedAdaptor=e,n.connected=n.selectedAdaptor.connected,n.name=e.name,n.publicKey=t.toBase58()}))}},{key:"onDisconnect",value:function(e){var t=this;(0,u.z)((function(){t.connected=e.connected,t.name="",t.publicKey=""}))}},{key:"pubKey",get:function(){return new a.PublicKey(this.publicKey)}},{key:"signer",get:function(){return this.selectedAdaptor}},{key:"messageSigner",get:function(){return this.selectedAdaptor}},{key:"_getAdaptors",value:function(){return this._adaptors||(this._adaptors=this.walletAdaptorService.getAdaptors(this.network)),this._adaptors}},{key:"_restoreLocal",value:(i=w(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.connecting=!0,e.next=3,this._mnemonicAdapter.getLocalSigner();case 3:if(!(t=e.sent)){e.next=9;break}return this.connecting=!1,e.next=8,this.connectAdaptor(s.R,{type:"recur",signer:t});case 8:return e.abrupt("return",e.sent);case 9:if(!(n=localStorage.getItem(d._previousAdaptorKey))||!d._reloadableAdaptors.includes(n)){e.next=14;break}return e.next=14,this.connectAdaptor(n);case 14:this.connecting=!1;case 15:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}],n&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(v.H),p._previousAdaptorKey="previousAdaptor",p._reloadableAdaptors=[i.B],d=y))||d)||d)||d},12830:function(e,t,n){"use strict";n.d(t,{n:function(){return E},R:function(){return I}});var r=n(27798),o=n(59917),i=n(17022),a=n.n(i),u=n(5634),c=n(10717),s=n.n(c),l=n(63145);var f,d,p,y,h,v,m=n(48834).Buffer;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,u,"next",e)}function u(e){w(i,r,o,a,u,"throw",e)}a(void 0)}))}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var P,A,_,T,R,C,I="MnemonicAdapter",E=(f=function(e,t,n){n.value=function(){throw new TypeError("".concat(t," is not implemented"))}},d=Reflect.metadata("design:type",Function),p=Reflect.metadata("design:paramtypes",["undefined"==typeof Uint8Array?Object:Uint8Array]),v=h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&j(e,t)}(A,e);var t,n,i,c,f,d,p,y,h,v,b,w,x,S,P=O(A);function A(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),(e=P.call(this)).name=I,e.icon="",e.url="",e._account=null,e._connecting=!1,e._readyState=r.i1.NotDetected,e._keypairDB=void 0,e._extractableKeys=!1,e._encryptAlgo="RSA-OAEP",e}return t=A,n=[{key:"getLocalSigner",value:(S=g(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getKeyPair();case 2:if(t=e.sent,n=localStorage.getItem(A._privateStorageKey)){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,window.crypto.subtle.decrypt({name:this._encryptAlgo},t.privateKey,m.from(n,"hex"));case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return",null);case 11:return i=o.Keypair.fromSecretKey(new Uint8Array(r)),e.abrupt("return",{publicKey:new o.PublicKey(i.publicKey),secretKey:i.secretKey});case 13:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"signTransaction",value:function(e){return this._account?(e.partialSign(this._account),Promise.resolve(e)):Promise.reject(A._noKeypairError)}},{key:"signAllTransactions",value:function(e){var t=this;return this._account?(e.forEach((function(e){return e.partialSign(t._account)})),Promise.resolve(e)):Promise.reject(A._noKeypairError)}},{key:"signMessage",value:(x=g(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)})},{key:"disconnect",value:(w=g(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._account=null,this.emit("disconnect"),e.next=4,this._removeLocalAuthData();case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"publicKey",get:function(){var e;return(null===(e=this._account)||void 0===e?void 0:e.publicKey)||null}},{key:"readyState",get:function(){return this._readyState}},{key:"connecting",get:function(){return this._connecting}},{key:"connect",value:(b=g(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"sign"!==(null==t?void 0:t.type)){e.next=10;break}return n=(0,l.sJ)(t.storageInfo.seed,A.walletIndex,t.derivationPath),r={publicKey:new o.PublicKey(n.publicKey),secretKey:n.secretKey},this._account=r,this.emit("connect",r.publicKey),e.next=8,this._saveCurrentSecretKey(r.secretKey);case 8:return e.next=10,A._saveEncryptedMnemonicAndSeed(t.storageInfo);case 10:"recur"===(null==t?void 0:t.type)&&(this._account=t.signer,this.emit("connect",t.signer.publicKey)),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),this.emit("error",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e){return b.apply(this,arguments)})},{key:"_saveCurrentSecretKey",value:(v=g(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getKeyPair();case 2:return n=e.sent,e.next=5,window.crypto.subtle.encrypt(this._encryptAlgo,n.publicKey,t);case 5:(r=e.sent)&&(o=m.from(r).toString("hex"),localStorage.setItem(A._privateStorageKey,o));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"_removeLocalAuthData",value:(h=g(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(A._privateStorageKey),localStorage.removeItem(A._mnemonicStorageKey),e.next=4,this._getDB();case 4:return t=e.sent,e.next=7,t.delete(l.G4,l.yo);case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"_getKeyPair",value:(y=g(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.VK)();case 2:return this._keypairDB=e.sent,e.next=5,this._keypairDB.get(l.G4,l.yo);case 5:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",t);case 8:return e.next=10,window.crypto.subtle.generateKey({name:this._encryptAlgo,modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},this._extractableKeys,["encrypt","decrypt"]);case 10:return t=e.sent,e.next=13,this._keypairDB.put(l.G4,t,l.yo);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"_getDB",value:(p=g(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._keypairDB){e.next=2;break}return e.abrupt("return",this._keypairDB);case 2:return e.next=4,(0,l.VK)();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})}],i=[{key:"_saveEncryptedMnemonicAndSeed",value:(d=g(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({mnemonic:t.mnemonic,seed:t.seed}),e.next=3,A._generateEncryptedTextAsync(n,t.password);case 3:r=e.sent,(0,l.Cj)(A._mnemonicStorageKey,JSON.stringify(r));case 5:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"_deriveEncryptionKey",value:(f=g(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){return(0,u.pbkdf2)(t,n,r,s().secretbox.keyLength,o,(function(t,n){return t?i(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return f.apply(this,arguments)})},{key:"_generateEncryptedTextAsync",value:(c=g(regeneratorRuntime.mark((function e(t,n){var r,o,i,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s().randomBytes(16),o="pbkdf2",i=1e5,u="sha256",c=s().randomBytes(s().secretbox.nonceLength),e.next=7,A._deriveEncryptionKey(n,r,i,u);case 7:return l=e.sent,f=s().secretbox(m.from(t),c,l),e.abrupt("return",{encrypted:a().encode(f),nonce:a().encode(c),kdf:o,salt:a().encode(r),iterations:i,digest:u});case 10:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})}],n&&k(t.prototype,n),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),A}(r.eC),h.walletIndex=0,h.mnemonicStrength=256,h._noKeypairError="No keypair to sign transactions",h._mnemonicStorageKey="encryptedSeedAndMnemonic",h._privateStorageKey="walletPrivateKey",P=(y=v).prototype,A="signMessage",_=[f,d,p],T=Object.getOwnPropertyDescriptor(y.prototype,"signMessage"),R=y.prototype,C={},Object.keys(T).forEach((function(e){C[e]=T[e]})),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=_.slice().reverse().reduce((function(e,t){return t(P,A,e)||e}),C),R&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(R):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(P,A,C),C=null),y)},63145:function(e,t,n){"use strict";n.d(t,{AW:function(){return b},Cj:function(){return v},G4:function(){return w},OI:function(){return h},PT:function(){return d},VK:function(){return k},sJ:function(){return m},uo:function(){return y},yo:function(){return g}});var r=n(14132),o=n(36832),i=n(62994),a=n(4424),u=n(10717),c=n.n(u),s=n(48834).Buffer;function l(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,u,"next",e)}function u(e){l(i,r,o,a,u,"throw",e)}a(void 0)}))}}var d={Deprecated:"deprecated",Bip44:"bip44",Bip44Change:"bip44Change"},p=function(e,t){return t?{value:e,expiry:Date.now()+t}:{value:e,expiry:Number.MAX_SAFE_INTEGER}};function y(e){return{isLowerCase:/[a-z]/.test(e),isUpperCase:/[A-Z]/.test(e),isNumber:/\d/.test(e),isMinLength:e.length>=8}}var h=function(){var e=f(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.validateMnemonic(t)){e.next=2;break}throw new Error("Invalid seed words");case 2:return e.next=4,o.mnemonicToSeed(t);case 4:return n=e.sent,e.abrupt("return",s.from(n).toString("hex"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.msTTL,o=p(t,r);return localStorage.setItem(e,JSON.stringify(o))};function m(e,t,n){var o=function(e,t,n){switch(n){case d.Deprecated:var o="m/501'/".concat(t,"'/0/0");return r.WC(s.from(e,"hex")).derivePath(o).privateKey;case d.Bip44:var a="m/44'/501'/".concat(t,"'");return i.derivePath(a,e).key;case d.Bip44Change:var u="m/44'/501'/".concat(t,"'/0'");return i.derivePath(u,e).key}}(e,t,n);if(!o)throw new Error("Could not derive secretKey");return c().sign.keyPair.fromSeed(o)}var b=function(e,t,n){return m(e,t,n).publicKey},w="cryptoPair",g="keypair",k=function(){var e=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.X3)("keys",1,{upgrade:function(e){e.createObjectStore(w)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},78901:function(e,t,n){"use strict";n.d(t,{E:function(){return b}});var r=n(13155),o=n(75594),i=n(7552),a=n(13302),u=n(89921),c=n(9235),s=n(94131),l=n(40253),f=n(7954),d=n(81277),p=n(8895),y=n(12869),h=n(52322),v=(0,p.Z)("div")({name:"TooltipContent",class:"t1m1so3g"}),m=function(e){var t=e.info,n=(0,h.jsxs)(v,{children:[(0,h.jsx)("strong",{children:t.alertTitle}),(0,h.jsx)("div",{children:t.alertDescription})]});return(0,h.jsx)(y.TE,{withClose:!0,elContent:n})};n(91153);var b=(0,r.Pi)((function(e){var t=e.viewModel,n=e.slippageView,r=e.feesView,p=t.fees;if(p.state.type===s.wS.loaded){var y,v=null!==(y=p.value)&&void 0!==y?y:[],b=o.Z(i.Z((function(e){return e.type.headerString})),a.Z(u.Z((function(e,t){var n,r;return(null!==(n=v.findIndex((function(t){return t.type.headerString===e.type.headerString})))&&void 0!==n?n:0)-(null!==(r=v.findIndex((function(e){return e.type.headerString===t.type.headerString})))&&void 0!==r?r:0)}))))(v);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c.lk,{children:[n||null,Object.entries(b).map((function(e){return e[1].some((function(e){return e.isFree}))?(n={title:e[0],trailing:e[1].map((function(e,t){return function(e){var t,n=e.fee,r=e.index,o=null===(t=n.info)||void 0===t?void 0:t.payBy;return(0,h.jsxs)(c.xv,{className:"inline-flex",children:[(0,h.jsxs)(c.xv,{className:"right",children:["Free ",o?(0,h.jsxs)(c.xv,{className:"green",children:["(",o,")"]}):null]}),n.info?(0,h.jsx)(m,{info:n.info}):null]},r)}({fee:e,index:t})}))},r=n.title,o=n.trailing,(0,h.jsxs)(c.X2,{children:[(0,h.jsx)(c.xv,{className:"gray",children:r}),o]},r)):function(e){var t=e.title,n=e.descriptions;return(0,h.jsxs)(c.X2,{children:[(0,h.jsx)(c.xv,{className:"gray",children:t}),(0,h.jsx)(c.xv,{className:"right",children:n.map((function(e,t){return 0===t?(0,h.jsx)("span",{children:e},t):(0,h.jsxs)("span",{children:[" + ",e]},t)}))})]},t)}({title:e[0],descriptions:e[1].map((function(e){return function(e){var n,r=e.fee,o=e.withFiat,i=(0,l.K4)(r.lamports,r.token.decimals),a=i*(null!==(n=t.getPrice(r.token.symbol))&&void 0!==n?n:0);return(0,h.jsxs)(c.xv,{children:[(0,d.D$)(i,{maximumFractionDigits:r.token.decimals+1})," ",r.token.symbol,o?(0,h.jsxs)(c.xv,{className:"gray",children:["(~",f.k.fiat.symbol,(0,d.D$)(a,{maximumFractionDigits:2}),")"]}):null]})}({fee:e,withFiat:1===v.length})}))});var n,r,o}))]}),r?(0,h.jsx)(c.lk,{className:"flat",children:r}):null,(0,h.jsx)(c.lk,{className:"total",children:(0,h.jsxs)(c.X2,{children:[(0,h.jsx)(c.xv,{children:"Total fee"}),function(){var e=t.totalFees;if(e){var n=e.totalFeesSymbol,r=e.decimals,o=e.amount,i=e.amountInFiat;return(0,h.jsxs)(c.xv,{children:[(0,h.jsxs)(c.xv,{className:"big",children:[(0,d.D$)(o,{maximumFractionDigits:r})," ",n]})," ",(0,h.jsxs)(c.xv,{className:"gray",children:["(~",f.k.fiat.symbol,(0,d.D$)(i,{maximumFractionDigits:2}),")"]})]})}}()]})})]})}return null}))},52616:function(e,t,n){"use strict";n.d(t,{w:function(){return p}});var r=n(13155),o=n(58242),i=n(9235),a=n(7954),u=n(81277),c=n(52322),s=function(e){var t=e.token,n=e.price,r=e.fiatPrice;return(0,c.jsxs)(i.X2,{children:[(0,c.jsxs)(i.xv,{className:"gray nowrap",children:["1 ",t," price"]}),(0,c.jsxs)(i.xv,{className:"flex-end right",children:[n," ",(0,c.jsx)(i.xv,{className:"gray",children:r})]})]})};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=(0,r.Pi)((function(e){var t=e.exchangeRate,n=e.sourceWallet,r=e.destinationWallet,l=(0,o.YN)((function(){var e=t,o=n,i=r;if(!e||!o||!i)return null;var c=o.token.symbol,s=i.token.symbol,l=(0,u.D$)(o.priceInCurrentFiat,{maximumFractionDigits:2}),f="(~".concat(a.k.fiat.symbol).concat(l,")");return{token:c,price:"".concat((0,u.D$)(e,{maximumFractionDigits:9})," ").concat(s),fiatPrice:f}})),d=(0,o.YN)((function(){var e=t?1/t:null,o=r;if(!e||!n||!o)return null;var i=n.token.symbol,c=o.token.symbol,s=(0,u.D$)(o.priceInCurrentFiat,{maximumFractionDigits:2}),l="(~".concat(a.k.fiat.symbol).concat(s,")");return{token:c,price:"".concat((0,u.D$)(e,{maximumFractionDigits:9})," ").concat(i),fiatPrice:l}}));return l||d?(0,c.jsxs)(i.lk,{children:[l?(0,c.jsx)(s,f({},l)):null,d?(0,c.jsx)(s,f({},d)):null]}):null}))},91436:function(e,t,n){"use strict";n.d(t,{C:function(){return y}});var r=n(8895),o=n(12869),i=n(55907),a=n(52322),u=(0,r.Z)("div")({name:"Wrapper",class:"w1i8nett"}),c=(0,r.Z)("div")({name:"BaseWrapper",class:"bqtlngj"}),s=(0,r.Z)(c)({name:"WrapperFromOneToOne",class:"w15cq37o"}),l=(0,r.Z)(c)({name:"WrapperIcon",class:"wzeqow6"}),f=(0,r.Z)(o.JO)({name:"TransactionIcon",class:"tpdjtiu"}),d=(0,r.Z)("div")({name:"StatusWrapper",class:"s6sfmx4"}),p=(0,r.Z)(o.JO)({name:"StatusIcon",class:"s1unixns"}),y=function(e){var t=e.imageView,n=e.statusImage,r=e.className;return(0,a.jsxs)(u,{className:r,children:[t.fromOneToOne?(0,a.jsxs)(s,{children:[(0,a.jsx)(i.y,{token:t.fromOneToOne.from,size:32}),(0,a.jsx)(i.y,{token:t.fromOneToOne.to,size:32})]}):(0,a.jsx)(l,{children:(0,a.jsx)(f,{name:t.oneImage})}),n?(0,a.jsx)(d,{children:(0,a.jsx)(p,{name:n,className:n})}):null]})};n(3353)},19166:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(85064),o=n(61467);n(90203),n(8750);(0,o.ZP)("fbf3c4bb3684e426cb1e7b675abb6e1d","REACT_APP_AMPLITUDE_API_KEY doesn't set in environment"),(0,r.S1)("fbf3c4bb3684e426cb1e7b675abb6e1d");var i=function(e){(0,r.j)(e.name,e.params)}},98337:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var r=n(2784),o=n(7267),i=n(19166),a=function(e){var t=(0,o.TH)();(0,r.useEffect)((function(){var n=null;t.state.fromPage&&t.state.fromPage!==t.pathname&&(n=t.state.fromPage),(0,i.L)({name:e,params:{Last_Screen:n}})}),[])}},72987:function(e,t,n){"use strict";n.d(t,{L9:function(){return r.L},Gf:function(){return o.G}});var r=n(19166),o=n(98337)},69645:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{C:function(){return o}});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._wrapped=new Map}var t,n,o;return t=e,(n=[{key:"insert",value:function(e,t){this._wrapped.set(t,e)}},{key:"value",value:function(e){return this._wrapped.get(e)}},{key:"removeValue",value:function(e){this._wrapped.delete(e)}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},80821:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(17022),o=n.n(r),i=n(18744);function a(e,t){var n;if(e.length<=t)throw i.A$.invalidSignature();var r=null===(n=e[t])||void 0===n?void 0:n.signature;if(!r)throw i.A$.invalidSignature();return o().encode(r)}},18744:function(e,t,n){"use strict";n.d(t,{oQ:function(){return d.oQ},_x:function(){return l},Bx:function(){return d.Bx},XR:function(){return d.XR},e0:function(){return d.e0},A$:function(){return f.A$},dM:function(){return d.dM},kQ:function(){return f.kQ},pV:function(){return f.pV},sE:function(){return p.sE},_D:function(){return f._D}});var r=n(9669),o=n.n(r),i=n(3855);function a(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=o().create(),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;u(this,e),this.version=void 0,this._baseUrlString=void 0,this.version=t,this._baseUrlString="https://fee-relayer.key.app"}var t,n,r,o,l;return t=e,n=[{key:"getFeePayerPubkey",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._baseUrlString,this.version>1&&(t+="/v".concat(this.version)),t+="/fee_payer/pubkey",e.abrupt("return",s(t).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function u(e){a(i,n,r,u,c,"next",e)}function c(e){a(i,n,r,u,c,"throw",e)}u(void 0)}))},function(){return l.apply(this,arguments)})},{key:"requestFreeFeeLimits",value:function(e){var t=this._baseUrlString;return this.version>1&&(t+="/v".concat(this.version)),t+="/free_fee_limits/".concat(e),s.get(t).then((function(e){var t=e.data;return i.J8.fromJSON(t)}))}},{key:"sendTransaction",value:function(e){return s(this._urlRequest(e)).then((function(e){return e.data[0]}))}},{key:"_urlRequest",value:function(e){var t=this._baseUrlString;return this.version>1&&(t+="/v".concat(this.version)),{url:t+=e.path,method:"post",responseType:"json",data:e.getParams()}}}],n&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=(n(80821),n(71951)),d=n(78354),p=(n(43492),n(51150))},65695:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{_:function(){return i}});var i=o((function e(t){var n=t.address,r=t.mint;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.address=void 0,this.mint=void 0,this.address=n,this.mint=r}))},71951:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i;n.d(t,{A$:function(){return b},UG:function(){return g},tW:function(){return u},kQ:function(){return i},pV:function(){return o},_D:function(){return k._},H$:function(){return O}}),function(e){e.topUp="TopUp",e.transfer="Transfer",e.swap="Swap",e.other="Other"}(o||(o={})),function(e){e.web="Web",e.android="Android",e.iOS="Ios"}(i||(i={}));var a,u=function(){function e(t){var n=t.operationType,r=t.deviceType,o=t.currency,i=t.build;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.operationType=void 0,this.deviceType=void 0,this.currency=void 0,this.build=void 0,this.operationType=n,this.deviceType=r,this.currency=o,this.build=i}var t,n,o;return t=e,(n=[{key:"toJSON",value:function(){return{operation_type:this.operationType,device_type:this.deviceType,currency:this.currency,build:this.build}}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},l(e)}function f(e,t,n){return f=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&p(o,n.prototype),o},f.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.parseHashError="ParseHashError",e.parsePubkeyError="ParsePubkeyError",e.parseKeypairError="ParseKeypairError",e.parseSignatureError="ParseSignatureError",e.wrongSignature="WrongSignature",e.signerError="SignerError",e.clientError="ClientError",e.programError="ProgramError",e.tooSmallAmount="TooSmallAmount",e.notEnoughBalance="NotEnoughBalance",e.notEnoughTokenBalance="NotEnoughTokenBalance",e.decimalsMismatch="DecimalsMismatch",e.tokenAccountNotFound="TokenAccountNotFound",e.incorrectAccountOwner="IncorrectAccountOwner",e.tokenMintMismatch="TokenMintMismatch",e.unsupportedRecipientAddress="UnsupportedRecipientAddress",e.feeCalculatorNotFound="FeeCalculatorNotFound",e.notEnoughOutAmount="NotEnoughOutAmount",e.unknownSwapProgramId="UnknownSwapProgramId",e.unknown="UnknownError"}(a||(a={}));var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&p(e,t)}(o,e);var t,n,r=(t=o,n=d(),function(){var e,r=y(t);if(n){var o=y(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)});function o(e,t,n){var i;return m(this,o),(i=r.call(this,t)).code=void 0,i.data=void 0,i.code=e,i.data=n,i}return v(o,null,[{key:"unknown",value:function(){return new o(-1,"Unknown error")}},{key:"wrongAddress",value:function(){return new o(-2,"Wrong address")}},{key:"swapPoolsNotFound",value:function(){return new o(-3,"Swap pools not found")}},{key:"transitTokenMintNotFound",value:function(){return new o(-4,"Transit token mint not found")}},{key:"invalidAmount",value:function(){return new o(-5,"Invalid amount")}},{key:"invalidSignature",value:function(){return new o(-6,"Invalid signature")}},{key:"unsupportedSwap",value:function(){return new o(-7,"Unsupported swap")}},{key:"relayInfoMissing",value:function(){return new o(-8,"Relay info missing")}},{key:"invalidFeePayer",value:function(){return new o(-9,"Invalid fee payer")}},{key:"feePayingTokenMissing",value:function(){return new o(-10,"No token for paying fee is provided")}},{key:"unauthorized",value:function(){return new o(-11,"Unauthorized")}},{key:"topUpSuccessButTransactionThrows",value:function(){return new o(-12,"Topping up is successfull, but the transaction failed")}}]),o}(l(Error));function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t){var n=t.path,r=t.params;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.path=void 0,this._params=void 0,this.path=n,this._params=r}var t,n,r;return t=e,r=[{key:"rewardTransferSOL",value:function(t){return new e({path:"/transfer_sol",params:t})}},{key:"rewardTransferSPLToken",value:function(t){return new e({path:"/transfer_spl_token",params:t})}},{key:"compensationSwapToken",value:function(t){return new e({path:"/swap_spl_token_with_fee_compensation",params:t})}},{key:"relayTopUpWithSwap",value:function(t){return new e({path:"/relay_top_up_with_swap",params:t})}},{key:"relaySwap",value:function(t){return new e({path:"/relay_swap",params:t})}},{key:"relayTransferSPLTokena",value:function(t){return new e({path:"/relay_transfer_spl_token",params:t})}},{key:"relayTransaction",value:function(t){return new e({path:"/relay_transaction",params:t})}}],(n=[{key:"getParams",value:function(){return this._params}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),k=n(65695);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.maxUsage,r=t.currentUsage,o=t.maxAmount,i=t.amountUsed;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxUsage=void 0,this.currentUsage=void 0,this.maxAmount=void 0,this.amountUsed=void 0,this.maxUsage=n,this.currentUsage=r,this.maxAmount=o,this.amountUsed=i}var t,n,r;return t=e,(n=[{key:"isFreeTransactionFeeAvailable",value:function(e){var t=e.transactionFee,n=e.forNextTransaction,r=void 0!==n&&n,o=this.currentUsage;return r&&(o+=1),o<this.maxUsage&&this.amountUsed.add(t).lte(this.maxAmount)}},{key:"toJSON",value:function(){return{maxUsage:this.maxUsage,currentUsage:this.currentUsage,maxAmount:this.maxAmount.toString(),amountUsed:this.amountUsed.toString()}}}])&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},16404:function(e,t,n){"use strict";n.d(t,{e:function(){return O}});var r=n(59917),o=n(40253),i=n(71951),a=n(43492);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=t.minimumTokenAccountBalance,r=t.minimumRelayAccountBalance,o=t.feePayerAddress,i=t.lamportsPerSignature,a=t.relayAccountStatus,u=t.usageStatus;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.minimumTokenAccountBalance=void 0,this.minimumRelayAccountBalance=void 0,this.feePayerAddress=void 0,this.lamportsPerSignature=void 0,this.relayAccountStatus=void 0,this.usageStatus=void 0,this.minimumTokenAccountBalance=n,this.minimumRelayAccountBalance=r,this.feePayerAddress=o,this.lamportsPerSignature=i,this.relayAccountStatus=a,this.usageStatus=u}var t,n,r;return t=e,(n=[{key:"equals",value:function(e){return!!(this.minimumTokenAccountBalance.eq(e.minimumTokenAccountBalance)&&this.minimumRelayAccountBalance.eq(e.minimumRelayAccountBalance)&&this.feePayerAddress===e.feePayerAddress&&this.lamportsPerSignature.eq(e.lamportsPerSignature)&&this.relayAccountStatus.equals(e.relayAccountStatus))}},{key:"toJSON",value:function(){return{minimumTokenAccountBalance:this.minimumTokenAccountBalance.toString(),minimumRelayAccountBalance:this.minimumRelayAccountBalance.toString(),feePayerAddress:this.feePayerAddress.toString(),lamportsPerSignature:this.lamportsPerSignature.toString(),relayAccountStatus:this.relayAccountStatus.toJSON(),usageStatus:this.usageStatus.toJSON()}}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},f(e)}function d(e,t,n){return d=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&y(o,n.prototype),o},d.apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,u,"next",e)}function u(e){b(i,r,o,a,u,"throw",e)}a(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var O=function(){function e(t){var n=t.owner,r=t.solanaAPIClient,o=t.feeRelayerAPIClient;g(this,e),this._owner=void 0,this._solanaAPIClient=void 0,this._feeRelayerAPIClient=void 0,this._context=null,this._owner=n,this._solanaAPIClient=r,this._feeRelayerAPIClient=o}var t,n,u,s;return j(e,[{key:"getCurrentContext",value:(s=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._context){e.next=3;break}return e.next=3,this.update();case 3:if(this._context){e.next=5;break}throw x.invalidContext();case 5:return e.abrupt("return",this._context);case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"update",value:(u=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadNewContext();case 2:this._context=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"validate",value:(n=w(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadNewContext();case 2:return n=e.sent,e.abrupt("return",Boolean(null===(t=this._context)||void 0===t?void 0:t.equals(n)));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_loadNewContext",value:(t=w(regeneratorRuntime.mark((function e(){var t,n,u,s,l,f,d,p,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._owner){e.next=3;break}throw i.A$.unauthorized();case 3:return e.t0=Promise,e.t1=this._solanaAPIClient.getMinimumBalanceForRentExemption(o.wP.span),e.t2=this._solanaAPIClient.getMinimumBalanceForRentExemption(0),e.t3=this._solanaAPIClient.getLamportsPerSignature(),e.t4=this._feeRelayerAPIClient.getFeePayerPubkey(),e.t5=this._solanaAPIClient.getRelayAccountStatus(a.d.getUserRelayAddress({user:t,network:this._solanaAPIClient.endpoint.network}).toString()),e.next=11,this._feeRelayerAPIClient.requestFreeFeeLimits(t.toString());case 11:return e.t6=e.sent.asUsageStatus(),e.t7=[e.t1,e.t2,e.t3,e.t4,e.t5,e.t6],e.next=15,e.t0.all.call(e.t0,e.t7);case 15:return n=e.sent,u=v(n,6),s=u[0],l=u[1],f=u[2],d=u[3],p=u[4],y=u[5],e.abrupt("return",new c({minimumTokenAccountBalance:s,minimumRelayAccountBalance:l,feePayerAddress:new r.PublicKey(d),lamportsPerSignature:f,relayAccountStatus:p,usageStatus:y}));case 24:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&y(e,t)}(o,e);var t,n,r=(t=o,n=p(),function(){var e,r=h(t);if(n){var o=h(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return l(this,e)});function o(){return g(this,o),r.apply(this,arguments)}return j(o,null,[{key:"invalidContext",value:function(){return new o("invalidContext")}}]),o}(f(Error))},3855:function(e,t,n){"use strict";n.d(t,{J8:function(){return h},KE:function(){return y},MQ:function(){return g},Rw:function(){return j},U7:function(){return m},bn:function(){return k},ey:function(){return O},h5:function(){return v},hv:function(){return x}});var r=n(181),o=n(17022),i=n.n(o),a=n(71951),u=n(48834).Buffer;function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var y,h=function(){function e(t){var n=t.authority,r=t.limits,o=t.processedFee;f(this,e),this.authority=void 0,this.limits=void 0,this.processedFee=void 0,this.authority=n,this.limits=r,this.processedFee=o}return p(e,[{key:"asUsageStatus",value:function(){return new a.H$({maxUsage:this.limits.maxCount,currentUsage:this.processedFee.count,maxAmount:this.limits.maxAmount,amountUsed:this.processedFee.totalAmount})}}],[{key:"fromJSON",value:function(t){return new e({authority:t.authority,limits:{useFreeFee:t.limits.use_free_fee,maxAmount:new r.u64(t.limits.max_amount),maxCount:t.limits.max_count,period:{secs:t.limits.period.secs,nanos:t.limits.period.nanos}},processedFee:{totalAmount:new r.u64(t.processed_fee.total_amount),count:t.processed_fee.count}})}}]),e}(),v=function(){function e(t){var n=t.userSourceTokenAccountPubkey,r=t.sourceTokenMintPubkey,o=t.userAuthorityPubkey,i=t.topUpSwap,u=t.feeAmount,c=t.signatures,s=t.blockhash,l=t.deviceType,d=t.buildNumber;f(this,e),this.userSourceTokenAccountPubkey=void 0,this.sourceTokenMintPubkey=void 0,this.userAuthorityPubkey=void 0,this.topUpSwap=void 0,this.feeAmount=void 0,this.signatures=void 0,this.blockhash=void 0,this.statsInfo=void 0,this.userSourceTokenAccountPubkey=n,this.sourceTokenMintPubkey=r,this.userAuthorityPubkey=o,this.topUpSwap=i,this.feeAmount=u,this.signatures=c,this.blockhash=s,this.statsInfo=new a.tW({operationType:a.pV.topUp,deviceType:l,currency:r.toString(),build:d})}return p(e,[{key:"toJSON",value:function(){return{user_source_token_account_pubkey:this.userSourceTokenAccountPubkey.toString(),source_token_mint_pubkey:this.sourceTokenMintPubkey.toString(),user_authority_pubkey:this.userAuthorityPubkey.toString(),top_up_swap:this.topUpSwap.toJSON(),fee_amount:this.feeAmount.toNumber(),signatures:this.signatures.toJSON(),blockhash:this.blockhash,info:this.statsInfo}}}]),e}(),m=function(){function e(t){var n=this;f(this,e),this.instructions=void 0,this.signatures=void 0,this.pubkeys=void 0,this.blockhash=void 0;var r=t.transaction.recentBlockhash;if(!r)throw a.A$.unknown();var o=t.transaction.compileMessage();this.pubkeys=o.accountKeys.map((function(e){return e.toString()})),this.blockhash=r,this.instructions=o.instructions.map((function(e,n){var r=e.accounts.map((function(e){var r,i,a,u=o.accountKeys[e],c=u?null===(r=t.transaction.instructions[n])||void 0===r?void 0:r.keys.find((function(e){return e.pubkey.equals(u)})):null;return new w({pubkeyIndex:e,isSigner:null!==(i=null==c?void 0:c.isSigner)&&void 0!==i?i:o.isAccountSigner(e),isWritable:null!==(a=null==c?void 0:c.isWritable)&&void 0!==a?a:o.isAccountWritable(e)})}));return new b({programIndex:e.programIdIndex,accounts:r,data:u.from(i().decode(e.data))})}));var c,l={},d=t.signers.map((function(e){return e.publicKey})),p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}((t.owner?[t.owner]:[]).concat(d));try{var y=function(){var e=c.value,r=n.pubkeys.findIndex((function(t){return t===e.toString()}));if(!r)throw a.A$.invalidSignature();var o="".concat(r),i=t.findSignature(e);l[o]=i};for(p.s();!(c=p.n()).done;)y()}catch(e){p.e(e)}finally{p.f()}this.signatures=l}return p(e,[{key:"toJSON",value:function(){return{instructions:this.instructions.map((function(e){return e.toJSON()})),signatures:this.signatures,pubkeys:this.pubkeys,blockhash:this.blockhash}}}]),e}(),b=function(){function e(t){var n=t.programIndex,r=t.accounts,o=t.data;f(this,e),this.programIndex=void 0,this.accounts=void 0,this.data=void 0,this.programIndex=n,this.accounts=r,this.data=o}return p(e,[{key:"toJSON",value:function(){return{program_id:this.programIndex,accounts:this.accounts.map((function(e){return e.toJSON()})),data:c(this.data)}}}]),e}(),w=function(){function e(t){var n=t.pubkeyIndex,r=t.isSigner,o=t.isWritable;f(this,e),this.pubkeyIndex=void 0,this.isSigner=void 0,this.isWritable=void 0,this.pubkeyIndex=n,this.isSigner=r,this.isWritable=o}return p(e,[{key:"toJSON",value:function(){return{pubkey:this.pubkeyIndex,is_signer:this.isSigner,is_writable:this.isWritable}}}]),e}(),g=function(){function e(t){switch(f(this,e),this.Spl=void 0,this.SplTransitive=void 0,t.constructor){case j:this.Spl=t,this.SplTransitive=null;break;case k:this.Spl=null,this.SplTransitive=t;break;default:throw new Error("unsupported swap type")}}return p(e,[{key:"toJSON",value:function(){var e,t;return{Spl:null===(e=this.Spl)||void 0===e?void 0:e.toJSON(),SplTransitive:null===(t=this.SplTransitive)||void 0===t?void 0:t.toJSON()}}}]),e}(),k=function(){function e(t){var n=t.from,r=t.to,o=t.transitTokenMintPubkey,i=t.needsCreateTransitTokenAccount;f(this,e),this.from=void 0,this.to=void 0,this.transitTokenMintPubkey=void 0,this.needsCreateTransitTokenAccount=void 0,this.from=n,this.to=r,this.transitTokenMintPubkey=o,this.needsCreateTransitTokenAccount=i}return p(e,[{key:"toJSON",value:function(){return{from:this.from.toJSON(),to:this.to.toJSON(),transit_token_mint_pubkey:this.transitTokenMintPubkey,needs_create_transit_token_account:this.needsCreateTransitTokenAccount}}}]),e}(),j=function(){function e(t){var n=t.programId,r=t.accountPubkey,o=t.authorityPubkey,i=t.transferAuthorityPubkey,a=t.sourcePubkey,u=t.destinationPubkey,c=t.poolTokenMintPubkey,s=t.poolFeeAccountPubkey,l=t.amountIn,d=t.minimumAmountOut;f(this,e),this.programId=void 0,this.accountPubkey=void 0,this.authorityPubkey=void 0,this.transferAuthorityPubkey=void 0,this.sourcePubkey=void 0,this.destinationPubkey=void 0,this.poolTokenMintPubkey=void 0,this.poolFeeAccountPubkey=void 0,this.amountIn=void 0,this.minimumAmountOut=void 0,this.programId=n,this.accountPubkey=r,this.authorityPubkey=o,this.transferAuthorityPubkey=i,this.sourcePubkey=a,this.destinationPubkey=u,this.poolTokenMintPubkey=c,this.poolFeeAccountPubkey=s,this.amountIn=l,this.minimumAmountOut=d}return p(e,[{key:"toJSON",value:function(){return{program_id:this.programId.toString(),account_pubkey:this.accountPubkey.toString(),authority_pubkey:this.authorityPubkey.toString(),transfer_authority_pubkey:this.transferAuthorityPubkey.toString(),source_pubkey:this.sourcePubkey.toString(),destination_pubkey:this.destinationPubkey.toString(),pool_token_mint_pubkey:this.poolTokenMintPubkey.toString(),pool_fee_account_pubkey:this.poolFeeAccountPubkey.toString(),amount_in:this.amountIn.toNumber(),minimum_amount_out:this.minimumAmountOut.toNumber()}}}]),e}(),O=function(){function e(t){var n=t.userAuthoritySignature,r=t.transferAuthoritySignature,o=void 0===r?null:r;f(this,e),this.userAuthoritySignature=void 0,this.transferAuthoritySignature=void 0,this.userAuthoritySignature=n,this.transferAuthoritySignature=o}return p(e,[{key:"toJSON",value:function(){var e;return{user_authority_signature:this.userAuthoritySignature,transfer_authority_signature:null!==(e=this.transferAuthoritySignature)&&void 0!==e?e:void 0}}}]),e}();!function(e){e[e.notYetCreated=0]="notYetCreated",e[e.created=1]="created"}(y||(y={}));var x=function(){function e(t){var n=t.type,r=t.balance;f(this,e),this.type=void 0,this._balance=void 0,this.type=n,this._balance=r}return p(e,[{key:"balance",get:function(){switch(this.type){case y.notYetCreated:return null;case y.created:return this._balance?new r.u64(this._balance):null}}},{key:"equals",value:function(e){var t,n;return this.type===e.type&&(null===(t=this.balance)||void 0===t?void 0:t.toString())===(null===(n=e.balance)||void 0===n?void 0:n.toString())}},{key:"toJSON",value:function(){var e;return{type:this.type,balance:null===(e=this._balance)||void 0===e?void 0:e.toString()}}}],[{key:"notYetCreated",value:function(){return new e({type:y.notYetCreated})}},{key:"created",value:function(t){return new e({balance:t,type:y.created})}}]),e}()},78354:function(e,t,n){"use strict";n.d(t,{Li:function(){return R},Rw:function(){return h.Rw},oQ:function(){return K},Bx:function(){return z},XR:function(){return E},e0:function(){return q.e},dM:function(){return A},hv:function(){return h.hv},bn:function(){return h.bn}});var r,o=n(55568),i=n(181),a=n(59917),u=n(40253),c=n(80821),s=n(71951),l=n(43492),f=n(51150),d=n(84755),p=n(18744),y=n(23108),h=n(3855),v=n(13920),m=n(11901),b=n(7954);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function g(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,u,"next",e)}function u(e){g(i,r,o,a,u,"throw",e)}a(void 0)}))}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var A=(0,v.b2)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===m.S?Object:m.S])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&O(e,t)}(l,e);var t,n,r,o,a,c=x(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,{provider:e.provider,endpoint:b.k.apiEndpoint})).solanaModel=e,t}return t=l,n=[{key:"getLamportsPerSignature",value:function(){return this.provider.connection.getRecentBlockhash().then((function(e){return new i.u64(e.feeCalculator.lamportsPerSignature)}))}},{key:"getRelayAccountStatus",value:(a=k(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountInfo({account:t,decodedTo:u.wP});case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",h.hv.notYetCreated());case 5:return e.abrupt("return",h.hv.created(new i.u64(n.lamports)));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getAssociatedSPLTokenAddress",value:(o=k(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.address,o=t.mint,e.next=3,this.getAccountInfo({account:r.toString(),decodedTo:u.wP});case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",(0,u.MO)(o,r));case 6:if(null===(n=i.data)||void 0===n||!n.mint.equals(o)){e.next=9;break}if(!i.owner.equals(u.jQ.programId)){e.next=9;break}throw s.A$.wrongAddress();case 9:return e.abrupt("return",(0,u.MO)(o,r));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}],n&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(u.Yc))||r)||r)||r;function _(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,a,c;return t=e,n=[{key:"calculateNeededTopUpAmount",value:function(e){var t=e.context,n=e.expectedFee,r=e.payingTokenMint,o=this._calculateMinTopUpAmount({context:t,expectedFee:n,payingTokenMint:r});return o.total.gtn(0)&&o.total.ltn(1e3)&&(o.transaction=new i.u64(o.transaction.add(new i.u64(1e3).sub(o.total)))),o}},{key:"_calculateMinTopUpAmount",value:function(e){var t=e.context,n=e.expectedFee,r=e.payingTokenMint,a=n.clone(),c=new i.u64(t.lamportsPerSignature.muln(2)),s=new i.u64(n.transaction),l=new i.u64(c),f=new i.u64(s);if(t.usageStatus.isFreeTransactionFeeAvailable({transactionFee:c})&&(l=o.ZERO),t.usageStatus.isFreeTransactionFeeAvailable({transactionFee:c.add(s),forNextTransaction:!0})&&(f=o.ZERO),a.transaction=new i.u64(l.add(f)),a.total.eqn(0))return a;var d=a.clone(),p=t.minimumRelayAccountBalance,y=t.relayAccountStatus.balance;return y?y.lt(p)?a.transaction=new i.u64(a.transaction.add(p.sub(y))):(y=new i.u64(y.sub(p))).gte(a.transaction)?(a.transaction=o.ZERO,y.sub(a.transaction).gte(a.accountBalances)?a.accountBalances=o.ZERO:a.accountBalances=new i.u64(a.accountBalances.sub(y.sub(a.transaction)))):a.transaction=new i.u64(a.transaction.sub(y)):a.transaction=new i.u64(a.transaction.add(p)),a.total.gtn(0)&&null!=r&&r.equals(u.jQ.wrappedSOLMint)?d:a}},{key:"calculateExpectedFeeForTopUp",value:function(e){var t=o.ZERO;e.relayAccountStatus.type===h.KE.notYetCreated&&(t=t.add(e.minimumRelayAccountBalance));var n=new i.u64(2).mul(e.lamportsPerSignature);return e.usageStatus.isFreeTransactionFeeAvailable({transactionFee:n})||(t=t.add(n)),t=t.add(e.minimumTokenAccountBalance),new i.u64(t.toString())}},{key:"calculateFeeInPayingToken",value:(a=regeneratorRuntime.mark((function e(t){var n,r,i,a,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.orcaSwap,r=t.feeInSOL,!(i=t.payingFeeTokenMint).equals(u.jQ.wrappedSOLMint)){e.next=3;break}return e.abrupt("return",r);case 3:return e.next=5,n.getTradablePoolsPairs({fromMint:i.toString(),toMint:u.jQ.wrappedSOLMint.toString()});case 5:if(a=e.sent,c=n.findBestPoolsPairForEstimatedAmount({estimatedAmount:r.total,poolsPairs:a})){e.next=9;break}throw s.A$.swapPoolsNotFound();case 9:return l=(0,y.u9)(c,r.transaction,p.XR.topUpSlippage),f=(0,y.u9)(c,r.accountBalances,p.XR.topUpSlippage),e.abrupt("return",new u.lk({transaction:null!=l?l:o.ZERO,accountBalances:null!=f?f:o.ZERO}));case 12:case"end":return e.stop()}}),e)})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){_(o,n,r,i,u,"next",e)}function u(e){_(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e){return c.apply(this,arguments)})}],n&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var E=I((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function M(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=F(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function F(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){B(i,r,o,a,u,"next",e)}function u(e){B(i,r,o,a,u,"throw",e)}a(void 0)}))}}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}E.topUpSlippage=.03;var z=L((function e(t){var n=t.additionalPaybackFee,r=void 0===n?o.ZERO:n,i=t.operationType,a=t.currency,u=void 0===a?null:a;U(this,e),this.additionalPaybackFee=void 0,this.operationType=void 0,this.currency=void 0,this.additionalPaybackFee=r,this.operationType=i,this.currency=u})),K=function(){function e(t){var n=t.orcaSwap,r=t.owner,o=t.solanaApiClient,i=t.feeCalculator,a=void 0===i?new R:i,u=t.feeRelayerAPIClient,c=t.deviceType,s=t.buildNumber;U(this,e),this._feeRelayerAPIClient=void 0,this._solanaApiClient=void 0,this._orcaSwap=void 0,this._owner=void 0,this.feeCalculator=void 0,this._deviceType=void 0,this._buildNumber=void 0,this._orcaSwap=n,this._owner=r,this.feeCalculator=a,this._solanaApiClient=o,this._feeRelayerAPIClient=u,this._deviceType=c,this._buildNumber=s}var t,n,r,p,y,v,m,b;return L(e,[{key:"account",get:function(){return this._owner}},{key:"getFeePayer",value:(b=Z(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.PublicKey,e.next=3,this._feeRelayerAPIClient.getFeePayerPubkey();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"topUpAndRelayTransaction",value:(m=Z(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,r=t.transaction,o=t.fee,i=t.config,e.next=3,this.topUpAndRelayTransactions({context:n,transactions:[r],fee:o,config:i});case 3:if(a=e.sent[0]){e.next=6;break}throw s.A$.unknown();case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"topUpAndRelayTransactions",value:(v=Z(regeneratorRuntime.mark((function e(t){var n,r,i,a,c,l,f,d,p,y,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,r=t.transactions,i=t.fee,a=t.config,c=r.map((function(e){return e.expectedFee})),e.next=4,this._checkAndTopUp({context:n,expectedFee:new u.lk({transaction:c.map((function(e){return e.transaction})).reduce((function(e,t){return e.add(t)}),o.ZERO),accountBalances:c.map((function(e){return e.accountBalances})).reduce((function(e,t){return e.add(t)}),o.ZERO)}),payingFeeToken:i});case 4:l=e.sent,e.prev=5,f=[],d=D(r),e.prev=8,d.s();case 10:if((p=d.n()).done){e.next=18;break}return y=p.value,e.next=14,this.relayTransaction({context:n,preparedTransaction:y,payingFeeToken:i,relayAccountStatus:n.relayAccountStatus,additionalPaybackFee:r.length>0?a.additionalPaybackFee:o.ZERO,operationType:a.operationType,currency:a.currency});case 14:h=e.sent,f.push.apply(f,M(h));case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),d.e(e.t0);case 23:return e.prev=23,d.f(),e.finish(23);case 26:return e.abrupt("return",f);case 29:if(e.prev=29,e.t1=e.catch(5),console.error(e.t1),!l){e.next=34;break}throw s.A$.topUpSuccessButTransactionThrows();case 34:throw e.t1;case 35:case"end":return e.stop()}}),e,this,[[5,29],[8,20,23,26]])}))),function(e){return v.apply(this,arguments)})},{key:"_checkAndTopUp",value:(y=Z(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.context,r=t.expectedFee,null==(o=t.payingFeeToken)||!o.mint.equals(u.jQ.wrappedSOLMint)){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:if(!(i=this.feeCalculator.calculateNeededTopUpAmount({context:n,expectedFee:r,payingTokenMint:null==o?void 0:o.mint})).total.lten(0)){e.next=9;break}a=null,c=n.relayAccountStatus.type===h.KE.notYetCreated,e.next=16;break;case 9:if(o){e.next=11;break}throw s.A$.unknown();case 11:return e.next=13,this._prepareForTopUp1({context:n,topUpAmount:i.total,payingFeeToken:o});case 13:l=e.sent,a=l,c=n.relayAccountStatus.type===h.KE.notYetCreated;case 16:if(!(f=a)||!o){e.next=19;break}return e.abrupt("return",this.topUp({context:n,needsCreateUserRelayAddress:c,sourceToken:o,targetAmount:f.amount,topUpPools:f.poolsPair,expectedFee:f.expectedFee}));case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"_prepareForTopUp1",value:(p=Z(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,l,f,d,p,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,r=t.topUpAmount,o=t.payingFeeToken,i=t.forceUsingTransitiveSwap,a=void 0!==i&&i,e.next=3,this._orcaSwap.getTradablePoolsPairs({fromMint:o.mint.toString(),toMint:u.jQ.wrappedSOLMint.toString()});case 3:if(c=e.sent,l=this.feeCalculator.calculateExpectedFeeForTopUp(n),!a){e.next=10;break}d=c.find((function(e){return 2===e.length})),f=d,e.next=21;break;case 10:if(!(p=c.find((function(e){return 1===e.length})))){e.next=15;break}f=p,e.next=21;break;case 15:if(!(y=this._orcaSwap.findBestPoolsPairForEstimatedAmount({estimatedAmount:r,poolsPairs:c}))){e.next=20;break}f=y,e.next=21;break;case 20:throw s.A$.swapPoolsNotFound();case 21:return e.abrupt("return",{amount:r,expectedFee:l,poolsPair:f});case 22:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"topUp",value:(r=Z(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,d,p,y,v,m,b,w,g,k,j,O,x,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,r=t.needsCreateUserRelayAddress,o=t.sourceToken,i=t.targetAmount,a=t.topUpPools,u=t.expectedFee,d=f.mX.getTransitToken({solanaApiClient:this._solanaApiClient,orcaSwap:this._orcaSwap,account:this.account,pools:a}),e.next=4,f.mX.checkIfNeedsCreateTransitTokenAccount({solanaApiClient:this._solanaApiClient,transitToken:d});case 4:return p=e.sent,e.next=7,this._solanaApiClient.getRecentBlockhash();case 7:return y=e.sent,v=n.minimumRelayAccountBalance,m=n.minimumTokenAccountBalance,b=n.feePayerAddress,w=n.lamportsPerSignature,e.next=14,this._prepareForTopUp({network:this._solanaApiClient.endpoint.network,sourceToken:o,userAuthorityAddress:this.account,userRelayAddress:l.d.getUserRelayAddress({user:this.account,network:this._solanaApiClient.endpoint.network}),topUpPools:a,targetAmount:i,expectedFee:u,blockhash:y,minimumRelayAccountBalance:v,minimumTokenAccountBalance:m,needsCreateUserRelayAccount:r,feePayerAddress:b,lamportsPerSignature:w,needsCreateTransitTokenAccount:p,transitTokenMintPubkey:null==d?void 0:d.mint,transitTokenAccountAddress:null==d?void 0:d.address});case 14:if(g=e.sent,!((k=g.preparedTransaction.transaction.signatures).length<2)){e.next=18;break}throw s.A$.invalidSignature();case 18:j=(0,c.o)(k,1),O=null;try{O=(0,c.o)(k,2)}catch(e){}return x=new h.ey({userAuthoritySignature:j,transferAuthoritySignature:O}),e.next=24,this._feeRelayerAPIClient.sendTransaction(s.UG.relayTopUpWithSwap(new h.h5({userSourceTokenAccountPubkey:o.address,sourceTokenMintPubkey:o.mint,userAuthorityPubkey:this.account,topUpSwap:new h.MQ(g.swapData),feeAmount:u,signatures:x,blockhash:y,deviceType:this._deviceType,buildNumber:this._buildNumber})));case 24:return S=e.sent,e.abrupt("return",[S]);case 26:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_prepareForTopUp",value:(n=Z(regeneratorRuntime.mark((function e(t){var n,r,c,f,d,p,y,v,m,b,w,g,k,j,O,x,S,P,A,_,T,R,C,I,M,D,F,N,B,Z,W;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.network,c=t.sourceToken,f=t.userAuthorityAddress,d=t.userRelayAddress,p=t.topUpPools,y=t.targetAmount,v=t.expectedFee,m=t.blockhash,b=t.minimumRelayAccountBalance,w=t.minimumTokenAccountBalance,g=t.needsCreateUserRelayAccount,k=t.feePayerAddress,j=t.lamportsPerSignature,O=t.needsCreateTransitTokenAccount,x=void 0!==O&&O,S=t.transitTokenMintPubkey,P=t.transitTokenAccountAddress,A=c.address,_=c.mint,e.prev=3,T=(0,u.MO)(_,k),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(3),s.A$.unknown();case 10:if(!A.equals(T)){e.next=12;break}throw s.A$.wrongAddress();case 12:R=o.ZERO,C=[],g&&(C.push(a.SystemProgram.transfer({fromPubkey:k,toPubkey:d,lamports:b.toNumber()})),R=new i.u64(R.add(b))),I=this._prepareSwapData({pools:p,inputAmount:null,minAmountOut:y,slippage:E.topUpSlippage,transitTokenMintPubkey:S,needsCreateTransitTokenAccount:!0===x}),M=null===(n=I.transferAuthorityAccount)||void 0===n?void 0:n.publicKey,D=I.swapData,e.t1=D.constructor,e.next=e.t1===h.Rw?21:e.t1===h.bn?25:30;break;case 21:return R=new i.u64(R.add(w)),M&&C.push(i.Token.createApproveInstruction(u.jQ.tokenProgramId,A,M,f,[],D.amountIn)),C.push(l.d.topUpSwapInstruction({network:r,topUpSwap:D,userAuthorityAddress:f,userSourceTokenAccountAddress:A,feePayerAddress:k})),e.abrupt("break",31);case 25:return M&&C.push(i.Token.createApproveInstruction(u.jQ.tokenProgramId,A,M,f,[],D.from.amountIn)),x&&P&&C.push(l.d.createTransitTokenAccountInstruction({feePayer:k,userAuthority:f,transitTokenAccount:P,transitTokenMint:new a.PublicKey(D.transitTokenMintPubkey),network:r})),R=new i.u64(R.add(w)),C.push(l.d.topUpSwapInstruction({network:r,topUpSwap:D,userAuthorityAddress:f,userSourceTokenAccountAddress:A,feePayerAddress:k})),e.abrupt("break",31);case 30:throw new Error("unsupported swap type");case 31:return C.push(l.d.transferSolInstruction({userAuthorityAddress:f,recipient:k,lamports:v,network:r})),(F=new a.Transaction).instructions=C,F.feePayer=k,F.recentBlockhash=m,N=new u.lk({transaction:(0,u.dC)(F,j),accountBalances:R}),B=[],(Z=I.transferAuthorityAccount)&&B.push(Z),B.length>0&&F.partialSign.apply(F,B),e.next=43,this._solanaApiClient.provider.wallet.signTransaction(F);case 43:return W=e.sent,e.abrupt("return",{swapData:I.swapData,preparedTransaction:new u.kB({owner:this.account,transaction:W,signers:B,expectedFee:N})});case 45:case"end":return e.stop()}}),e,this,[[3,7]])}))),function(e){return n.apply(this,arguments)})},{key:"_prepareSwapData",value:function(e){var t=e.pools,n=e.inputAmount,r=e.minAmountOut,i=e.slippage,u=e.transitTokenMintPubkey,c=void 0===u?null:u,l=e.newTransferAuthority,f=void 0!==l&&l,p=e.needsCreateTransitTokenAccount;if(0===t.length||t.length>2)throw s.A$.swapPoolsNotFound();if(!n&&!r)throw s.A$.invalidAmount();var y=new a.Account;if(1===t.length){var v=t[0],m=null!=n?n:v.getInputAmountSlippage(r,i),b=null!=r?r:v.getInputAmountSlippage(n,i);if(!m||!b)throw s.A$.invalidAmount();return{swapData:(0,d.F0)({pool:v,transferAuthorityPubkey:f?y.publicKey:this.account,amountIn:m,minAmountOut:b}),transferAuthorityAccount:f?y:null}}var w=t[0],g=t[1];if(!c)throw s.A$.transitTokenMintNotFound();var k,j=n,O=null,x=r;if(n)O=null!==(k=w.getMinimumAmountOut(n,i))&&void 0!==k?k:o.ZERO,x=g.getMinimumAmountOut(O,i);else if(r){var S;O=null!==(S=g.getInputAmountSlippage(r,i))&&void 0!==S?S:o.ZERO,j=w.getInputAmountSlippage(O,i)}if(!j||!O||!x)throw s.A$.invalidAmount();return{swapData:new h.bn({from:(0,d.F0)({pool:w,transferAuthorityPubkey:f?y.publicKey:this.account,amountIn:j,minAmountOut:O}),to:(0,d.F0)({pool:g,transferAuthorityPubkey:f?y.publicKey:this.account,amountIn:O,minAmountOut:x}),transitTokenMintPubkey:c.toString(),needsCreateTransitTokenAccount:p}),transferAuthorityAccount:f?y:null}}},{key:"relayTransaction",value:(t=Z(regeneratorRuntime.mark((function e(t){var n,r,c,f,d,p,y,v,m,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.context,c=t.preparedTransaction,f=t.payingFeeToken,d=t.relayAccountStatus,p=t.additionalPaybackFee,y=r.feePayerAddress,null!==(n=c.transaction.feePayer)&&void 0!==n&&n.equals(y)){e.next=4;break}throw s.A$.invalidFeePayer();case 4:return v=new i.u64(p.add(c.expectedFee.accountBalances)),r.usageStatus.isFreeTransactionFeeAvailable({transactionFee:c.expectedFee.transaction})||(v=new i.u64(v.add(c.expectedFee.transaction))),m=c.clone(),v.gtn(0)&&(null!=f&&f.mint.equals(u.jQ.wrappedSOLMint)&&(null!==(b=d.balance)&&void 0!==b?b:o.ZERO).lt(v)?m.transaction.instructions.push(a.SystemProgram.transfer({fromPubkey:this.account,toPubkey:y,lamports:v.toNumber()})):m.transaction.instructions.push(l.d.transferSolInstruction({userAuthorityAddress:this.account,recipient:y,lamports:v,network:this._solanaApiClient.endpoint.network}))),m.signers.length>0&&(w=m.transaction).partialSign.apply(w,M(m.signers)),e.next=11,this._solanaApiClient.provider.wallet.signTransaction(m.transaction);case 11:return m.transaction=e.sent,e.next=14,this._feeRelayerAPIClient.sendTransaction(s.UG.relayTransaction(new h.U7(m)));case 14:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),q=n(16404)},43492:function(e,t,n){"use strict";n.d(t,{d:function(){return f}});var r=n(42969),o=n(181),i=n(59917),a=n(48834),u=n(83742),c=n(40253),s=n(78354);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,f;return t=e,f=[{key:"id",value:function(e){switch(e){default:case"mainnet-beta":return new i.PublicKey("12YKFL4mnZz6CBEGePrf293mEzueQM3h8VLPUJsKpGs9");case"devnet":case"testnet":return new i.PublicKey("6xKJFyuM6UHCT8F5SBxnjGt6ZrZYjsVfnAnAeHPU775k")}}},{key:"getUserRelayAddress",value:function(e){var t=e.user,n=e.network;return(0,r.findProgramAddressSync)([t.toBuffer(),a.Buffer.from("relay")],this.id(n))[0]}},{key:"getUserTemporaryWSOLAddress",value:function(e){var t=e.user,n=e.network;return(0,r.findProgramAddressSync)([t.toBuffer(),a.Buffer.from("temporary_wsol")],this.id(n))[0]}},{key:"getTransitTokenAccountAddress",value:function(e){var t=e.user,n=e.transitTokenMint,o=e.network;return(0,r.findProgramAddressSync)([t.toBuffer(),n.toBuffer(),a.Buffer.from("transit")],this.id(o))[0]}},{key:"topUpSwapInstruction",value:function(e){var t=e.network,n=e.topUpSwap,r=e.userAuthorityAddress,o=e.userSourceTokenAccountAddress,a=e.feePayerAddress,u=this.getUserRelayAddress({user:r,network:t}),c=this.getUserTemporaryWSOLAddress({user:r,network:t}),l=n;switch(l.constructor){case s.Rw:return this._topUpWithSPLSwapDirectInstruction({feePayer:a,userAuthority:r,userRelayAccount:u,userTransferAuthority:new i.PublicKey(l.transferAuthorityPubkey),userSourceTokenAccount:o,userTemporaryWsolAccount:c,swapProgramId:new i.PublicKey(l.programId),swapAccount:new i.PublicKey(l.accountPubkey),swapAuthority:new i.PublicKey(l.authorityPubkey),swapSource:new i.PublicKey(l.sourcePubkey),swapDestination:new i.PublicKey(l.destinationPubkey),poolTokenMint:new i.PublicKey(l.poolTokenMintPubkey),poolFeeAccount:new i.PublicKey(l.poolFeeAccountPubkey),amountIn:l.amountIn,minimumAmountOut:l.minimumAmountOut,network:t});case s.bn:return this._topUpWithSPLSwapTransitiveInstruction({feePayer:a,userAuthority:r,userRelayAccount:u,userTransferAuthority:new i.PublicKey(l.from.transferAuthorityPubkey),userSourceTokenAccount:o,userDestinationTokenAccount:c,transitTokenMint:new i.PublicKey(l.transitTokenMintPubkey),swapFromProgramId:new i.PublicKey(l.from.programId),swapFromAccount:new i.PublicKey(l.from.accountPubkey),swapFromAuthority:new i.PublicKey(l.from.authorityPubkey),swapFromSource:new i.PublicKey(l.from.sourcePubkey),swapFromDestination:new i.PublicKey(l.from.destinationPubkey),swapFromPoolTokenMint:new i.PublicKey(l.from.poolTokenMintPubkey),swapFromPoolFeeAccount:new i.PublicKey(l.from.poolFeeAccountPubkey),swapToProgramId:new i.PublicKey(l.to.programId),swapToAccount:new i.PublicKey(l.to.accountPubkey),swapToAuthority:new i.PublicKey(l.to.authorityPubkey),swapToSource:new i.PublicKey(l.to.sourcePubkey),swapToDestination:new i.PublicKey(l.to.destinationPubkey),swapToPoolTokenMint:new i.PublicKey(l.to.poolTokenMintPubkey),swapToPoolFeeAccount:new i.PublicKey(l.to.poolFeeAccountPubkey),amountIn:l.from.amountIn,transitMinimumAmount:l.from.minimumAmountOut,minimumAmountOut:l.to.minimumAmountOut,network:t});default:throw new Error("unsupported swap type")}}},{key:"transferSolInstruction",value:function(e){var t=e.userAuthorityAddress,n=e.recipient,r=e.lamports,s=e.network,l=[(0,c.OT)({pubkey:t,isSigner:!0}),(0,c.fZ)({pubkey:this.getUserRelayAddress({user:t,network:s}),isSigner:!1}),(0,c.fZ)({pubkey:n,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.programId,isSigner:!1})],f=u.struct([u.u8("instruction"),u.blob(8,"amount")]),d=a.Buffer.alloc(f.span);return f.encode({instruction:2,amount:new o.u64(r.toString()).toBuffer()},d),new i.TransactionInstruction({keys:l,programId:this.id(s),data:d})}},{key:"createTransitTokenAccountInstruction",value:function(e){var t=e.feePayer,n=e.userAuthority,r=e.transitTokenAccount,o=e.transitTokenMint,s=e.network,l=[(0,c.fZ)({pubkey:r,isSigner:!1}),(0,c.OT)({pubkey:o,isSigner:!1}),(0,c.fZ)({pubkey:n,isSigner:!0}),(0,c.OT)({pubkey:t,isSigner:!0}),(0,c.OT)({pubkey:c.jQ.tokenProgramId,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.sysvarRent,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.programId,isSigner:!1})],f=u.struct([u.u8("instruction")]),d=a.Buffer.alloc(f.span);return f.encode({instruction:3},d),new i.TransactionInstruction({keys:l,programId:this.id(s),data:d})}},{key:"createRelaySwapInstruction",value:function(e){var t=e.transitiveSwap,n=e.userAuthorityAddressPubkey,r=e.sourceAddressPubkey,o=e.transitTokenAccount,a=e.destinationAddressPubkey,u=e.feePayerPubkey,c=e.network,s=new i.PublicKey(t.from.transferAuthorityPubkey),l=new i.PublicKey(t.transitTokenMintPubkey),f=new i.PublicKey(t.from.programId),d=new i.PublicKey(t.from.accountPubkey),p=new i.PublicKey(t.from.authorityPubkey),y=new i.PublicKey(t.from.sourcePubkey),h=new i.PublicKey(t.from.destinationPubkey),v=new i.PublicKey(t.from.poolTokenMintPubkey),m=new i.PublicKey(t.from.poolFeeAccountPubkey),b=new i.PublicKey(t.to.programId),w=new i.PublicKey(t.to.accountPubkey),g=new i.PublicKey(t.to.authorityPubkey),k=new i.PublicKey(t.to.sourcePubkey),j=new i.PublicKey(t.to.destinationPubkey),O=new i.PublicKey(t.to.poolTokenMintPubkey),x=new i.PublicKey(t.to.poolFeeAccountPubkey),S=t.from.amountIn,P=t.from.minimumAmountOut,A=t.to.minimumAmountOut;return this._splSwapTransitiveInstruction({feePayer:u,userAuthority:n,userTransferAuthority:s,userSourceTokenAccount:r,userTransitTokenAccount:o,userDestinationTokenAccount:a,transitTokenMint:l,swapFromProgramId:f,swapFromAccount:d,swapFromAuthority:p,swapFromSource:y,swapFromDestination:h,swapFromPoolTokenMint:v,swapFromPoolFeeAccount:m,swapToProgramId:b,swapToAccount:w,swapToAuthority:g,swapToSource:k,swapToDestination:j,swapToPoolTokenMint:O,swapToPoolFeeAccount:x,amountIn:S,transitMinimumAmount:P,minimumAmountOut:A,network:c})}},{key:"_topUpWithSPLSwapDirectInstruction",value:function(e){var t=e.feePayer,n=e.userAuthority,r=e.userRelayAccount,o=e.userTransferAuthority,s=e.userSourceTokenAccount,l=e.userTemporaryWsolAccount,f=e.swapProgramId,d=e.swapAccount,p=e.swapAuthority,y=e.swapSource,h=e.swapDestination,v=e.poolTokenMint,m=e.poolFeeAccount,b=e.amountIn,w=e.minimumAmountOut,g=e.network,k=[(0,c.OT)({pubkey:c.jQ.wrappedSOLMint,isSigner:!1}),(0,c.fZ)({pubkey:t,isSigner:!0}),(0,c.OT)({pubkey:n,isSigner:!0}),(0,c.fZ)({pubkey:r,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.tokenProgramId,isSigner:!1}),(0,c.OT)({pubkey:f,isSigner:!1}),(0,c.OT)({pubkey:d,isSigner:!1}),(0,c.OT)({pubkey:p,isSigner:!1}),(0,c.OT)({pubkey:o,isSigner:!0}),(0,c.fZ)({pubkey:s,isSigner:!1}),(0,c.fZ)({pubkey:l,isSigner:!1}),(0,c.fZ)({pubkey:y,isSigner:!1}),(0,c.fZ)({pubkey:h,isSigner:!1}),(0,c.fZ)({pubkey:v,isSigner:!1}),(0,c.fZ)({pubkey:m,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.sysvarRent,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.programId,isSigner:!1})],j=u.struct([u.u8("instruction"),u.blob(8,"amountIn"),u.blob(8,"minimumAmountOut")]),O=a.Buffer.alloc(j.span);return j.encode({instruction:0,amountIn:b.toBuffer(),minimumAmountOut:w.toBuffer()},O),new i.TransactionInstruction({keys:k,programId:this.id(g),data:O})}},{key:"_topUpWithSPLSwapTransitiveInstruction",value:function(e){var t=e.feePayer,n=e.userAuthority,r=e.userRelayAccount,o=e.userTransferAuthority,s=e.userSourceTokenAccount,l=e.userDestinationTokenAccount,f=e.transitTokenMint,d=e.swapFromProgramId,p=e.swapFromAccount,y=e.swapFromAuthority,h=e.swapFromSource,v=e.swapFromDestination,m=e.swapFromPoolTokenMint,b=e.swapFromPoolFeeAccount,w=e.swapToProgramId,g=e.swapToAccount,k=e.swapToAuthority,j=e.swapToSource,O=e.swapToDestination,x=e.swapToPoolTokenMint,S=e.swapToPoolFeeAccount,P=e.amountIn,A=e.transitMinimumAmount,_=e.minimumAmountOut,T=e.network,R=[(0,c.OT)({pubkey:c.jQ.wrappedSOLMint,isSigner:!1}),(0,c.fZ)({pubkey:t,isSigner:!0}),(0,c.OT)({pubkey:n,isSigner:!0}),(0,c.fZ)({pubkey:r,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.tokenProgramId,isSigner:!1}),(0,c.OT)({pubkey:o,isSigner:!0}),(0,c.fZ)({pubkey:s,isSigner:!1}),(0,c.fZ)({pubkey:this.getTransitTokenAccountAddress({user:n,transitTokenMint:f,network:T}),isSigner:!1}),(0,c.fZ)({pubkey:l,isSigner:!1}),(0,c.OT)({pubkey:d,isSigner:!1}),(0,c.OT)({pubkey:p,isSigner:!1}),(0,c.OT)({pubkey:y,isSigner:!1}),(0,c.fZ)({pubkey:h,isSigner:!1}),(0,c.fZ)({pubkey:v,isSigner:!1}),(0,c.fZ)({pubkey:m,isSigner:!1}),(0,c.fZ)({pubkey:b,isSigner:!1}),(0,c.OT)({pubkey:w,isSigner:!1}),(0,c.OT)({pubkey:g,isSigner:!1}),(0,c.OT)({pubkey:k,isSigner:!1}),(0,c.fZ)({pubkey:j,isSigner:!1}),(0,c.fZ)({pubkey:O,isSigner:!1}),(0,c.fZ)({pubkey:x,isSigner:!1}),(0,c.fZ)({pubkey:S,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.sysvarRent,isSigner:!1}),(0,c.OT)({pubkey:c.jQ.programId,isSigner:!1})],C=u.struct([u.u8("instruction"),u.blob(8,"amountIn"),u.blob(8,"transitMinimumAmount"),u.blob(8,"minimumAmountOut")]),I=a.Buffer.alloc(C.span);return C.encode({instruction:1,amountIn:P.toBuffer(),transitMinimumAmount:A.toBuffer(),minimumAmountOut:_.toBuffer()},I),new i.TransactionInstruction({keys:R,programId:this.id(T),data:I})}},{key:"_splSwapTransitiveInstruction",value:function(e){var t=e.feePayer,n=e.userTransferAuthority,r=e.userSourceTokenAccount,o=e.userTransitTokenAccount,s=e.userDestinationTokenAccount,l=e.swapFromProgramId,f=e.swapFromAccount,d=e.swapFromAuthority,p=e.swapFromSource,y=e.swapFromDestination,h=e.swapFromPoolTokenMint,v=e.swapFromPoolFeeAccount,m=e.swapToProgramId,b=e.swapToAccount,w=e.swapToAuthority,g=e.swapToSource,k=e.swapToDestination,j=e.swapToPoolTokenMint,O=e.swapToPoolFeeAccount,x=e.amountIn,S=e.transitMinimumAmount,P=e.minimumAmountOut,A=e.network,_=[(0,c.fZ)({pubkey:t,isSigner:!0}),(0,c.OT)({pubkey:c.jQ.tokenProgramId,isSigner:!1}),(0,c.OT)({pubkey:n,isSigner:!0}),(0,c.fZ)({pubkey:r,isSigner:!1}),(0,c.fZ)({pubkey:o,isSigner:!1}),(0,c.fZ)({pubkey:s,isSigner:!1}),(0,c.OT)({pubkey:l,isSigner:!1}),(0,c.OT)({pubkey:f,isSigner:!1}),(0,c.OT)({pubkey:d,isSigner:!1}),(0,c.fZ)({pubkey:p,isSigner:!1}),(0,c.fZ)({pubkey:y,isSigner:!1}),(0,c.fZ)({pubkey:h,isSigner:!1}),(0,c.fZ)({pubkey:v,isSigner:!1}),(0,c.OT)({pubkey:m,isSigner:!1}),(0,c.OT)({pubkey:b,isSigner:!1}),(0,c.OT)({pubkey:w,isSigner:!1}),(0,c.fZ)({pubkey:g,isSigner:!1}),(0,c.fZ)({pubkey:k,isSigner:!1}),(0,c.fZ)({pubkey:j,isSigner:!1}),(0,c.fZ)({pubkey:O,isSigner:!1})],T=u.struct([u.u8("instruction"),u.blob(8,"amountIn"),u.blob(8,"transitMinimumAmount"),u.blob(8,"minimumAmountOut")]),R=a.Buffer.alloc(T.span);return T.encode({instruction:4,amountIn:x.toBuffer(),transitMinimumAmount:S.toBuffer(),minimumAmountOut:P.toBuffer()},R),new i.TransactionInstruction({keys:_,programId:this.id(A),data:R})}}],(n=null)&&l(t.prototype,n),f&&l(t,f),Object.defineProperty(t,"prototype",{writable:!1}),e}()},15038:function(e,t,n){"use strict";n.d(t,{I:function(){return u},m:function(){return p}});var r=n(40253),o=n(65695);function i(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,u,c,s;return t=e,n=null,u=[{key:"analyseDestination",value:(c=regeneratorRuntime.mark((function e(t){var n,i,a,u,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.apiClient,i=t.destination,a=t.mint,u=t.userAccount,!r.jQ.wrappedSOLMint.equals(a)){e.next=5;break}return e.abrupt("return",{destination:new o._({address:u,mint:a}),destinationOwner:u,needCreateDestination:!0});case 5:if(!i){e.next=9;break}return e.abrupt("return",{destination:new o._({address:i,mint:a}),destinationOwner:u,needCreateDestination:!1});case 9:return e.next=11,n.getAssociatedSPLTokenAddress({address:u,mint:a});case 11:return c=e.sent,e.next=14,n.getAccountInfo({account:c.toString(),decodedTo:r.wP});case 14:return s=e.sent,l=!(null!=s&&s.owner.equals(r.jQ.tokenProgramId)),e.abrupt("return",{destination:new o._({address:u,mint:a}),destinationOwner:null,needCreateDestination:l});case 17:case"end":return e.stop()}}),e)})),s=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=c.apply(e,t);function a(e){i(o,n,r,a,u,"next",e)}function u(e){i(o,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return s.apply(this,arguments)})}],n&&a(t.prototype,n),u&&a(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=n(59917),s=n(71951),l=n(43492);function f(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o,i,a;return t=e,n=null,o=[{key:"getTransitToken",value:function(t){var n=t.solanaApiClient,r=t.orcaSwap,o=t.account,i=t.pools,a=e.getTransitTokenMintPubkey({orcaSwap:r,pools:i});if(!a)return null;var u=l.d.getTransitTokenAccountAddress({user:o,transitTokenMint:a,network:n.endpoint.network});return new s._D({address:u,mint:a})}},{key:"getTransitTokenMintPubkey",value:function(e){var t=e.pools,n=e.orcaSwap;if(2!==t.length)return null;var r=t[0].tokenBName.toString(),o=n.getMint(r);return o?new c.PublicKey(o):null}},{key:"checkIfNeedsCreateTransitTokenAccount",value:(i=regeneratorRuntime.mark((function e(t){var n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.solanaApiClient,i=t.transitToken){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,o.getAccountInfo({account:i.address.toString(),decodedTo:r.wP});case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!(null!==(n=a.data)&&void 0!==n&&n.mint.equals(i.mint)));case 9:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){f(o,n,r,a,u,"next",e)}function u(e){f(o,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&d(t.prototype,n),o&&d(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},51150:function(e,t,n){"use strict";n.d(t,{sE:function(){return v},mX:function(){return i.m}});var r=n(181),o=n(40253),i=n(15038);function a(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=t.solanaApiClient,r=t.owner;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.solanaApiClient=void 0,this.owner=void 0,this.solanaApiClient=n,this.owner=r}var t,n,c,s,l;return t=e,n=[{key:"calculateSwappingNetworkFees",value:(s=regeneratorRuntime.mark((function e(t){var n,a,u,c,s,l,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,a=t.swapPools,u=t.sourceTokenMint,c=t.destinationTokenMint,s=t.destinationAddress,e.next=3,i.I.analyseDestination({apiClient:this.solanaApiClient,destination:s,mint:c,userAccount:this.owner});case 3:return l=e.sent,f=n.lamportsPerSignature,d=n.minimumTokenAccountBalance,(p=o.lk.zero()).transaction=new r.u64(p.transaction.add(f)),p.transaction=new r.u64(p.transaction.add(f)),u.equals(o.jQ.wrappedSOLMint)&&(p.transaction=new r.u64(p.transaction.add(f))),l.needCreateDestination&&!c.equals(o.jQ.wrappedSOLMint)&&(p.accountBalances=new r.u64(p.accountBalances.add(d))),c.equals(o.jQ.wrappedSOLMint)&&(p.transaction=new r.u64(p.transaction.add(f))),2===(null==a?void 0:a.length)&&u.equals(o.jQ.wrappedSOLMint)&&!s&&(p.transaction=new r.u64(p.transaction.add(f.muln(2)))),e.abrupt("return",p);case 14:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function i(e){a(o,n,r,i,u,"next",e)}function u(e){a(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e){return l.apply(this,arguments)})}],n&&u(t.prototype,n),c&&u(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}(),s=n(55568),l=n(71951),f=n(78354),d=n(51379);function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,u,"next",e)}function u(e){p(i,r,o,a,u,"throw",e)}a(void 0)}))}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t){var n=t.owner,r=t.solanaApiClient,o=t.orcaSwap,i=t.feeRelayerCalculator,a=void 0===i?new f.Li:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._owner=void 0,this._solanaApiClient=void 0,this._orcaSwap=void 0,this._swapCalculator=void 0,this._feeRelayerCalculator=void 0,this._owner=n,this._solanaApiClient=r,this._orcaSwap=o,this._feeRelayerCalculator=a,this._swapCalculator=new c({solanaApiClient:r,owner:n})}var t,n,r,i,a;return t=e,n=[{key:"userAccount",get:function(){return this._owner}},{key:"calculator",get:function(){return this._swapCalculator}},{key:"prepareSwapTransaction",value:(a=y(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,l,f,p,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,r=t.sourceToken,o=t.destinationTokenMint,i=t.destinationAddress,a=t.fee,u=t.swapPools,c=t.inputAmount,l=t.slippage,e.next=3,this._prepareForTopUpAndSwap({context:n,source:r,destinationTokenMint:o,destinationAddress:i,payingFeeToken:a,swapPools:u});case 3:return f=e.sent,e.next=6,this._solanaApiClient.getRecentBlockhash();case 6:return p=e.sent,y={feeRelayerContext:n,solanaApiClient:this._solanaApiClient,orcaSwap:this._orcaSwap,config:{userAccount:this.userAccount,pools:f.actionFeesAndPools.poolsPair,inputAmount:c,slippage:l,sourceAccount:r,destinationTokenMint:o,destinationAddress:i,blockhash:p},env:{instructions:[],signers:[],accountCreationFee:s.ZERO,additionalPaybackFee:s.ZERO}},e.abrupt("return",d.u.prepareSwapTransaction(y));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_prepareForTopUpAndSwap",value:(i=y(regeneratorRuntime.mark((function e(t){var n,r,i,a,u,c,s,f,d,p,y,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,r=t.source,i=t.destinationTokenMint,a=t.destinationAddress,u=t.payingFeeToken,c=t.swapPools,e.next=3,this._swapCalculator.calculateSwappingNetworkFees({context:n,swapPools:c,sourceTokenMint:r.mint,destinationTokenMint:i,destinationAddress:a});case 3:if(s=e.sent,d=n.relayAccountStatus.balance,null!=u&&u.mint.equals(o.jQ.wrappedSOLMint)||!d||!d.lt(s.total)){e.next=21;break}if(p=this._feeRelayerCalculator.calculateNeededTopUpAmount({context:n,expectedFee:s,payingTokenMint:null==u?void 0:u.mint}).total,y=this._feeRelayerCalculator.calculateExpectedFeeForTopUp(n),!u){e.next=14;break}return e.next=11,this._orcaSwap.getTradablePoolsPairs({fromMint:u.mint.toString(),toMint:o.jQ.wrappedSOLMint.toString()});case 11:h=e.sent,e.next=15;break;case 14:h=[];case 15:if(v=this._orcaSwap.findBestPoolsPairForEstimatedAmount({estimatedAmount:p,poolsPairs:h})){e.next=18;break}throw l.A$.swapPoolsNotFound();case 18:f={amount:p,expectedFee:y,poolsPair:v},e.next=22;break;case 21:f=null;case 22:return e.abrupt("return",{topUpPreparedParam:f,actionFeesAndPools:{fee:s,poolsPair:c}});case 23:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}],n&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},51379:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(59917),o=n(40253),i=n(71951),a=n(84755);function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,u,"next",e)}function u(e){s(i,r,o,a,u,"throw",e)}a(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c,s,d;return t=e,n=null,c=[{key:"prepareSwapTransaction",value:(d=l(regeneratorRuntime.mark((function t(n){var r,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.env.userSource=n.config.sourceAccount.address,r=(0,o.MO)(n.config.sourceAccount.mint,n.feeRelayerContext.feePayerAddress),!n.env.userSource.equals(r)){t.next=4;break}throw i.A$.wrongAddress();case 4:return t.next=6,(0,a.U7)(n);case 6:return(0,a.Mk)(n),t.next=9,(0,a.L8)(n);case 9:return(0,a.KZ)(n,(0,a.Ih)({userAccount:n.config.userAccount,pools:n.config.pools,inputAmount:n.config.inputAmount,minAmountOut:null,slippage:n.config.slippage,transitTokenMintPubkey:n.env.transitTokenMintPubkey,needsCreateTransitTokenAccount:Boolean(n.env.needsCreateTransitTokenAccount)})),(0,a.x8)(n),(0,a.o6)(n),u=[],(c=n.env.additionalTransaction)&&u.push(c),t.t0=u,t.next=18,e.makeTransaction({context:n,instructions:n.env.instructions,signers:n.env.signers,blockhash:n.config.blockhash,accountCreationFee:n.env.accountCreationFee});case 18:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.abrupt("return",{transactions:u,additionalPaybackFee:n.env.additionalPaybackFee});case 21:case"end":return t.stop()}}),t)}))),function(e){return d.apply(this,arguments)})},{key:"makeTransaction",value:(s=l(regeneratorRuntime.mark((function e(t){var n,i,a,c,s,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.context,i=t.instructions,a=t.signers,c=void 0===a?[]:a,s=t.blockhash,l=t.accountCreationFee,(f=new r.Transaction).instructions=i,f.recentBlockhash=s,f.feePayer=n.feeRelayerContext.feePayerAddress,c.length>0&&f.partialSign.apply(f,u(c)),d=new o.lk({transaction:(0,o.dC)(f,n.feeRelayerContext.lamportsPerSignature),accountBalances:l}),e.abrupt("return",new o.kB({owner:n.config.userAccount,transaction:f,signers:c,expectedFee:d}));case 8:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})}],n&&f(t.prototype,n),c&&f(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}()},84755:function(e,t,n){"use strict";n.d(t,{Ih:function(){return x},x8:function(){return a},L8:function(){return f},o6:function(){return p},Mk:function(){return y},KZ:function(){return b},U7:function(){return k},F0:function(){return S}});var r=n(181),o=n(59917),i=n(40253);function a(e){var t=e.env.sourceWSOLNewAccount;t&&e.env.instructions.push(r.Token.createCloseAccountInstruction(i.jQ.tokenProgramId,t.publicKey,e.config.userAccount,e.config.userAccount,[]));var n,a=e.env.destinationNewAccount;a&&e.config.destinationTokenMint.equals(i.jQ.wrappedSOLMint)&&((n=e.env.instructions).push.apply(n,[r.Token.createCloseAccountInstruction(i.jQ.tokenProgramId,a.publicKey,e.config.userAccount,e.config.userAccount,[]),o.SystemProgram.transfer({fromPubkey:e.config.userAccount,toPubkey:e.feeRelayerContext.feePayerAddress,lamports:e.feeRelayerContext.minimumTokenAccountBalance.toNumber()})]),e.env.accountCreationFee=new r.u64(e.env.accountCreationFee.sub(e.feeRelayerContext.minimumTokenAccountBalance)))}var u=n(15038),c=n(51379);function s(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,u,"next",e)}function u(e){s(i,r,o,a,u,"throw",e)}a(void 0)}))}}function f(e){return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t){var n,a,s,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.I.analyseDestination({apiClient:t.solanaApiClient,destination:t.config.destinationAddress,mint:t.config.destinationTokenMint,userAccount:t.config.userAccount});case 2:if(a=e.sent,s=a.destination.address,!a.needCreateDestination){e.next=23;break}if(!a.destination.mint.equals(i.jQ.wrappedSOLMint)){e.next=12;break}n=new o.Account,(l=t.env.instructions).push.apply(l,[o.SystemProgram.createAccount({fromPubkey:t.feeRelayerContext.feePayerAddress,newAccountPubkey:n.publicKey,lamports:t.feeRelayerContext.minimumTokenAccountBalance.toNumber(),space:i.wP.span,programId:i.jQ.tokenProgramId}),r.Token.createInitAccountInstruction(i.jQ.tokenProgramId,a.destination.mint,n.publicKey,t.config.userAccount)]),s=n.publicKey,t.env.accountCreationFee=t.env.accountCreationFee.add(t.feeRelayerContext.minimumTokenAccountBalance),e.next=23;break;case 12:if(f=(0,i.MO)(a.destination.mint,t.config.userAccount),d=r.Token.createAssociatedTokenAccountInstruction(i.jQ.splAssociatedTokenAccountProgramId,i.jQ.tokenProgramId,a.destination.mint,f,t.config.userAccount,t.feeRelayerContext.feePayerAddress),!t.env.sourceWSOLNewAccount){e.next=20;break}return e.next=17,c.u.makeTransaction({context:t,instructions:[d],blockhash:t.config.blockhash,accountCreationFee:t.feeRelayerContext.minimumTokenAccountBalance});case 17:t.env.additionalTransaction=e.sent,e.next=22;break;case 20:t.env.instructions.push(d),t.env.accountCreationFee=new r.u64(t.env.accountCreationFee.add(t.feeRelayerContext.minimumTokenAccountBalance));case 22:s=f;case 23:t.env.destinationNewAccount=n,t.env.userDestinationTokenAccountAddress=s;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){e.env.sourceWSOLNewAccount&&e.env.signers.push(e.env.sourceWSOLNewAccount),e.env.destinationNewAccount&&e.env.signers.push(e.env.destinationNewAccount)}function y(e){var t,n;e.config.sourceAccount.mint.equals(i.jQ.wrappedSOLMint)&&(t=new o.Account,(n=e.env.instructions).push.apply(n,[o.SystemProgram.transfer({fromPubkey:e.config.userAccount,toPubkey:e.feeRelayerContext.feePayerAddress,lamports:e.config.inputAmount.toNumber()}),o.SystemProgram.createAccount({fromPubkey:e.feeRelayerContext.feePayerAddress,newAccountPubkey:t.publicKey,lamports:e.feeRelayerContext.minimumTokenAccountBalance.add(e.config.inputAmount).toNumber(),space:i.wP.span,programId:i.jQ.tokenProgramId}),r.Token.createInitAccountInstruction(i.jQ.tokenProgramId,i.jQ.wrappedSOLMint,t.publicKey,e.config.userAccount)]),e.env.userSource=t.publicKey,e.env.additionalPaybackFee=new r.u64(e.env.additionalPaybackFee.add(e.feeRelayerContext.minimumTokenAccountBalance)));e.env.sourceWSOLNewAccount=t}var h=n(71951),v=n(78354),m=n(43492);function b(e,t){var n,a=null===(n=t.transferAuthorityAccount)||void 0===n?void 0:n.publicKey,u=t.swapData;switch(u.constructor){case v.Rw:var c=e.config.pools[0];if(!c)throw h.A$.swapPoolsNotFound();a&&e.env.instructions.push(r.Token.createApproveInstruction(i.jQ.tokenProgramId,e.env.userSource,a,e.config.userAccount,[],u.amountIn)),e.env.instructions.push(c.createSwapInstruction({userTransferAuthorityPubkey:null!=a?a:e.config.userAccount,sourceTokenAddress:e.env.userSource,destinationTokenAddress:e.env.userDestinationTokenAccountAddress,amountIn:u.amountIn,minAmountOut:u.minimumAmountOut}));break;case v.bn:a&&e.env.instructions.push(r.Token.createApproveInstruction(i.jQ.tokenProgramId,e.env.userSource,a,e.config.userAccount,[],u.from.amountIn));var s=new o.PublicKey(u.transitTokenMintPubkey),l=m.d.getTransitTokenAccountAddress({user:e.config.userAccount,transitTokenMint:s,network:e.solanaApiClient.endpoint.network});e.env.needsCreateTransitTokenAccount&&e.env.instructions.push(m.d.createTransitTokenAccountInstruction({feePayer:e.feeRelayerContext.feePayerAddress,userAuthority:e.config.userAccount,transitTokenAccount:l,transitTokenMint:s,network:e.solanaApiClient.endpoint.network})),e.env.instructions.push(m.d.createRelaySwapInstruction({transitiveSwap:u,userAuthorityAddressPubkey:e.config.userAccount,sourceAddressPubkey:e.env.userSource,transitTokenAccount:l,destinationAddressPubkey:e.env.userDestinationTokenAccountAddress,feePayerPubkey:e.feeRelayerContext.feePayerAddress,network:e.solanaApiClient.endpoint.network}));break;default:throw new Error("unsupported swap type")}}function w(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,u,"next",e)}function u(e){w(i,r,o,a,u,"throw",e)}a(void 0)}))}}function k(e){return j.apply(this,arguments)}function j(){return(j=g(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.m.getTransitToken({solanaApiClient:t.solanaApiClient,orcaSwap:t.orcaSwap,account:t.config.userAccount,pools:t.config.pools}),e.next=3,u.m.checkIfNeedsCreateTransitTokenAccount({solanaApiClient:t.solanaApiClient,transitToken:n});case 3:r=e.sent,t.env.needsCreateTransitTokenAccount=r,t.env.transitTokenAccountAddress=null==n?void 0:n.address,t.env.transitTokenMintPubkey=null==n?void 0:n.mint;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n(55568);function x(e){var t=e.userAccount,n=e.pools,r=e.inputAmount,i=e.minAmountOut,a=e.slippage,u=e.transitTokenMintPubkey,c=void 0===u?null:u,s=e.newTransferAuthority,l=void 0!==s&&s,f=e.needsCreateTransitTokenAccount;if(0===n.length||n.length>2)throw h.A$.swapPoolsNotFound();if(!r&&!i)throw h.A$.invalidAmount();var d=new o.Account;if(1===n.length){var p=n[0],y=null!=r?r:p.getInputAmountSlippage(i,a),m=null!=i?i:p.getMinimumAmountOut(r,a);if(!y||!m)throw h.A$.invalidAmount();return{swapData:S({pool:p,transferAuthorityPubkey:l?d.publicKey:t,amountIn:y,minAmountOut:m}),transferAuthorityAccount:l?d:null}}var b=n[0],w=n[1];if(!c)throw h.A$.transitTokenMintNotFound();var g,k=r,j=null,x=i;if(r)j=null!==(g=b.getMinimumAmountOut(r,a))&&void 0!==g?g:O.ZERO,x=w.getMinimumAmountOut(j,a);else if(i){var P;j=null!==(P=w.getInputAmountSlippage(i,a))&&void 0!==P?P:O.ZERO,k=b.getInputAmountSlippage(j,a)}if(!k||!j||!x)throw h.A$.invalidAmount();return{swapData:new v.bn({from:S({pool:b,transferAuthorityPubkey:l?d.publicKey:t,amountIn:k,minAmountOut:j}),to:S({pool:w,transferAuthorityPubkey:l?d.publicKey:t,amountIn:j,minAmountOut:x}),transitTokenMintPubkey:c.toString(),needsCreateTransitTokenAccount:f}),transferAuthorityAccount:l?d:null}}function S(e){var t=e.pool,n=e.transferAuthorityPubkey,r=e.amountIn,o=e.minAmountOut;return new v.Rw({programId:t.swapProgramId.toString(),accountPubkey:t.account,authorityPubkey:t.authority,transferAuthorityPubkey:n.toString(),sourcePubkey:t.tokenAccountA,destinationPubkey:t.tokenAccountB,poolTokenMintPubkey:t.poolTokenMint,poolFeeAccountPubkey:t.feeAccount,amountIn:r,minimumAmountOut:o})}},23108:function(e,t,n){"use strict";n.d(t,{lP:function(){return u},Zf:function(){return f},ID:function(){return vt},sW:function(){return Jt},R$:function(){return _t},u9:function(){return Tt},L$:function(){return Rt},Gv:function(){return At}});var r=n(89489);function o(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,c,"next",e)}function c(e){o(a,r,i,u,c,"throw",e)}u(void 0)}))}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configProvider=void 0,this.configProvider=t}var t,n,o,u,c,s,l;return t=e,n=[{key:"reload",value:(l=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configProvider.getData(!0);case 2:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getTokens",value:(s=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configProvider.getConfigs();case 2:return t=e.sent,n=(0,r.yE)(vt,t),e.abrupt("return",n.value.tokens);case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getPools",value:(c=i(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configProvider.getConfigs();case 2:return t=e.sent,n=(0,r.yE)(vt,t),o=new Map,n.value.pools.forEach((function(e,t){e.deprecated||o.set(t,e)})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getProgramID",value:(u=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configProvider.getConfigs();case 2:return t=e.sent,n=(0,r.yE)(vt,t),e.abrupt("return",n.value.programIds);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})}],n&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.network=void 0,this.cache=void 0,this._urlString="https://orca.wallet.p2p.org/info",this.network=t}var t,n,r,o,i;return t=e,n=[{key:"getData",value:(i=s(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]&&n[0]||!this.cache){e.next=3;break}return e.abrupt("return",Promise.resolve(this.cache));case 3:return"mainnet-beta"===this.network&&(this.network="mainnet"),e.next=6,fetch(this._urlString);case 6:return e.next=8,e.sent.json();case 8:return t=e.sent,this.cache=t,e.abrupt("return",Promise.resolve(t));case 11:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getConfigs",value:(o=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getData(!1));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=n(40253);var p=n(88018),y=n(55568),h=n(17668),v=n(181),m=n(56374),b=n(59917),w=n(54651),g=n(16454);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){var t="function"==typeof Map?new Map:void 0;return S=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return P(e,arguments,T(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,e)},S(e)}function P(e,t,n){return P=A()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_(o,n.prototype),o},P.apply(null,arguments)}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var R,C,I,E,M,D,F,N,B,Z,W,L,U,z,K,q,H,V,Y,Q,$,G,J,X,ee,te,ne,re,oe,ie,ae,ue,ce,se,le,fe,de,pe,ye,he,ve,me,be,we,ge,ke,je,Oe,xe,Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&_(e,t)}(u,e);var t,n,r,o,i,a=(t=u,n=A(),function(){var e,r=T(t);if(n){var o=T(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return x(this,e)});function u(){return j(this,u),a.apply(this,arguments)}return r=u,i=[{key:"notFound",value:function(){return new u("Not found")}},{key:"swapInfoMissing",value:function(){return new u("Swap is not available")}},{key:"accountBalanceNotFound",value:function(){return new u("Account balance is not found")}},{key:"unauthorized",value:function(){return new u("Unauthorized")}},{key:"couldNotEstimatedMinimumOutAmount",value:function(){return new u("Could not estimate minimum output amount")}},{key:"invalidPool",value:function(){return new u("Invalid pool")}},{key:"ampDoesNotExistInPoolConfig",value:function(){return new u("amp does not exist in poolConfig")}},{key:"estimatedAmountIsTooHigh",value:function(){return new u("Estimated amount is too high")}},{key:"invalidNumberOfTransactions",value:function(){return new u("Number of transactions is invalid")}},{key:"unknown",value:function(){return new u("Unknown error")}},{key:"intermediaryTokenAddressNotFound",value:function(){return new u("Intermediary token address not found")}}],(o=null)&&O(r.prototype,o),i&&O(r,i),Object.defineProperty(r,"prototype",{writable:!1}),u}(S(Error));function Pe(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Te(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Re(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&Ie(e.prototype,t),n&&Ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Me,De,Fe,Ne,Be,Ze,We,Le,Ue,ze,Ke="Stable",qe="ConstantProduct",He=function(){function e(t){Ce(this,e),this._tokenName=void 0,this._tokenName=t}return Ee(e,[{key:"fixedTokenName",get:function(){return this._tokenName.split("[").shift()}},{key:"toString",value:function(){return this._tokenName}}]),e}(),Ve=(R=(0,p.D)((function(){return v.u64})),C=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),I=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),E=(0,p.D)((function(){return v.u64})),M=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),D=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),F=(0,p.D)((function(){return v.u64})),N=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),B=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),Z=(0,p.D)((function(){return v.u64})),W=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),L=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),U=(0,p.D)((function(){return v.u64})),z=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),K=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),q=(0,p.D)((function(){return v.u64})),H=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),V=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),Y=(0,p.D)((function(){return v.u64})),Q=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),$=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),G=(0,p.D)((function(){return v.u64})),J=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),X=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),ee=(0,p.D)((function(){return v.u64})),te=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),ne=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),re=(0,p.D)((function(){return He})),oe=(0,w.w)((function(e){var t=e.value;return new He(t)})),ie=Reflect.metadata("design:type",void 0===He?Object:He),ae=(0,p.D)((function(){return He})),ue=(0,w.w)((function(e){var t=e.value;return new He(t)})),ce=Reflect.metadata("design:type",void 0===He?Object:He),se=(0,p.D)((function(){return v.u64})),le=(0,w.w)((function(e){var t=e.value;return new v.u64(t)})),fe=Reflect.metadata("design:type",void 0===v.u64?Object:v.u64),de=function(){function e(){Ce(this,e),this.account=void 0,this.authority=void 0,Te(this,"nonce",pe,this),this.poolTokenMint=void 0,this.tokenAccountA=void 0,this.tokenAccountB=void 0,this.feeAccount=void 0,this.hostFeeAccount=null,Te(this,"feeNumerator",ye,this),Te(this,"feeDenominator",he,this),Te(this,"ownerTradeFeeNumerator",ve,this),Te(this,"ownerTradeFeeDenominator",me,this),Te(this,"ownerWithdrawFeeNumerator",be,this),Te(this,"ownerWithdrawFeeDenominator",we,this),Te(this,"hostFeeNumerator",ge,this),Te(this,"hostFeeDenominator",ke,this),Te(this,"tokenAName",je,this),Te(this,"tokenBName",Oe,this),this.curveType=void 0,Te(this,"amp",xe,this),this.programVersion=1,this.deprecated=!1,this.tokenABalance=void 0,this.tokenBBalance=void 0,this.isStable=void 0}return Ee(e,[{key:"reversed",get:function(){var e=Object.assign(Object.create(Object.getPrototypeOf(this)),this),t=[e.tokenAccountA,e.tokenAccountB],n=t[0],r=t[1];e.tokenAccountA=r,e.tokenAccountB=n;var o=[e.tokenAName,e.tokenBName],i=o[0],a=o[1];e.tokenAName=a,e.tokenBName=i;var u=[e.tokenABalance,e.tokenBBalance],c=u[0],s=u[1];return e.tokenABalance=s,e.tokenBBalance=c,e}},{key:"getTokenBDecimals",value:function(){var e,t;return null!==(e=null===(t=this.tokenBBalance)||void 0===t?void 0:t.decimals)&&void 0!==e?e:null}},{key:"getTokenADecimals",value:function(){var e,t;return null!==(e=null===(t=this.tokenABalance)||void 0===t?void 0:t.decimals)&&void 0!==e?e:null}},{key:"swapProgramId",get:function(){return g.j.orcaSwapId(2===this.programVersion?2:1)}},{key:"getMinimumAmountOut",value:function(e,t){var n=this.getOutputAmount(e);return new v.u64(n.toNumber()*(1-t))}},{key:"getInputAmountSlippage",value:function(e,t){if(1===t)return null;var n=e.divn(1-t);return this.getInputAmount(n)}},{key:"createSwapInstruction",value:function(e){var t=e.userTransferAuthorityPubkey,n=e.sourceTokenAddress,r=e.destinationTokenAddress,o=e.amountIn,i=e.minAmountOut;return m.TokenSwap.swapInstruction(new b.PublicKey(this.account),new b.PublicKey(this.authority),new b.PublicKey(t),new b.PublicKey(n),new b.PublicKey(this.tokenAccountA),new b.PublicKey(this.tokenAccountB),new b.PublicKey(r),new b.PublicKey(this.poolTokenMint),new b.PublicKey(this.feeAccount),this.hostFeeAccount?new b.PublicKey(this.hostFeeAccount):null,new b.PublicKey(this.swapProgramId),g.j.tokenProgramId,o,i)}},{key:"getOutputAmount",value:function(e){var t=this.getFee(e),n=e.sub(t);return this._getOutputAmount(n)}},{key:"getInputAmount",value:function(e){var t,n,r=null===(t=this.tokenABalance)||void 0===t?void 0:t.amountInU64,o=null===(n=this.tokenBBalance)||void 0===n?void 0:n.amountInU64;if(!r||!o)throw Se.accountBalanceNotFound();if(e.gt(o))throw Se.estimatedAmountIsTooHigh();switch(this.curveType){case Ke:var i=this.amp;if(!i)throw Se.ampDoesNotExistInPoolConfig();var a=(0,h.computeInputAmount)(e,r,o,i).mul(this.feeDenominator).div(this.feeDenominator.sub(this.feeNumerator));return new v.u64(a.toString());case qe:var u,c,s=Ye(r.mul(o),o.sub(e)).quotient.sub(r);this.ownerTradeFeeDenominator.eq(y.ZERO)?(u=this.feeDenominator,c=this.feeDenominator.sub(this.feeNumerator)):(u=this.feeDenominator.mul(this.ownerTradeFeeDenominator),c=this.feeDenominator.mul(this.ownerTradeFeeDenominator).sub(this.feeNumerator.mul(this.ownerTradeFeeDenominator)).sub(this.ownerTradeFeeNumerator.mul(this.feeDenominator)));var l=s.mul(u).div(c);return new v.u64(l.toString());default:return null}}},{key:"calculatingFees",value:function(e){var t=this.getFee(e);return this._getOutputAmount(t)}},{key:"constructExchange",value:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,p,h,m,w,k,j,O,x,S,P,A,_,T,R,C,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.tokens,i=t.solanaClient,a=t.owner,u=t.fromTokenPubkey,c=t.toTokenPubkey,s=t.amount,l=t.slippage,f=t.feePayer,p=t.minRentExemption,h=null===(n=o.get(this.tokenAName.toString()))||void 0===n?void 0:n.mint,m=h?new b.PublicKey(h):null,w=null===(r=o.get(this.tokenBName.toString()))||void 0===r?void 0:r.mint,k=w?new b.PublicKey(w):null,j=new b.PublicKey(u),m&&k&&j){e.next=8;break}throw Se.notFound();case 8:if(!m.equals(g.j.wrappedSOLMint)||!a.equals(j)){e.next=14;break}return e.next=11,i.prepareCreatingWSOLAccountAndCloseWhenDone(a,s,null!=f?f:a);case 11:O=e.sent,e.next=15;break;case 14:O=new d.HB({account:j});case 15:if(!k.equals(g.j.wrappedSOLMint)){e.next=26;break}if(!(S=c?new b.PublicKey(c):null)||null!=S&&S.equals(a)){e.next=21;break}x=new d.HB({account:S,cleanupInstructions:[v.Token.createCloseAccountInstruction(g.j.tokenProgramId,S,a,a,[])]}),e.next=24;break;case 21:return e.next=23,i.prepareCreatingWSOLAccountAndCloseWhenDone(a,y.ZERO,null!=f?f:a);case 23:x=e.sent;case 24:e.next=34;break;case 26:if(!(P=c?new b.PublicKey(c):null)){e.next=31;break}x=new d.HB({account:P}),e.next=34;break;case 31:return e.next=33,i.prepareForCreatingAssociatedTokenAccount(a,k,null!=f?f:a,!1);case 33:x=e.sent;case 34:A=[],_=[],T=y.ZERO,A.push.apply(A,Pe(O.instructions)),_.push.apply(_,Pe(O.cleanupInstructions)),O.instructions.length||(T=new v.u64(T.add(p))),A.push.apply(A,Pe(x.instructions)),_.push.apply(_,Pe(x.cleanupInstructions)),x.instructions.length||(T=new v.u64(T.add(p)));try{R=this.getMinimumAmountOut(s,l)}catch(e){}if(R){e.next=46;break}throw Se.couldNotEstimatedMinimumOutAmount();case 46:return C=this.createSwapInstruction({userTransferAuthorityPubkey:a,sourceTokenAddress:O.account,destinationTokenAddress:x.account,amountIn:s,minAmountOut:R}),A.push(C),(I=[]).push.apply(I,Pe(O.signers)),I.push.apply(I,Pe(x.signers)),e.abrupt("return",[new d.HB({account:x.account,instructions:A,cleanupInstructions:_,signers:I}),T]);case 52:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_e(i,r,o,a,u,"next",e)}function u(e){_e(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()},{key:"getFee",value:function(e){if(this.curveType!==Ke&&this.curveType!==qe)throw Se.unknown();var t=this._computeFee({baseAmount:e,feeNumerator:this.feeNumerator,feeDenominator:this.feeDenominator}),n=this._computeFee({baseAmount:e,feeNumerator:this.ownerTradeFeeNumerator,feeDenominator:this.ownerTradeFeeDenominator});return new v.u64(t.add(n))}},{key:"_getOutputAmount",value:function(e){var t,n,r=null===(t=this.tokenABalance)||void 0===t?void 0:t.amountInU64,o=null===(n=this.tokenBBalance)||void 0===n?void 0:n.amountInU64;if(!r||!o)throw Se.accountBalanceNotFound();switch(this.curveType){case Ke:var i=this.amp;if(!i)throw Se.ampDoesNotExistInPoolConfig();return(0,h.computeOutputAmount)(e,r,o,i);case qe:var a=Ye(r.mul(o),r.add(e)).quotient;return new v.u64(o.sub(a));default:throw Se.unknown()}}},{key:"_computeFee",value:function(e){var t=e.baseAmount,n=e.feeNumerator,r=e.feeDenominator;return n.eqn(0)?y.ZERO:new v.u64(t.mul(n).div(r))}}]),e}(),pe=Re(de.prototype,"nonce",[R,C,I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Re(de.prototype,"feeNumerator",[E,M,D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Re(de.prototype,"feeDenominator",[F,N,B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Re(de.prototype,"ownerTradeFeeNumerator",[Z,W,L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Re(de.prototype,"ownerTradeFeeDenominator",[U,z,K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Re(de.prototype,"ownerWithdrawFeeNumerator",[q,H,V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Re(de.prototype,"ownerWithdrawFeeDenominator",[Y,Q,$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Re(de.prototype,"hostFeeNumerator",[G,J,X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Re(de.prototype,"hostFeeDenominator",[ee,te,ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Re(de.prototype,"tokenAName",[re,oe,ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Re(de.prototype,"tokenBName",[ae,ue,ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=Re(de.prototype,"amp",[se,le,fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de);function Ye(e,t){var n=e.div(t);if(n.eq(y.ZERO))return{quotient:y.ZERO,divisor:t};var r=e.mod(t);return r.gt(y.ZERO)&&(n=n.add(y.ONE),t=e.div(n),(r=e.mod(n)).gt(y.ZERO)&&(t=t.add(y.ONE))),{quotient:n,divisor:t}}function Qe(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $e(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var et,tt=Je((function e(){Xe(this,e),this.serumTokenSwap=void 0,this.tokenSwapV2=void 0,this.tokenSwap=void 0,this.token=void 0,this.aquafarm=void 0})),nt=(Me=(0,p.D)((function(){return Ve})),De=Reflect.metadata("design:type","undefined"==typeof Map?Object:Map),Fe=(0,p.D)((function(){return tt})),Ne=Reflect.metadata("design:type",void 0===tt?Object:tt),Be=(0,p.D)((function(){return ut})),Ze=Reflect.metadata("design:type","undefined"==typeof Map?Object:Map),We=Je((function e(){Xe(this,e),Qe(this,"pools",Le,this),Qe(this,"programIds",Ue,this),Qe(this,"tokens",ze,this)})),Le=$e(We.prototype,"pools",[Me,De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=$e(We.prototype,"programIds",[Fe,Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=$e(We.prototype,"tokens",[Be,Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We);!function(e){e.tokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}(et||(et={}));var rt,ot,it,at,ut=Je((function e(){Xe(this,e),this.mint=void 0,this.name=void 0,this.decimals=void 0,this.fetchPrice=void 0,this.poolToken=void 0,this.wrapper=void 0}));function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return t&&ct(e.prototype,t),n&&ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var lt,ft,dt,pt,yt,ht,vt=(rt=(0,p.D)((function(){return nt})),ot=Reflect.metadata("design:type",void 0===nt?Object:nt),it=st((function e(){var t,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n="value",o=this,(r=at)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})})),lt=it.prototype,ft="value",dt=[rt,ot],pt={configurable:!0,enumerable:!0,writable:!0,initializer:null},ht={},Object.keys(pt).forEach((function(e){ht[e]=pt[e]})),ht.enumerable=!!ht.enumerable,ht.configurable=!!ht.configurable,("value"in ht||ht.initializer)&&(ht.writable=!0),ht=dt.slice().reverse().reduce((function(e,t){return t(lt,ft,e)||e}),ht),yt&&void 0!==ht.initializer&&(ht.value=ht.initializer?ht.initializer.call(yt):void 0,ht.initializer=void 0),void 0===ht.initializer&&(Object.defineProperty(lt,ft,ht),ht=null),at=ht,it),mt=n(69021);function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t,n){return t&&bt(e.prototype,t),n&&bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var gt=wt((function e(t){var n=t.tokenName,r=t.outputAmount,o=t.minAmountOut,i=t.isStableSwap;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokenName=void 0,this.outputAmount=void 0,this.minAmountOut=void 0,this.isStableSwap=void 0,this.tokenName=n,this.outputAmount=r,this.minAmountOut=o,this.isStableSwap=i}));function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ot(i,r,o,a,u,"next",e)}function u(e){Ot(i,r,o,a,u,"throw",e)}a(void 0)}))}}function St(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=xt(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,p,y,h,v,m,b,w,g,k,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pools,r=t.tokens,o=t.solanaClient,i=t.owner,a=t.fromTokenPubkey,u=t.intermediaryTokenAddress,c=t.toTokenPubkey,s=t.amount,l=t.slippage,f=t.feePayer,p=t.minRentExemption,n.length&&!(n.length>2)){e.next=3;break}throw Se.invalidPool();case 3:if(1!==n.length){e.next=7;break}return e.abrupt("return",n[0].constructExchange({tokens:r,solanaClient:o,owner:i,fromTokenPubkey:a,intermediaryTokenAddress:u,toTokenPubkey:c,amount:s,slippage:l,feePayer:f,minRentExemption:p}));case 7:if(u){e.next=9;break}throw Se.intermediaryTokenAddressNotFound();case 9:return e.next=11,n[0].constructExchange({tokens:r,solanaClient:o,owner:i,fromTokenPubkey:a,toTokenPubkey:u,amount:s,slippage:l,feePayer:f,minRentExemption:p});case 11:if(y=e.sent,h=kt(y,2),v=h[0],m=h[1],b=n[0].getMinimumAmountOut(s,l),s){e.next=18;break}throw Se.unknown();case 18:return e.next=20,n[1].constructExchange({tokens:r,solanaClient:o,owner:i,fromTokenPubkey:u,toTokenPubkey:c,amount:b,slippage:l,feePayer:f,minRentExemption:p});case 20:return w=e.sent,g=kt(w,2),k=g[0],j=g[1],e.abrupt("return",[new d.HB({account:k.account,instructions:v.instructions.concat(k.instructions),cleanupInstructions:v.cleanupInstructions.concat(k.cleanupInstructions),signers:v.signers.concat(k.signers)}),m.add(j)]);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e,t){if(!e.length)return null;var n,r=e[0];try{n=null==r?void 0:r.getOutputAmount(t)}catch(e){}if(!n||n.eq(y.ZERO))return null;if(1===e.length)return n;var o,i=e[1];try{o=null==i?void 0:i.getOutputAmount(n)}catch(e){}return o||null}function _t(e,t){if(!e.length)return null;var n=e[0];if(1===e.length){var r;try{r=null==n?void 0:n.getInputAmount(t)}catch(e){}return r||null}var o,i,a=e[1];try{o=null==a?void 0:a.getInputAmount(t)}catch(e){}if(!o||o.eq(y.ZERO))return null;try{i=null==n?void 0:n.getInputAmount(o)}catch(e){}return i||null}function Tt(e,t,n){if(0===e.length)return null;var r=e[0];if(1===e.length){var o;try{o=null==r?void 0:r.getInputAmountSlippage(t,n)}catch(e){}return o||null}var i,a,u=e[1];try{i=null==u?void 0:u.getInputAmountSlippage(t,n)}catch(e){}if(!i||i.eq(y.ZERO))return null;try{a=null==r?void 0:r.getInputAmountSlippage(i,n)}catch(e){}return a||null}function Rt(e,t,n){if(0===e.length)return null;var r,o=e[0];if(1===e.length){var i;try{i=null==o?void 0:o.getMinimumAmountOut(t,n)}catch(e){}return i||null}try{r=null==o?void 0:o.getOutputAmount(t)}catch(e){}if(!r||r.eq(y.ZERO))return null;var a,u=e[1];try{a=null==u?void 0:u.getMinimumAmountOut(r,n)}catch(e){}return a||null}function Ct(e,t,n){if(e.length<=1)return null;var r=e[0];return new gt({tokenName:r.tokenBName.toString(),outputAmount:r.getOutputAmount(t),minAmountOut:r.getMinimumAmountOut(t,n),isStableSwap:!0===e[1].isStable})}var It=n(5300),Et=n(79771),Mt=n.n(Et),Dt=n(93911);function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.balancesCache={}}var t,n,r;return t=e,(n=[{key:"getTokenABalance",value:function(e){var t;return null!==(t=e.tokenABalance)&&void 0!==t?t:this.balancesCache[e.tokenAccountA.toString()]}},{key:"getTokenBBalance",value:function(e){var t;return null!==(t=e.tokenBBalance)&&void 0!==t?t:this.balancesCache[e.tokenAccountB.toString()]}},{key:"save",value:function(e,t){this.balancesCache[e]=t}}])&&Ft(t.prototype,n),r&&Ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wt=Zt((function e(t){var n=t.owner,r=t.instructions,o=t.signers,i=void 0===o?[]:o,a=t.accountCreationFee;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.owner=void 0,this.instructions=void 0,this.signers=void 0,this.accountCreationFee=void 0,this.owner=n,this.instructions=r,this.signers=i,this.accountCreationFee=a}));function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t&&Lt(e.prototype,t),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var zt=Ut((function e(t){var n=t.routes,r=t.tokens,o=t.pools,i=t.programIds,a=t.tokenNames;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=void 0,this.tokens=void 0,this.pools=void 0,this.programIds=void 0,this.tokenNames=void 0,this.routes=n,this.tokens=r,this.pools=o,this.programIds=i,this.tokenNames=a}));function Kt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function qt(e){return function(e){if(Array.isArray(e))return Yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $t(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qt(i,r,o,a,u,"next",e)}function u(e){Qt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jt=function(){function e(t){var n=t.apiClient,r=t.solanaClient;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._apiClient=void 0,this._solanaClient=void 0,this._info=null,this._balancesCache=new Nt,this._apiClient=n,this._solanaClient=r}var t,n,r,o,i,a,u,c;return t=e,n=[{key:"load",value:(c=$t(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._info){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.next=4,Promise.all([this._apiClient.getTokens(),this._apiClient.getPools(),this._apiClient.getProgramID()]);case 4:return t=e.sent,n=Ht(t,3),r=n[0],o=n[1],i=n[2],a=Xt(r,o),u=Array.from(r).reduce((function(e,t){return e.set(t[1].mint,t[0]),e}),new Map),c=new zt({routes:a,tokens:r,pools:o,programIds:i,tokenNames:u}),this._info=c,e.abrupt("return",Promise.resolve());case 14:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getMint",value:function(e){var t,n=this._info;if(null!=n&&n.tokenNames)return null===(t=qt(n.tokenNames).find((function(t){return t[1]===e})))||void 0===t?void 0:t[0]}},{key:"_getTokenFromMint",value:function(e){var t=this._info;if(!t)return null;var n=qt(t.tokens).find((function(t){return Ht(t,2)[1].mint===e}));return n&&n[0]&&n[1]?{name:n[0],info:n[1]}:null}},{key:"findPosibleDestinationMints",value:function(e){var t,n=null===(t=this._getTokenFromMint(e))||void 0===t?void 0:t.name;if(!n)throw Se.notFound();var r=this._findRoutes(n,null),o=this._info;return Array.from(Object.keys(r).reduce((function(e,t){var r,i=t.split("/").find((function(e){return e!==n}));return i&&null!=o&&null!==(r=o.tokens.get(i))&&void 0!==r&&r.mint&&e.add(o.tokens.get(i).mint),e}),new Set))}},{key:"getTradablePoolsPairs",value:(u=$t(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,y=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.fromMint,i=t.toMint,a=null===(n=this._getTokenFromMint(o))||void 0===n?void 0:n.name,u=null===(r=this._getTokenFromMint(i))||void 0===r?void 0:r.name,c=Object.values(this._findRoutes(a,u))[0],a&&u&&c){e.next=6;break}return e.abrupt("return",[]);case 6:return s=[],e.next=9,Promise.all(c.map((function(e){return e.length>2?null:y.getPools({route:e,fromTokenName:a,toTokenName:u})})));case 9:l=e.sent,f=Kt(l),e.prev=11,f.s();case 13:if((d=f.n()).done){e.next=20;break}if(p=d.value){e.next=17;break}return e.abrupt("continue",18);case 17:s.push(p);case 18:e.next=13;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),f.e(e.t0);case 25:return e.prev=25,f.f(),e.finish(25);case 28:return e.abrupt("return",s);case 29:case"end":return e.stop()}}),e,this,[[11,22,25,28]])}))),function(e){return u.apply(this,arguments)})},{key:"findBestPoolsPairForInputAmount",value:function(e){var t=e.inputAmount,n=e.poolsPairs;if(!n.length)return null;var r,o=null,i=y.ZERO,a=Kt(n);try{for(a.s();!(r=a.n()).done;){var u=r.value,c=At(u,t);c&&c.gt(i)&&(i=c,o=u)}}catch(e){a.e(e)}finally{a.f()}return o}},{key:"findBestPoolsPairForEstimatedAmount",value:function(e){var t=e.estimatedAmount,n=e.poolsPairs;if(!n.length)return null;var r,o=null,i=new It.AW(Number.MAX_SAFE_INTEGER),a=Kt(n);try{for(a.s();!(r=a.n()).done;){var u=r.value,c=_t(u,t);c&&c.lt(i)&&(i=c,o=u)}}catch(e){a.e(e)}finally{a.f()}return o}},{key:"getLiquidityProviderFee",value:function(e){var t,n=e.bestPoolsPair,r=e.inputAmount,o=e.slippage;return n&&null!==(t=function(e,t,n){var r;if(!e.length||e.length<=1)return[];var o=e[0],i=null==o||null===(r=o.tokenABalance)||void 0===r?void 0:r.decimals;if(!i)throw Se.unknown();var a=(0,mt.O)(t,i),u=[],c=o.calculatingFees(a);if(u.push(c),2===e.length){var s=e[1],l=o.getMinimumAmountOut(a,n);if(l){var f=s.calculatingFees(l);u.push(f)}}return u}(n,null!=r?r:0,o))&&void 0!==t?t:[]}},{key:"getNetworkFees",value:(a=$t(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,p,y,h,v,m,b,w,g,k=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner,r=t.myWalletsMints,o=t.fromWalletPubkey,i=t.toWalletPubkey,a=t.bestPoolsPair,u=t.inputAmount,c=t.slippage,s=t.lamportsPerSignature,l=t.minRentExempt,f=new It.AW(1),2===(null==a?void 0:a.length)&&(p=r.map((function(e){var t;return null===(t=k._getTokenFromMint(e))||void 0===t?void 0:t.name})).filter(Boolean),y=a[0].tokenBName.toString(),p.includes(y)&&null!==i||(f=f.addn(1))),(h=d.lk.zero()).transaction=new It.AW(h.transaction.add(f.mul(s))),o===n.toBase58()&&(h.transaction=new It.AW(h.transaction.add(s)),h.deposit=new It.AW(h.deposit.add(l))),v=Promise.resolve(!0),2===(null==a?void 0:a.length)&&(b=null===(m=a[0].tokenABalance)||void 0===m?void 0:m.decimals)&&u&&(w=Ct(a,(0,mt.O)(u,b),c))&&(g=this.getMint(w.tokenName))&&("SOL"===w.tokenName?(h.transaction=new It.AW(h.transaction.add(s)),h.deposit=new It.AW(h.deposit.add(l))):v=this._solanaClient.checkIfAssociatedTokenAccountExists(n,g)),i||(h.accountBalances=new It.AW(h.accountBalances.add(l))),e.abrupt("return",v.then((function(e){return e&&(h.accountBalances=new It.AW(h.accountBalances.add(l))),h})));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"prepareForSwapping",value:function(e){var t,n=this,r=e.owner,o=e.fromWalletPubkey,i=e.toWalletPubkey,a=e.bestPoolsPair,u=e.amount,c=e.feePayer,s=e.slippage;if(!a.length)throw Se.swapInfoMissing();var l=null===(t=a[0].tokenABalance)||void 0===t?void 0:t.decimals;if(!l)throw Se.invalidPool();var f=(0,mt.O)(u,l),d=this._solanaClient.getMinimumBalanceForRentExemption(165);if(1===a.length)return d.then((function(e){return n._directSwap({owner:r,pool:a[0],fromTokenPubkey:o,toTokenPubkey:i,amount:f,feePayer:c,slippage:s,minRentExemption:e})})).then((function(e){var t=Ht(e,2);return[[t[0]],t[1]]}));var p=a[0],y=a[1];return d.then((function(e){var t=new It.AW(e);return n.createIntermediaryTokenAndDestinationTokenAddressIfNeeded({owner:r,pool0:p,pool1:y,feePayer:c,minRentExemption:t}).then((function(e){var a=Ht(e,4),u=a[0],l=a[1],d=a[2],h=a[3];return n._transitiveSwap({owner:r,pool0:p,pool1:y,fromTokenPubkey:o,intermediaryTokenAddress:u.toString(),destinationTokenAddress:l.toString(),wsolAccountInstructions:d,isDestinationNew:!i,amount:f,slippage:s,feePayer:c,minRentExemption:t}).then((function(e){var t=Ht(e,2),n=t[0],r=t[1],o=[];return h&&o.push(h),o.push(n),[o,r]}))}))}))}},{key:"swap",value:function(e){var t=this,n=e.owner,r=e.fromWalletPubkey,o=e.toWalletPubkey,i=e.bestPoolsPair,a=e.amount,u=e.slippage,c=e.isSimulation;return this.prepareForSwapping({owner:n,fromWalletPubkey:r,toWalletPubkey:o,bestPoolsPair:i,amount:a,feePayer:null,slippage:u}).then((function(e){var r=e[0];if(!r.length||r.length>2)throw Se.invalidNumberOfTransactions();var o=t.prepareAndSend({swapTransaction:r[0],feePayer:n,isSimulation:2!==r.length&&c});return 2===r.length&&(o=o.then((function(e){return t._solanaClient.waitForConfirmation(e)})).then((function(){return Mt()((function(e){return t.prepareAndSend({swapTransaction:r[1],feePayer:n,isSimulation:c}).catch((function(e){throw e}))}),{minTimeout:1e3,maxTimeout:6e4,factor:1})}))),o.then((function(t){return new d.r9({transactionId:t,newWalletPubkey:e[1]})}))}))}},{key:"prepareAndSend",value:function(e){var t=this,n=e.swapTransaction,r=e.feePayer,o=e.isSimulation;return this._solanaClient.prepareTransaction({owner:this._solanaClient.provider.wallet.publicKey,instructions:n.instructions,signers:n.signers,feePayer:r}).then((function(e){return t._solanaClient.serializeAndSend({preparedTransaction:e,isSimulation:o})}))}},{key:"_findRoutes",value:function(e,t){var n=this._info;if(!n)throw Se.swapInfoMissing();if(!e)return{};if(!t)return(0,Dt.Z)((function(t,n){return n.split("/").includes(e)}),n.routes);var r=[e,t],o=[r.join("/"),r.reverse().join("/")];return(0,Dt.Z)((function(e,t){return o.includes(t)}),n.routes)}},{key:"_directSwap",value:function(e){var t=e.owner,n=e.pool,r=e.fromTokenPubkey,o=e.toTokenPubkey,i=e.amount,a=e.feePayer,u=e.slippage,c=e.minRentExemption,s=this._info;if(!s)throw Se.swapInfoMissing();return St({pools:[n],tokens:s.tokens,solanaClient:this._solanaClient,owner:t,fromTokenPubkey:r,toTokenPubkey:o,amount:i,slippage:u,feePayer:a,minRentExemption:c}).then((function(e){var n=Ht(e,2),r=n[0],i=n[1];return[new Wt({owner:t,instructions:r.instructions.concat(r.cleanupInstructions),signers:r.signers,accountCreationFee:i}),o?null:r.account.toString()]}))}},{key:"_transitiveSwap",value:function(e){var t=e.owner,n=e.pool0,r=e.pool1,o=e.fromTokenPubkey,i=e.intermediaryTokenAddress,a=e.destinationTokenAddress,u=e.feePayer,c=e.wsolAccountInstructions,s=e.isDestinationNew,l=e.amount,f=e.slippage,d=e.minRentExemption,p=this._info;if(!p)throw Se.swapInfoMissing();return St({pools:[n,r],tokens:p.tokens,solanaClient:this._solanaClient,owner:t,fromTokenPubkey:o,intermediaryTokenAddress:i,toTokenPubkey:a,amount:l,slippage:f,feePayer:u,minRentExemption:d}).then((function(e){var n=Ht(e,2),r=n[0],o=n[1],i=r.instructions.concat(r.cleanupInstructions),a=[];return c&&(a.push.apply(a,qt(c.signers)),i.unshift.apply(i,qt(c.instructions)),i.push.apply(i,qt(c.cleanupInstructions)),o=new It.AW(o.add(d))),[new Wt({owner:t,instructions:i,signers:a.concat(r.signers),accountCreationFee:o}),s?r.account.toString():null]}))}},{key:"createIntermediaryTokenAndDestinationTokenAddressIfNeeded",value:function(e){var t,n,r,o,i,a=e.owner,u=e.pool0,c=e.pool1,s=e.feePayer,l=e.minRentExemption,f=null===(t=this._info)||void 0===t||null===(n=t.tokens.get(u.tokenBName.toString()))||void 0===n?void 0:n.mint,d=f?new b.PublicKey(f):null,p=null===(r=this._info)||void 0===r||null===(o=r.tokens.get(c.tokenBName.toString()))||void 0===o?void 0:o.mint,h=p?new b.PublicKey(p):null;if(!d||!h)throw Se.unauthorized();return i=d.equals(g.j.wrappedSOLMint)?this._solanaClient.prepareCreatingWSOLAccountAndCloseWhenDone(a,y.ZERO,null!=s?s:a):this._solanaClient.prepareForCreatingAssociatedTokenAccount(a,d,null!=s?s:a,!0),Promise.all([i,this._solanaClient.prepareForCreatingAssociatedTokenAccount(a,h,null!=s?s:a,!1)]).then((function(e){var t=Ht(e,2),n=t[0],r=t[1],o=[],i=null,u=y.ZERO;return d.equals(g.j.wrappedSOLMint)?(i=n).cleanupInstructions=[]:(o.push.apply(o,qt(n.instructions)),n.instructions.length||(u=new It.AW(u.add(l)))),h.equals(g.j.wrappedSOLMint)?i=r:(o.push.apply(o,qt(r.instructions)),r.instructions.length||(u=new It.AW(u.add(l)))),o.length?[n.account,r.account,i,new Wt({owner:a,instructions:o,accountCreationFee:u})]:[n.account,r.account,i,null]}))}},{key:"getPools",value:(i=$t(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,y=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.route,r=t.fromTokenName,o=t.toTokenName,0!==n.length){e.next=3;break}return e.abrupt("return",[]);case 3:return i=[],e.next=6,Promise.all(n.map((function(e){return y.fixedPool({path:e})})));case 6:a=e.sent,u=Kt(a),e.prev=8,u.s();case 10:if((c=u.n()).done){e.next=17;break}if(s=c.value){e.next=14;break}return e.abrupt("continue",15);case 14:i.push(s);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),u.e(e.t0);case 22:return e.prev=22,u.f(),e.finish(22);case 25:for(2===i.length&&i[0].tokenAName.toString()!==r&&i[0].tokenBName.toString()!==r&&(l=i[0],i[0]=i[1],i[1]=l),f=0;f<i.length;f++)0===f&&((d=i[0]).tokenAName.fixedTokenName!==new He(r).fixedTokenName&&(d=d.reversed),i[0]=d),1===f&&((p=i[1]).tokenBName.fixedTokenName!==new He(o).fixedTokenName&&(p=p.reversed),i[1]=p);return e.abrupt("return",i);case 28:case"end":return e.stop()}}),e,null,[[8,19,22,25]])}))),function(e){return i.apply(this,arguments)})},{key:"fixedPool",value:(o=$t(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.path,o=null===(n=this._info)||void 0===n?void 0:n.pools){e.next=4;break}return e.abrupt("return",null);case 4:if(i=o.get(r)){e.next=7;break}return e.abrupt("return",null);case 7:if(r.includes("[stable]")&&(i.isStable=!0),c=this._balancesCache.getTokenABalance(i),s=this._balancesCache.getTokenBBalance(i),!c||!s){e.next=15;break}a=c,u=s,e.next=21;break;case 15:return e.next=17,Promise.all([this._solanaClient.getTokenAccountBalance(i.tokenAccountA),this._solanaClient.getTokenAccountBalance(i.tokenAccountB)]);case 17:l=e.sent,f=Ht(l,2),a=f[0],u=f[1];case 21:return this._balancesCache.save(i.tokenAccountA.toString(),a),this._balancesCache.save(i.tokenAccountB.toString(),u),i.tokenABalance=a,i.tokenBBalance=u,e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}],n&&Gt(t.prototype,n),r&&Gt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xt(e,t){var n=function(e){var t=[];if(0===e.length)return t;for(var n=0;n+1<e.length;n++)for(var r=n+1;r<e.length;r++){var o=e[n],i=e[r];t.push(en(o,i))}return t}(Array.from(e).filter((function(e){return!0!==Ht(e,2)[1].poolToken})).map((function(e){return Ht(e,1)[0]})));return function(e,t){var n={};return e.forEach((function(e){var r,o,i,a,u=null!==(r=e[0])&&void 0!==r?r:null,c=null!==(o=e[1])&&void 0!==o?o:null;u&&c&&(n[(i=u,a=c,en(i,a).join("/"))]=function(e,t,n){var r=[];return n.forEach((function(n,o){(n.tokenAName.toString()===e&&n.tokenBName.toString()===t||n.tokenAName.toString()===t&&n.tokenBName.toString()===e)&&r.push([o])})),Array.from(n).filter((function(n){var r=Ht(n,2),o=r[1];return o.tokenAName.toString()===e&&o.tokenBName.toString()!==t||o.tokenBName.toString()===e&&o.tokenAName.toString()!==t})).map((function(t){var n=Ht(t,2),r=n[0],o=n[1];return[r,o.tokenBName.toString()===e?o.tokenAName.toString():o.tokenBName.toString()]})).forEach((function(e){var o=Ht(e,2),i=o[0],a=o[1];n.forEach((function(e,n){(e.tokenAName.toString()===a&&e.tokenBName.toString()===t||e.tokenBName.toString()===a&&e.tokenAName.toString()===t)&&r.push([i,n])}))})),r}(u,c,t))})),n}(n,t)}function en(e,t){return"USDC"===e&&"USDT"===t?[e,t]:"USDC"===t&&"USDT"===e?[t,e]:"USDC"===t||"USDT"===t?[e,t]:"USDC"===e||"USDT"===e?[t,e]:e.localeCompare(t)<0?[e,t]:[t,e]}},69021:function(e,t,n){"use strict";n.d(t,{K:function(){return a},O:function(){return u}});var r=n(181),o=n(62197),i=n.n(o);function a(e,t){if(!t)return 0;var n=new(i())(10).pow(new(i())(t)),r=e.div(n),o=e.mod(n);return r.toNumber()+o.toNumber()/n.toNumber()}function u(e,t){return new r.u64(Math.round(e*Math.pow(10,t)))}},16454:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(181),o=n(59917);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"tokenProgramId",get:function(){return r.TOKEN_PROGRAM_ID}},{key:"sysvarRent",get:function(){return o.SYSVAR_RENT_PUBKEY}},{key:"programId",get:function(){return o.SystemProgram.programId}},{key:"wrappedSOLMint",get:function(){return r.NATIVE_MINT}},{key:"splAssociatedTokenAccountProgramId",get:function(){return r.ASSOCIATED_TOKEN_PROGRAM_ID}},{key:"renBTCMint",get:function(){return new o.PublicKey("CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5")}},{key:"renBTCMintDevnet",get:function(){return new o.PublicKey("FsaLodPu4VmSwXGr3gWfwANe4vKf8XSZcCh1CEeJ3jpD")}},{key:"sysvarInstruction",get:function(){return o.SYSVAR_INSTRUCTIONS_PUBKEY}},{key:"secp256k1ProgramId",get:function(){return new o.PublicKey("KeccakSecp256k11111111111111111111111111111")}},{key:"orcaSwapId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return 2===e?new o.PublicKey("9W959DqEETiGZocYWCQPaJ6sBmUzgfxXfqGeTEdp3aQP"):new o.PublicKey("DjVE6JNiYqPL2QXyCUUh8rNjHrbz9hXHNYt99MQ59qw1")}},{key:"usdcMint",get:function(){return new o.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v")}},{key:"usdtMint",get:function(){return new o.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB")}},{key:"dexPID",get:function(){return new o.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin")}},{key:"serumSwapPID",get:function(){return new o.PublicKey("22Y43yTVxuUkoRKdm9thyRhQ3SdgQS7c7kB6UNCiaczD")}},{key:"isUsdx",value:function(e){return e.equals(this.usdcMint)||e.equals(this.usdtMint)}}],(n=null)&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},40253:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{jI:function(){return L},wP:function(){return z},HB:function(){return l},s:function(){return S},ED:function(){return q},lk:function(){return J},mD:function(){return st},gr:function(){return A},Yd:function(){return I},RX:function(){return V},AR:function(){return G},kB:function(){return ue},Qb:function(){return i},g1:function(){return ge},Yc:function(){return nt},qh:function(){return Se},jQ:function(){return m.j},r9:function(){return s},WU:function(){return Ie},IM:function(){return ee},Cg:function(){return pt},w5:function(){return Le},dC:function(){return P},K4:function(){return f.K},$K:function(){return b},MO:function(){return v},F1:function(){return te},OT:function(){return E},On:function(){return f.O},k:function(){return w},fZ:function(){return M}});var i=o((function e(t){var n=t.destination,r=t.isUnregisteredAsocciatedToken;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.destination=void 0,this.isUnregisteredAsocciatedToken=void 0,this.destination=n,this.isUnregisteredAsocciatedToken=r}));function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=u((function e(t){var n=t.transactionId,r=t.newWalletPubkey;c(this,e),this.transactionId=void 0,this.newWalletPubkey=void 0,this.transactionId=n,this.newWalletPubkey=r})),l=u((function e(t){var n=t.account,r=t.instructions,o=void 0===r?[]:r,i=t.cleanupInstructions,a=void 0===i?[]:i,u=t.signers,s=void 0===u?[]:u,l=t.newWalletPubkey,f=t.secretKey;c(this,e),this.account=void 0,this.instructions=void 0,this.cleanupInstructions=void 0,this.signers=void 0,this.newWalletPubkey=void 0,this.secretKey=void 0,this.account=n,this.instructions=o,this.cleanupInstructions=a,this.signers=s,this.newWalletPubkey=l,this.secretKey=f})),f=n(69021),d=n(181),p=n(59917);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m.j.tokenProgramId,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m.j.splAssociatedTokenAccountProgramId;if(!n&&!p.PublicKey.isOnCurve(t.toBuffer()))throw new d.TokenOwnerOffCurveError;var i=p.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],o),a=y(i,1),u=a[0];return u}var m=n(16454);function b(e){return e.filter((function(e){return!e.tags.some((function(e){return"nft"===e||"leveraged"===e||"bull"===e||"lp-token"===e}))}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return e()}catch(e){return t}}var g=n(55568);function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){var n=t.lamportsPerSignature,r=t.minRentExemption;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._lamportsPerSignature=void 0,this._minRentExemption=void 0,this._lamportsPerSignature=n,this._minRentExemption=r}var t,n,r,o,i;return t=e,n=[{key:"calculateNetworkFee",value:(o=regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u,c,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=P(t,this._lamportsPerSignature),o=g.ZERO,i=g.ZERO,a=k(t.instructions);try{for(c=function(){var e=u.value,n=null;switch(e.programId.toString()){case m.j.programId.toString():if(e.data.length<4)break;var r,a;e.data.readUIntBE(0,3)===p.SYSTEM_INSTRUCTION_LAYOUTS.Create.index&&(n=null!==(r=null===(a=e.keys[1])||void 0===a?void 0:a.pubkey)&&void 0!==r?r:null);break;case m.j.splAssociatedTokenAccountProgramId.toString():var c,l;n=null!==(c=null===(l=e.keys[1])||void 0===l?void 0:l.pubkey)&&void 0!==c?c:null}if(n){var f=t.instructions.find((function(e){var t;return 9===e.data[0]&&(null===(t=e.keys[0])||void 0===t?void 0:t.pubkey.toString())===n.toString()}));Boolean(f)?i=new d.u64(i.add(s._lamportsPerSignature)):o=new d.u64(o.add(s._minRentExemption))}},a.s();!(u=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}return e.abrupt("return",new J({transaction:r,accountBalances:o,deposit:i}));case 6:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){O(i,n,r,a,u,"next",e)}function u(e){O(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}],n&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){var n=new p.Transaction;n.instructions=e.instructions,n.recentBlockhash="BdA9gRatFvvwszr9uU5fznkHoMVQE8tf6ZFi8Mp6xdKs",n.feePayer=e.feePayer;var r=n.compileMessage();return new d.u64(r.header.numRequiredSignatures).mul(t)}var A,_=n(21023),T=n.n(_);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(){var e={stack:""};return Error.captureStackTrace(e,C),e.stack}!function(e){e.error="[‼️]",e.info="[ℹ️]",e.debug="[💬]",e.verbose="[🔬]",e.warning="[⚠️]",e.severe="[🔥]",e.request="[⬆️]",e.response="[⬇️]",e.event="[🎇]"}(A||(A={}));var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"log",value:function(e,t,n){var r=(C().match(/\(.*?\)/g)||[])[2]||"",o=r.substring(r.lastIndexOf(T().sep)+1,r.length-1);console.log("".concat((new Date).toLocaleString()," ").concat(t,"[").concat(o,"] -> "),e)}}],(n=null)&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return{pubkey:e.pubkey,isSigner:e.isSigner,isWritable:!1}}function M(e){return{pubkey:e.pubkey,isSigner:e.isSigner,isWritable:!0}}var D,F=n(90203),N=n(8750),B=n(51744);function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.rpcpool="rpcpool"}(D||(D={}));var W={rpcpool:"78306120-3a44-4ede-89f4-6133642ccab2"},L=function(){function e(t){var n=t.address,r=t.network,o=t.socketUrl,i=t.additionalQuery;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.address=void 0,this.network=void 0,this.socketUrl=void 0,this.additionalQuery=void 0,this._apiKeyName=void 0,this.address=n,this.network=r,this.socketUrl=null!=o?o:n.replace("http","ws");var a=i;this.additionalQuery=W[a]||i,this._apiKeyName=W[a]?a:void 0}var t,n,r;return t=e,r=[{key:"_defaultEndpoints",get:function(){return[new e({address:"https://p2p.rpcpool.com",network:"mainnet-beta",additionalQuery:D.rpcpool}),new e({address:"https://solana-api.projectserum.com",network:"mainnet-beta"}),new e({address:(0,p.clusterApiUrl)("mainnet-beta"),network:"mainnet-beta"})]}},{key:"definedEndpoints",get:function(){var t,n=B.a.definedEndpoints.map((function(t){return new e({address:t.urlString,network:t.network,additionalQuery:t.additionalQuery})}));return t=n.length?n:e._defaultEndpoints,(0,F._)(N.A.ShowDevnet)&&(t.push(new e({address:(0,p.clusterApiUrl)("testnet"),network:"testnet"})),t.push(new e({address:(0,p.clusterApiUrl)("devnet"),network:"devnet"}))),t}}],(n=[{key:"getURL",value:function(){var e=this.address,t=this.additionalQuery;return t&&(e+="/"+t),e}},{key:"getSocketURL",value:function(){var e=this.socketUrl,t=this.additionalQuery;return t&&(e+="/"+t),e}},{key:"toJSON",value:function(){var e=this.address,t=this.network,n=this.socketUrl,r=this.additionalQuery;return{address:e,network:t,socketUrl:n,additionalQuery:this._apiKeyName||r}}}])&&Z(t.prototype,n),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mint=void 0,this.owner=void 0,this.lamports=void 0,this.delegateOption=void 0,this.delegate=void 0,this.state=void 0,this.isNativeOption=void 0,this.isNativeRaw=void 0,this.delegatedAmount=void 0,this.closeAuthorityOption=void 0,this.closeAuthority=void 0;var n=d.AccountLayout.decode(t);this.mint=new p.PublicKey(n.mint),this.owner=new p.PublicKey(n.owner),this.lamports=d.u64.fromBuffer(n.amount),this.delegateOption=n.delegateOption,this.delegate=new p.PublicKey(n.delegate),this.state=n.state,this.isNativeOption=n.isNativeOption,this.isNativeRaw=n.isNativeRaw,this.delegatedAmount=new d.u64(n.delegatedAmount),this.closeAuthorityOption=n.closeAuthorityOption,this.closeAuthority=n.closeAuthority?new p.PublicKey(n.closeAuthority):null,0===this.delegateOption&&(this.delegate=null,this.delegatedAmount=g.ZERO),0===this.closeAuthorityOption&&(this.closeAuthority=null)}var t,n,r;return t=e,r=[{key:"decode",value:function(t){try{return new e(t)}catch(e){return null}}}],(n=[{key:"isInitialized",get:function(){return 0!==this.state}},{key:"isFrozen",get:function(){return 2===this.state}},{key:"rentExemptReserve",get:function(){return 1===this.isNativeOption?this.isNativeRaw:null}},{key:"isNative",get:function(){return 1===this.isNativeOption}}])&&U(t.prototype,n),r&&U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}z.span=d.AccountLayout.span;var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"decode",value:function(t){return new e(t)}}],(n=null)&&K(t.prototype,n),r&&K(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mintAuthorityOption=void 0,this._mintAuthority=void 0,this.supply=void 0,this.decimals=void 0,this.isInitialized=void 0,this.freezeAuthorityOption=void 0,this._freezeAuthority=void 0;var n=d.MintLayout.decode(t);this.mintAuthorityOption=n.mintAuthorityOption,this._mintAuthority=n.mintAuthority?new p.PublicKey(n.mintAuthority):null,this.supply=d.u64.fromBuffer(n.supply),this.decimals=n.decimals,this.isInitialized=n.isInitialized,this.freezeAuthorityOption=n.freezeAuthorityOption,this._freezeAuthority=n.freezeAuthority?new p.PublicKey(n.freezeAuthority):null,0===this.mintAuthorityOption&&(this._mintAuthority=null),0===this.freezeAuthorityOption&&(this._freezeAuthority=null)}var t,n,r;return t=e,r=[{key:"decode",value:function(t){return new e(t)}}],(n=[{key:"mintAuthority",get:function(){return this._mintAuthority}},{key:"freezeAuthority",get:function(){return this._freezeAuthority}}])&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}V.span=d.MintLayout.span;var G=Q((function e(t){var n=t.amount,r=t.unit;$(this,e),this.amount=void 0,this.unit=void 0,this.amount=n,this.unit=r})),J=function(){function e(t){var n=t.transaction,r=t.accountBalances,o=t.deposit,i=void 0===o?g.ZERO:o,a=t.others;$(this,e),this.transaction=void 0,this.accountBalances=void 0,this.deposit=g.ZERO,this.others=void 0,this.transaction=new d.u64(n.toString()),this.accountBalances=new d.u64(r.toString()),this.deposit=new d.u64(i.toString()),this.others=a}return Q(e,[{key:"total",get:function(){return new d.u64(this.transaction.add(this.accountBalances).add(this.deposit).toString())}},{key:"toJSON",value:function(){return{transaction:this.transaction.toNumber(),accountBalances:this.accountBalances.toNumber(),deposit:this.deposit.toNumber(),others:this.others,total:this.total.toNumber()}}},{key:"clone",value:function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}}],[{key:"zero",value:function(){return new e({transaction:g.ZERO,accountBalances:g.ZERO})}}]),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(t){var n=t.uiAmount,r=t.amount,o=t.decimals,i=t.uiAmountString;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uiAmount=void 0,this.amount=void 0,this.decimals=void 0,this.uiAmountString=void 0,this.uiAmount=n,this.amount=r,this.decimals=o,this.uiAmountString=i}var t,n,r;return t=e,(n=[{key:"amountInU64",get:function(){return new d.u64(this.amount)}}])&&X(t.prototype,n),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),te=function(e){var t,n,r=e.transaction.message.instructions,o=null!==(t=null===(n=e.meta)||void 0===n?void 0:n.innerInstructions)&&void 0!==t?t:[];return r.map((function(e,t){return{instruction:e,innerInstruction:o.find((function(e){return e.index===t}))}}))},ne=n(17022),re=n.n(ne);function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=function(){function e(t){var n=t.owner,r=t.transaction,o=t.signers,i=t.expectedFee;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.owner=void 0,this.transaction=void 0,this.signers=void 0,this.expectedFee=void 0,this.owner=n,this.transaction=r,this.signers=o,this.expectedFee=i}var t,n,r;return t=e,(n=[{key:"sign",value:function(){var e;this.signers.length>0&&(e=this.transaction).partialSign.apply(e,oe(this.signers))}},{key:"serialize",value:function(){var e=this.transaction,t=e.serialize().toString("base64");I.log(t,A.info);var n=e;return I.log(n,A.info),t}},{key:"findSignature",value:function(e){var t,n=null===(t=this.transaction.signatures.find((function(t){return t.publicKey.equals(e)})))||void 0===t?void 0:t.signature;if(!n)throw console.error(e.toString()),Se.other("Signature not found");return re().encode(n)}},{key:"clone",value:function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}}])&&ae(t.prototype,n),r&&ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&be(e,t)}function pe(e){var t=me();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function he(e){var t="function"==typeof Map?new Map:void 0;return he=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ve(e,arguments,we(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),be(r,e)},he(e)}function ve(e,t,n){return ve=me()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&be(o,n.prototype),o},ve.apply(null,arguments)}function me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function be(e,t){return be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},be(e,t)}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}var ge=function(e){de(n,e);var t=pe(n);function n(){return fe(this,n),t.apply(this,arguments)}return le(n)}(he(Error)),ke=function(e){de(n,e);var t=pe(n);function n(){return fe(this,n),t.apply(this,arguments)}return le(n)}(ge),je=function(e){de(n,e);var t=pe(n);function n(){return fe(this,n),t.apply(this,arguments)}return le(n)}(ge),Oe=function(e){de(n,e);var t=pe(n);function n(){return fe(this,n),t.apply(this,arguments)}return le(n)}(ge),xe=function(e){de(n,e);var t=pe(n);function n(){return fe(this,n),t.apply(this,arguments)}return le(n)}(ge),Se=function(){function e(){fe(this,e)}return le(e,null,[{key:"equals",value:function(e,t){return(Pe(e,t,Oe)||!!Pe(e,t,je))&&e.message===t.message}},{key:"unauthorized",value:function(){return new ke("unauthorized")}},{key:"invalidRequest",value:function(e){return new je(e)}},{key:"other",value:function(e){return new Oe(e)}},{key:"unknown",value:function(){return new xe("Unknown error")}},{key:"couldNotRetrieveAccountInfo",value:function(){return new Oe("Could not retrieve account info")}}]),e}();function Pe(e,t,n){return e instanceof n&&t instanceof n}var Ae=n(5300);function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ce;!function(e){e.sollet="sollet",e.wormhole="wormhole"}(Ce||(Ce={}));var Ie=function(){function e(t){var n=t.chainId,r=t.address,o=t.symbol,i=t.name,a=t.decimals,u=t.logoURI,c=t.tags,s=void 0===c?[]:c,l=t.extensions,f=t.isNative,d=void 0!==f&&f,p=t.supply;Re(this,e),this.network=void 0,this.chainId=void 0,this.address=void 0,this.symbol=void 0,this.name=void 0,this.decimals=void 0,this.logoURI=void 0,this.tags=void 0,this.extensions=void 0,this.supply=void 0,this._isNative=void 0,this.chainId=n,this.address=r,this.symbol=o,this.name=i,this.decimals=a,this.logoURI=u,this.tags=s,this.extensions=l,this.supply=p,this._isNative=d,this.network=(0,Ae.S_)(n)}return Te(e,[{key:"isNative",get:function(){return this._isNative}},{key:"wrappedBy",get:function(){return this.tags.some((function(e){return"wrapped-sollet"===e}))?Ce.sollet:this.tags.some((function(e){return"wrapped"===e}))&&this.tags.some((function(e){return"wormhole"===e}))?Ce.wormhole:null}},{key:"isLiquidity",get:function(){return this.tags.some((function(e){return"lp-token"===e}))}},{key:"isUndefined",get:function(){return""===this.symbol}},{key:"isNativeSOL",get:function(){return"SOL"===this.symbol&&this.isNative}},{key:"isRenBTC",get:function(){return this.address===m.j.renBTCMint.toString()||this.address===m.j.renBTCMintDevnet.toString()}},{key:"equals",value:function(e){return Ee(this,e)}}],[{key:"unsupported",value:function(t){var n=t.mint,r=t.decimals,o=void 0===r?0:r,i=t.symbol;return new e({chainId:101,address:null!=n?n:"<undefined>",symbol:void 0===i?"":i,name:null!=n?n:"<undefined>",decimals:o,logoURI:null,tags:[],extensions:null,supply:t.supply})}},{key:"nativeSolana",get:function(){return new e({chainId:101,address:"So11111111111111111111111111111111111111112",symbol:"SOL",name:"Solana",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",tags:[],extensions:{coingeckoId:"solana"},isNative:!0})}},{key:"renBTC",get:function(){return new e({chainId:101,address:m.j.renBTCMint.toString(),symbol:"renBTC",name:"renBTC",decimals:8,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5/logo.png",extensions:{website:"https://renproject.io/",serumV3Usdc:"74Ciu5yRzhe8TFTHvQuEVbFZJrbnCMRoohBK33NNiPtv",coingeckoId:"renbtc"}})}},{key:"usdc",get:function(){return new e({chainId:101,address:m.j.renBTCMint.toString(),symbol:"USDC",name:"USDC",decimals:8,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",extensions:{coingeckoId:"usd-coin"}})}}]),e}(),Ee=function(e,t){return void 0!==e&&void 0!==t&&e.address===t.address&&e.network===t.network},Me=n(80075),De=n(82296),Fe=n(7954);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var We={_isHidden:!1},Le=function(){function e(t){var n=t.pubkey,r=void 0===n?null:n,o=t.lamports,i=void 0===o?null:o,a=t.supply,u=void 0===a?null:a,c=t.token;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pubkey=void 0,this.lamports=void 0,this.token=void 0,this.userInfo=null,this.supply=void 0,this.pubkey=r,this.lamports=i,this.supply=u,this.token=c,(0,Me.ky)(this)}var t,n,r;return t=e,n=[{key:"isNativeSOL",get:function(){return this.token.isNativeSOL}},{key:"amount",get:function(){return this.lamports?(0,f.K)(this.lamports,this.token.decimals):0}},{key:"name",get:function(){var e;return this.pubkey&&null!==(e=Fe.k.walletName[this.pubkey])&&void 0!==e?e:this.token.symbol}},{key:"isHidden",get:function(){return!(this.token.isNativeSOL||!this.pubkey||!Fe.k.hiddenWalletPubkey.includes(this.pubkey)&&(Fe.k.unhiddenWalletPubkey.includes(this.pubkey)||!Fe.k.hideZeroBalances||0!==this.amount))}},{key:"price",get:function(){var e;return null!==(e=this.getParsedUserInfo().price)&&void 0!==e?e:null},set:function(e){var t=this.getParsedUserInfo();t.price=e,this.userInfo=t}},{key:"priceInCurrentFiat",get:function(){var e,t;return null!==(e=null===(t=this.price)||void 0===t?void 0:t.value)&&void 0!==e?e:0}},{key:"amountInCurrentFiat",get:function(){return this.amount*this.priceInCurrentFiat}},{key:"shortAddress",get:function(){var e,t;return"".concat(null===(e=this.pubkey)||void 0===e?void 0:e.slice(0,4),"…").concat(null===(t=this.pubkey)||void 0===t?void 0:t.slice(-4))}},{key:"updateVisibility",value:function(){var e=this.getParsedUserInfo();e._isHidden=this.isHidden,this.userInfo=e}},{key:"getParsedUserInfo",value:function(){var e;return null!==(e=this.userInfo)&&void 0!==e?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},We)}},{key:"increaseBalance",value:function(e){var t,n=null!==(t=this.lamports)&&void 0!==t?t:g.ZERO;this.lamports=n.add(e)}},{key:"decreaseBalance",value:function(e){var t,n=null!==(t=this.lamports)&&void 0!==t?t:g.ZERO;n.gte(e)?this.lamports=n.sub(e):this.lamports=g.ZERO}},{key:"mintAddress",get:function(){return this.token.address}}],r=[{key:"nativeSolana",value:function(t){var n=t.pubkey,r=void 0===n?null:n,o=t.lamports;return new e({pubkey:r,lamports:void 0===o?null:o,token:Ie.nativeSolana})}},{key:"defaultSorter",value:function(e,t){return e.isNativeSOL!==t.isNativeSOL?e.isNativeSOL?-1:1:e.token.isLiquidity!==t.token.isLiquidity?e.token.isLiquidity?1:-1:e.amountInCurrentFiat!==t.amountInCurrentFiat?e.amountInCurrentFiat>t.amountInCurrentFiat?-1:1:(0,De.Z)(e.token.symbol)!==(0,De.Z)(t.token.symbol)?(0,De.Z)(e.token.symbol)?1:-1:e.amount!==t.amount?e.amount>t.amount?-1:1:e.token.symbol!==t.token.symbol?e.token.symbol<t.token.symbol?-1:1:e.name<t.name?-1:1}}],n&&Ze(t.prototype,n),r&&Ze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ue=n(79771),ze=n.n(Ue),Ke=n(48834).Buffer;function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ve(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$e(i,r,o,a,u,"next",e)}function u(e){$e(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nt=function(){function e(t){var n=t.provider,r=t.endpoint;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.provider=void 0,this.endpoint=void 0,this.provider=n,this.endpoint=r}var t,n,r,o,a,u,c,s,f,y,h,b,w,g,k,j,O,x;return t=e,n=[{key:"getAccountInfo",value:function(e){var t=e.account,n=e.decodedTo,r=new p.PublicKey(t);return this.provider.connection.getAccountInfo(r).then((function(e){return e?Xe(Xe({},e),{},{data:n.decode(e.data)}):null}))}},{key:"getAccountInfoOr",value:(x=Ge(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.account,r=t.anotherAccount,o=t.decodedTo,n){e.next=3;break}return e.abrupt("return",null);case 3:return i=null,e.prev=4,e.next=7,this.getAccountInfo({account:n,decodedTo:o});case 7:i=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:if(!i){e.next=16;break}return e.abrupt("return",i);case 16:if(!r){e.next=20;break}return e.abrupt("return",this.getAccountInfo({account:r,decodedTo:o}));case 20:throw Se.couldNotRetrieveAccountInfo();case 21:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return x.apply(this,arguments)})},{key:"getMinimumBalanceForRentExemption",value:(O=Ge(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d.u64,e.next=3,this.provider.connection.getMinimumBalanceForRentExemption(t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"getMultipleAccounts",value:(j=Ge(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pubkeys,r=t.decodedTo,0!==n.length){e.next=3;break}return e.abrupt("return",Promise.resolve([]));case 3:return o=n.map((function(e){return new p.PublicKey(e)})),e.next=6,this.provider.connection.getMultipleAccountsInfo(o);case 6:return e.abrupt("return",e.sent.map((function(e){return e?Xe(Xe({},e),{},{data:r.decode(e.data)}):null})));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"getRecentBlockhash",value:(k=Ge(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.connection.getRecentBlockhash(t);case 2:return e.abrupt("return",e.sent.blockhash);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"getTokenAccountBalance",value:(g=Ge(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.connection.getTokenAccountBalance(new p.PublicKey(t),n);case 2:if((r=e.sent).value.amount){e.next=5;break}throw Se.couldNotRetrieveAccountInfo();case 5:return e.abrupt("return",new ee(r.value));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"waitForConfirmation",value:function(e){var t=this,n=!1;return ze()((function(r){return t.provider.connection.getSignatureStatus(e).then((function(e){var t,r,o,i=null===(t=e.value)||void 0===t?void 0:t.confirmations;if(i&&i>0&&(n=!0),null!==(null===(r=e.value)||void 0===r?void 0:r.confirmations)&&"finalized"!==(null===(o=e.value)||void 0===o?void 0:o.confirmationStatus))throw new Error("Status has not been confirmed")})).catch(r)}),{retries:30,minTimeout:1e3,maxTimeout:2e3,factor:1}).catch((function(e){if(!n)throw e}))}},{key:"getMultipleMintDatas",value:function(e){var t=e.mintAddresses,n=e.programId,r=void 0===n?m.j.tokenProgramId.toString():n;return this.getMultipleAccounts({pubkeys:t,decodedTo:V}).then((function(e){if(e.some((function(e){return(null==e?void 0:e.owner.toString())!==r})))throw Se.other("Invalid mint owner");var n=e.map((function(e){var t;return null!==(t=null==e?void 0:e.data)&&void 0!==t?t:null}));if(n.length!==t.length)throw Se.other("Some of mint data are missing");return n}))}},{key:"checkIfAssociatedTokenAccountExists",value:(w=Ge(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new p.PublicKey(n),e.next=3,d.Token.getAssociatedTokenAddress(m.j.splAssociatedTokenAccountProgramId,m.j.tokenProgramId,r,t);case 3:return o=e.sent,e.abrupt("return",this.provider.connection.getAccountInfo(o).then((function(e){if(!e)throw Se.couldNotRetrieveAccountInfo();return e.data.mint===n})).catch((function(e){if(e===Se.couldNotRetrieveAccountInfo())return!1;throw e})));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return w.apply(this,arguments)})},{key:"prepareTransaction",value:(b=Ge(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,y,h,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.owner,r=t.instructions,o=t.signers,i=void 0===o?[]:o,a=t.feePayer,u=t.feeCalculator,(c=new p.Transaction).instructions=r,c.feePayer=a,!u){e.next=8;break}s=u,e.next=20;break;case 8:return e.t0=d.u64,e.next=11,this.provider.connection.getRecentBlockhash();case 11:return e.t1=e.sent.feeCalculator.lamportsPerSignature,l=new e.t0(e.t1),e.t2=d.u64,e.next=16,this.getMinimumBalanceForRentExemption(z.span);case 16:e.t3=e.sent,f=new e.t2(e.t3),y=null!=l?l:new d.u64(5e3),s=new S({lamportsPerSignature:y,minRentExemption:f});case 20:return e.next=22,s.calculateNetworkFee(c,this.provider.connection);case 22:return h=e.sent,e.next=25,this.getRecentBlockhash();case 25:if(v=e.sent,c.recentBlockhash=v,i.length>0&&c.partialSign.apply(c,Ve(i)),m=c,!n){e.next=33;break}return e.next=32,this.provider.wallet.signTransaction(c);case 32:m=e.sent;case 33:return e.abrupt("return",new ue({owner:n,transaction:m,signers:i,expectedFee:h}));case 34:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"sendTransaction",value:(h=Ge(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.preparedTransaction,r=3,o=0,e.prev=3,e.next=6,this.getRecentBlockhash();case 6:return i=e.sent,e.next=9,this.signAndSerialize({preparedTransaction:n,recentBlockhash:i});case 9:return a=e.sent,e.abrupt("return",this.provider.connection.sendEncodedTransaction(a));case 13:if(e.prev=13,e.t0=e.catch(3),console.error(e.t0),!(o<=r)){e.next=22;break}if(u=!1,e.t0.message.includes("Blockhash not found")&&(u=!0),!u){e.next=22;break}return o+=1,e.abrupt("return",this.sendTransaction({preparedTransaction:n}));case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e){return h.apply(this,arguments)})},{key:"signAndSerialize",value:(y=Ge(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.preparedTransaction,r=t.recentBlockhash,(o=n).transaction.recentBlockhash=r,o.sign(),e.next=6,this.provider.wallet.signTransaction(o.transaction);case 6:return o.transaction=e.sent,e.abrupt("return",o.serialize());case 8:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"serializeAndSend",value:function(e){var t,n=this,r=e.preparedTransaction,o=e.isSimulation;if(o)t=this.provider.connection.simulateTransaction(r.transaction).then((function(e){if(e.value.err)throw Error("Simulation error");return"simulated transaction id"}));else{var i=r.serialize();t=this.provider.connection.sendEncodedTransaction(i)}var a=0;return t.catch((function(e){if(a<=3){var t=!1;if(e.message.includes("Blockhash not found")&&(t=!0),t)return a+=1,n.serializeAndSend({preparedTransaction:r,isSimulation:o})}throw e}))}},{key:"serializeAndSendTraditional",value:function(e){var t=this,n=e.instructions,r=e.recentBlockhash,o=void 0===r?null:r,i=e.signers,a=e.isSimulation,u=0;return this.serializeTransaction({instructions:n,recentBlockhash:o,signers:i}).then((function(e){if(a){var n=p.Transaction.from(Ke.from(e,"base64"));return t.provider.connection.simulateTransaction(n).then((function(e){if(e.value.err)throw Error("Simulation error");return"simulated transaction id"}))}return t.provider.connection.sendEncodedTransaction(e)})).catch((function(e){if(u<=3){var r=!1;if(e.message.includes("Blockhash not found")&&(r=!0),r)return u+=1,t.serializeAndSendTraditional({instructions:n,signers:i,isSimulation:a})}throw e}))}},{key:"serializeTransaction",value:function(e){var t,n=this,r=e.instructions,o=e.recentBlockhash,i=void 0===o?null:o,a=e.signers,u=void 0===a?[]:a,c=e.feePayer,s=void 0===c?null:c;t=i?Promise.resolve(i):this.getRecentBlockhash();var l=null!=s?s:this.provider.wallet.publicKey;if(!s)throw Se.invalidRequest("Fee-payer not found");return t.then(function(){var e=Ge(regeneratorRuntime.mark((function e(t){var o,i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new p.Transaction).instructions=r,o.feePayer=l,o.recentBlockhash=t,o.partialSign.apply(o,Ve(u)),e.next=7,n.provider.wallet.signTransaction(o);case 7:return i=e.sent,a=i.serialize().toString("base64"),c=o,I.log(c,A.info),I.log(a,A.info),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"prepareCreatingWSOLAccountAndCloseWhenDone",value:function(e,t,n){return this.provider.connection.getMinimumBalanceForRentExemption(z.span).then((function(r){var o=new p.Keypair;return new l({account:o.publicKey,instructions:[p.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:o.publicKey,lamports:t.addn(r).toNumber(),space:z.span,programId:m.j.tokenProgramId}),d.Token.createInitAccountInstruction(m.j.tokenProgramId,m.j.wrappedSOLMint,o.publicKey,n)],cleanupInstructions:[d.Token.createCloseAccountInstruction(m.j.tokenProgramId,o.publicKey,n,e,[])],signers:[o],secretKey:o.secretKey})}))}},{key:"prepareForCreatingAssociatedTokenAccount",value:(f=Ge(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Token.getAssociatedTokenAddress(m.j.splAssociatedTokenAccountProgramId,m.j.tokenProgramId,n,t);case 2:return i=e.sent,e.prev=3,e.next=6,this.getAccountInfo({account:i.toString(),decodedTo:z});case 6:if((null==(c=e.sent)?void 0:c.owner.toString())!==m.j.tokenProgramId.toString()||(null==c||null===(u=c.data)||void 0===u?void 0:u.owner.toString())!==t.toString()){e.next=11;break}a=!0,e.next=12;break;case 11:throw Error("Associated token account is belong to another user");case 12:e.next=22;break;case 14:if(e.prev=14,e.t0=e.catch(3),console.error(e.t0),e.t0!==Se.couldNotRetrieveAccountInfo()){e.next=21;break}a=!1,e.next=22;break;case 21:throw e.t0;case 22:if(s=[],o&&(s=[d.Token.createCloseAccountInstruction(m.j.tokenProgramId,i,t,t,[])]),!a){e.next=26;break}return e.abrupt("return",new l({account:i,cleanupInstructions:[]}));case 26:return e.abrupt("return",new l({account:i,instructions:[d.Token.createAssociatedTokenAccountInstruction(m.j.splAssociatedTokenAccountProgramId,m.j.tokenProgramId,n,i,t,r)],cleanupInstructions:s,newWalletPubkey:i.toString()}));case 27:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e,t,n,r){return f.apply(this,arguments)})},{key:"prepareSendingNativeSOL",value:(s=Ge(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.account,r=t.destination,o=t.amount,i=t.feePayer,a=null!=i?i:n,(u=n).toString()!==r){e.next=5;break}throw Se.other("You can not send tokens to yourself");case 5:return c=null,e.prev=6,e.next=9,this.getAccountInfo({account:r,decodedTo:q});case 9:if(c=e.sent,(null===(s=c)||void 0===s?void 0:s.owner.toString())===m.j.programId.toString()){e.next=12;break}throw Se.other("Invalid account info");case 12:e.next=22;break;case 14:if(e.prev=14,e.t0=e.catch(6),console.error(e.t0),e.t0!==Se.couldNotRetrieveAccountInfo()){e.next=21;break}c=null,e.next=22;break;case 21:throw e.t0;case 22:return l=p.SystemProgram.transfer({fromPubkey:u,toPubkey:new p.PublicKey(r),lamports:o.toNumber()}),e.abrupt("return",this.prepareTransaction({owner:n,instructions:[l],feePayer:a}));case 24:case"end":return e.stop()}}),e,this,[[6,14]])}))),function(e){return s.apply(this,arguments)})},{key:"prepareSendingSPLTokens",value:(c=Ge(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,y,h,b,w,g,k,j,O,x,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.mintAddress,o=t.decimals,i=t.fromPublicKey,a=t.destinationAddress,u=t.amount,c=t.feePayer,s=t.transferChecked,l=null!=c?c:n,e.next=4,this.findSPLTokenDestinationAddress({mintAddress:r,destinationAddress:a});case 4:if(f=e.sent,y=f.destination,i!==y.toString()){e.next=8;break}throw Se.other("You can not send tokens to yourself");case 8:return h=new p.PublicKey(i),b=[],f.isUnregisteredAsocciatedToken&&(w=new p.PublicKey(r),g=new p.PublicKey(a),k=v(w,g),j=d.Token.createAssociatedTokenAccountInstruction(m.j.splAssociatedTokenAccountProgramId,m.j.tokenProgramId,w,k,g,l),b.push(j)),O=s?d.Token.createTransferCheckedInstruction(m.j.tokenProgramId,h,new p.PublicKey(r),f.destination,n,[],u,o):d.Token.createTransferInstruction(m.j.tokenProgramId,h,y,n,[],u),b.push(O),x=a,f.isUnregisteredAsocciatedToken||(x=f.destination.toString()),e.next=17,this.prepareTransaction({owner:this.provider.wallet.publicKey,instructions:b,feePayer:l});case 17:return S=e.sent,e.abrupt("return",{preparedTransaction:S,realDestination:x});case 19:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"checkAccountValidation",value:function(e){return this.getAccountInfo({account:e,decodedTo:q}).then((function(){return!0})).catch((function(e){if(e.message===Se.couldNotRetrieveAccountInfo().message)return!1;throw e}))}},{key:"findSPLTokenDestinationAddress",value:(u=Ge(regeneratorRuntime.mark((function e(t){var n,r,o,a,u,c,s,l,f,d,y,h,b,w,g,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.mintAddress,r=t.destinationAddress,a=null,e.prev=2,e.next=5,this.getAccountInfoThrowable({account:r,decodedTo:z});case 5:if(a=e.sent,l=null===(u=a)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.mint.toString(),n!==l){e.next=11;break}o=r,e.next=18;break;case 11:if((null===(s=a)||void 0===s?void 0:s.owner.toString())!==m.j.programId.toString()){e.next=17;break}f=new p.PublicKey(r),d=new p.PublicKey(n),o=v(d,f).toString(),e.next=18;break;case 17:throw Se.invalidRequest("Wallet address is not valid");case 18:e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(2),console.error(e.t0,a,r),!Se.equals(e.t0,Se.couldNotRetrieveAccountInfo())){e.next=29;break}y=new p.PublicKey(r),h=new p.PublicKey(n),o=v(h,y).toString(),e.next=30;break;case 29:throw e.t0;case 30:if(b=new p.PublicKey(o),w=!1,r===b.toString()){e.next=45;break}return k=null,e.prev=34,e.next=37,this.getAccountInfoThrowable({account:b.toString(),decodedTo:z});case 37:k=e.sent,e.next=43;break;case 40:e.prev=40,e.t1=e.catch(34),k=null;case 43:w=!0,(null===(g=k)||void 0===g?void 0:g.owner.toString())===m.j.tokenProgramId.toString()&&(w=!1);case 45:return e.abrupt("return",new i({destination:b,isUnregisteredAsocciatedToken:w}));case 46:case"end":return e.stop()}}),e,this,[[2,20],[34,40]])}))),function(e){return u.apply(this,arguments)})},{key:"getCreatingTokenAccountFee",value:function(){return this.getMinimumBalanceForRentExemption(z.span)}},{key:"closeTokenAccount",value:function(e){var t=e.tokenPubkey,n=e.isSimulation,r=void 0!==n&&n,o=this.provider.wallet.publicKey;if(!o)throw Se.unauthorized();var i=new p.PublicKey(t),a=d.Token.createCloseAccountInstruction(m.j.tokenProgramId,i,o,o,[]);return this.serializeAndSendTraditional({instructions:[a],isSimulation:r})}},{key:"getTokenWallets",value:(a=Ge(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u,c,s,l,f,d,y,h,v,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.connection.getTokenAccountsByOwner(new p.PublicKey(t),{programId:m.j.tokenProgramId});case 2:return r=e.sent,e.next=5,(null!=n?n:new pt({endpoint:this.endpoint})).getTokensList();case 5:o=e.sent,i=[],a=[],u=o,c=He(r.value);try{for(l=function(){var e=s.value,t=e.pubkey,n=z.decode(e.account.data),r=n.mint.toString(),o=u.find((function(e){return e.address===r}));o?i.push(new Le({pubkey:t.toString(),lamports:n.lamports,token:o})):a.push([e.pubkey.toString(),n])},c.s();!(s=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}return e.next=13,this.getMultipleMintDatas({mintAddresses:a.map((function(e){return e[1].mint.toString()}))});case 13:if(f=e.sent,Object.keys(f).length===a.length){e.next=16;break}throw Se.unknown();case 16:d=[],y=He(f.entries());try{for(y.s();!(h=y.n()).done;)v=qe(h.value,2),b=v[0],w=v[1],d.push(new Le({pubkey:a[b][0],lamports:a[b][1].lamports,token:Ie.unsupported({mint:a[b][1].mint.toString(),decimals:null==w?void 0:w.decimals,supply:null==w?void 0:w.supply})}))}catch(e){y.e(e)}finally{y.f()}return e.abrupt("return",i.concat(d));case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getAccountInfoThrowable",value:(o=Ge(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,r=t.decodedTo,o=null,e.prev=2,e.next=5,this.getAccountInfo({account:n,decodedTo:r});case 5:o=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:if(o){e.next=12;break}throw Se.couldNotRetrieveAccountInfo();case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return o.apply(this,arguments)})}],n&&tt(t.prototype,n),r&&tt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rt=n(55257);function ot(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i;return t=e,n=[{key:"parse",value:(o=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new rt.DK).resolve();case 2:return n=e.sent,r=n.getList().map((function(e){return new Ie(e)})),"devnet"===t&&r.push(new Ie({chainId:101,address:"FsaLodPu4VmSwXGr3gWfwANe4vKf8XSZcCh1CEeJ3jpD",symbol:"renBTC",name:"renBTC",decimals:8,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5/logo.png",extensions:{website:"https://renproject.io/",serumV3Usdc:"74Ciu5yRzhe8TFTHvQuEVbFZJrbnCMRoohBK33NNiPtv",coingeckoId:"renbtc"}})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){ot(i,n,r,a,u,"next",e)}function u(e){ot(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})}],n&&it(t.prototype,n),r&&it(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ut=n(69645);function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var st=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenCache=new ut.C,this._tokenCacheKey="TokenRepositoryTokensKey"}var t,n,r;return t=e,(n=[{key:"getTokens",value:function(){return this._tokenCache.value(this._tokenCacheKey)}},{key:"save",value:function(e){this._tokenCache.insert(e,this._tokenCacheKey)}}])&&ct(t.prototype,n),r&&ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function lt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ft(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lt(i,r,o,a,u,"next",e)}function u(e){lt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pt=function(){function e(t){var n=t.endpoint,r=t.tokenListParser,o=void 0===r?new at:r,i=t.cache,a=void 0===i?new st:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cache=void 0,this._tokenListParser=void 0,this._endpoint=void 0,this._endpoint=n,this._tokenListParser=o,this._cache=a}var t,n,r,o,i;return t=e,n=[{key:"getTokensList",value:(i=ft(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>0&&void 0!==r[0]&&!r[0]){e.next=5;break}if(!(t=this._cache.getTokens())){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this._tokenListParser.parse(this._endpoint.network);case 7:return n=e.sent,this._cache.save(n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getTokenWithMint",value:(o=ft(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",Ie.unsupported({}));case 2:return e.next=4,this.getTokensList();case 4:if(n=e.sent,"So11111111111111111111111111111111111111112"!==t){e.next=9;break}return e.abrupt("return",null!==(r=n.find((function(e){return e.address===t&&"SOL"===e.symbol})))&&void 0!==r?r:Ie.unsupported({mint:t}));case 9:return e.abrupt("return",null!==(o=n.find((function(e){return e.address===t})))&&void 0!==o?o:Ie.unsupported({mint:t}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}],n&&dt(t.prototype,n),r&&dt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},65378:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{st:function(){return o},Wh:function(){return u},XL:function(){return w},qb:function(){return b},i8:function(){return d},SS:function(){return l},RA:function(){return fe},LU:function(){return p},Z$:function(){return s}});var o=function(){function e(t){var n=t.reimbursedAmount,r=t.closedWallet;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reimbursedAmount=void 0,this.closedWallet=void 0,this.reimbursedAmount=n,this.closedWallet=r}var t,n,o;return t=e,(n=[{key:"amount",get:function(){var e;return null!==(e=this.reimbursedAmount)&&void 0!==e?e:0}},{key:"symbol",get:function(){return"SOL"}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,u=function(){function e(t){var n=t.fee,r=t.newWallet;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fee=void 0,this.newWallet=void 0,this.fee=n,this.newWallet=r}var t,n,r;return t=e,r=[{key:"empty",value:function(){return new e({fee:null,newWallet:null})}}],(n=[{key:"amount",get:function(){var e;return-(null!==(e=this.fee)&&void 0!==e?e:0)}},{key:"symbol",get:function(){return"SOL"}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.spend="spend",e.receive="receive",e.transitive="transitive"}(a||(a={}));var s,l=function(){function e(t){var n=t.source,r=t.sourceAmount,o=t.destination,i=t.destinationAmount,a=t.accountSymbol;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=void 0,this.sourceAmount=void 0,this.destination=void 0,this.destinationAmount=void 0,this.accountSymbol=void 0,this.source=n,this.sourceAmount=r,this.destination=o,this.destinationAmount=i,this.accountSymbol=a}var t,n,r;return t=e,r=[{key:"empty",value:function(){return new e({source:null,sourceAmount:null,destination:null,destinationAmount:null,accountSymbol:null})}}],(n=[{key:"direction",get:function(){var e,t;return this.accountSymbol===(null===(e=this.source)||void 0===e?void 0:e.token.symbol)?a.spend:this.accountSymbol===(null===(t=this.destination)||void 0===t?void 0:t.token.symbol)?a.receive:a.transitive}},{key:"amount",get:function(){var e,t;switch(this.direction){case a.spend:return-(null!==(e=this.sourceAmount)&&void 0!==e?e:0);case a.receive:case a.transitive:return null!==(t=this.destinationAmount)&&void 0!==t?t:0}}},{key:"symbol",get:function(){var e,t;switch(this.direction){case a.spend:return null===(e=this.source)||void 0===e?void 0:e.token.symbol;case a.receive:case a.transitive:return null===(t=this.destination)||void 0===t?void 0:t.token.symbol}}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.send="send",e.receive="receive"}(s||(s={}));var d,p=function(){function e(t){var n=t.source,r=t.destination,o=t.authority,i=t.destinationAuthority,a=t.rawAmount,u=t.account;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=void 0,this.destination=void 0,this.authority=void 0,this.destinationAuthority=void 0,this.rawAmount=void 0,this.account=void 0,this.source=n,this.destination=r,this.authority=o,this.destinationAuthority=i,this.rawAmount=a,this.account=u}var t,n,r;return t=e,(n=[{key:"transferType",get:function(){var e;return(null===(e=this.source)||void 0===e?void 0:e.pubkey)===this.account||this.authority===this.account?s.send:s.receive}},{key:"amount",get:function(){var e,t=null!==(e=this.rawAmount)&&void 0!==e?e:0;return this.transferType===s.send&&(t=-t),t}},{key:"symbol",get:function(){var e,t,n,r;return null!==(e=null!==(t=null===(n=this.source)||void 0===n?void 0:n.token.symbol)&&void 0!==t?t:null===(r=this.destination)||void 0===r?void 0:r.token.symbol)&&void 0!==e?e:""}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),y=n(40253);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.requesting="requesting",e.processing="processing",e.confirmed="confirmed",e.error="error"}(d||(d={}));var b=function(){function e(t){var n=t.type,r=t.percent,o=t.error;h(this,e),this.type=void 0,this._percent=void 0,this._error=void 0,this.type=n,this._percent=r,this._error=o}return m(e,[{key:"getError",get:function(){return this.type===d.error&&this._error?y.qh.other(this._error):null}},{key:"rawValue",get:function(){switch(this.type){case d.requesting:return"requesting";case d.processing:return"processing";case d.confirmed:return"confirmed";case d.error:return"error"}}}],[{key:"requesting",value:function(){return new e({type:d.requesting})}},{key:"processing",value:function(t){return new e({type:d.processing,percent:t})}},{key:"confirmed",value:function(){return new e({type:d.confirmed})}},{key:"error",value:function(t){return new e({type:d.error,error:t})}}]),e}(),w=function(){function e(t){var n=t.status,r=t.signature,o=t.info,i=t.amountInFiat,a=void 0===i?null:i,u=t.slot,c=t.blockTime,s=t.fee,l=t.blockhash,f=t.paidByP2POrg,d=void 0!==f&&f;h(this,e),this.status=void 0,this.signature=void 0,this.info=void 0,this.amountInFiat=void 0,this.slot=void 0,this.blockTime=void 0,this.fee=void 0,this.blockhash=void 0,this.paidByP2POrg=!1,this.status=n,this.signature=r,this.info=o,this.amountInFiat=a,this.slot=u,this.blockTime=c,this.fee=s,this.blockhash=l,this.paidByP2POrg=d}return m(e,[{key:"amount",get:function(){var e,t=this.info;return t&&null!==(e=t.amount)&&void 0!==e?e:0}},{key:"symbol",get:function(){var e,t=this.info;return t&&null!==(e=t.symbol)&&void 0!==e?e:""}},{key:"isProcessing",get:function(){switch(this.status.type){case d.requesting:case d.processing:return!0;default:return!1}}},{key:"isFailure",get:function(){return this.status.type===d.error}}]),e}(),g=n(55568),k=n(181),j=n(69645);function O(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,u,"next",e)}function u(e){O(i,r,o,a,u,"throw",e)}a(void 0)}))}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.apiClient,r=t.cache;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiClient=void 0,this.cache=void 0,this.apiClient=n,this.cache=null!=r?r:new j.C}var t,n,r,o,i,a;return t=e,n=[{key:"calculate",value:(a=x(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,h,v,m,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transactionInfo,o=t.feePayers,i=r.transaction,e.next=4,this._getLamportPerSignature();case 4:return a=e.sent,e.next=7,this._getRentException();case 7:return u=e.sent,c=i.message.instructions.filter((function(e){var t;return e.programId.toString()===y.jQ.tokenProgramId.toString()&&"create"===(null===(t=e.parsed)||void 0===t?void 0:t.type)})),s=i.message.instructions.filter((function(e){var t;return e.programId.toString()===y.jQ.programId.toString()&&"createAccount"===(null===(t=e.parsed)||void 0===t?void 0:t.type)})),l=i.message.instructions.filter((function(e){var t;return e.programId==y.jQ.tokenProgramId&&"closeAccount"===(null===(t=e.parsed)||void 0===t?void 0:t.type)})),f=l.filter((function(e){return s.some((function(t){var n,r;return(null===(n=t.parsed)||void 0===n?void 0:n.info.newAccount)===(null===(r=e.parsed)||void 0===r?void 0:r.info.account)}))||c.some((function(t){var n,r;return(null===(n=t.parsed)||void 0===n?void 0:n.info.account)===(null===(r=e.parsed)||void 0===r?void 0:r.info.account)}))})),d=c.length+s.length-f.length,p=f.length,h=a.muln(i.signatures.length),v=u.muln(d),m=u.muln(p),(b=null===(n=i.message.accountKeys[0])||void 0===n?void 0:n.pubkey.toString())&&o.some((function(e){return e===b}))&&(h=g.ZERO),e.abrupt("return",new y.lk({transaction:h,accountBalances:v,deposit:m}));case 20:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_getRentException",value:(i=x(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="rentExemption",!(n=this.cache.value(t))){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,this.apiClient.getMinimumBalanceForRentExemption(65);case 6:return n=e.sent,this.cache.insert(n,t),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_getLamportPerSignature",value:(o=x(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="lamportsPerSignature",!(r=this.cache.value(n))){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,this.apiClient.provider.connection.getRecentBlockhash();case 6:return o=e.sent,r=null!==(t=o.feeCalculator)&&void 0!==t&&t.lamportsPerSignature?new k.u64(o.feeCalculator.lamportsPerSignature):new k.u64(5e3),this.cache.insert(r,n),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],n&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var T=_((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function R(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}T.SOL=9;var I=function(){function e(t){var n=t.tokensRepository;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokensRepository=void 0,this._tokensRepository=n}var t,n,r,i,a;return t=e,n=[{key:"isHandlable",value:function(e){var t,n,r=e.transaction.message.instructions;return 1===r.length&&"closeAccount"===(null===(t=r[0])||void 0===t||null===(n=t.parsed)||void 0===n?void 0:n.type)}},{key:"parse",value:(i=regeneratorRuntime.mark((function e(t){var n,r,i,a,u,c,s,l,f,d,p,h,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.transactionInfo,l=s.transaction.message.instructions,f=null===(n=l[0])||void 0===n||null===(r=n.parsed)||void 0===r?void 0:r.info.account,d=null===(i=s.meta)||void 0===i?void 0:i.preBalances,p=null===(a=s.meta)||void 0===a||null===(u=a.preTokenBalances)||void 0===u?void 0:u[0],(null!==(c=null==d?void 0:d.length)&&void 0!==c?c:0)>1&&(h=new k.u64(d[1])),v=h?(0,y.K4)(h,T.SOL):null,e.next=9,this._tokensRepository.getTokenWithMint(null==p?void 0:p.mint);case 9:return m=e.sent,e.abrupt("return",new o({reimbursedAmount:v,closedWallet:new y.w5({pubkey:f,lamports:null,token:m})}));case 11:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){R(o,n,r,a,u,"next",e)}function u(e){R(o,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&C(t.prototype,n),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t){var n=t.tokensRepository;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokensRepository=void 0,this._tokensRepository=n}var t,n,r,o,i;return t=e,n=[{key:"isHandlable",value:function(e){var t,n,r,o,i=e.transaction.message.instructions;switch(i.length){case 1:return"spl-associated-token-account"===i[0].program||"create"===(null===(t=i[0].parsed)||void 0===t?void 0:t.type);case 2:return"create"===(null===(n=i[0].parsed)||void 0===n?void 0:n.type)||"createAccount"===(null===(r=i[0].parsed)||void 0===r?void 0:r.type)&&"initializeAccount"===(null===(o=i.at(-1).parsed)||void 0===o?void 0:o.type);default:return!1}}},{key:"parse",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,l,f,d,p,h,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.transactionInfo,r=n.transaction.message.instructions,!(o=this._extractProgram({instructions:r,name:"spl-associated-token-account"}))){e.next=10;break}return e.next=6,this._tokensRepository.getTokenWithMint(null===(i=o.parsed)||void 0===i?void 0:i.info.mint);case 6:return c=e.sent,e.abrupt("return",new u({fee:null,newWallet:new y.w5({pubkey:null===(a=o.parsed)||void 0===a?void 0:a.info.account,token:c})}));case 10:return p=null===(s=r[0])||void 0===s||null===(l=s.parsed)||void 0===l?void 0:l.info,h=null===(f=r.at(-1))||void 0===f||null===(d=f.parsed)||void 0===d?void 0:d.info,v=null!=p&&p.lamports?(0,y.K4)(new k.u64(p.lamports),T.SOL):null,e.next=15,this._tokensRepository.getTokenWithMint(null==h?void 0:h.mint);case 15:return m=e.sent,e.abrupt("return",new u({fee:v,newWallet:new y.w5({pubkey:null==p?void 0:p.newAccount,lamports:null,token:m})}));case 17:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){E(i,n,r,a,u,"next",e)}function u(e){E(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"_extractProgram",value:function(e){var t=e.instructions,n=e.name;return t.find((function(e){return e.program===n}))}}],n&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),F=n(59917);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Z(i,r,o,a,u,"next",e)}function u(e){Z(i,r,o,a,u,"throw",e)}a(void 0)}))}}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){var n=t.apiClient,r=t.tokensRepository;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._orcaProgramSignatures=[y.jQ.orcaSwapId(1).toString(),y.jQ.orcaSwapId(2).toString(),"9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL","SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8"],this._apiClient=void 0,this._tokensRepository=void 0,this._apiClient=n,this._tokensRepository=r}var t,n,r,o,i,a;return t=e,n=[{key:"isHandlable",value:function(e){var t=this;return e.transaction.message.instructions.some((function(e){return t._orcaProgramSignatures.includes(e.programId.toString())}))}},{key:"parse",value:(a=W(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.transactionInfo,o=t.config,i=null===(n=r.meta)||void 0===n?void 0:n.innerInstructions,e.t0=!0,e.next=e.t0===this._isLiquidityToPool(i)?5:e.t0===this._isBurn(i)?6:7;break;case 5:case 6:return e.abrupt("return",null);case 7:return e.abrupt("return",this._parse({transactionInfo:r,config:o}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_parse",value:(i=W(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,f,d,p,h,v,m,b,w,g,j,O,x,S,P,A,_,T,R,C,I,E,M,D,B=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=t.transactionInfo,m=t.config,0!==(b=(0,y.F1)(v).filter((function(e){return B._orcaProgramSignatures.includes(e.instruction.programId.toString())}))).length){e.next=4;break}return e.abrupt("return",this._parseFailedTransaction({transactionInfo:v,accountSymbol:m.symbolView}));case 4:if(w=null===(n=b[0])||void 0===n||null===(r=n.innerInstruction)||void 0===r?void 0:r.instructions[0],g=null===(o=b.at(-1))||void 0===o||null===(i=o.innerInstruction)||void 0===i?void 0:i.instructions.at(-1),w&&g){e.next=8;break}return e.abrupt("return",this._parseFailedTransaction({transactionInfo:v,accountSymbol:m.symbolView}));case 8:if(j=null===(a=w.parsed)||void 0===a?void 0:a.info,O=null===(u=g.parsed)||void 0===u?void 0:u.info,j&&O){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,Promise.all([this._apiClient.getAccountInfoOr({account:j.source,anotherAccount:j.destination,decodedTo:y.wP}),this._apiClient.getAccountInfoOr({account:O.source,anotherAccount:O.destination,decodedTo:y.wP})]);case 14:return x=e.sent,S=N(x,2),P=S[0],A=S[1],e.next=20,Promise.all([this._tokensRepository.getTokenWithMint(null==P||null===(c=P.data)||void 0===c?void 0:c.mint.toString()),this._tokensRepository.getTokenWithMint(null==A||null===(s=A.data)||void 0===s?void 0:s.mint.toString())]);case 20:return _=e.sent,T=N(_,2),R=T[0],C=T[1],I=new y.w5({pubkey:(0,y.k)((function(){return j.source?new F.PublicKey(j.source).toString():null}),null),lamports:null==P||null===(f=P.data)||void 0===f?void 0:f.lamports,token:R}),E=new y.w5({pubkey:(0,y.k)((function(){return O.destination?new F.PublicKey(O.destination).toString():null}),null),lamports:null==A||null===(d=A.data)||void 0===d?void 0:d.lamports,token:C}),M=new k.u64(null!==(p=j.amount)&&void 0!==p?p:0),D=new k.u64(null!==(h=O.amount)&&void 0!==h?h:0),e.abrupt("return",new l({source:I,sourceAmount:(0,y.K4)(new k.u64(M),I.token.decimals),destination:E,destinationAmount:(0,y.K4)(new k.u64(D),E.token.decimals),accountSymbol:m.symbolView}));case 29:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_parseFailedTransaction",value:(o=W(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,f,d,p,h,v,m,b,w,g,j,O,x,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=t.transactionInfo,h=t.accountSymbol,v=null===(n=p.meta)||void 0===n?void 0:n.postTokenBalances,m=p.transaction.message.instructions.find((function(e){var t;return"approve"===(null==e||null===(t=e.parsed)||void 0===t?void 0:t.type)})),b=null==m||null===(r=m.parsed)||void 0===r?void 0:r.info.amount,w=null==v||null===(o=v[0])||void 0===o?void 0:o.mint,g=null==v||null===(i=v.at(-1))||void 0===i?void 0:i.mint,v&&m&&b&&w&&g){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,this._tokensRepository.getTokenWithMint(w);case 10:return j=e.sent,e.next=13,this._tokensRepository.getTokenWithMint(g);case 13:return O=e.sent,x=new y.w5({pubkey:null===(a=m.parsed)||void 0===a?void 0:a.info.source,lamports:new k.u64(null!==(u=null===(c=v[0])||void 0===c?void 0:c.uiTokenAmount.amount)&&void 0!==u?u:0),token:j}),S=new y.w5({pubkey:"SOL"===O.symbol?null===(s=m.parsed)||void 0===s?void 0:s.info.owner:null,lamports:new k.u64(null!==(f=null==v||null===(d=v.at(-1))||void 0===d?void 0:d.uiTokenAmount.amount)&&void 0!==f?f:0),token:O}),e.abrupt("return",new l({source:x,sourceAmount:(0,y.K4)(new k.u64(b),x.token.decimals),destination:S,destinationAmount:null,accountSymbol:h}));case 17:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"_isLiquidityToPool",value:function(e){var t,n,r,o,i=null==e||null===(t=e[0])||void 0===t?void 0:t.instructions;return!!i&&3===i.length&&"transfer"===(null===(n=i[0].parsed)||void 0===n?void 0:n.type)&&"transfer"===(null===(r=i[1].parsed)||void 0===r?void 0:r.type)&&"mintTo"===(null===(o=i[2].parsed)||void 0===o?void 0:o.type)}},{key:"_isBurn",value:function(e){var t,n,r,o,i=null==e||null===(t=e[0])||void 0===t?void 0:t.instructions;return!!i&&3===i.length&&3===i.length&&"burn"===(null===(n=i[0].parsed)||void 0===n?void 0:n.type)&&"transfer"===(null===(r=i[1].parsed)||void 0===r?void 0:r.type)&&"transfer"===(null===(o=i[2].parsed)||void 0===o?void 0:o.type)}}],n&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),z=n(17022),K=n.n(z);function q(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,u,"next",e)}function u(e){q(i,r,o,a,u,"throw",e)}a(void 0)}))}}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(t){var n=t.tokensRepository;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._orcaProgramSignatures=["12YKFL4mnZz6CBEGePrf293mEzueQM3h8VLPUJsKpGs9"],this._tokensRepository=void 0,this._tokensRepository=n}var t,n,r,o,i,a;return t=e,n=[{key:"isHandlable",value:function(e){var t=this;return e.transaction.message.instructions.some((function(e){return t._orcaProgramSignatures.includes(e.programId.toString())}))}},{key:"parse",value:(a=H(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionInfo,r=t.config,e.abrupt("return",this._parse({transactionInfo:n,config:r}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_parse",value:(i=H(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,f,d,p,h,v,m,b,w,g,k,j,O,x,S,P,A,_,T,R=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.transactionInfo,i=t.config,a=o.transaction.message.instructions.findLastIndex((function(e){if(R._orcaProgramSignatures.includes(e.programId.toString())){var t=e.data;if(t&&4===K().decode(t)[0])return!0}return!1}))){e.next=4;break}return e.abrupt("return",null);case 4:if(u=o.transaction.message.instructions[a],c=null===(n=u.accounts[3])||void 0===n?void 0:n.toString()){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,this._parseToken({transactionInfo:o,address:c});case 10:if(s=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:if(f=s.wallet,d=s.amount,p=null===(r=u.accounts[5])||void 0===r?void 0:r.toString()){e.next=17;break}return e.abrupt("return",null);case 17:return e.next=19,this._parseToken({transactionInfo:o,address:p});case 19:if(h=e.sent){e.next=22;break}return e.abrupt("return",null);case 22:if(v=h.wallet,m=h.amount,b=o.transaction.message.instructions.length,!(0===d&&a+1<b)){e.next=40;break}if((null==(w=o.transaction.message.instructions[a+1])?void 0:w.programId.toString())!==y.jQ.tokenProgramId.toString()){e.next=40;break}if("closeAccount"!==(null===(g=w.parsed)||void 0===g?void 0:g.type)){e.next=40;break}if(k=w.parsed.info.destination){e.next=31;break}return e.abrupt("return",null);case 31:return c=k,e.next=34,this._parseToken({transactionInfo:o,address:c});case 34:if(j=e.sent){e.next=37;break}return e.abrupt("return",null);case 37:O=j.wallet,x=j.amount,f=O,d=x;case 40:if(!(0===m&&a+1<b)){e.next=56;break}if((null==(S=o.transaction.message.instructions[a+1])?void 0:S.programId.toString())!==y.jQ.tokenProgramId.toString()){e.next=56;break}if("closeAccount"!==(null===(P=S.parsed)||void 0===P?void 0:P.type)){e.next=56;break}if(A=S.parsed.info.destination){e.next=47;break}return e.abrupt("return",null);case 47:return p=A,e.next=50,this._parseToken({transactionInfo:o,address:p});case 50:if(e.sent){e.next=53;break}return e.abrupt("return",null);case 53:_=h.wallet,T=h.amount,v=_,m=T;case 56:return e.abrupt("return",new l({source:f,sourceAmount:d,destination:v,destinationAmount:m,accountSymbol:i.symbolView}));case 57:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_parseToken",value:(o=H(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,p,h,v,m,b,w,g,j,O,x,S,P,A,_,T,R,C,I,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.transactionInfo,u=t.address,c=a.transaction.message.accountKeys.findIndex((function(e){return e.pubkey.toString()===u}))){e.next=4;break}return e.abrupt("return",null);case 4:return s=null!==(n=null===(r=a.meta)||void 0===r||null===(o=r.postTokenBalances)||void 0===o||null===(i=o.find((function(e){return e.accountIndex===c})))||void 0===i?void 0:i.mint)&&void 0!==n?n:y.WU.nativeSolana.address,l=s===y.WU.nativeSolana.address?new k.u64(null!==(f=null===(d=a.meta)||void 0===d?void 0:d.preBalances[c])&&void 0!==f?f:0):new k.u64(null!==(p=null===(h=a.meta)||void 0===h||null===(v=h.preTokenBalances)||void 0===v||null===(m=v.find((function(e){return e.accountIndex===c})))||void 0===m?void 0:m.uiTokenAmount.amount)&&void 0!==p?p:0),s===y.WU.nativeSolana.address?(b=null!==(g=a.meta)&&void 0!==g&&g.preBalances[c]?(0,y.K4)(new k.u64(a.meta.preBalances[c]),y.WU.nativeSolana.decimals):0,w=null!==(j=a.meta)&&void 0!==j&&j.postBalances[c]?(0,y.K4)(new k.u64(a.meta.postBalances[c]),y.WU.nativeSolana.decimals):0):(b=null!==(O=null===(x=a.meta)||void 0===x||null===(S=x.preTokenBalances)||void 0===S||null===(P=S.find((function(e){return e.accountIndex===c})))||void 0===P?void 0:P.uiTokenAmount.uiAmount)&&void 0!==O?O:0,w=null!==(A=null===(_=a.meta)||void 0===_||null===(T=_.postTokenBalances)||void 0===T||null===(R=T.find((function(e){return e.accountIndex===c})))||void 0===R?void 0:R.uiTokenAmount.uiAmount)&&void 0!==A?A:0),e.next=9,this._tokensRepository.getTokenWithMint(s);case 9:return C=e.sent,I=new y.w5({pubkey:(0,y.k)((function(){return u?new F.PublicKey(u).toString():null}),null),lamports:l,token:C}),E=Math.abs(w-b),e.abrupt("return",{wallet:I,amount:E});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}],n&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Q=n(44840);function $(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t){var n=t.tokensRepository;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokensRepository=void 0,this._tokensRepository=n}var t,n,r,o,i;return t=e,n=[{key:"isHandlable",value:function(e){return e.transaction.message.instructions.some((function(e){return e.programId.toString()===y.jQ.serumSwapPID.toString()}))}},{key:"parse",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,f,d,p,h,v,m,b,w,j,O,x,S,P,A,_,T,R,C,I,E,M,D,F;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.transactionInfo,s=t.config,f=c.transaction.message.instructions,d=null===(n=c.meta)||void 0===n||null===(r=n.innerInstructions)||void 0===r?void 0:r.find((function(e){return e.instructions.some((function(e){return e.programId.toString()===y.jQ.serumSwapPID.toString()}))})),p=this._serumInstruction(c),h=f[p]){e.next=7;break}return e.abrupt("return",null);case 7:if(v=null===(o=c.meta)||void 0===o?void 0:o.preTokenBalances,!((m=v?(0,Q.Z)(v.map((function(e){return e.mint}))):[]).length<2)){e.next=11;break}return e.abrupt("return",null);case 11:if(3===m.length&&(m=m.filter((function(e){return X(e)}))),b=!m.some((function(e){return X(e)})),w=h.accounts){e.next=16;break}return e.abrupt("return",null);case 16:if(!b||27===w.length){e.next=18;break}return e.abrupt("return",null);case 18:if(b||16===w.length){e.next=20;break}return e.abrupt("return",null);case 20:return b?(j=w[6].toString(),O=w[21].toString()):(j=w[10].toBase58(),O=w[12].toBase58(),!0===X(m.at(0))&&!1===X(m.at(-1))&&(j=(x=[O,j])[0],O=x[1])),A=null==d?void 0:d.instructions.find((function(e){var t;return"transfer"===(null===(t=e.parsed)||void 0===t?void 0:t.type)})),(_=null==A||null===(i=A.parsed)||void 0===i?void 0:i.info.amount)&&(S=new k.u64(_)),T=null==d?void 0:d.instructions.find((function(e){var t;return"transfer"===(null===(t=e.parsed)||void 0===t?void 0:t.type)})),(R=null==T||null===(a=T.parsed)||void 0===a?void 0:a.info.amount)&&(P=new k.u64(R)),C=f.find((function(e){var t,n;return"createAccount"===(null===(t=e.parsed)||void 0===t?void 0:t.type)&&(null===(n=e.parsed)||void 0===n?void 0:n.info.newAccount)===j})),(I=null==C||null===(u=C.parsed)||void 0===u?void 0:u.info.source)&&(j=I),e.next=32,this._tokensRepository.getTokenWithMint(m[0]);case 32:return E=e.sent,e.next=35,this._tokensRepository.getTokenWithMint(m[1]);case 35:return M=e.sent,D=new y.w5({pubkey:j,lamports:g.ZERO,token:E}),F=new y.w5({pubkey:O,lamports:g.ZERO,token:M}),e.abrupt("return",new l({source:D,sourceAmount:S?(0,y.K4)(S,E.decimals):null,destination:F,destinationAmount:P?(0,y.K4)(P,M.decimals):null,accountSymbol:s.symbolView}));case 39:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){$(i,n,r,a,u,"next",e)}function u(e){$(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"_serumInstruction",value:function(e){return e.transaction.message.instructions.findLastIndex((function(e){return e.programId.toString()===y.jQ.serumSwapPID.toString()}))}}],n&&G(t.prototype,n),r&&G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function X(e){return e?e===y.jQ.usdcMint.toString()||e===y.jQ.usdtMint.toString():null}function ee(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ee(i,r,o,a,u,"next",e)}function u(e){ee(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(){function e(t){var n=t.apiClient,r=t.tokensRepository;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._apiClient=void 0,this._tokensRepository=void 0,this._apiClient=n,this._tokensRepository=r}var t,n,r,o,i;return t=e,n=[{key:"isHandlable",value:function(e){var t,n,r,o,i=e.transaction.message.instructions;return!(1!==i.length&&4!==i.length&&2!==i.length||"transfer"!==(null===(t=i.at(-1))||void 0===t||null===(n=t.parsed)||void 0===n?void 0:n.type)&&"transferChecked"!==(null===(r=i.at(-1))||void 0===r||null===(o=r.parsed)||void 0===o?void 0:o.type))}},{key:"parse",value:(i=te(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transactionInfo,o=t.config,i=r.transaction.message.instructions,(null===(n=i.at(-1))||void 0===n?void 0:n.programId.toString())!==y.jQ.programId.toString()){e.next=6;break}return e.abrupt("return",this._parseSOLTransfer({transactionInfo:r,config:o}));case 6:return e.abrupt("return",this._parseSPLTransfer({transactionInfo:r,config:o}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_parseSOLTransfer",value:function(e){var t,n,r,o,i,a,u,c,s,l=e.transactionInfo,f=e.config,d=l.transaction.message.instructions.at(-1),h=null==d||null===(t=d.parsed)||void 0===t?void 0:t.info.source,v=null==d||null===(n=d.parsed)||void 0===n?void 0:n.info.destination,m=new k.u64(null!==(r=null!==(o=null!==(i=null==d||null===(a=d.parsed)||void 0===a?void 0:a.info.lamports)&&void 0!==i?i:null==d||null===(u=d.parsed)||void 0===u?void 0:u.info.amount)&&void 0!==o?o:null==d||null===(c=d.parsed)||void 0===c||null===(s=c.info.tokenAmount)||void 0===s?void 0:s.amount)&&void 0!==r?r:"0"),b=y.w5.nativeSolana({pubkey:h,lamports:null}),w=y.w5.nativeSolana({pubkey:v,lamports:null});return new p({source:b,destination:w,authority:null,destinationAuthority:null,rawAmount:(0,y.K4)(m,b.token.decimals),account:f.accountView})}},{key:"_parseSPLTransfer",value:(o=te(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d,h,v,m,b,w,g,j,O,x,S,P,A,_,T,R,C,I,E,M,D,F,N,B,Z,W,L,U,z,K,q;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=t.transactionInfo,b=t.config,w=m.transaction.message.instructions,g=null!==(n=null===(r=m.meta)||void 0===r?void 0:r.postTokenBalances)&&void 0!==n?n:[],j=m.transaction.message.accountKeys,O=w.at(-1),x=null==O||null===(o=O.parsed)||void 0===o?void 0:o.info.authority,S=null==O||null===(i=O.parsed)||void 0===i?void 0:i.info.source,P=null==O||null===(a=O.parsed)||void 0===a?void 0:a.info.destination,A=new k.u64(null!==(u=null!==(c=null!==(s=null==O||null===(l=O.parsed)||void 0===l?void 0:l.info.lamports)&&void 0!==s?s:null==O||null===(f=O.parsed)||void 0===f?void 0:f.info.amount)&&void 0!==c?c:null==O||null===(d=O.parsed)||void 0===d||null===(h=d.info.tokenAmount)||void 0===h?void 0:h.amount)&&void 0!==u?u:"0"),(T=w.find((function(e){return e.programId.toString()===y.jQ.splAssociatedTokenAccountProgramId.toString()})))?_=null===(R=T.parsed)||void 0===R?void 0:R.info.wallet:(C=w.find((function(e){var t;return e.programId.toString()===y.jQ.tokenProgramId.toString()&&"initializeAccount"===(null===(t=e.parsed)||void 0===t?void 0:t.type)})))&&(_=null===(I=C.parsed)||void 0===I?void 0:I.info.owner),!(M=g.find((function(e){return e.mint})))){e.next=23;break}return D=b.accountView,S!==D&&P!==D&&j.length>=4&&(D===j[0].pubkey.toString()&&(D=S),D===j[3].pubkey.toString()&&(D=P)),e.next=17,this._tokensRepository.getTokenWithMint(M.mint);case 17:F=e.sent,N=new y.w5({pubkey:S,lamports:null,token:F}),B=new y.w5({pubkey:P,lamports:null,token:F}),E=new p({source:N,destination:B,authority:x,destinationAuthority:_,rawAmount:(0,y.K4)(A,N.token.decimals),account:D}),e.next=32;break;case 23:return e.next=25,this._apiClient.getAccountInfoOr({account:S,anotherAccount:P,decodedTo:y.wP});case 25:return W=e.sent,e.next=28,this._tokensRepository.getTokenWithMint(null==W||null===(Z=W.data)||void 0===Z?void 0:Z.mint.toString());case 28:L=e.sent,U=new y.w5({pubkey:S,lamports:null,token:L}),z=new y.w5({pubkey:P,lamports:null,token:L}),E=new p({source:U,destination:z,authority:x,destinationAuthority:_,rawAmount:(0,y.K4)(A,U.token.decimals),account:b.accountView});case 32:if(!E.destinationAuthority){e.next=34;break}return e.abrupt("return",E);case 34:if(K=null===(v=E.destination)||void 0===v?void 0:v.pubkey){e.next=37;break}return e.abrupt("return",E);case 37:return e.prev=37,e.next=40,this._apiClient.getAccountInfo({account:K,decodedTo:y.wP});case 40:return q=e.sent,e.abrupt("return",new p({source:E.source,destination:E.destination,authority:E.authority,destinationAuthority:null==q?void 0:q.owner.toString(),rawAmount:E.rawAmount,account:b.accountView}));case 44:return e.prev=44,e.t0=e.catch(37),e.abrupt("return",new p({source:E.source,destination:E.destination,authority:E.authority,destinationAuthority:null,rawAmount:E.rawAmount,account:b.accountView}));case 47:case"end":return e.stop()}}),e,this,[[37,44]])}))),function(e){return o.apply(this,arguments)})}],n&&ne(t.prototype,n),r&&ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ae(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ce(i,r,o,a,u,"next",e)}function u(e){ce(i,r,o,a,u,"throw",e)}a(void 0)}))}}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fe=function(){function e(t){var n=t.strategies,r=t.feeParserStrategy;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.strategies=void 0,this.feeParserStrategy=void 0,this.strategies=n,this.feeParserStrategy=r}var t,n,r,o,i;return t=e,n=[{key:"parse",value:(i=se(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transactionInfo,o=t.config,i=b.confirmed(),null!==(n=r.meta)&&void 0!==n&&n.err&&(c=null===(a=r.meta.logMessages)||void 0===a||null===(u=a.find((function(e){return e.includes("Program log: Error:")})))||void 0===u?void 0:u.replace("Program log: Error: ",""),i=b.error(c)),e.next=5,Promise.all([this._parseTransaction({transactionInfo:r,config:o}),this._parseFee({transactionInfo:r,config:o})]);case 5:return s=e.sent,l=ie(s,2),f=l[0],d=l[1],e.abrupt("return",new w({status:i,signature:r.transaction.signatures[0],info:f,slot:r.slot,blockTime:r.blockTime?new Date(1e3*r.blockTime):null,fee:d,blockhash:r.transaction.message.recentBlockhash}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_parseTransaction",value:(o=se(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.transactionInfo,r=t.config,o=oe(this.strategies),e.prev=2,o.s();case 4:if((i=o.n()).done){e.next=15;break}if(!(a=i.value).isHandlable(n)){e.next=13;break}return e.next=9,a.parse({transactionInfo:n,config:r});case 9:if(u=e.sent){e.next=12;break}return e.abrupt("continue",13);case 12:return e.abrupt("return",u);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),o.e(e.t0);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,this,[[2,17,20,23]])}))),function(e){return o.apply(this,arguments)})},{key:"_parseFee",value:function(e){var t=e.transactionInfo,n=e.config;return this.feeParserStrategy.calculate({transactionInfo:t,feePayers:n.feePayers})}}],r=[{key:"default",value:function(t){var n=t.apiClient,r=new y.Cg({endpoint:n.endpoint});return new e({strategies:[new U({apiClient:n,tokensRepository:r}),new Y({tokensRepository:r}),new J({tokensRepository:r}),new D({tokensRepository:r}),new I({tokensRepository:r}),new re({apiClient:n,tokensRepository:r})],feeParserStrategy:new P({apiClient:n})})}}],n&&le(t.prototype,n),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},67549:function(e,t,n){"use strict";n.d(t,{TI:function(){return o},_H:function(){return r},gc:function(){return a},gs:function(){return i},le:function(){return u}});var r="https://moonpay.key.app/",o="pk_live_B4RF614wiWeKQ4lwVyFcO493PbCdSlqu",i="https://api.moonpay.com/v3/currencies/",a="https://api.moonpay.com/v4/ip_address",u="USD"},74557:function(e,t,n){"use strict";n.d(t,{CK:function(){return l},Ce:function(){return d},Oc:function(){return f},W6:function(){return s}});var r=n(40253),o=n(67549),i=n(7954);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=function(){function e(){a(this,e),this._symbol=o.le}return c(e,[{key:"symbol",get:function(){if("USD"===this._symbol)return"USD"}},{key:"moonpayCode",get:function(){if("USD"===this._symbol)return"usd"}}],[{key:"isFiat",value:function(t){return t instanceof e}},{key:"usd",get:function(){return new e}}]),e}(),l=function(){function e(t){a(this,e),this._symbol=void 0,this._symbol=t}return c(e,[{key:"symbol",get:function(){switch(this._symbol){case"SOL":return"SOL";case"USDC":return"USDC"}}},{key:"fullName",get:function(){switch(this._symbol){case"SOL":return"Solana";case"USDC":return"USD Coin"}}},{key:"solanaCode",get:function(){switch(this._symbol){case"SOL":return"SOL";case"USDC":return"USDC"}}},{key:"moonpayCode",get:function(){switch(this._symbol){case"SOL":return"sol";case"USDC":return"usdc_sol"}}},{key:"mintAddress",get:function(){var t=e.Addresses[i.k.apiEndpoint.network][this._symbol];if(!t)throw new Error("Unhandeled mint address for ".concat(i.k.apiEndpoint.network," : ").concat(this._symbol));return t}}],[{key:"isCrypto",value:function(t){return t instanceof e}},{key:"sol",get:function(){return new e("SOL")}},{key:"usdc",get:function(){return new e("USDC")}}]),e}();l.Addresses={"mainnet-beta":{SOL:r.jQ.wrappedSOLMint.toBase58(),USDC:r.jQ.usdcMint.toBase58()},testnet:{SOL:r.jQ.wrappedSOLMint.toBase58(),USDC:"CpMah17kQEL2wqyMKt3mZBdTnZbkbfx4nqmQMFDP5vwp"},devnet:{SOL:r.jQ.wrappedSOLMint.toBase58(),USDC:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"}};var f=function(){function e(t,n){a(this,e),this.amount=void 0,this.currency=void 0,this.amount=t,this.currency=n}return c(e,[{key:"swap",value:function(t){return{input:new e(t.amount,t.currency),output:new d(this.amount,this.currency,t.price,t.processingFee,t.networkFee,t.purchaseCost,t.total)}}}],[{key:"zeroInstance",value:function(t){return new e(0,t)}}]),e}(),d=function(){function e(t,n,r,o,i,u,c){a(this,e),this.amount=void 0,this.currency=void 0,this.price=void 0,this.processingFee=void 0,this.networkFee=void 0,this.purchaseCost=void 0,this.total=void 0,this.amount=t,this.currency=n,this.price=r,this.processingFee=o,this.networkFee=i,this.purchaseCost=u,this.total=c}return c(e,null,[{key:"zeroInstance",value:function(t){return new e(0,t,0,0,0,0,0)}}]),e}()},7954:function(e,t,n){"use strict";n.d(t,{k:function(){return d},u:function(){return r}});var r,o=n(80075),i=n(72503),a=n(40253),u=n(30922);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.system="system",e.light="light",e.dark="dark"}(r||(r={}));var d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiEndpoint=a.jI.definedEndpoints[0],this.walletName={},this.appearance=r.system,this.slippage=.01,this.fiat=i.M.usd,this.hiddenWalletPubkey=[],this.unhiddenWalletPubkey=[],this.hideZeroBalances=!0,this.p2pFeePayerPubkeys=[],this.prices={},this.payingTokenMint=a.jQ.wrappedSOLMint.toString(),this.useFreeTransactions=!1,(0,o.rC)(this,{apiEndpoint:o.LO,walletName:o.LO,appearance:o.LO,slippage:o.LO,fiat:o.LO,hiddenWalletPubkey:o.LO,unhiddenWalletPubkey:o.LO,hideZeroBalances:o.LO,p2pFeePayerPubkeys:o.LO,prices:o.LO,payingTokenMint:o.LO,useFreeTransactions:o.LO}),(0,u.y)(this,"defaults")}var t,n,c;return t=e,(n=[{key:"fromJSON",value:function(e){var t,n;return s(s({},e),{},{apiEndpoint:e.apiEndpoint?new a.jI(e.apiEndpoint):this.apiEndpoint,fiat:new i.M(null!==(t=null===(n=e.fiat)||void 0===n?void 0:n.type)&&void 0!==t?t:this.fiat)})}}])&&f(t.prototype,n),c&&f(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}())},91570:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r,o=n(8750);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(i(r={},o.A.LeftNavMenuProfile,!1),i(r,o.A.ShowAllSettings,!1),i(r,o.A.ShowDevnet,!1),i(r,o.A.LogAmplitudeEvents,!1),r)},8750:function(e,t,n){"use strict";var r;n.d(t,{A:function(){return r}}),function(e){e.LeftNavMenuProfile="web_feature_LeftNavMenuProfile",e.ShowAllSettings="web_feature_ShowAllSettings",e.ShowDevnet="web_feature_ShowDevnet",e.LogAmplitudeEvents="web_feature_LogAmplitudeEvents"}(r||(r={}))},90203:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(91570),o=n(22696),i=n(80075),a=n(51744);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isOn=!0,this.isInitialized=!1,this.featureFlags=r.p,(0,i.rC)(this,{isInitialized:i.LO,featureFlags:i.LO}),(0,i.gx)((function(){return a.a.isActivated}),(0,i.aD)((function(){t.featureFlags=a.a.featureFlags,t.isInitialized=!0})))}var t,n,o;return t=e,(n=[{key:"isEnabled",value:function(e){return this.featureFlags[e]}}])&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}());function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(e){return f.isEnabled(e)},f=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._primaryProvider=void 0,this._secondaryProvider=void 0,this._primaryProvider=t,this._secondaryProvider=n}var t,n,o;return t=e,(n=[{key:"isInitialized",get:function(){return this._primaryProvider.isOn?this._primaryProvider.isInitialized:!!this._secondaryProvider.isOn&&this._secondaryProvider.isInitialized}},{key:"isEnabled",value:function(e){return this._primaryProvider.isOn?this._primaryProvider.isEnabled(e):this._secondaryProvider.isOn?this._secondaryProvider.isEnabled(e):r.p[e]}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}())(o.O,c)},22696:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});var r=n(80075),o=n(30922),i=n(91570);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isOn=!1,this.isInitialized=void 0,this.featureFlags=i.p,(0,r.rC)(this,{isOn:r.LO,featureFlags:r.LO,setIsOn:r.aD,setFeatureFlag:r.aD}),(0,o.y)(this,"feature_flags_debug"),this.isInitialized=!0}var t,n,s;return t=e,n=[{key:"isEnabled",value:function(e){return this.featureFlags[e]}},{key:"setIsOn",value:function(e){this.isOn=e}},{key:"setFeatureFlag",value:function(e,t){this.featureFlags[e]=t}},{key:"fromJSON",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}}],n&&c(t.prototype,n),s&&c(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}(),l=new s},68764:function(e,t,n){"use strict";n.d(t,{o:function(){return v}});var r,o=n(9669),i=n.n(o),a=n(57231),u=n(13920);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=i().create(),h={jsonrpc:"2.0",method:"",params:{},id:1},v=(0,u.b2)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[])(r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._endpoint={REACT_APP_BASENAME:"/p2p-wallet-web/pr-preview/pr-244",REACT_APP_AMPLITUDE_API_KEY:"fbf3c4bb3684e426cb1e7b675abb6e1d",REACT_APP_CRYPTO_COMPARE_API_KEY:"ad6104e4e9d655c1faab7ef1743c16651a1628f01d384bc5fea09661c0eb18db",REACT_APP_FEE_RELAYER_URL:"https://fee-relayer.key.app",REACT_APP_INTERCOM_APP_ID:"imvolhpe",REACT_APP_MOONPAY_API_KEY:"pk_live_B4RF614wiWeKQ4lwVyFcO493PbCdSlqu",REACT_APP_MOONPAY_SIGNER_URL:"https://moonpay.key.app/",REACT_APP_STAGING:"true",REACT_APP_SENTRY_DSN_ENDPOINT:"https://088e2b0cd1f44164a6ad584ec3fbab31@o1272413.ingest.sentry.io/6479116",REACT_APP_SENTRY_MODE:"staging",REACT_APP_SENTRY_TRACES_SAMPLE_RATE:"1",REACT_APP_SENTRY_RELEASE:"p2p-wallet-web_pr-preview_244_5179153",REACT_APP_FIREBASE_API_KEY:"AIzaSyCkGJ3kXDROTVEh9r9IChjnnVqeH-PGPvM",REACT_APP_FIREBASE_APP_ID:"1:553127941597:web:c90d78be1090d9a82c5234",REACT_APP_RPCPOOL_API_KEY:"78306120-3a44-4ede-89f4-6133642ccab2"}.REACT_APP_NAME_SERVICE_URL,this._cache={}}var t,n,r;return t=e,(n=[{key:"getName",value:function(e){var t,n=this;return this._cache[e]?Promise.resolve(null!==(t=this._cache[e])&&void 0!==t?t:null):this._getNames(e).then((function(t){var r,o,i=t.filter((function(e){return Boolean(e.name)})),u=null!==(r=null===(o=(0,a.Z)(i))||void 0===o?void 0:o.name)&&void 0!==r?r:null;return n._cache[e]=u,u}))}},{key:"getOwners",value:function(e){var t=this,n=f(f({},h),{},{method:"resolve_name",params:{name:e}});return y.post(this._endpoint,n).then((function(e){return e.data})).then((function(e){var n,r=c(e.result);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.name;i&&(t._cache[o.owner]=i)}}catch(e){r.e(e)}finally{r.f()}return e.result}))}},{key:"_getNames",value:function(e){var t=f(f({},h),{},{method:"lookup_name",params:{owner:e}});return y.post(this._endpoint,t).then((function(e){return e.data.result}))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||r)||r)||r},99592:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var r,o=n(80075),i=n(13920),a=n(72987);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=(0,i.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[])(r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentToasts=[],this._queue=[],this._hideTimeouts=new Set,this._removeTimeouts=new Set,this._lastId=0,this._noHide=!1,(0,o.rC)(this,{currentToasts:o.LO})}var t,n,r;return t=e,n=[{key:"_getActiveToastsCount",value:function(){return this.currentToasts.filter((function(e){return!e.isHiding})).length}},{key:"_addToast",value:function(e){this._getActiveToastsCount()>=3?this._queue=this._queue.concat(e):this._showToast(e)}},{key:"_setToastHideTimeout",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7e3,r=window.setTimeout((function(){t._hideTimeouts.delete(r),t.startToastsHiding(e)}),n);this._hideTimeouts.add(r)}},{key:"_removeToasts",value:function(e){var t=this;(0,o.z)((function(){t.currentToasts=t.currentToasts.filter((function(t){return!e.includes(t.id)}))}))}},{key:"_checkQueue",value:function(){if(this._queue.length>0&&this._getActiveToastsCount()<3){var e=f(this._queue),t=e[0],n=e.slice(1);this._queue=n,this._showToast(t),this._checkQueue()}}},{key:"_showToast",value:function(e){var t=this,n=e.type,r=e.header,i=e.text,a=e.renderer;this._lastId++;var u=this._lastId;(0,o.z)((function(){t.currentToasts=t.currentToasts.concat({id:u,type:n,header:r,text:i,renderer:a})})),this._noHide||this._setToastHideTimeout(u)}},{key:"startToastsHiding",value:function(e){var t,n=this;t=Array.isArray(e)?e:[e],(0,o.z)((function(){n.currentToasts=n.currentToasts.map((function(e){return t.includes(e.id)?s(s({},e),{},{isHiding:!0}):e}))})),this._checkQueue();var r=window.setTimeout((function(){n._removeTimeouts.delete(r),n._removeToasts(t)}),400);this._removeTimeouts.add(r)}},{key:"eraseData",value:function(){var e=this;(0,o.z)((function(){e.currentToasts=[]})),this._queue=[],this._noHide=!1;var t,n=u(this._hideTimeouts);try{for(n.s();!(t=n.n()).done;){var r=t.value;clearTimeout(r)}}catch(e){n.e(e)}finally{n.f()}var i,a=u(this._removeTimeouts);try{for(a.s();!(i=a.n()).done;){var c=i.value;clearTimeout(c)}}catch(e){a.e(e)}finally{a.f()}this._hideTimeouts.clear(),this._removeTimeouts.clear()}},{key:"disableDeferredHiding",value:function(){this._noHide=!0;var e,t=u(this._hideTimeouts);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(e){t.e(e)}finally{t.f()}this._hideTimeouts.clear()}},{key:"enableDeferredHiding",value:function(){var e=this;this._noHide=!1,0!==this.currentToasts.length&&this.currentToasts.forEach((function(t){var n=t.id;return e._setToastHideTimeout(n,5e3)}))}},{key:"info",value:function(e,t){this._addToast({type:"info",header:e,text:t})}},{key:"warn",value:function(e,t){this._addToast({type:"warn",header:e,text:t})}},{key:"error",value:function(e,t){this._addToast({type:"error",header:e,text:t}),t||(t=e,e=""),(0,a.L9)({name:"Error_Showed",params:{Current_Screen:location.pathname,Code:e,Description:t}})}},{key:"show",value:function(e){this._addToast({type:"component",renderer:e})}}],n&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||r)||r)||r},21816:function(e,t,n){"use strict";n.d(t,{n:function(){return y}});var r,o=n(13920),i=n(23108),a=n(7954),u=n(34401);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var y=(0,o.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===u.m?Object:u.m])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}(u,e);var t,n,r,o=f(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),o.call(this,{apiClient:new i.lP(new i.Zf(a.k.apiEndpoint.network)),solanaClient:e})}return t=u,n&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(i.sW))||r)||r)||r},17940:function(e,t,n){"use strict";n.d(t,{d:function(){return u},g9:function(){return z}});var r=n(40253);function o(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=void 0}var t,n,a;return t=e,n=[{key:"send",value:function(e){var t=e.path;return r.Yd.log("".concat(this.endpoint).concat(t),r.gr.request,"getPrices"),fetch("".concat(this.endpoint).concat(t)).then(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:return e.t0=r.Yd,e.next=5,t.clone().json();case 5:return e.t1=e.sent,e.t2=r.gr.response,e.t0.log.call(e.t0,e.t1,e.t2,"getPrices"),e.abrupt("return",t.json());case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,c,"next",e)}function c(e){o(a,r,i,u,c,"throw",e)}u(void 0)}))});return function(e){return t.apply(this,arguments)}}())}}],n&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=n(80075),s=n(44840),l=n(13920),f=n(94131),d=n(7954);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var k,j=(0,l.ri)()(a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&m(e,t)}(u,e);var t,n,r,o,i,a=b(u);function u(){var e;h(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).endpoint="https://api.coingecko.com/api/v3",e}return t=u,n=[{key:"getCurrentPrices",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.coins,r=t.fiat,o=(0,s.Z)(n.map((function(e){var t;return null===(t=e.extensions)||void 0===t?void 0:t.coingeckoId})).filter((function(e){return!!e}))).join(","),e.next=4,this.send({path:"/coins/markets/?vs_currency=".concat(r,"&ids=").concat(o)});case 4:return i=e.sent,e.abrupt("return",i.reduce((function(e,t){return e[t.symbol.toUpperCase()]={value:t.current_price,change24h:{value:t.price_change_24h,percentage:t.price_change_percentage_24h}},e}),{}));case 6:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){y(i,n,r,a,u,"next",e)}function u(e){y(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})}],n&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(u))||a,O=n(82296);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S,P=(0,l.ri)()(k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"retrivePrices",value:function(){var e={},t=d.k.prices;return(0,O.Z)(t)||(e=t),e}},{key:"savePrices",value:function(e){(0,c.z)((function(){d.k.prices=e}))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||k;function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&B(e,t)}(n,e);var t=Z(n);function n(){return D(this,n),t.apply(this,arguments)}return N(n,[{key:"map",value:function(e,t){var n=e;if(!n)return t;for(var r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n[i]=t[i]}return n}}]),n}(f.c2),z=(0,l.ri)()(S=Reflect.metadata("design:type",Function)(S=Reflect.metadata("design:paramtypes",[void 0===P?Object:P,void 0===j?Object:j])(S=function(){function e(t,n){D(this,e),this._storage=t,this._fetcher=n,this._refreshInterval=9e5,this._timer=void 0,this._watchList=new Set([r.WU.renBTC,r.WU.nativeSolana,r.WU.usdc]),this._currentPrices=new U(Promise.resolve({})),this._currentPrices.reload();var o=this._storage.retrivePrices();this._currentPrices.accept(o,f.EP.loaded),this._currentPrices.request=this._getCurrentPricesRequest(),(0,c.rC)(this,{currentPrices:c.Fl,currentPrice:c.aD,clearCurrentPrices:c.aD,addToWatchList:c.aD,fetchPrices:c.aD,fetchAllTokensPriceInWatchList:c.aD})}var t,n;return N(e,[{key:"_getCurrentPricesRequest",value:(t=regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:null,n=null!=t?t:Array.from(this._watchList),0!==(n=(0,s.Z)(n)).length){e.next=5;break}return e.abrupt("return",{});case 5:return e.next=7,this._fetcher.getCurrentPrices({coins:n,fiat:d.k.fiat.code});case 7:for(r=e.sent,o=this._currentPrices.value?I({},this._currentPrices.value):{},i=0,a=Object.entries(r);i<a.length;i++)u=_(a[i],2),c=u[0],(l=u[1])&&(o[c]=l);return this._storage.savePrices(o),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){M(i,r,o,a,u,"next",e)}function u(e){M(i,r,o,a,u,"throw",e)}a(void 0)}))},function(){return n.apply(this,arguments)})},{key:"currentPrices",get:function(){return this._currentPrices}},{key:"getWatchList",value:function(){return this._watchList}},{key:"currentPrice",value:function(e){var t,n;return null!==(t=null===(n=this._currentPrices.value)||void 0===n?void 0:n[e])&&void 0!==t?t:null}},{key:"clearCurrentPrices",value:function(){this._currentPrices.flush(),this._storage.savePrices({})}},{key:"addToWatchList",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._watchList.add(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"fetchPrices",value:function(e){e.length&&(this._currentPrices.request=this._getCurrentPricesRequest(e),this._currentPrices.refresh())}},{key:"fetchAllTokensPriceInWatchList",value:function(){this._watchList.size&&this.fetchPrices(Array.from(this._watchList))}},{key:"startObserving",value:function(){var e=this;this.fetchAllTokensPriceInWatchList(),this._timer=setInterval((function(){e.fetchAllTokensPriceInWatchList()}),this._refreshInterval)}},{key:"stopObserving",value:function(){clearInterval(this._timer)}}]),e}())||S)||S)||S},64532:function(e,t,n){"use strict";n.d(t,{D:function(){return y}});var r,o=n(13920),i=n(18744),a=n(21816),u=n(34401);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var y=(0,o.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===a.n?Object:a.n,void 0===u.m?Object:u.m,void 0===i.dM?Object:i.dM])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}(a,e);var t,n,r,o=f(a);function a(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,{orcaSwap:e,owner:t.provider.wallet.publicKey,solanaApiClient:n,feeRelayerAPIClient:new i._x,deviceType:i.kQ.web,buildNumber:"1"})}return t=a,n&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(i.oQ))||r)||r)||r},51744:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var r,o,i=n(35532),a=n(96935),u=n(80075),c=n(8750),s=n(91570);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.NetworkSettings="web_NetworkSettings",e.UsernameDomain="web_UsernameDomain"}(o||(o={}));var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}((f(r={},o.NetworkSettings,"[]"),f(r,o.UsernameDomain,".key"),r),s.p),p={apiKey:"AIzaSyCkGJ3kXDROTVEh9r9IChjnnVqeH-PGPvM",authDomain:"p2p-wallet.firebaseapp.com",databaseURL:"https://p2p-wallet.firebaseio.com",projectId:"p2p-wallet",storageBucket:"p2p-wallet.appspot.com",messagingSenderId:"553127941597",appId:"1:553127941597:web:c90d78be1090d9a82c5234",measurementId:"G-76SWMQ5LYY"};function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._remoteConfig=void 0,this.isActivated=!1,(0,u.rC)(this,{isActivated:u.LO});var n=(0,i.ZF)(p);this._remoteConfig=(0,a.sN)(n),this._remoteConfig.defaultConfig=d,this._remoteConfig.settings.minimumFetchIntervalMillis=1e4,(0,a.QZ)(this._remoteConfig).then((0,u.aD)((function(){return t.isActivated=!0}))).then((function(){(0,a.Q2)(t._remoteConfig)}))}var t,n,r;return t=e,(n=[{key:"_getConfig",value:function(){return(0,a.go)(this._remoteConfig)}},{key:"definedEndpoints",get:function(){var e;return JSON.parse((null===(e=this._getConfig()[o.NetworkSettings])||void 0===e?void 0:e.asString())||"[]")}},{key:"featureFlags",get:function(){var e=this._getConfig();return Object.values(c.A).reduce((function(t,n){var r;return t[n]=(null===(r=e[n])||void 0===r?void 0:r.asBoolean())||!1,t}),{})}},{key:"usernameDomain",get:function(){return this._getConfig()[o.UsernameDomain].asString()}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())},72703:function(e,t,n){"use strict";n.d(t,{C:function(){return p},A:function(){return K}});var r,o=n(13920),i=n(40253),a=n(7954);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=(0,o.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&s(e,t)}(u,e);var t,n,r,o=l(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),o.call(this,{endpoint:a.k.apiEndpoint,cache:new i.mD})}return t=u,n&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Cg))||r)||r)||r,y=n(55568),h=n(181),v=n(80075),m=n(34287),b=n(27802),w=n(99592),g=n(17940),k=n(33429),j=n(34401),O=n(33851),x=n(52322);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,_=function(e){return function(t){var n=t.onClose;return(0,x.jsx)(O.Q,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"transfer",onClose:n},e))}},T=n(81277);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function C(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){I(i,r,o,a,u,"next",e)}function u(e){I(i,r,o,a,u,"throw",e)}a(void 0)}))}}function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=F(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}var K=(0,o.ri)()(A=Reflect.metadata("design:type",Function)(A=Reflect.metadata("design:paramtypes",[void 0===j.m?Object:j.m,void 0===g.g9?Object:g.g9,void 0===k.A?Object:k.A,void 0===w.g?Object:w.g])(A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Z(e,t)}(u,e);var t,n,r,o=W(u);function u(e,t,n,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(a=o.call(this))._solanaService=e,a._pricesService=t,a._socket=n,a._notificationService=r,a._timer=void 0,a.isHiddenWalletsShown=!1,a.createRequest=(0,v.ls)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._solanaService.provider.connection.getBalance(this._solanaService.provider.wallet.publicKey,"recent"),this._solanaService.getTokenWallets(this._solanaService.provider.wallet.publicKey.toString())]).then((function(e){var n=D(e,2),r=n[0],o=n[1],a=i.w5.nativeSolana({pubkey:t._solanaService.provider.wallet.publicKey.toString(),lamports:new h.u64(r)});return o.unshift(a),o=t._mapVisibility(o),o=(o=t._mapPrices(o)).sort(i.w5.defaultSorter)})).then((function(e){var n=e.map((function(e){return e.token})).filter((function(e){return!t._pricesService.getWatchList().has(e)}));return t._pricesService.addToWatchList(n),t._pricesService.fetchPrices(n),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),(0,v.rC)(U(a),{nativeWallet:v.Fl,isHiddenWalletsShown:v.LO,createRequest:v.ls,toggleIsHiddenWalletShown:v.aD.bound,toggleWalletVisibility:v.aD.bound}),a}return t=u,(n=[{key:"nativeWallet",get:function(){var e;return null!==(e=this.data.find((function(e){return e.isNativeSOL})))&&void 0!==e?e:null}},{key:"getWallets",value:function(){return this.data}},{key:"setDefaults",value:function(){}},{key:"onInitialize",value:function(){this._bind(),this._startObserving()}},{key:"afterReactionsRemoved",value:function(){this._stopObserving()}},{key:"_bind",value:function(){var e=this;this.addReaction((0,v.U5)((function(){return e._pricesService.currentPrices.state.type}),(function(){e._updatePrices()}))),this.addReaction((0,v.U5)((function(){return a.k.hideZeroBalances}),(function(){e._updateWalletsVisibility()}))),this.addReaction((0,v.U5)((function(){return e.getWallets()}),(function(t){var n,r=M(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.pubkey&&e._socket.subscribeAccountNotification(o.pubkey,e._handleAccountNotification.bind(e))}}catch(e){r.e(e)}finally{r.f()}})))}},{key:"_startObserving",value:function(){var e=this;this._timer=setTimeout(E(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._getNewWallets();case 3:return t.prev=3,e._startObserving(),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])}))),1e4)}},{key:"_stopObserving",value:function(){clearInterval(this._timer)}},{key:"_getNewWallets",value:function(){var e=this;return this._solanaService.getTokenWallets(this._solanaService.provider.wallet.publicKey.toString()).then((function(t){var n=e.data,r=t.filter((function(e){return!n.some((function(t){return t.pubkey===e.pubkey}))})).filter((function(e){var t;return!(null!==(t=e.lamports)&&void 0!==t&&t.eq(y.ZERO))}));r=e._mapPrices(r),r=e._mapVisibility(r);var o=n.concat.apply(n,C(r));return o=o.sort(i.w5.defaultSorter)})).then((function(t){e.overrideData(t)}))}},{key:"batchUpdate",value:function(e){var t=e(this.getWallets());this.overrideData(t)}},{key:"hiddenWallets",get:function(){return this.data.filter((function(e){return e.isHidden}))}},{key:"toggleIsHiddenWalletShown",value:function(){this.isHiddenWalletsShown=!this.isHiddenWalletsShown}},{key:"toggleWalletVisibility",value:function(e){e.isHidden?this._unhideWallet(e):this._hideWallet(e)}},{key:"_mapPrices",value:function(e){var t,n=e,r=M(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.price=this._pricesService.currentPrice(o.token.symbol)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_mapVisibility",value:function(e){var t=e;return t.forEach((function(e){e.updateVisibility()})),t}},{key:"_updatePrices",value:function(){if(this.state===b.H.loaded){var e=this._mapPrices(this.data);e=e.sort(i.w5.defaultSorter),this.overrideData(e)}}},{key:"_updateWalletsVisibility",value:function(){if(this.state===b.H.loaded){var e=this._mapVisibility(this.data);this.overrideData(e)}}},{key:"_hideWallet",value:function(e){a.k.unhiddenWalletPubkey=a.k.unhiddenWalletPubkey.filter((function(t){return t!==e.pubkey})),e.pubkey&&-1===a.k.hiddenWalletPubkey.indexOf(e.pubkey)&&a.k.hiddenWalletPubkey.push(e.pubkey),this._updateVisibility(e)}},{key:"_unhideWallet",value:function(e){e.pubkey&&-1===a.k.unhiddenWalletPubkey.indexOf(e.pubkey)&&a.k.unhiddenWalletPubkey.push(e.pubkey),a.k.hiddenWalletPubkey=a.k.hiddenWalletPubkey.filter((function(t){return t!==e.pubkey})),this._updateVisibility(e)}},{key:"_updateVisibility",value:function(e){this.updateItem((function(t){return t.pubkey===e.pubkey}),(function(e){return e.updateVisibility(),e}))}},{key:"_handleAccountNotification",value:function(e){var t=this.data.find((function(t){return t.pubkey===e.pubkey})),n=null==t?void 0:t.lamports,r=e.lamports;if(n)if(n.gt(r)){var o=n.sub(r),a=(0,T.D$)((0,i.K4)(o,t.token.decimals),{maximumFractionDigits:t.token.decimals});this._notificationService.show(_({header:"Sent",text:"- ".concat(a," ").concat(t.token.symbol),token:t.token})),i.Yd.log({account:e.pubkey,lamports:o},i.gr.info)}else if(n.lt(r)){var u=r.sub(n),c=(0,T.D$)((0,i.K4)(u,t.token.decimals),{maximumFractionDigits:t.token.decimals});this._notificationService.show(_({header:"Received",text:"+ ".concat(c," ").concat(t.token.symbol),token:t.token})),i.Yd.log({account:e.pubkey,lamports:u},i.gr.info)}this.updateItem((function(t){return t.pubkey===e.pubkey}),(function(t){return t.lamports=e.lamports,t}))}}])&&B(t.prototype,n),r&&B(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(m.J))||A)||A)||A},33429:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r,o=n(55568),i=n(181),a=n(59917),u=n(80075),c=n(13920),s=n(40253),l=n(7954);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=(0,c.Yn)(c.Fw.ContainerScoped)(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[])(r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._connection=void 0,this._accountSubscriptions={},this._connection=new a.Connection(l.k.apiEndpoint.getURL(),{wsEndpoint:l.k.apiEndpoint.getSocketURL()}),(0,u.rC)(this,{isConnected:u.Fl})}var t,n,r;return t=e,(n=[{key:"isConnected",get:function(){return this._connection._rpcWebSocketConnected}},{key:"subscribeAccountNotification",value:function(e,t){if(this._accountSubscriptions[e])return this._accountSubscriptions[e];var n=this._connection.onAccountChange(new a.PublicKey(e),(function(n){var r=e;if(n.data.length){var a,u=s.wP.decode(n.data),c=null!==(a=null==u?void 0:u.lamports)&&void 0!==a?a:o.ZERO;t({pubkey:r,lamports:c})}else{var l=new i.u64(n.lamports);t({pubkey:r,lamports:l})}}));return this._accountSubscriptions[e]=n,n}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||r)||r)||r},34401:function(e,t,n){"use strict";n.d(t,{m:function(){return y}});var r,o=n(13920),i=n(3549),a=n(40253),u=n(7954);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var y=(0,o.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===i.S?Object:i.S])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}(i,e);var t,n,r,o=f(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,{provider:e.provider,endpoint:u.k.apiEndpoint})).solanaModel=e,t}return t=i,n&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(a.Yc))||r)||r)||r},88192:function(e,t,n){"use strict";n.d(t,{$:function(){return S}});var r,o=n(55568),i=n(59917),a=n(80075),u=n(79771),c=n.n(u),s=n(13920),l=n(42203),f=n(80477),d=n(40253),p=n(99592),y=n(17940),h=n(72703),v=n(33429),m=n(34401),b=n(96426);function w(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,u,"next",e)}function u(e){w(i,r,o,a,u,"throw",e)}a(void 0)}))}}function k(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=(0,s.ri)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===m.m?Object:m.m,void 0===h.A?Object:h.A,void 0===y.g9?Object:y.g9,void 0===v.A?Object:v.A,void 0===p.g?Object:p.g])(r=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._apiClient=t,this._walletsRepository=n,this._pricesService=r,this._socket=o,this._notificationService=i,this.transactions=[],this._onNewTransactionEmitter={listeners:[],emit:function(){for(var e=this.listeners||[],t=0,n=e.length;t<n;t++)e[t].apply(e,arguments)},on:function(e){var t,n=this;return(null===(t=this.listeners)||void 0===t?void 0:t.push(e))||(this.listeners=[e]),function(){n.listeners=n.listeners.filter((function(t){return e!==t}))}}},this.onNewTransaction=this._onNewTransactionEmitter.on,(0,a.rC)(this,{transactions:a.LO,sendTransaction:a.aD,observeTransaction:a.aD,areSomeTransactionsInProgress:a.Fl,getProcessingTransactions:a.aD,getProcessingTransaction:a.aD,sendAndObserve:a.aD,_updateTransactionAtIndex:a.aD})}var t,n,r,u;return t=e,n=[{key:"sendTransaction",value:function(e){var t=this.transactions.length,n=new f.oJ({transactionId:null,sentAt:new Date,rawTransaction:e,status:f.LN.sending()}),r=k(this.transactions);return r.push(n),this.transactions=r,this._onNewTransactionEmitter.emit({trx:n,index:t}),this.sendAndObserve({index:t,processingTransaction:e}),t}},{key:"observeTransaction",value:function(e,t){var n=this;return(0,a.U5)((function(){return n.transactions}),(function(n){var r;return t(null!==(r=n[e])&&void 0!==r?r:null)}))}},{key:"areSomeTransactionsInProgress",get:function(){return this.transactions.some((function(e){return e.status.isProcessing}))}},{key:"observeProcessingTransactions",value:function(e,t){var n=this;return(0,a.U5)((function(){return n.transactions&&n.getProcessingTransactions(e)}),(function(e){return t(e)}))}},{key:"observeProcessingTransactionsAll",value:function(e){var t=this;return(0,a.U5)((function(){return t.transactions&&t.getProcessingTransaction()}),(function(t){return e(t)}))}},{key:"getProcessingTransactions",value:function(e){var t=this;return this.transactions.filter((function(t){var n=t.rawTransaction;switch(n.constructor){case b.ir:if(n.sender.pubkey===e||n.receiver.address===e||n.authority===e)return!0;break;case b.W8:if(n.sourceWallet.pubkey===e||n.destinationWallet.pubkey===e||n.authority===e)return!0}return!1})).map((function(e){var n;return e.parse({pricesService:t._pricesService,authority:null===(n=t._walletsRepository.nativeWallet)||void 0===n?void 0:n.pubkey})})).filter((function(e){return Boolean(e)}))}},{key:"getProcessingTransaction",value:function(){var e=this;return this.transactions.map((function(t){var n;return t.parse({pricesService:e._pricesService,authority:null===(n=e._walletsRepository.nativeWallet)||void 0===n?void 0:n.pubkey})})).filter((function(e){return Boolean(e)}))}},{key:"sendAndObserve",value:(u=g(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.index,r=t.processingTransaction,e.prev=1,e.next=4,r.createRequest();case 4:o=e.sent,this._notificationService.info("Transaction has been sent"),r.isRenBTCViaBitcoinNetwork?this._updateTransactionAtIndex(n,(function(){return new f.oJ({transactionId:o,sentAt:new Date,rawTransaction:r,status:f.LN.finalized()})})):(this._updateTransactionAtIndex(n,(function(){return new f.oJ({transactionId:o,sentAt:new Date,rawTransaction:r,status:f.LN.confirmed(0)})})),this._observe({index:n,transactionId:o})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this._notificationService.error(e.t0.message),this._updateTransactionAtIndex(n,(function(t){var n=t;return n.status=f.LN.error(e.t0),n}));case 13:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return u.apply(this,arguments)})},{key:"_observe",value:function(e){var t=this,n=e.index,r=e.transactionId;c()(function(){var e=g(regeneratorRuntime.mark((function e(o){var i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._apiClient.provider.connection.getSignatureStatus(r);case 3:if(i=e.sent,a=i.value){e.next=7;break}throw d.qh.other("Invalid status");case 7:if(u=a.confirmations&&"finalized"!==a.confirmationStatus?f.LN.confirmed(null!==(c=a.confirmations)&&void 0!==c?c:0):f.LN.finalized(),t._updateTransactionAtIndex(n,(function(e){var t=e;return t.status=u,t.slot=a.slot,t})),a.confirmations&&"finalized"!==a.confirmationStatus){e.next=14;break}return e.abrupt("return",null);case 14:throw b.NI.notEnoughNumberOfConfirmations();case 15:e.next=24;break;case 17:if(e.prev=17,e.t0=e.catch(0),!(e.t0 instanceof b.NI.NotEnoughNumberOfConfirmationsError)){e.next=23;break}return console.error(e.t0),o(e.t0),e.abrupt("return");case 23:t._updateTransactionAtIndex(n,(function(e){var t=e;return t.status=f.LN.finalized(),t}));case 24:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),{retries:30,minTimeout:1e3,maxTimeout:2e3,factor:1})}},{key:"_updateTransactionAtIndex",value:function(e,t){var n=k(this.transactions),r=n[e];if(r){var o=t(r),i=o.status.numberOfConfirmations;return!o.writtenToRepository&&i&&i>0&&(this._updateRepository(o.rawTransaction),o.writtenToRepository=!0),n[e]=o,this.transactions=n,!0}return!1}},{key:"_updateRepository",value:function(e){var t=this;switch(e.constructor){case b.ir:if(this._socket.isConnected)return;this._walletsRepository.batchUpdate((function(t){var n,r=t;if((n=r.findIndex((function(t){return t.pubkey===e.sender.pubkey})))&&r[n].decreaseBalance(e.amount),(n=r.findIndex((function(t){return t.pubkey===e.receiver.address})))&&r[n].increaseBalance(e.amount),n=r.findIndex((function(t){var n;return t.pubkey===(null===(n=e.payingFeeWallet)||void 0===n?void 0:n.pubkey)}))){var o=e.feeInToken;o&&r[n].decreaseBalance(o.total)}return r}));break;case b.hm:if(this._socket.isConnected)return;this._walletsRepository.batchUpdate((function(t){var n,r=t,i=e.reimbursedAmount,a=e.closingWallet;r=r.filter((function(e){return e.pubkey===a.pubkey})),"SOL"!==a.token.symbol||a.token.isNative||(i=i.add(null!==(n=a.lamports)&&void 0!==n?n:o.ZERO));var u=r.findIndex((function(e){return e.isNativeSOL}));return-1!==u&&r[u].increaseBalance(i),r}));break;case b.W8:this._walletsRepository.batchUpdate((function(n){var r=n;if(!t._socket.isConnected){var o=r.findIndex((function(t){return t.pubkey===e.sourceWallet.pubkey}));-1!==o&&r[o].decreaseBalance((0,d.On)(e.amount,e.sourceWallet.token.decimals))}var a=r.findIndex((function(t){return t.pubkey===e.destinationWallet.pubkey}));if(-1!==a)t._socket.isConnected||r[a].increaseBalance((0,d.On)(e.estimatedAmount,e.destinationWallet.token.decimals));else{var u=null;try{var c=e.authority;if(!c)throw!1;u=(0,d.MO)(new i.PublicKey(e.destinationWallet.mintAddress),new i.PublicKey(c),!1,d.jQ.splAssociatedTokenAccountProgramId,d.jQ.tokenProgramId)}catch(e){}if(u){var s=e.destinationWallet;s.pubkey=u.toString(),s.lamports=(0,d.On)(e.estimatedAmount,s.token.decimals),r.push(s)}}if(!t._socket.isConnected){var f,p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.fees);try{var y=function(){var e=f.value;switch(e.type.type){case l.J0.accountCreationFee:case l.J0.transactionFee:var t=r.findIndex((function(t){return t.mintAddress===e.token.address}));-1!==t&&r[t].decreaseBalance(e.lamports);case l.J0.liquidityProviderFee:case l.J0.orderCreationFee:case l.J0.depositWillBeReturned:}};for(p.s();!(f=p.n()).done;)y()}catch(e){p.e(e)}finally{p.f()}}return r}))}}}],n&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())||r)||r)||r},30922:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(80075);function o(e,t){var n=localStorage.getItem(t);if(n){var o=JSON.parse(n);(0,r.t8)(e,e.fromJSON(o))}(0,r.EH)((function(){var n=(0,r.ZN)(e);localStorage.setItem(t,JSON.stringify(n))}))}},648:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(8895),o=n(72779),i=n.n(o),a=n(52322),u=(0,r.Z)("div")({name:"Address",class:"augzjrv"}),c=(0,r.Z)("span")({name:"BlueText",class:"bi8erwr"}),s=function(e){var t=e.address,n=e.small,r=e.medium,o=e.big,s=e.gray,l=void 0!==s&&s,f=e.className;return(0,a.jsxs)(u,{title:t,className:i()(f,{gray:l,small:n,medium:r,big:o}),children:[(0,a.jsx)(c,{children:t.slice(0,4)}),t.slice(4,-4),(0,a.jsx)(c,{children:t.slice(-4)})]})};n(83448)},36087:function(e,t,n){"use strict";n.d(t,{O:function(){return b},M:function(){return j}});var r=n(56253),o=n(72779),i=n.n(o),a=n(13155),u=n(81277),c=function(e){return e?32:44},s=n(8895),l=n(55907),f=(0,s.Z)(l.y)({name:"TokenAvatarStyled",class:"t1wr5cwg"}),d=(0,s.Z)("div")({name:"TokenInfo",class:"t90205n"}),p=(0,s.Z)("div")({name:"TokenName",class:"tz96iop"}),y=(0,s.Z)("div")({name:"TokenBalance",class:"t9q44zw"}),h=(0,s.Z)("div")({name:"TokenUSD",class:"tlhqut5"}),v=(0,s.Z)("div")({name:"Content",class:"c17m6kjp"});n(33995);var m=n(52322),b=(0,a.Pi)((function(e){var t=e.token,n=e.isMobilePopupChild,o=(0,r.dD)(),a=c(o),s=(0,m.jsxs)(y,{children:[(0,u.D$)(0,{maximumFractionDigits:9})," ",t.symbol]});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{token:t,size:a}),(0,m.jsx)(v,{className:i()({isMobilePopupChild:n}),children:(0,m.jsxs)(d,{children:[(0,m.jsx)(p,{title:t.symbol,children:t.name}),s]})})]})})),w=n(14080),g=n(7954),k=n(75223),j=(0,a.Pi)((function(e){var t=e.wallet,n=e.isPlaceholder,o=e.isMobilePopupChild,a=(0,r.dD)(),s=c(a);if(n||!t)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.Z,{height:s,width:s,borderRadius:12}),(0,m.jsx)(v,{className:i()({isMobilePopupChild:o}),children:(0,m.jsxs)(d,{children:[(0,m.jsx)(p,{children:(0,m.jsx)(w.Z,{width:100,height:16})}),(0,m.jsx)(y,{children:(0,m.jsx)(w.Z,{width:100,height:14})}),(0,m.jsx)(h,{children:(0,m.jsx)(w.Z,{width:50,height:14})})]})})]});var l;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f,{token:t.token,size:s}),(0,m.jsx)(v,{className:i()({isMobilePopupChild:o}),children:(0,m.jsxs)(d,{children:[(l=t.token.name,l||(l=(0,k.kp)(t.mintAddress,{numOfSymbolsRevealed:4})),(0,m.jsx)(p,{title:t.mintAddress,children:l})),t.pubkey?(0,m.jsxs)(y,{children:[(0,u.D$)(t.amount,{maximumFractionDigits:9})," ",t.token.symbol]}):null,t.pubkey&&t.amountInCurrentFiat?(0,m.jsxs)(h,{children:[g.k.fiat.symbol," ",(0,u.D$)(t.amountInCurrentFiat,{maximumFractionDigits:2})]}):null]})})]})}))},98504:function(e,t,n){"use strict";n.d(t,{t:function(){return k}});var r,o=n(80075),i=n(61467),a=n(13920),u=n(34287),c=n(27802),s=n(40253),l=n(17940),f=n(72703);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var k=(0,a.b2)()(r=Reflect.metadata("design:type",Function)(r=Reflect.metadata("design:paramtypes",[void 0===f.A?Object:f.A,void 0===f.C?Object:f.C,void 0===l.g9?Object:l.g9])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&v(e,t)}(u,e);var t,n,r,a=m(u);function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=a.call(this))._walletsRepository=e,r._tokensRepository=t,r._pricesService=n,r.selectedWallet=void 0,r._myWallets=void 0,r.showOtherWallets=void 0,r.keyword=void 0,r.isOpen=void 0,r._staticWallets=void 0,r.createRequest=(0,o.ls)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,i.ZP)(null!==this.showOtherWallets,"Set showOtherWallets"),!this.showOtherWallets){e.next=5;break}return e.next=4,this._tokensRepository.getTokensList().then((function(e){return(0,s.$K)(e)})).then((function(e){return e.filter((function(e){return"SOL"!==e.symbol})).map((function(e){return new s.w5({pubkey:null,lamports:null,token:e})}))})).then((function(e){return t._myWallets.concat(e.filter((function(e){return!t._myWallets.some((function(t){return t.token.symbol===e.token.symbol}))})))}));case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,Promise.resolve(this._myWallets);case 8:case"end":return e.stop()}}),e,this)}))),r.selectedWallet=null,r._myWallets=[],r.showOtherWallets=null,r.keyword="",r.isOpen=!1,r._staticWallets=null,(0,o.rC)(w(r),{selectedWallet:o.LO,_myWallets:o.LO,showOtherWallets:o.LO,keyword:o.LO,isOpen:o.LO,_staticWallets:o.LO,setCustomFilter:o.aD,setStaticWallets:o.aD,setShowOtherWallets:o.aD,setIsOpen:o.aD,createRequest:o.ls,search:o.aD,selectWallet:o.aD}),r}return t=u,(n=[{key:"setDefaults",value:function(){this.selectedWallet=null,this._myWallets=[],this.showOtherWallets=null,this.keyword="",this.isOpen=!1,this._staticWallets=null}},{key:"setCustomFilter",value:function(e){this.customFilter=e}},{key:"setStaticWallets",value:function(e){this._staticWallets=e}},{key:"setShowOtherWallets",value:function(e){this.showOtherWallets=e}},{key:"setIsOpen",value:function(e){this.isOpen=e}},{key:"onInitialize",value:function(){var e=this;this.addReaction((0,o.gx)((function(){return e._walletsRepository.state===c.H.loaded}),(function(){var t;e._myWallets=null!==(t=e._staticWallets)&&void 0!==t?t:e._walletsRepository.getWallets(),e.reload()}))),this.addReaction((0,o.U5)((function(){return e._staticWallets}),(function(){var t;e._myWallets=null!==(t=e._staticWallets)&&void 0!==t?t:e._walletsRepository.getWallets(),e.reload()})))}},{key:"afterReactionsRemoved",value:function(){}},{key:"map",value:function(e){var t=y(g(u.prototype),"map",this).call(this,e),n=this.keyword;return n&&(t=t.filter((function(e){return function(e,t){return e.token.symbol.toLowerCase().startsWith(t.toLowerCase())||e.token.symbol.toLowerCase().includes(t.toLowerCase())||e.token.name.toLowerCase().startsWith(t.toLowerCase())||e.token.name.toLowerCase().includes(t.toLowerCase())}(e,n)}))),t}},{key:"search",value:function(e){this.keyword!==e&&(this.keyword=e,this.reload())}},{key:"selectWallet",value:function(e){this.selectedWallet=e,e&&(this._pricesService.addToWatchList([e.token]),this._pricesService.fetchPrices([e.token]))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(u.J))||r)||r)||r},1487:function(e,t,n){"use strict";n.d(t,{l:function(){return S},t:function(){return P.t}});var r=n(2784),o=n(23738),i=n(8895),a=n(72779),u=n.n(a),c=n(13155),s=n(12869),l=n(35477),f=n(56253),d=n(36087),p=n(52322),y=("\n  display: flex;\n  align-items: center;\n  padding: 12px 24px;\n\n  background: ".concat(f.rS.colors.bg.primary,";\n\n  ").concat(f.up.tablet," {\n    padding: 12px 8px;\n\n    border: 1px solid transparent;\n    border-radius: 12px;\n    cursor: pointer;\n  }\n"),(0,i.Z)(s.JO)({name:"CheckIcon",class:"czcbn9d"})),h=(0,i.Z)("div")({name:"Wrapper",class:"w17jfgrx"}),v=function(e){var t=e.wallet,n=e.isPlaceholder,r=e.isSelected,o=e.onWalletClick;return(0,p.jsxs)(h,{onClick:o,className:u()({isSelected:r}),children:[(0,p.jsx)(d.M,{wallet:t,isPlaceholder:n}),(0,p.jsx)(y,{name:"check"})]})};n(26034);var m=(0,c.Pi)((function(e){var t=e.viewModel,n=e.onWalletClick;return(0,p.jsx)(l.U,{viewModel:t,renderPlaceholder:function(e){return(0,p.jsx)(v,{isPlaceholder:!0},e)},renderItem:function(e){var r;return(0,p.jsx)(v,{wallet:e,isSelected:e.mintAddress===(null===(r=t.selectedWallet)||void 0===r?void 0:r.mintAddress),onWalletClick:function(){return n(e)}},e.mintAddress)}})})),b=n(61616),w=(0,i.Z)(s.JO)({name:"ChevronIcon",class:"c8ayrup"}),g=(0,i.Z)("div")({name:"SelectorWrapper",class:"s1mlct8u"}),k=(0,i.Z)("div")({name:"ChevronWrapper",class:"c1pluve1"}),j=(0,i.Z)("div")({name:"DropDownListContainer",class:"d1x5dk2q"}),O=(0,i.Z)("div")({name:"DropDownHeader",class:"d10riiin"}),x=(0,i.Z)("div")({name:"DropDownList",class:"d1f3jarw"}),S=(0,c.Pi)((function(e){var t=e.viewModel,n=e.selector,i=e.selectedWallet,a=e.customFilter,c=e.staticWallets,s=void 0===c?null:c,l=e.showOtherWallets,f=e.onWalletChange,d=e.className,y=(0,r.useRef)(null),h=(0,r.useRef)(null);(0,r.useLayoutEffect)((function(){t.selectWallet(i),t.setCustomFilter(a),t.setStaticWallets(s),t.setShowOtherWallets(l),t.reload()}),[a,i,l,t]);var v=(0,r.useCallback)((function(e){var n,r;null!==(n=y.current)&&void 0!==n&&n.contains(e.target)||null!==(r=h.current)&&void 0!==r&&r.contains(e.target)||t.setIsOpen(!1)}),[t]);(0,o.Z)("click",v);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(g,{ref:y,onClick:function(){t.setIsOpen(!t.isOpen)},className:u()(d,{isOpen:t.isOpen}),children:[n,(0,p.jsx)(k,{children:(0,p.jsx)(w,{name:"arrow-triangle"})})]}),t.isOpen?(0,p.jsxs)(j,{ref:h,children:[(0,p.jsx)(O,{children:(0,p.jsx)(b.M,{placeholder:"Search for token",initialValue:t.keyword,onChange:function(e){t.search(e.trim())}})}),(0,p.jsx)(x,{children:(0,p.jsx)(m,{viewModel:t,onWalletClick:function(e){f(e),t.setIsOpen(!1)}})})]}):null]})}));n(6926);var P=n(98504)},72664:function(e,t,n){"use strict";n.d(t,{P:function(){return j}});var r=n(2784),o=n(8895),i=n(98357),a=n.n(i),u=n(42975),c=n(52322);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,u,"next",e)}function u(e){p(i,r,o,a,u,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var k=(0,o.Z)("div")({name:"Wrapper",class:"wvz94x3"}),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&m(e,t)}(s,e);var t,n,o,i=b(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).delayedCheck=0,e.wrapperRef=(0,r.createRef)(),e.checkLoadMore=a()(y(regeneratorRuntime.mark((function t(){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.disabled,o=n.onNeedLoadMore,!r&&e.wrapperRef.current){t.next=3;break}return t.abrupt("return");case 3:if(i=e.wrapperRef.current,a=i.getBoundingClientRect(),u=a.bottom,!(1.5*window.innerHeight>u)){t.next=9;break}return t.next=8,o();case 8:e.checkLoadMore();case 9:case"end":return t.stop()}}),t)}))),500),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.checkLoadMore),window.addEventListener("resize",this.checkLoadMore),this.delayedCheck=window.setTimeout((function(){e.checkLoadMore()}),0)}},{key:"componentDidUpdate",value:function(){this.checkLoadMore()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayedCheck),this.checkLoadMore.cancel(),window.removeEventListener("scroll",this.checkLoadMore),window.removeEventListener("resize",this.checkLoadMore)}},{key:"render",value:function(){return(0,c.jsx)(k,f(f({},(0,u.Z)(["onNeedLoadMore","disabled"],this.props)),{},{ref:this.wrapperRef}))}}])&&v(t.prototype,n),o&&v(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);j.defaultProps={disabled:!1},n(54527)},45422:function(e,t,n){"use strict";n.d(t,{a:function(){return d}});var r=n(8895),o=n(52322),i=["size"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=(0,r.Z)("div")({name:"Wrapper",class:"w15mtuq2"}),f=(0,r.Z)("div")({name:"Inner",class:"i12tdbr6"}),d=function(e){var t=e.size,n=s(e,i);return(0,o.jsx)(l,u(u({style:{width:t&&"".concat(t,"px"),height:t&&"".concat(t,"px")}},n),{},{children:(0,o.jsx)(f,{})}))};n(37420)},33851:function(e,t,n){"use strict";n.d(t,{Q:function(){return j}});n(2784);var r=n(8895),o=n(56253),i=n(72779),a=n.n(i),u=n(12869),c=n(55907),s=n(52322),l=(0,r.Z)("div")({name:"ToastStyled",class:"t4otsf9"}),f=(0,r.Z)("div")({name:"ToastIconWrapper",class:"t4ypx63"}),d=(0,r.Z)(u.JO)({name:"ToastIcon",class:"tjxg8u0"}),p=(0,r.Z)(u.JO)({name:"InfoIcon",class:"i9f2hb9"}),y=(0,r.Z)("div")({name:"ToastWrapper",class:"t1lbeipx"}),h=(0,r.Z)("div")({name:"ToastHeader",class:"tijhdbi"}),v=(0,r.Z)("div")({name:"ToastText",class:"tr78lxx"}),m=(0,r.Z)("button")({name:"CloseButton",class:"c1b8btio"}),b=(0,r.Z)(u.JO)({name:"CloseIcon",class:"cpcpvcn"}),w=(0,r.Z)(u.JO)({name:"StatusIcon",class:"s19dtxut"}),g=(0,r.Z)("div")({name:"SwapAvatarsWrapper",class:"s6hl7v1"}),k=(0,r.Z)("div")({name:"ButtonWrapper",class:"b6mx8nq"}),j=function(e){var t,n,r=e.type,i=e.header,u=e.text,j=e.status,O=e.token,x=e.tokenB,S=e.tokenBTC,P=e.onClose,A=e.button;switch(r){case"info":t=(0,s.jsx)(d,{name:"success",style:{color:"#4caf50"}});break;case"warn":t=(0,s.jsx)(p,{name:"attention"});break;case"error":t=(0,s.jsx)(d,{name:"error",style:{color:"#ff5959"}});break;case"transfer":case"transferChecked":t=(0,s.jsx)(c.y,{token:O,size:44});break;case"swap":O&&x&&(t=(0,s.jsxs)(g,{children:[(0,s.jsx)(c.y,{token:O,size:32}),(0,s.jsx)(c.y,{token:x,size:32})]}));break;case"mint":t=(0,s.jsx)(f,{children:(0,s.jsx)(d,{name:"warning",style:{color:o.rS.colors.system.warningMain}})});break;case"confirmingDeposit":S&&(t=(0,s.jsx)(c.y,{token:S,size:44}));break;default:t=null}switch(j){case"processing":n=(0,s.jsx)(w,{name:"clock",style:{color:o.rS.colors.system.warningMain}});break;case"success":n=(0,s.jsx)(w,{name:"success",style:{color:"#4caf50"}});break;case"error":n=(0,s.jsx)(w,{name:"warning",style:{color:"#ff5959"}});break;case"confirmingDeposit":n=(0,s.jsx)(w,{name:"clock",style:{color:o.rS.colors.bg.buttonDisabled}});break;case"confirmedDeposit":n=(0,s.jsx)(w,{name:"clock"});break;default:n=null}return(0,s.jsxs)(l,{children:[t,(0,s.jsxs)(y,{children:[(0,s.jsx)(h,{children:i}),(0,s.jsxs)(v,{className:a()({confirmed:"confirmedDeposit"===j}),children:[j?n:void 0,u]}),A?(0,s.jsx)(k,{children:A}):void 0]}),P?(0,s.jsx)(m,{type:"button",name:"notify-toast__close",onClick:P,children:(0,s.jsx)(b,{name:"close"})}):null]})};n(59845)},35477:function(e,t,n){"use strict";n.d(t,{U:function(){return f}});var r=n(2784),o=n(13155),i=n(58242),a=n(53416),u=n(27802),c=n(72664),s=n(55632),l=n(52322),f=(0,o.Pi)((function(e){var t=e.viewModel,n=e.numberOfLoadingCells,o=void 0===n?2:n,f=e.renderPlaceholder,d=e.renderItem,p=e.renderEmpty,y=e.customFilter,h=e.transformer,v=e.className,m=(0,r.useMemo)((function(){return(0,i.YN)((function(){var e=t.data;y&&(e=e.filter(y)),h&&(e=h(e));var n=e.map((function(e){return new s.T({value:e})}));switch(t.state){case u.H.initializing:case u.H.loading:for(var r=0;r<o;r++)n.push(new s.T({placeholderIndex:(0,a.x0)()}));break;case u.H.loaded:0===n.length&&p&&n.push(new s.T({emptyCellIndex:(0,a.x0)()}));case u.H.error:}return n}))}),[y,o,p,t.data,t.state]);return 0===m.length?null:(0,l.jsx)("div",{className:v,children:(0,l.jsx)(c.P,{disabled:!t.isFetchable,onNeedLoadMore:function(){return t.fetchNext()},children:m.map((function(e,t){return e.isEmptyCell?e.isEmptyCell&&p?p(e.emptyCellIndex):null:e.isPlaceholder?null==f?void 0:f(e.placeholderIndex):d(e.value,t)}))})})}))},55632:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{T:function(){return o}});var o=function(){function e(t){var n=t.value,r=t.placeholderIndex,o=t.emptyCellIndex;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=void 0,this.placeholderIndex=void 0,this.emptyCellIndex=void 0,this.value=n,this.placeholderIndex=r,this.emptyCellIndex=o}var t,n,o;return t=e,(n=[{key:"isPlaceholder",get:function(){return Boolean(this.placeholderIndex)}},{key:"isEmptyCell",get:function(){return Boolean(this.emptyCellIndex)}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},55907:function(e,t,n){"use strict";n.d(t,{y:function(){return j}});var r=n(2784),o=n(8895),i=n(72779),a=n.n(i),u=n(12869),c=n(57269),s=n(52322),l=(0,o.Z)("div")({name:"Wrapper",class:"wybbuv3",vars:{"wybbuv3-0":[function(e){var t=e.size;return t?"".concat(t,"px"):"auto"}]}}),f=(0,o.Z)("div")({name:"IconStyled",class:"i13brpgl"}),d=function(e){var t=e.address,n=e.size,r=e.className;return(0,s.jsx)(l,{size:n,className:r,children:(0,s.jsx)(f,{children:(0,s.jsx)(c.ZP,{seed:(0,c.Ds)(t),diameter:n})})})};n(48925);var p=["token","className"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var g=(0,o.Z)("div")({name:"Wrapper",class:"w1xz0c17"}),k=(0,o.Z)("div")({name:"WrappedBy",class:"w1yu5m13"}),j=function(e){var t=e.token,n=e.className,o=w(e,p),i=m((0,r.useState)(!1),2),c=i[0],l=i[1];(0,r.useLayoutEffect)((function(){l(!1)}),[null==t?void 0:t.logoURI]);var f,y,v=(0,r.useMemo)((function(){return!!t&&Boolean(t.wrappedBy)}),[t]);return(0,s.jsxs)(g,{className:a()(n,{isNotExists:!t}),children:[(y={onError:function(){return l(!0)}},null!=t&&t.logoURI&&!c?(0,s.jsx)(u.qE,h(h({src:t.logoURI},o),y)):t&&c||null!=t&&t.address?(0,s.jsx)(d,{address:t.address,size:o.size}):(0,s.jsx)(u.qE,h(h({src:null!==(f=null==t?void 0:t.logoURI)&&void 0!==f?f:void 0},o),y))),v?(0,s.jsx)(k,{className:a()({isWrapped:v})}):void 0]})};n(43494)},26077:function(e,t,n){"use strict";n.d(t,{z:function(){return p}});n(2784);var r=n(8895),o=n(72779),i=n.n(o),a=n(52322),u=["type","primary","secondary","dark","light","gray","lightGray","lightBlue","link","error","hollow","small","medium","big","full","children","style","className"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=(0,r.Z)("button")({name:"Wrapper",class:"wrp78ex"}),p=function(e){var t=e.type,n=void 0===t?"button":t,r=e.primary,o=e.secondary,c=e.dark,l=e.light,p=e.gray,y=e.lightGray,h=e.lightBlue,v=e.link,m=e.error,b=e.hollow,w=e.small,g=e.medium,k=e.big,j=e.full,O=e.children,x=e.style,S=e.className,P=f(e,u);return(0,a.jsx)(d,s(s({type:n},P),{},{style:x,className:i()(S,{primary:r,secondary:o,light:l,dark:c,gray:p,lightGray:y,lightBlue:h,link:v,error:m,hollow:b,small:w,medium:g,big:k,full:j}),children:O}))};n(46927)},61616:function(e,t,n){"use strict";n.d(t,{M:function(){return S}});var r=n(2784),o=n(8895),i=n(72779),a=n.n(i),u=n(60669),c=n(12869),s=n(52322),l=["forwardedRef","initialValue","onChange","className"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=(0,o.Z)("div")({name:"SearchIconWrapper",class:"s2cp5vx"}),b=(0,o.Z)(c.JO)({name:"SearchIcon",class:"s1c8kecf"}),w=(0,o.Z)("label")({name:"Wrapper",class:"w1bfhxb9"}),g=(0,o.Z)("div")({name:"Content",class:"c1j43lcd"}),k=(0,o.Z)("input")({name:"InputElement",class:"i3fhyqb"}),j=(0,o.Z)("div")({name:"SearchClearWrapper",class:"s17znrzu"}),O=(0,o.Z)(c.JO)({name:"SearchClearIcon",class:"s11kgklt"}),x=function(e){var t=e.forwardedRef,n=e.initialValue,o=void 0===n?"":n,i=e.onChange,c=e.className,f=v(e,l),p=y((0,r.useState)(!1),2),h=p[0],x=p[1],S=y((0,r.useState)(o),2),P=S[0],A=S[1],_=(0,u.Z)((function(e){i&&i(e)}),300,{trailing:!0});return(0,s.jsxs)(w,{className:a()(c,{isFocused:h}),children:[(0,s.jsx)(m,{children:(0,s.jsx)(b,{name:"search"})}),(0,s.jsx)(g,{children:(0,s.jsx)(k,d({ref:t,value:P,onFocus:function(e){x(!0),f.onFocus&&f.onFocus(e)},onBlur:function(e){x(!1),f.onBlur&&f.onBlur(e)},onChange:function(e){A(e.target.value),_(e.target.value)}},f))}),(0,s.jsx)(j,{onClick:function(){_.cancel(),A(""),i&&i("")},children:(0,s.jsx)(O,{name:"close"})})]})},S=(0,r.forwardRef)((function(e,t){return(0,s.jsx)(x,d(d({},e),{},{forwardedRef:t}))}));n(86048)},96426:function(e,t,n){"use strict";n.d(t,{NI:function(){return S},W8:function(){return k},hm:function(){return j},ir:function(){return O}});var r=n(181),o=n(42203),i=n(40253),a=n(81277),u=n(75223);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},s(e)}function l(e,t,n){return l=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o},l.apply(null,arguments)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=h();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var g=function(){function e(){m(this,e)}return w(e,[{key:"isSwap",get:function(){return this instanceof k}},{key:"payingWallet",get:function(){switch(this.constructor){case k:return this._payingWallet;case O:return this.payingFeeWallet;default:return null}},set:function(e){switch(this.constructor){case k:this._payingWallet=e;break;case O:this.payingFeeWallet=e}}}]),e}(),k=function(e){f(n,e);var t=p(n);function n(e){var r,o=e.swapService,i=e.sourceWallet,a=e.destinationWallet,u=e.payingWallet,c=void 0===u?null:u,s=e.authority,l=void 0===s?null:s,f=e.poolsPair,d=e.amount,p=e.estimatedAmount,y=e.slippage,h=e.fees,v=e.metaInfo;return m(this,n),(r=t.call(this)).swapService=void 0,r.sourceWallet=void 0,r.destinationWallet=void 0,r._payingWallet=void 0,r.authority=void 0,r.poolsPair=void 0,r.amount=void 0,r.estimatedAmount=void 0,r.slippage=void 0,r.fees=void 0,r.metaInfo=void 0,r.swapService=o,r.sourceWallet=i,r.destinationWallet=a,r._payingWallet=c,r.authority=l,r.poolsPair=f,r.amount=d,r.estimatedAmount=p,r.slippage=y,r.fees=h,r.metaInfo=v,r}return w(n,[{key:"mainDescription",get:function(){return"".concat((0,a.D$)(this.amount,{maximumFractionDigits:9})," ").concat(this.sourceWallet.token.symbol," -> ").concat((0,a.D$)(this.amount,{maximumFractionDigits:9})," ").concat(this.destinationWallet.token.symbol)}},{key:"createRequest",value:function(){var e,t,n=(0,o.Q9)(this.fees),r=this.payingWallet;if(n&&r){var a=r.lamports;if(a&&n.total.gt(a))throw i.qh.other("Your account does not have enough SOL to cover fee ".concat(r.token.symbol,". Needs at least ").concat((0,i.K4)(n.total,r.token.decimals)," ").concat(r.token.symbol,". Please choose another token and try again!"))}return this.swapService.swap({sourceAddress:this.sourceWallet.pubkey,sourceTokenMint:this.sourceWallet.mintAddress,destinationAddress:this.destinationWallet.pubkey,destinationTokenMint:this.destinationWallet.mintAddress,payingTokenAddress:null===(e=this.payingWallet)||void 0===e?void 0:e.pubkey,payingTokenMint:null===(t=this.payingWallet)||void 0===t?void 0:t.mintAddress,poolsPair:this.poolsPair,amount:(0,i.On)(this.amount,this.sourceWallet.token.decimals),slippage:this.slippage}).then((function(e){var t;return null!==(t=e.at(-1))&&void 0!==t?t:""}))}},{key:"networkFees",get:function(){var e,t,n=null===(e=(0,o.Q9)(this.fees))||void 0===e?void 0:e.total,r=null===(t=this.payingWallet)||void 0===t?void 0:t.token;return n&&r?{total:n,token:r}:null}}]),n}(g),j=function(e){f(n,e);var t=p(n);function n(e){var r,o=e.solanaSDK,i=e.closingWallet,a=e.reimbursedAmount;return m(this,n),(r=t.call(this)).solanaSDK=void 0,r.closingWallet=void 0,r.reimbursedAmount=void 0,r.solanaSDK=o,r.closingWallet=i,r.reimbursedAmount=a,r}return w(n,[{key:"mainDescription",get:function(){return"Close account ".concat(this.closingWallet.token.symbol)}},{key:"createRequest",value:function(){var e=this.closingWallet.pubkey;if(!e)throw i.qh.unknown();return this.solanaSDK.closeTokenAccount({tokenPubkey:e})}},{key:"networkFees",get:function(){return{total:new r.u64(5e3),token:i.WU.nativeSolana}}}]),n}(g),O=function(e){f(n,e);var t=p(n);function n(e){var r,o=e.sendService,i=e.network,a=e.sender,u=e.receiver,c=e.authority,s=e.amount,l=e.payingFeeWallet,f=e.feeInSOL,d=e.feeInToken,p=e.isSimulation,y=e.isRenBTCViaBitcoinNetwork;return m(this,n),(r=t.call(this)).sendService=void 0,r.network=void 0,r.sender=void 0,r.receiver=void 0,r.authority=void 0,r.amount=void 0,r.payingFeeWallet=void 0,r.feeInSOL=void 0,r.feeInToken=void 0,r.isSimulation=void 0,r.isRenBTCViaBitcoinNetwork=void 0,r.sendService=o,r.network=i,r.sender=a,r.receiver=u,r.authority=c,r.amount=s,r.payingFeeWallet=l,r.feeInSOL=f,r.feeInToken=d,r.isSimulation=p,r.isRenBTCViaBitcoinNetwork=y,r}return w(n,[{key:"mainDescription",get:function(){var e;return"".concat((0,a.D$)((0,i.K4)(this.amount,this.sender.token.decimals),{maximumFractionDigits:9})," ").concat(this.sender.token.symbol," -> ").concat(null!==(e=this.receiver.name)&&void 0!==e?e:(0,u.kp)(this.receiver.address,{numOfSymbolsRevealed:4}))}},{key:"createRequest",value:function(){return this.sendService.send({wallet:this.sender,receiver:this.receiver.address,amount:(0,i.K4)(this.amount,this.sender.token.decimals),network:this.network,payingFeeWallet:this.payingFeeWallet})}},{key:"networkFees",get:function(){var e,t=this.feeInToken,n=null===(e=this.payingFeeWallet)||void 0===e?void 0:e.token;return t&&n?{total:t.total,token:n}:null}}]),n}(g),x=function(e){f(n,e);var t=p(n);function n(){return m(this,n),t.apply(this,arguments)}return w(n)}(s(Error)),S=function(){function e(){m(this,e)}return w(e,null,[{key:"notEnoughNumberOfConfirmations",value:function(){return new x("notEnoughNumberOfConfirmations")}}]),e}();S.NotEnoughNumberOfConfirmationsError=x},50006:function(e,t,n){"use strict";var r;n.d(t,{RH:function(){return s},XX:function(){return c},HQ:function(){return u}}),function(e){e[e.NONE=0]="NONE",e[e.CHROME=1]="CHROME",e[e.FIREFOX=2]="FIREFOX",e[e.SAFARI=3]="SAFARI",e[e.OPERA=4]="OPERA",e[e.EDGE=5]="EDGE"}(r||(r={}));var o=navigator.userAgent;function i(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,c,"next",e)}function c(e){i(a,r,o,u,c,"throw",e)}u(void 0)}))}}var u=(o.match(/chrome|chromium|crios/i)?r.CHROME:o.match(/firefox|fxios/i)?r.FIREFOX:o.match(/safari/i)?r.SAFARI:o.match(/opr\//i)?r.OPERA:o.match(/edg/i)?r.EDGE:r.NONE)!==r.FIREFOX,c=function(){var e=a(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:n&&n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r&&r(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function(){var e=a(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[new ClipboardItem({"image/png":new Promise((function(e,n){t.toBlob((function(t){t?e(t):n("Can't copy to clipboard")}))}))})],e.next=4,navigator.clipboard.write(o);case 4:n&&n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r&&r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},81277:function(e,t,n){"use strict";n.d(t,{D$:function(){return i},Do:function(){return u},Wy:function(){return a},eP:function(){return c},j4:function(){return o}});var r=n(7954),o=.5;function i(e,t){var n=t.maximumFractionDigits,r=void 0===n?3:n,o=t.showPlus,i=void 0!==o&&o,a=t.showMinus,u=void 0===a||a,c=t.groupingSeparator,s=void 0===c?" ":c,l=t.autoSetMaximumFractionDigits,f=void 0!==l&&l,d={};i&&(d.signDisplay="exceptZero"),d.maximumFractionDigits=f?e>1e3?2:e>100?4:9:r;var p=(u?e:Math.abs(e)).toLocaleString("en-US",d);return"string"==typeof s&&(p=p.replace(/,/g,s)),p}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(r.k.fiat.symbol," ").concat(i(e,{maximumFractionDigits:t}))},u=function(e,t){var n;return"".concat(i(e,{maximumFractionDigits:null!==(n=t.decimals)&&void 0!==n?n:9})," ").concat(t.symbol)};function c(e,t){if(!t)return e;var n=i(e,{maximumFractionDigits:t,groupingSeparator:""});return Number(n)}},90619:function(e,t,n){"use strict";n.d(t,{G:function(){return i},a:function(){return o}});var r=n(65378);function o(e){var t;switch(null===(t=e.info)||void 0===t?void 0:t.constructor){case r.Wh:return"Create account";case r.st:return"Close account";case r.LU:switch(e.info.transferType){case r.Z$.send:return"Transfer";case r.Z$.receive:return"Receive";default:return"Transfer"}case r.SS:return"Swap"}return"Transaction"}function i(e){var t;switch(null===(t=e.info)||void 0===t?void 0:t.constructor){case r.Wh:return"wallet";case r.st:return"bucket";case r.LU:switch(e.info.transferType){case r.Z$.send:return"top";case r.Z$.receive:return"bottom"}break;case r.SS:return"swap"}return"db"}},75223:function(e,t,n){"use strict";n.d(t,{fm:function(){return u},iY:function(){return i},jY:function(){return a},kp:function(){return o}});var r=n(51744);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.numOfSymbolsRevealed,r=void 0===n?4:n,o=t.numOfSymbolsRevealedInSuffix;return e.length<=r+(null!=o?o:r)?e:"".concat(e.slice(0,r),"...").concat(e.slice(-(null!=o?o:r)))}function i(e){return e.includes(r.a.usernameDomain)?e:"".concat(e).concat(r.a.usernameDomain)}var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mainnet-beta",r="https://explorer.solana.com/".concat(e,"/").concat(t);switch(n){case"devnet":case"testnet":return"".concat(r,"?cluster=").concat(n);default:return r}},u=function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}},94789:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r="https://explorer.solana.com/",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mainnet-beta",o="".concat(r).concat(e,"/").concat(t);switch(n){case"devnet":case"testnet":return"".concat(o,"?cluster=").concat(n);default:return o}}},23206:function(e,t,n){"use strict";function r(e){return"".concat(e.slice(0,4),"…").concat(e.slice(-4))}n.d(t,{sC:function(){return r}})},54716:function(e,t,n){"use strict";n.r(t)},95853:function(e,t,n){"use strict";n.r(t)},83688:function(e,t,n){"use strict";n.r(t)},23954:function(e,t,n){"use strict";n.r(t)},69959:function(e,t,n){"use strict";n.r(t)},76111:function(e,t,n){"use strict";n.r(t)},52823:function(e,t,n){"use strict";n.r(t)},29854:function(e,t,n){"use strict";n.r(t)},97783:function(e,t,n){"use strict";n.r(t)},59587:function(e,t,n){"use strict";n.r(t)},7510:function(e,t,n){"use strict";n.r(t)},26672:function(e,t,n){"use strict";n.r(t)},75554:function(e,t,n){"use strict";n.r(t)},32813:function(e,t,n){"use strict";n.r(t)},32526:function(e,t,n){"use strict";n.r(t)},38507:function(e,t,n){"use strict";n.r(t)},5178:function(e,t,n){"use strict";n.r(t)},97531:function(e,t,n){"use strict";n.r(t)},1400:function(e,t,n){"use strict";n.r(t)},19333:function(e,t,n){"use strict";n.r(t)},72808:function(e,t,n){"use strict";n.r(t)},4434:function(e,t,n){"use strict";n.r(t)},73468:function(e,t,n){"use strict";n.r(t)},91159:function(e,t,n){"use strict";n.r(t)},32500:function(e,t,n){"use strict";n.r(t)},15070:function(e,t,n){"use strict";n.r(t)},28020:function(e,t,n){"use strict";n.r(t)},83612:function(e,t,n){"use strict";n.r(t)},94907:function(e,t,n){"use strict";n.r(t)},98134:function(e,t,n){"use strict";n.r(t)},94374:function(e,t,n){"use strict";n.r(t)},75508:function(e,t,n){"use strict";n.r(t)},40113:function(e,t,n){"use strict";n.r(t)},59979:function(e,t,n){"use strict";n.r(t)},58002:function(e,t,n){"use strict";n.r(t)},67195:function(e,t,n){"use strict";n.r(t)},97374:function(e,t,n){"use strict";n.r(t)},44790:function(e,t,n){"use strict";n.r(t)},93642:function(e,t,n){"use strict";n.r(t)},59505:function(e,t,n){"use strict";n.r(t)},72508:function(e,t,n){"use strict";n.r(t)},60766:function(e,t,n){"use strict";n.r(t)},62685:function(e,t,n){"use strict";n.r(t)},48592:function(e,t,n){"use strict";n.r(t)},58041:function(e,t,n){"use strict";n.r(t)},20276:function(e,t,n){"use strict";n.r(t)},32651:function(e,t,n){"use strict";n.r(t)},26905:function(e,t,n){"use strict";n.r(t)},59332:function(e,t,n){"use strict";n.r(t)},91865:function(e,t,n){"use strict";n.r(t)},7511:function(e,t,n){"use strict";n.r(t)},60992:function(e,t,n){"use strict";n.r(t)},88492:function(e,t,n){"use strict";n.r(t)},97205:function(e,t,n){"use strict";n.r(t)},96973:function(e,t,n){"use strict";n.r(t)},6568:function(e,t,n){"use strict";n.r(t)},49147:function(e,t,n){"use strict";n.r(t)},69617:function(e,t,n){"use strict";n.r(t)},14761:function(e,t,n){"use strict";n.r(t)},39330:function(e,t,n){"use strict";n.r(t)},17949:function(e,t,n){"use strict";n.r(t)},88040:function(e,t,n){"use strict";n.r(t)},15244:function(e,t,n){"use strict";n.r(t)},63134:function(e,t,n){"use strict";n.r(t)},38565:function(e,t,n){"use strict";n.r(t)},6006:function(e,t,n){"use strict";n.r(t)},15479:function(e,t,n){"use strict";n.r(t)},60724:function(e,t,n){"use strict";n.r(t)},82033:function(e,t,n){"use strict";n.r(t)},84533:function(e,t,n){"use strict";n.r(t)},3941:function(e,t,n){"use strict";n.r(t)},42397:function(e,t,n){"use strict";n.r(t)},47583:function(e,t,n){"use strict";n.r(t)},15186:function(e,t,n){"use strict";n.r(t)},46258:function(e,t,n){"use strict";n.r(t)},93153:function(e,t,n){"use strict";n.r(t)},72237:function(e,t,n){"use strict";n.r(t)},62881:function(e,t,n){"use strict";n.r(t)},7969:function(e,t,n){"use strict";n.r(t)},52637:function(e,t,n){"use strict";n.r(t)},18290:function(e,t,n){"use strict";n.r(t)},63078:function(e,t,n){"use strict";n.r(t)},37357:function(e,t,n){"use strict";n.r(t)},90063:function(e,t,n){"use strict";n.r(t)},51924:function(e,t,n){"use strict";n.r(t)},21383:function(e,t,n){"use strict";n.r(t)},95308:function(e,t,n){"use strict";n.r(t)},94167:function(e,t,n){"use strict";n.r(t)},90405:function(e,t,n){"use strict";n.r(t)},99112:function(e,t,n){"use strict";n.r(t)},17405:function(e,t,n){"use strict";n.r(t)},93029:function(e,t,n){"use strict";n.r(t)},1820:function(e,t,n){"use strict";n.r(t)},14825:function(e,t,n){"use strict";n.r(t)},70476:function(e,t,n){"use strict";n.r(t)},65985:function(e,t,n){"use strict";n.r(t)},8844:function(e,t,n){"use strict";n.r(t)},91475:function(e,t,n){"use strict";n.r(t)},55065:function(e,t,n){"use strict";n.r(t)},75115:function(e,t,n){"use strict";n.r(t)},84459:function(e,t,n){"use strict";n.r(t)},50090:function(e,t,n){"use strict";n.r(t)},57676:function(e,t,n){"use strict";n.r(t)},52409:function(e,t,n){"use strict";n.r(t)},3491:function(e,t,n){"use strict";n.r(t)},85875:function(e,t,n){"use strict";n.r(t)},81452:function(e,t,n){"use strict";n.r(t)},91153:function(e,t,n){"use strict";n.r(t)},67700:function(e,t,n){"use strict";n.r(t)},46617:function(e,t,n){"use strict";n.r(t)},69970:function(e,t,n){"use strict";n.r(t)},89515:function(e,t,n){"use strict";n.r(t)},23559:function(e,t,n){"use strict";n.r(t)},93916:function(e,t,n){"use strict";n.r(t)},28390:function(e,t,n){"use strict";n.r(t)},51203:function(e,t,n){"use strict";n.r(t)},55430:function(e,t,n){"use strict";n.r(t)},48687:function(e,t,n){"use strict";n.r(t)},19719:function(e,t,n){"use strict";n.r(t)},92585:function(e,t,n){"use strict";n.r(t)},3274:function(e,t,n){"use strict";n.r(t)},29096:function(e,t,n){"use strict";n.r(t)},38357:function(e,t,n){"use strict";n.r(t)},80397:function(e,t,n){"use strict";n.r(t)},63525:function(e,t,n){"use strict";n.r(t)},12421:function(e,t,n){"use strict";n.r(t)},3353:function(e,t,n){"use strict";n.r(t)},67311:function(e,t,n){"use strict";n.r(t)},29524:function(e,t,n){"use strict";n.r(t)},83448:function(e,t,n){"use strict";n.r(t)},10086:function(e,t,n){"use strict";n.r(t)},33995:function(e,t,n){"use strict";n.r(t)},6926:function(e,t,n){"use strict";n.r(t)},26034:function(e,t,n){"use strict";n.r(t)},54527:function(e,t,n){"use strict";n.r(t)},49612:function(e,t,n){"use strict";n.r(t)},20718:function(e,t,n){"use strict";n.r(t)},45465:function(e,t,n){"use strict";n.r(t)},50571:function(e,t,n){"use strict";n.r(t)},59453:function(e,t,n){"use strict";n.r(t)},49542:function(e,t,n){"use strict";n.r(t)},43766:function(e,t,n){"use strict";n.r(t)},81502:function(e,t,n){"use strict";n.r(t)},37420:function(e,t,n){"use strict";n.r(t)},32459:function(e,t,n){"use strict";n.r(t)},77138:function(e,t,n){"use strict";n.r(t)},59845:function(e,t,n){"use strict";n.r(t)},58312:function(e,t,n){"use strict";n.r(t)},53781:function(e,t,n){"use strict";n.r(t)},45028:function(e,t,n){"use strict";n.r(t)},65467:function(e,t,n){"use strict";n.r(t)},65843:function(e,t,n){"use strict";n.r(t)},48925:function(e,t,n){"use strict";n.r(t)},43494:function(e,t,n){"use strict";n.r(t)},84273:function(e,t,n){"use strict";n.r(t)},2624:function(e,t,n){"use strict";n.r(t)},3422:function(e,t,n){"use strict";n.r(t)},22869:function(e,t,n){"use strict";n.r(t)},1367:function(e,t,n){"use strict";n.r(t)},14699:function(e,t,n){"use strict";n.r(t)},88180:function(e,t,n){"use strict";n.r(t)},46927:function(e,t,n){"use strict";n.r(t)},85554:function(e,t,n){"use strict";n.r(t)},60698:function(e,t,n){"use strict";n.r(t)},53262:function(e,t,n){"use strict";n.r(t)},86048:function(e,t,n){"use strict";n.r(t)},93183:function(e,t,n){"use strict";n.r(t)},71928:function(e,t,n){"use strict";n.r(t)},89614:function(e,t,n){"use strict";n.r(t)},10229:function(e,t,n){"use strict";n.r(t)},29005:function(){},45179:function(){},77378:function(){},69314:function(){},83397:function(){},33196:function(){},38087:function(){},27464:function(){},39415:function(){},30633:function(){},20395:function(){},30488:function(){},87374:function(){},29285:function(){},12858:function(){},16866:function(){},6024:function(){},15862:function(){},74854:function(){},66602:function(){},57267:function(){},59255:function(){},42728:function(){},85338:function(){}},function(e){e.O(0,[536,178,361,92,411,425,585],(function(){return t=79846,e(e.s=t);var t}));e.O()}]);