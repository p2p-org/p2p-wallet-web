(this["webpackJsonp@p2p-wallet-web/web"]=this["webpackJsonp@p2p-wallet-web/web"]||[]).push([[14],{1393:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(58),s=n(109),r=n(67),a=n(180),o=n(492),i=n(15),u=n(1383),j=n(0),l=function(e){var t,n,l=e.params,b=l.inputTokenName,f=l.outputTokenName,d=l.inputAmount,p=e.swapInfo,O=e.userTokenAccounts,m=e.feeLimitsInfo,x=e.networkFees,h=e.feeCompensationInfo,w=e.showTitle,v=Object(c.f)().tokenConfigs,k=(null===(t=v[b])||void 0===t?void 0:t.decimals)||0,g=(null===(n=v[f])||void 0===n?void 0:n.decimals)||0,T=Object(s.a)(p.trade.getMinimumOutputAmount(),g),I=Object(s.a)(p.trade.getOutputAmount(),g);return Object(j.jsxs)(u.m,{children:[w&&Object(j.jsx)(u.i,{children:"You are going to swap"}),Object(j.jsxs)(u.h,{className:"swap",children:[Object(j.jsxs)(u.a,{children:[Object(j.jsx)(r.a,{symbol:b,size:44}),Object(j.jsxs)(u.f,{children:[Object(j.jsxs)(u.d,{children:[Object(s.a)(d,k)," ",b]}),Object(j.jsx)(u.e,{children:Object(j.jsx)(a.a,{prefix:"~",amount:d,tokenName:b})})]})]}),Object(j.jsx)(u.b,{children:Object(j.jsx)(u.g,{children:Object(j.jsx)(i.d,{name:"arrow-down"})})})]}),Object(j.jsx)(u.h,{className:"top",children:Object(j.jsxs)(u.a,{children:[Object(j.jsx)(r.a,{symbol:f,size:44}),Object(j.jsxs)(u.f,{children:[Object(j.jsxs)(u.d,{children:[I," ",f]}),Object(j.jsxs)(u.e,{children:["Receive at least: ",T," ",f]})]})]})}),Object(j.jsx)(o.a,{swapInfo:p,userTokenAccounts:O,feeCompensationInfo:h,feeLimitsInfo:m,networkFees:x,open:!1,forPage:!1})]})}},1424:function(e,t,n){"use strict";n.r(t),n.d(t,"TransactionStatusModal",(function(){return O})),n.d(t,"default",(function(){return O}));var c=n(4),s=n(5),r=n(1),a=n.n(r),o=n(2),i=n(23),u=n(81),j=n(1393),l=n(37),b=n(1398),f=n(1378),d=n(0),p="Transaction error",O=function(e){var t,n,r=e.action,O=e.close,m=e.userTokenAccounts,x=e.swapInfo,h=e.feeLimitsInfo,w=e.feeCompensationInfo,v=e.networkFees,k=e.params,g=Object(i.G)().provider,T=Object(o.useState)(!1),I=Object(s.a)(T,2),A=I[0],C=I[1],N=Object(o.useState)(""),y=Object(s.a)(N,2),S=y[0],E=y[1],F=Object(i.B)(S),L=Object(o.useState)(null!==F&&void 0!==F&&null!==(t=F.raw)&&void 0!==t&&null!==(n=t.meta)&&void 0!==n&&n.err?p:""),_=Object(s.a)(L,2),B=_[0],P=_[1],z=Object(i.r)().network,D=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,r();case 4:t=e.sent,E(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),C(!1),P(p);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){D()}),[]),Object(o.useEffect)((function(){var e=function(){var t=Object(c.a)(a.a.mark((function t(){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,g.connection.getTransaction(S,{commitment:"confirmed"});case 5:(n=t.sent)?null!==n&&void 0!==n&&null!==(c=n.meta)&&void 0!==c&&c.err?P(p):B&&P(""):setTimeout(e,3e3),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),P(t.t0.message),u.b.error(t.t0.message);case 13:return t.prev=13,C(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,9,13,16]])})));return function(){return t.apply(this,arguments)}}();e()}),[S]);var J=function(){Object(l.b)("swap_close_click",{transactionConfirmed:!A}),O(S)},M=Boolean(B),G=(!S||!(null!==F&&void 0!==F&&F.key))&&!M,R=Boolean(S&&(null===F||void 0===F?void 0:F.key)&&!M);return Object(d.jsxs)(f.D,{close:J,noDelimiter:!0,children:[Object(d.jsx)(f.o,{children:Object(d.jsxs)(f.l,{children:[x.trade.inputTokenName," \u2192 ",x.trade.outputTokenName,Object(d.jsx)(f.d,{onClick:J,children:Object(d.jsx)(f.c,{name:"close"})}),Object(d.jsx)(b.a,{})]})}),Object(d.jsx)(b.c,{isError:M,isProcessing:G,isSuccess:R,isExecuting:A,label:"Swap status:"}),Object(d.jsx)(f.o,{children:Object(d.jsx)(j.a,{params:k,userTokenAccounts:m,feeLimitsInfo:h,feeCompensationInfo:w,networkFees:v,swapInfo:x,forPage:!1,showTitle:!1})}),Object(d.jsx)(b.b,{signature:S,network:z,amplitudeAction:{name:"swap_explorer_click",data:{transactionConfirmed:!A}}})]})}}}]);
//# sourceMappingURL=14.57a9f674.chunk.js.map