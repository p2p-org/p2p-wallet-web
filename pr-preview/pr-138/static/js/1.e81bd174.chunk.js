(this["webpackJsonp@p2p-wallet-web/web"]=this["webpackJsonp@p2p-wallet-web/web"]||[]).push([[1],{1375:function(e,n,t){},1376:function(e,n,t){"use strict";t.d(n,"a",(function(){return N}));var c=t(5),s=t(10),a=t(2),r=t(44),i=t(1380),o=t(183),l=t(57),d=t(1382),u=t(1381),j=t(1379),b=t.n(j),m=t(28),O=t.n(m),f=t(15),v=t(0),p=b()(.7,-.4,.4,1.4),x=Object(i.a)(d.a),h=Object(o.a)((function(e){var n=Object.assign({},e);return Object(v.jsx)(x,Object(s.a)({},n))}))({name:"StyledDialogContent",class:"stp2ewb",vars:{"stp2ewb-0":[function(e){return e.mobile?"scroll":"hidden"}]}}),g=Object(o.a)("div")({name:"Handle",class:"h17b9fu2"}),k=Object(o.a)("div")({name:"Header",class:"h7031l9"}),w=Object(o.a)("div")({name:"Delimiter",class:"dl0kydt"}),S=Object(o.a)("div")({name:"IconWrapper",class:"ivdh5pf"}),y=Object(o.a)(f.d)({name:"IconStyled",class:"i1cf8pa"}),T=Object(o.a)("div")({name:"Title",class:"tn185p9"}),F=Object(o.a)("div")({name:"Description",class:"d1b6gjod"}),I=Object(o.a)(f.d)({name:"CloseIcon",class:"c3pgt25"}),A=Object(o.a)("div")({name:"Content",class:"chwv75v"}),E=Object(o.a)("div")({name:"Footer",class:"f1xysusc"}),N=function(e){var n=e.title,t=e.description,o=e.footer,d=e.iconName,j=e.iconBgClassName,b=e.noDelimiter,m=e.close,f=e.doNotCloseOnPathChangeMobile,x=e.className,N=e.children,C=Object(a.useState)(!1),W=Object(c.a)(C,2),P=W[0],B=W[1],D=Object(l.d)(),L=Object(r.i)(),z=Object(a.useRef)(L.pathname);Object(a.useEffect)((function(){D&&!f&&z.current!==L.pathname&&m()}),[D,f,L.pathname]),Object(a.useEffect)((function(){return B(!0),function(){B(!1)}}),[]);var M=Object(a.useMemo)((function(){return D?{config:{duration:600,easing:function(e){return p(e)}},from:{transform:"translateY(100px)"},enter:{transform:"translateX(0)"},leave:{transform:"translateY(100px)"}}:{}}),[D]),R=Object(i.c)(P,null,M),U=Object(i.b)((function(){return{y:0,config:{mass:1,tension:210,friction:20}}})),q=Object(c.a)(U,2),_=q[0].y,Y=q[1],G=Object(u.useDrag)((function(e){Y({y:e.down?e.movement[1]:0}),(e.movement[1]>300||e.velocity[1]>3&&e.direction[1]>0)&&m()}));return Object(v.jsx)(v.Fragment,{children:R.map((function(e){var c=e.item,a=e.key,r=e.props;return c&&Object(v.jsxs)(h,Object(s.a)(Object(s.a)({},D?Object(s.a)(Object(s.a)({},G()),{},{style:Object(s.a)(Object(s.a)({},r),{},{transform:_.interpolate((function(e){return"translateY(".concat(e>0?e:0,"px)")}))})}):{style:r}),{},{"aria-label":"dialog",className:x,children:[D?Object(v.jsx)(g,{}):void 0,n||t?Object(v.jsxs)(k,{children:[n?Object(v.jsx)(T,{children:n}):void 0,t?Object(v.jsx)(F,{children:t}):void 0,D?void 0:Object(v.jsx)(I,{name:"cross",onClick:m})]}):void 0,b?void 0:Object(v.jsx)(w,{className:O()({hasIcon:Boolean(d)}),children:d?Object(v.jsx)(S,{className:j,children:Object(v.jsx)(y,{name:d})}):void 0}),N?Object(v.jsx)(A,{children:N}):void 0,o?Object(v.jsx)(E,{children:o}):void 0]}),a)}))})};t(1375)},1378:function(e,n,t){"use strict";t.d(n,"s",(function(){return r})),t.d(n,"D",(function(){return i})),t.d(n,"n",(function(){return o})),t.d(n,"a",(function(){return l})),t.d(n,"m",(function(){return d})),t.d(n,"l",(function(){return u})),t.d(n,"z",(function(){return j})),t.d(n,"f",(function(){return b})),t.d(n,"d",(function(){return m})),t.d(n,"c",(function(){return O})),t.d(n,"A",(function(){return f})),t.d(n,"e",(function(){return v})),t.d(n,"p",(function(){return p})),t.d(n,"B",(function(){return x})),t.d(n,"C",(function(){return h})),t.d(n,"y",(function(){return g})),t.d(n,"v",(function(){return k})),t.d(n,"x",(function(){return w})),t.d(n,"u",(function(){return S})),t.d(n,"w",(function(){return y})),t.d(n,"t",(function(){return T})),t.d(n,"j",(function(){return F})),t.d(n,"i",(function(){return I})),t.d(n,"g",(function(){return A})),t.d(n,"h",(function(){return E})),t.d(n,"q",(function(){return N})),t.d(n,"r",(function(){return C})),t.d(n,"k",(function(){return W})),t.d(n,"b",(function(){return P})),t.d(n,"o",(function(){return B}));var c=t(183),s=t(15),a=t(1376),r=Object(c.a)("div")({name:"StatusColors",class:"s1oe2baa"}),i=Object(c.a)(a.a)({name:"WrapperModal",class:"w4f3mu3"}),o=Object(c.a)("div")({name:"ProgressWrapper",class:"p1i912uk"}),l=Object(c.a)(r)({name:"BlockWrapper",class:"bgkzfl6"}),d=Object(c.a)(s.d)({name:"OtherIcon",class:"o1yz84kj"}),u=Object(c.a)("div")({name:"Header",class:"h1iyn34x"}),j=Object(c.a)("div")({name:"Title",class:"tmn2tn4"}),b=Object(c.a)("div")({name:"Desc",class:"d177nl2c"}),m=Object(c.a)("div")({name:"CloseWrapper",class:"c1sha4fn"}),O=Object(c.a)(s.d)({name:"CloseIcon",class:"c1prpn3v"}),f=Object(c.a)(r)({name:"TransactionLabel",class:"t1wcgvvt"}),v=Object(c.a)("div")({name:"Content",class:"c1y267t2"}),p=Object(c.a)("div")({name:"SendWrapper",class:"s33wg3"}),x=Object(c.a)("div")({name:"ValueCurrency",class:"vd77she"}),h=Object(c.a)("div")({name:"ValueOriginal",class:"v19h1co8"}),g=Object(c.a)("div")({name:"SwapWrapper",class:"spgqtm3"}),k=Object(c.a)("div")({name:"SwapColumn",class:"spxj4if"}),w=Object(c.a)("div")({name:"SwapInfo",class:"s1733ag7"}),S=Object(c.a)("div")({name:"SwapBlock",class:"s1thhukn"}),y=Object(c.a)(s.d)({name:"SwapIcon",class:"srl1rem"}),T=Object(c.a)("div")({name:"SwapAmount",class:"siq91qb"}),F=Object(c.a)("div")({name:"FieldsWrapper",class:"f1i7cxvz"}),I=Object(c.a)("div")({name:"FieldWrapper",class:"f1g97ed6"}),A=Object(c.a)("div")({name:"FieldTitle",class:"f1r727wv"}),E=Object(c.a)("div")({name:"FieldValue",class:"f1uopwlq"}),N=Object(c.a)(s.d)({name:"ShareIcon",class:"svtky2j"}),C=Object(c.a)("div")({name:"ShareWrapper",class:"s4w9gxk"}),W=Object(c.a)("div")({name:"Footer",class:"fr8alv0"}),P=Object(c.a)(s.c)({name:"ButtonExplorer",class:"b1mpmgz6"}),B=Object(c.a)("div")({name:"Section",class:"srflw21"});t(1392)},1383:function(e,n,t){"use strict";t.d(n,"h",(function(){return a})),t.d(n,"a",(function(){return r})),t.d(n,"l",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"f",(function(){return l})),t.d(n,"d",(function(){return d})),t.d(n,"k",(function(){return u})),t.d(n,"j",(function(){return j})),t.d(n,"e",(function(){return b})),t.d(n,"i",(function(){return m})),t.d(n,"m",(function(){return O})),t.d(n,"b",(function(){return f})),t.d(n,"g",(function(){return v}));var c=t(183),s=t(15),a=Object(c.a)("div")({name:"Section",class:"sxfy27d"}),r=Object(c.a)("div")({name:"FieldInfo",class:"f1iduq9w"}),i=Object(c.a)(s.d)({name:"WalletIcon",class:"w1hlmgol"}),o=Object(c.a)("div")({name:"IconWrapper",class:"i9bufhm"}),l=Object(c.a)("div")({name:"InfoWrapper",class:"ivnnc45"}),d=Object(c.a)("div")({name:"InfoTitle",class:"icxt4d5"}),u=Object(c.a)(d)({name:"Username",class:"ui6fe90"}),j=Object(c.a)("span")({name:"To",class:"txjo5xz"}),b=Object(c.a)("div")({name:"InfoValue",class:"i1yjs7sp"}),m=Object(c.a)("div")({name:"Subtitle",class:"s19nrvyc"}),O=Object(c.a)("div")({name:"Wrapper",class:"w1fipug1"}),f=Object(c.a)("div")({name:"FromToWrapper",class:"f1t28dbd"}),v=Object(c.a)("div")({name:"Overlay",class:"o91hs7v"});t(1389)},1385:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var c=t(183),s=t(230),a=t(149),r=t(67),i=t(24),o=t(348),l=t(180),d=t(15),u=t(229),j=t(49),b=t(0),m=Object(c.a)("div")({name:"TokenAndUsd",class:"t1dpujm0"}),O=function(e){var n,t,c,s,a,r,O,f,v,p=e.sendState,x=e.userFreeFeeLimits,h=e.networkFees,g=e.amount,k=Object(i.M)().settings.useFreeTransactions;return Object(b.jsxs)(d.a,{title:Object(b.jsx)(u.a,{title:"Transaction details",titleBottomName:"Total",titleBottomValue:(null===p||void 0===p?void 0:p.details.totalAmount)||""}),open:!1,noContentPadding:!0,children:[Object(b.jsxs)(j.a,{children:[Object(b.jsxs)(j.b,{children:[Object(b.jsx)(j.c,{className:"gray",children:"Receive"}),Object(b.jsxs)(m,{children:[Object(b.jsx)(j.c,{children:null===p||void 0===p?void 0:p.details.receiveAmount}),Object(b.jsx)(l.b,{prefix:"(~",postfix:")",amount:(null===p||void 0===p||null===(n=p.parsedAmount)||void 0===n?void 0:n.toU64())||g,tokenName:null===p||void 0===p||null===(t=p.fromTokenAccount)||void 0===t||null===(c=t.balance)||void 0===c?void 0:c.token.symbol})]})]}),Object(b.jsxs)(j.b,{children:[Object(b.jsx)(j.c,{className:"gray",children:"Transaction fee"}),k?Object(b.jsxs)(j.c,{children:["Free"," ",Object(b.jsxs)(j.c,{className:"green inline-flex",children:["(Paid by P2P.org)",x&&Object(b.jsx)(o.a,{userFreeFeeLimits:x})]})]}):Object(b.jsx)(j.c,{children:"1"})]}),null!==p&&void 0!==p&&p.details.accountCreationAmount?Object(b.jsxs)(j.b,{children:[Object(b.jsxs)(j.c,{className:"gray",children:[null===(s=p.destinationAccount)||void 0===s?void 0:s.symbol," account creation"]}),Object(b.jsxs)(m,{children:[Object(b.jsx)(j.c,{children:p.details.accountCreationAmount}),Object(b.jsx)(l.b,{prefix:"(~",postfix:")",amount:null===h||void 0===h?void 0:h.accountRentExemption,tokenName:null===(a=p.fromTokenAccount)||void 0===a||null===(r=a.balance)||void 0===r?void 0:r.token.symbol})]})]}):void 0]}),Object(b.jsx)(j.a,{className:"total",children:Object(b.jsxs)(j.b,{children:[Object(b.jsx)(j.c,{children:"Total"}),Object(b.jsxs)(m,{children:[Object(b.jsx)(j.c,{children:null===p||void 0===p?void 0:p.details.totalAmount}),Object(b.jsx)(l.b,{prefix:"(~",postfix:")",amount:(null===p||void 0===p||null===(O=p.parsedAmount)||void 0===O?void 0:O.toU64())||g,tokenName:null===p||void 0===p||null===(f=p.fromTokenAccount)||void 0===f||null===(v=f.balance)||void 0===v?void 0:v.token.symbol})]})]})})]})};t(1390);var f=t(1383),v=Object(c.a)("div")({name:"ArrowWrapper",class:"a86hbkb"}),p=Object(c.a)("div")({name:"ArrowIconWrapper",class:"a1j2sz5p"}),x=Object(c.a)(d.d)({name:"ArrowIcon",class:"a1yaxcc8"}),h=function(e){var n,t,c,i,o=e.params,l=e.sendState,d=e.userFreeFeeLimits,u=e.networkFees,j=e.btcAddress,m=(null===(n=o.destination)||void 0===n||null===(t=n.toBase58)||void 0===t?void 0:t.call(n))||j,h=/\w*\.\w+/.test(o.username||"");return Object(b.jsxs)(f.h,{className:"send",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)(f.a,{children:[Object(b.jsx)(r.a,{symbol:null===(c=o.source.balance)||void 0===c?void 0:c.token.symbol,address:null===(i=o.source.balance)||void 0===i?void 0:i.token.address,size:44}),Object(b.jsxs)(f.f,{children:[Object(b.jsx)(f.d,{children:o.amount.formatUnits()}),Object(b.jsx)(f.e,{children:Object(b.jsx)(a.a,{value:o.amount})})]})]}),Object(b.jsx)(v,{children:Object(b.jsx)(p,{children:Object(b.jsx)(x,{name:"arrow-down"})})}),Object(b.jsxs)(f.a,{children:[Object(b.jsx)(f.c,{children:Object(b.jsx)(f.l,{name:"wallet"})}),Object(b.jsxs)(f.f,{children:[o.username?Object(b.jsxs)(f.k,{children:[Object(b.jsx)(f.j,{children:"To"}),h?o.username:"".concat(o.username,".p2p.sol")]}):Object(b.jsx)(f.d,{className:"secondary",children:"To address"}),Object(b.jsx)(f.e,{children:m&&Object(b.jsx)(s.a,{address:m,medium:!0})})]})]})]}),Object(b.jsx)(O,{sendState:l,userFreeFeeLimits:d,networkFees:u,amount:o.amount.toU64()})]})};t(1391)},1389:function(e,n,t){},1390:function(e,n,t){},1391:function(e,n,t){},1392:function(e,n,t){},1398:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return p})),t.d(n,"c",(function(){return E}));var c=t(183),s=t(313),a=t.n(s),r=t(0),i=Object(c.a)("div")({name:"Time",class:"t12rdzu9"}),o=Object(c.a)("div")({name:"DateHeaderWrapper",class:"d15mtekj"}),l=function(){var e=new Date,n=e.getHours()-e.getUTCHours();return Object(r.jsxs)(o,{children:[Object(r.jsx)("span",{children:a()().format("MMMM D, YYYY")}),Object(r.jsx)(i,{children:a()().format("hh:mm:ss")}),Object(r.jsxs)("span",{children:["(UTC",n>=0?"+":"-",n,")"]})]})};t(1408);var d=t(28),u=t.n(d),j=t(15),b=t(37),m=t(285),O=t(1378),f=Object(c.a)(j.d)({name:"GoToExplorerIcon",class:"g9bcl9u"}),v=Object(c.a)("a")({name:"GoToExplorerLink",class:"g1h0srjo"}),p=function(e){return Object(r.jsx)(O.k,{children:Object(r.jsxs)(v,{href:e.signature?Object(m.a)("tx",e.signature,e.network):"",target:"_blank",rel:"noopener noreferrer noindex",onClick:function(){Object(b.c)(e.amplitudeAction)},className:u()({isDisabled:!e.signature}),children:[Object(r.jsx)(f,{name:"external"}),"View in Solana explorer"]})})};t(1409);var x=t(5),h=t(2),g=t(57),k=t(1415),w=Object(c.a)(j.d)({name:"ProgressIcon",class:"psvdukr"}),S=Object(c.a)("div")({name:"TransactionStatus",class:"tmzguch"}),y=Object(c.a)("div")({name:"TransactionBadge",class:"t1v39w5"}),T=Object(c.a)("div")({name:"ProgressWrapper",class:"pb0xeb0"}),F=Object(c.a)("div")({name:"ProgressLine",class:"p195jhxp"}),I=Object(c.a)("div")({name:"ProgressStub",class:"p1u3sisq",vars:{"p1u3sisq-0":[g.f.bottom]}}),A=Object(c.a)(O.s)({name:"BlockWrapper",class:"b1pz7toa"}),E=function(e){var n=Object(h.useState)(k.INITIAL_PROGRESS),t=Object(x.a)(n,2),c=t[0],s=t[1];Object(h.useEffect)((function(){var n=k.INITIAL_PROGRESS;if(e.isExecuting){var t=setInterval((function(){s(c<=95?n+=7:n=95)}),2500);return function(){clearTimeout(t),s(100)}}}),[e.isExecuting]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(T,{children:[Object(r.jsx)(F,{style:{width:"".concat(c,"%")},className:u()({isSuccess:e.isSuccess,isError:e.isError})}),Object(r.jsx)(I,{}),Object(r.jsx)(A,{className:u()({isProcessing:e.isProcessing,isSuccess:e.isSuccess,isError:e.isError}),children:e.isSuccess?Object(r.jsx)(w,{name:"success-send"}):Object(r.jsx)(w,{name:e.isError?"error-send":"clock-send"})})]}),Object(r.jsxs)(S,{children:[e.label,Object(r.jsxs)(y,{children:[Object(r.jsx)(O.A,{className:u()({isProcessing:e.isProcessing,isSuccess:e.isSuccess,isError:e.isError})}),function(e,n,t){switch(!0){case e:return"Pending";case t:return"Error";case n:return"Completed";default:return"Pending"}}(e.isExecuting,e.isSuccess,e.isError)]})]})]})};t(1410)},1408:function(e,n,t){},1409:function(e,n,t){},1410:function(e,n,t){},1415:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return x})),t.d(n,"INITIAL_PROGRESS",(function(){return v})),t.d(n,"TransactionStatusSendModal",(function(){return x}));var c=t(4),s=t(5),a=t(1),r=t.n(a),i=t(2),o=t(23),l=t(86),d=t(81),u=t(37),j=t(258),b=t(1385),m=t(1398),O=t(1378),f=t(0),v=5,p="Transaction error",x=function(e){var n,t,a=e.type,v=e.action,x=e.params,h=e.sendState,g=e.userFreeFeeLimits,k=e.networkFees,w=e.close,S=Object(o.G)().provider,y=Object(l.e)().network,T=Object(i.useState)(!1),F=Object(s.a)(T,2),I=F[0],A=F[1],E=Object(i.useState)(null),N=Object(s.a)(E,2),C=N[0],W=N[1],P=Object(o.B)(C),B=Object(i.useState)(null!==P&&void 0!==P&&null!==(n=P.raw)&&void 0!==n&&null!==(t=n.meta)&&void 0!==t&&t.err?p:""),D=Object(s.a)(B,2),L=D[0],z=D[1],M=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,A(!0),e.t0=a,e.next="send"===e.t0?5:11;break;case 5:return e.next=7,v();case 7:return n=e.sent,W(n),Object(j.b)({header:"Sent",text:"- ".concat(x.amount.formatUnits()),symbol:x.amount.token.symbol}),e.abrupt("break",12);case 11:throw new Error("Wrong type");case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(0),A(!1),"send"===a&&(d.b.error(a,e.t1.message),z(p));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){M()}),[]),Object(i.useEffect)((function(){var e=function(){var n=Object(c.a)(r.a.mark((function n(){var t,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(C){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,S.connection.getTransaction(C,{commitment:"confirmed"});case 5:(t=n.sent)?null!==(c=t.meta)&&void 0!==c&&c.err?z(p):L&&z(""):setTimeout(e,3e3),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),d.b.error(n.t0.message);case 12:return n.prev=12,A(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})));return function(){return n.apply(this,arguments)}}();e()}),[C]);var R=(!C||!(null!==P&&void 0!==P&&P.key))&&!L,U=Boolean(C&&(null===P||void 0===P?void 0:P.key)&&!L),q=Boolean(L),_=null===h||void 0===h?void 0:h.destinationAddress.replace(null===h||void 0===h?void 0:h.destinationAddress.substring(4,(null===h||void 0===h?void 0:h.destinationAddress.length)-4),"..."),Y=function(){Object(u.b)("send_close_click",{transactionConfirmed:!I}),w(C)};return Object(f.jsxs)(O.D,{close:Y,children:[Object(f.jsx)(O.o,{children:Object(f.jsxs)(O.l,{children:[x.amount.token.symbol," \u2192 ",_,Object(f.jsx)(O.d,{onClick:Y,children:Object(f.jsx)(O.c,{name:"close"})}),Object(f.jsx)(m.a,{})]})}),Object(f.jsx)(m.c,{isError:q,isProcessing:R,isSuccess:U,isExecuting:I,label:"Transaction status:"}),Object(f.jsx)(O.o,{children:Object(f.jsx)(b.a,{sendState:h,userFreeFeeLimits:g,params:x,networkFees:k})}),Object(f.jsx)(m.b,{signature:C,network:y,amplitudeAction:{name:"send_explorer_click",data:{transactionConfirmed:!I}}})]})}}}]);
//# sourceMappingURL=1.e81bd174.chunk.js.map