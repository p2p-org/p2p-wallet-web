{"version":3,"sources":["utils/amount.ts","api/connection/index.ts","components/common/LoaderBlock/LoaderBlock.tsx","utils/redux.ts","store/slices/GlobalSlice.ts","config/featureFlags.ts","components/common/Card/Card.tsx","components/common/FeaturesToggle/FeaturesToggle.tsx","components/common/Intercom/Intercom.tsx","store/constants/modalTypes.ts","components/common/ModalManager/ModalManager.tsx","utils/hooks/useIntervalHook.ts","assets/images/logo.png","utils/hooks/useWidthWithoutScrollbar.ts","components/common/ScollFix/ScrollFix.tsx","components/common/Header/Header.tsx","components/common/Header/constants.ts","components/common/Layout/LeftNavMenu/LeftNavMenu.tsx","components/common/Widget/Widget.tsx","components/common/Layout/ProfileWidget/ProfileWidget.tsx","components/common/Layout/Layout.tsx","components/common/WidgetPage/WidgetPage.tsx","components/pages/buy/MoonpayWidget.tsx","components/pages/buy/BuyWidget.tsx","pages/Buy.tsx","components/pages/home/app.png","components/pages/home/Auth/common/LoaderWide/LoaderWide.tsx","components/pages/home/Auth/common/Back/Back.tsx","components/common/TokenAccountRow/TokenAccountRow.tsx","components/pages/home/Auth/common/Button/Button.tsx","components/ui/Popover/Popover.tsx","components/pages/home/Auth/common/Selector/Selector.tsx","components/pages/home/Auth/Login/DerivableAccounts/DerivableAccounts.tsx","utils/hooks/useTrackEventOnce.ts","components/pages/home/Auth/common/Password/Password.tsx","components/pages/home/Auth/common/Password/utils.ts","components/pages/home/Auth/Login/Main/Main.tsx","components/pages/home/Auth/Login/Restore/SelectorAccountItem/SelectorAccountItem.tsx","components/pages/home/Auth/Login/Restore/Restore.tsx","components/pages/home/Auth/Login/Login.tsx","components/pages/home/Auth/Ready/OffPasswordModal/OffPasswordModal.tsx","components/pages/home/Auth/Ready/Ready.tsx","components/pages/home/Auth/Signup/Paste/Paste.tsx","components/pages/home/Auth/common/Checkbox/Checkbox.tsx","components/pages/home/Auth/Signup/Mnemonic/Mnemonic.tsx","components/pages/home/Auth/Signup/Signup.tsx","components/pages/home/Auth/Auth.tsx","pages/Home.tsx","components/pages/landing/styles/breakpoints.ts","components/pages/landing/common/Drawer/Drawer.tsx","components/pages/landing/common/Button/Button.tsx","components/pages/landing/Features/Features.tsx","components/pages/landing/Footer/Footer.tsx","components/pages/landing/Functions/Functions.tsx","components/pages/landing/Header/Header.tsx","components/pages/landing/Top/Top.tsx","components/pages/landing/Under/CarouselMobile/CarouselMobile.tsx","components/pages/landing/Under/CarouselDesktop/Item.tsx","components/pages/landing/Under/CarouselDesktop/screen-1-desktop.png","components/pages/landing/Under/CarouselDesktop/screen-2-desktop.png","components/pages/landing/Under/CarouselDesktop/screen-3-desktop.png","components/pages/landing/Under/CarouselDesktop/screen-4-desktop.png","components/pages/landing/Under/CarouselDesktop/CarouselDesktop.tsx","components/pages/landing/Under/Under.tsx","components/pages/landing/YouCan/YouCan.tsx","pages/Landing.tsx","components/common/Hint/Hint.tsx","components/ui/Select/MenuItem/MenuItem.tsx","utils/clipboard.ts","components/common/UsernameAddressWidget/UsernameAddressWidget.tsx","utils/hooks/useUsername.ts","components/pages/receive/ReceiveAddressWidget/styled.tsx","components/pages/receive/ReceiveAddressWidget/ReceiveSolana.tsx","utils/dates.ts","utils/hooks/renBridge/useLockAndMint.ts","utils/hooks/renBridge/useNetwork.ts","app/contexts/solana/provider.ts","utils/providers/LockAndMintProvider.tsx","components/pages/receive/ReceiveAddressWidget/renBridge/LockAndMintBtc.tsx","components/pages/receive/ReceiveAddressWidget/renBridge/RenGatewayWarning.tsx","components/pages/receive/ReceiveAddressWidget/ReceiveAddressWidget.tsx","pages/Receive.tsx","components/common/RateUSD/RateUSD.tsx","components/common/SlideContainer/SlideCountainer.tsx","components/common/TokenRow/TokenRow.tsx","components/common/SendSwapWidget/common/FromToSelectInput/FromToSelectInput.tsx","store/actions/modals/common.ts","components/common/SendSwapWidget/common/styled.tsx","utils/hooks/renBridge/useBurnAndRelease.ts.ts","components/common/SendSwapWidget/SendWidget/BurnAndRelease.tsx","components/common/SendSwapWidget/SendWidget/ToAddressInput/ToAddressInput.tsx","components/common/SendSwapWidget/SendWidget/SendWidget.tsx","components/pages/send/ResultWidget/ResultWidget.tsx","pages/Send.tsx","pages/Settings.tsx","assets/images/google-play-badge.png","assets/images/app-store-badge.png","components/pages/settings/Network/Network.tsx","pages/SettingsNetwork.tsx","app/contexts/swap/orca-commons/data/Pool.ts","app/contexts/swap/orca-commons/data/Aquafarm.ts","app/contexts/swap/utils/pools.ts","app/contexts/swap/config/routeGenerator.ts","app/contexts/swap/config/provider.ts","app/contexts/swap/orca-commons/data/Token.ts","app/contexts/swap/utils/math.ts","app/contexts/swap/utils/web3/instructions/layout.ts","app/contexts/swap/models/OrcaPool.ts","app/contexts/swap/utils/web3/instructions/pool-instructions.ts","app/contexts/swap/models/TradeablePoolInterface.ts","app/contexts/swap/models/ConstantProductPool.ts","app/contexts/swap/models/StablePool.ts","app/contexts/swap/utils/AsyncCache.tsx","app/contexts/swap/pools/provider.ts","app/contexts/swap/orca-commons/oracle/coingecko.ts","app/contexts/swap/price/provider.ts","app/contexts/swap/utils/format.ts","app/contexts/swap/models/SlippageTolerance.ts","app/contexts/swap/constants.ts","app/contexts/swap/utils/transactions.ts","app/contexts/swap/utils/web3/TransactionBuilder.ts","app/contexts/swap/models/Trade.ts","app/contexts/swap/models/TokenAccount.ts","app/contexts/swap/utils/api.ts","app/contexts/swap/utils/u64.ts","app/contexts/swap/utils/tokenAccounts.ts","utils/hooks/useLocalStorage.ts","app/contexts/swap/swap/provider.ts","app/contexts/swap/user/provider.ts","components/pages/swap/SwapWidget/CurrentPrice/CurrentPrice.tsx","components/pages/swap/SwapWidget/Fees/common/styled.ts","components/pages/swap/SwapWidget/Fees/FeesAccordion/FeesAccordion.tsx","components/pages/swap/SwapWidget/Fees/FeesOriginal.tsx","components/pages/swap/SwapWidget/Fees/Fees.tsx","components/pages/swap/SwapWidget/orca_logo.svg","components/pages/swap/SwapWidget/Reverse/Reverse.tsx","components/pages/swap/SwapWidget/Slippage/Slippage.tsx","components/pages/swap/SwapWidget/SwapButton/SwapButtonOriginal.tsx","components/pages/swap/SwapWidget/SwapButton/SwapButton.tsx","components/pages/swap/SwapWidget/AmountUSD/AmountUSD.tsx","components/pages/swap/SwapWidget/SwapTokenForm/TokenAccountRow/TokenAccountRow.tsx","components/pages/swap/SwapWidget/SwapTokenForm/TokenRow/TokenRow.tsx","components/pages/swap/SwapWidget/SwapTokenForm/SwapTokenForm.tsx","utils/hooks/usePreviousValueHook.ts","components/pages/swap/SwapWidget/SwapFromForm/SwapFromForm.tsx","components/pages/swap/SwapWidget/SwapToForm/SwapToForm.tsx","components/pages/swap/SwapWidget/SwapWidget.tsx","pages/Swap.tsx","components/common/QRAddressWidget/QRAddressWidget.tsx","components/pages/wallet/TopWidget/Chart/Chart.tsx","components/pages/wallet/TopWidget/Chart/utils.ts","components/pages/wallet/TopWidget/TopWidget.tsx","components/common/InfinityScrollHelper/InfinityScrollHelper.tsx","components/pages/wallet/ActivityWidget/TransactionRow/TransactionRow.tsx","components/pages/wallet/ActivityWidget/TransactionList/TransactionList.tsx","components/pages/wallet/ActivityWidget/ActivityWidget.tsx","components/pages/wallet/TokenSettingsWidget/TokenSettingsWidget.tsx","pages/Wallet.tsx","components/pages/wallets/DonutChart/utils.ts","components/pages/wallets/DonutChart/DonutChart.tsx","components/pages/wallets/TotalBalanceWidget/TotalBalanceWidget.tsx","components/ui/Menu/MenuItem/MenuItem.tsx","components/pages/wallets/TokensWidget/TokenRow/TokenRow.tsx","components/pages/wallets/TokensWidget/TokenList/TokenList.tsx","components/pages/wallets/TokensWidget/TokensWidget.tsx","components/pages/wallets/UsernameBanner/UsernameBanner.tsx","pages/Wallets.tsx","pages/WalletSettings.tsx","utils/routes/UserRequiredRoute.tsx","components/pages/swap/Providers/Providers.tsx","Providers.tsx","App.tsx","utils/common.ts","store/slices/transaction/TransactionSlice.ts","api/token/Token.ts","api/rate/CandleRate.ts","api/rate/MarketRate.ts","api/rate/index.ts","store/slices/rate/RateSlice.ts","app/contexts/swapSerum/tokenList/index.ts","components/common/AmountUSD/AmountUSD.tsx","components/ui/Button/Button.tsx","components/ui/Icon/assets/arrow-icon.svg","components/ui/Icon/assets/new/app-store-icon.svg","components/ui/Icon/assets/arrow-triangle-icon.svg","components/ui/Icon/assets/attention-icon.svg","components/ui/Icon/assets/new/bottom-icon.svg","components/ui/Icon/assets/branch-icon.svg","components/ui/Icon/assets/bucket-icon.svg","components/ui/Icon/assets/card-icon.svg","components/ui/Icon/assets/chain-icon.svg","components/ui/Icon/assets/change-icon.svg","components/ui/Icon/assets/checkmark-icon.svg","components/ui/Icon/assets/chevron-1-icon.svg","components/ui/Icon/assets/new/chevron-icon.svg","components/ui/Icon/assets/chevron-rounded-icon.svg","components/ui/Icon/assets/clock-icon.svg","components/ui/Icon/assets/close-icon.svg","components/ui/Icon/assets/new/copy-icon.svg","components/ui/Icon/assets/currency-icon.svg","components/ui/Icon/assets/db-icon.svg","components/ui/Icon/assets/error-icon.svg","components/ui/Icon/assets/new/eye-hide-icon.svg","components/ui/Icon/assets/new/eye-icon.svg","components/ui/Icon/assets/new/external-link-icon.svg","components/ui/Icon/assets/free-tx-icon.svg","components/ui/Icon/assets/new/gear-icon.svg","components/ui/Icon/assets/new/google-play-icon.svg","components/ui/Icon/assets/new/home-icon.svg","components/ui/Icon/assets/new/info-icon.svg","components/ui/Icon/assets/lock-icon.svg","components/ui/Icon/assets/logout-icon.svg","components/ui/Icon/assets/more-icon.svg","components/ui/Icon/assets/new/pen-icon.svg","components/ui/Icon/assets/plug-icon.svg","components/ui/Icon/assets/new/plus-icon.svg","components/ui/Icon/assets/new/qr-icon.svg","components/ui/Icon/assets/question-circle-icon.svg","components/ui/Icon/assets/reload-icon.svg","components/ui/Icon/assets/search-icon.svg","components/ui/Icon/assets/settings-icon.svg","components/ui/Icon/assets/success-icon.svg","components/ui/Icon/assets/sun-icon.svg","components/ui/Icon/assets/new/swap-icon.svg","components/ui/Icon/assets/timer-icon.svg","components/ui/Icon/assets/new/top-icon.svg","components/ui/Icon/assets/wallet-icon.svg","components/ui/Icon/assets/warning-icon.svg","components/ui/Icon/assets/new/warning-transparent-icon.svg","components/ui/Icon/assets/new/clock-transparent-icon.svg","components/ui/Icon/Icon.tsx","components/ui/Input/Input.tsx","components/ui/Avatar/Avatar.tsx","components/ui/Select/Select.tsx","components/ui/Switch/Switch.tsx","components/ui/RadioButton/RadioButton.tsx","components/ui/Menu/Menu.tsx","components/ui/Tooltip/Tooltip.tsx","components/ui/Accordion/Accordion.tsx","components/ui/TextField/TextField.tsx","api/token/token.config.ts","store/selectors/rates.ts","api/transaction/Transaction.ts","components/common/ErrorHint/ErrorHint.tsx","components/common/Loader/Loader.tsx","utils/transactionNotifications.tsx","components/common/NotifyToast/NotifyToast.tsx","app/contexts/swapSerum/token/common/cache.ts","app/contexts/swapSerum/dex/common/cache.ts","app/contexts/swapSerum/dex/provider.ts","app/contexts/swapSerum/token/utils/setMintCache.ts","app/contexts/swapSerum/dex/hooks/useRouteVerbose/utils.ts","app/contexts/swapSerum/dex/hooks/useRouteVerbose/useRouteVerbose.ts","app/contexts/swapSerum/dex/hooks/useMarket.ts","app/contexts/swapSerum/dex/hooks/useOrderbook.ts","app/contexts/swapSerum/dex/hooks/useBbo.ts","app/contexts/swapSerum/dex/hooks/useRoute.ts","app/contexts/swapSerum/dex/hooks/useFairRoute.ts","app/contexts/swapSerum/token/utils/getOwnedAssociatedTokenAccounts.ts","app/contexts/swapSerum/token/provider.ts","app/contexts/swapSerum/swap/provider.ts","app/contexts/swapSerum/swap/hooks/useSwapFair.ts","api/token/colors.config.ts","app/contexts/swapSerum/tokenList/provider.ts","components/common/Empty/Empty.tsx","lib/cachettl/CacheTTL.ts","utils/connection.ts","components/common/AddressText/AddressText.tsx","components/common/PasswordInput/PasswordInput.tsx","api/connection/utils/retryableProxy.ts","api/wallet/ManualWallet/ManualWallet.ts","api/wallet/ManualWallet/utils.ts","api/wallet/ManualWallet/errors.ts","app/contexts/swapSerum/tokenList/hooks/useTokenMap.ts","components/ui/SearchInput/SearchInput.tsx","api/wallet/index.ts","api/wallet/PhantomWallet.ts","api/wallet/SolletWallet.ts","utils/errors.ts","utils/analytics/amplitude.ts","store/rootReducer.ts","api/transaction/index.ts","utils/lockAndMintConfig.ts","app/contexts/swap/utils/web3/instructions/token-instructions.ts","api/OnChainEntity.ts","api/token/TokenAccount.ts","config/constants.ts","store/store.ts","api/feeRelayer/index.ts","components/common/ToastManager/Toast.tsx","components/common/ToastManager/ToastManager.tsx","app/contexts/swapSerum/common/constants/pubkeys.ts","api/nameService/index.ts","store/slices/wallet/WalletSlice.ts","store/utils.ts","api/wallet/LocalWallet.ts","store/index.ts","styles/global.ts","components/common/FeatureProvider/FeatureProvider.tsx","index.tsx","wdyr.ts","components/common/TokenAvatar/Jazzicon/Jazzicon.tsx","components/common/TokenAvatar/TokenAvatar.tsx","utils/tokens.ts","constants/solana/bufferLayouts.ts","utils/settings.ts","api/wallet/Wallet.ts","api/wallet/ManualWallet/index.ts","utils/transaction.ts","api/token/AccountListener.ts","api/token/index.ts"],"names":["toDecimal","num","Decimal","minorAmountToMajor","minorAmount","token","div","decimals","toDecimalPlaces","majorAmountToMinor","majorAmount","mul","round","currentNetwork","currentNetworkTransactions","DEFAULT_COMMITMENT","defaultCommitment","createConnection","memoizeWith","toString","network","connection","Connection","endpoint","wsEndpoint","httpHeaders","forEach","fnName","retryableProxy","getEndpoint","getConnection","getConnectionTransactions","cluster","confirmTransaction","signature","commitment","confirmViaSocket","Promise","resolve","onSignature","signatureResult","console","log","confirmViaHttp","then","value","race","Wrapper","LoaderBlock","className","size","ignoredActions","isIgnored","action","any","actionPrefix","type","startsWith","isRejectedAction","endsWith","isFulfilledAction","isPendingAction","STORAGE_KEY_FEATURES_FLAGS","initialState","loading","error","availableTokens","featureFlagsEnabled","Boolean","localStorage","getItem","GLOBAL_SLICE_NAME","getAvailableTokens","createAsyncThunk","arg","thunkAPI","a","getState","wallet","tokenAPI","APIFactory","getTokens","tokens","map","serialize","wipeAction","createAction","setFeatureFlagsAction","globalSlice","createSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","payload","addMatcher","ToastManager","message","Math","max","FEATURE_LEFT_NAV_MENU_POFILE","FEATURE_SETTINGS_LIST","FEATURE_ADD_TOKEN_BUTTON","FEATURE_LANDING","FEATURE_SETTINGS_CLOSE_ACCOUNT","FEATURE_SETTINGS_FREE_TRANSACTIONS","FEATURE_NAV_MENU_BUY_BUTTON","featureFlags","CardOriginal","props","ref","classNames","withShadow","Card","forwardRef","forwardedRef","WrapperCard","Label","Input","FeaturesToggle","memo","dispatch","useDispatch","cardRef","useRef","useState","useSelector","handleOnKeyUp","e","setShow","handleAwayClick","useEffect","window","document","checked","onChange","String","Intercom","update","useIntercom","location","useLocation","SHOW_MODAL_ADD_COIN","SHOW_MODAL_TRANSACTION_CONFIRM","SHOW_MODAL_TRANSACTION_DETAILS","SHOW_MODAL_TRANSACTION_STATUS","SHOW_MODAL_CLOSE_TOKEN_ACCOUNT","SHOW_MODAL_ERROR","SHOW_MODAL_PROCEED_USERNAME","ModalContainer","ModalWrapper","ModalBackground","modalsMap","Map","loadable","ModalManager","modals","closeTopModal","last","modalId","modalRef","modalsRefs","closeModal","handleWrapperClick","dialogsInfo","dialogs","ModalComponent","getReadyDialogs","createRef","setModalsRefs","fallback","key","onMouseDown","close","useIntervalHook","callback","delay","savedCallback","current","id","setInterval","clearInterval","width","prevWidth","getScrollbarWidth","scrollElement","containerDiv","createElement","innerHTML","firstElementChild","body","append","offsetWidth","clientWidth","listeners","onResize","scrollbarWidth","innerWidth","ScrollFix","style","setValue","currentRef","length","addEventListener","push","undefined","index","lastIndexOf","splice","removeEventListener","useWidthWithoutScrollbar","FixedContainer","ScrollFixContainer","MainContainer","Content","LogoLink","LogoImg","BreadcrumbWrapper","BackIcon","BackLink","Header","breadcrumb","connected","to","src","NavButton","IconBlock","NavIcon","NavLinkMenu","Separator","Line","LeftNavMenu","pathname","fromPage","target","Title","Action","WidgetOriginal","title","children","Widget","WrapperWidget","Top","Username","Bottom","Address","CopiedText","CopyIcon","CopyWrapper","ProfileWidget","username","address","copied","onClick","navigator","setCopied","setTimeout","MainScrollFix","Container","ColumnsWrapper","ColumnLeftSticky","ColumnLeft","ColumnRightWrapper","ColumnRight","CenteredWrapper","NProgress","showSpinner","parent","LayoutOrigin","updateTokenAccountsForWallet","rightColumn","top","HEADER_HEIGHT","leftColumn","centered","Layout","React","TitleWrapper","IconWrapper","IconStyled","WidgetPageOriginal","WidgetPage","Error","params","apiKey","currencyCode","baseCurrencyAmount","lockAmount","MoonpayWidget","urlWithParams","moonpayWidgetUrl","Object","encodeURIComponent","buildParams","allow","frameBorder","height","WrapperWidgetPage","BuyWidget","icon","Buy","LoaderStyled","Logo","LoaderWide","Back","ItemWrapper","Info","TokenSymbol","TokenAccountRow","symbol","tokenAccount","shortAddress","Button","ButtonWrapper","PopoverWrapper","Popover","wrapperRef","setIsShow","button","isShow","MainWrapper","Value","Text","ChevronIcon","ChevronWrapper","DropDownListContainer","DropDownList","DropDownListItem","Selector","selectorRef","dropdownRef","listRef","setIsOpen","isOpen","items","item","nextValue","renderItem","SubTitle","SelectDerivationPath","CloseWrapper","CloseIcon","QuestionIcon","PopoverContent","Derivable","AccountsWrapper","TokenAccountRowStyled","DERIVATION_PATHS_WITH_LABELS","label","DERIVATION_PATH","bip44","bip44Change","deprecated","DerivableAccounts","next","derivableTokenAccounts","account","TokenAccount","connect","getRatesMarkets","getDerivableTokenAccounts","seed","derivationPath","derivationPathItem","trackEvent","setDerivationPathItem","useTrackEventOnce","tracked","useCallback","event","data","includes","amplitude","getInstance","logEvent","CreatePassword","CreatePasswordHint","RulesWrapper","StepsWrappers","Step","RulesList","Rule","RepeatPassword","ButtonStyled","Password","trackEventOnce","useMemo","password","isLowerCase","test","isUpperCase","isNumber","isMinLength","validatePassword","disabled","placeholder","setPassword","counter","reduce","curr","prev","Array","fill","red","orange","green","blue","done","renderRules","setPasswordRepeat","setHasPasswordRepeatError","onBlur","hasPasswordRepeatError","ButtonsWrapper","SocialButton","WalletIcon","ArrowIcon","Delimiter","DelimiterText","SecurityWrapper","SecurityKey","MnemonicTextarea","Main","history","useHistory","mnemonicRef","localMnemonic","handleConnectByClick","batch","setIsLoading","selectType","unwrapResult","connectWallet","WalletType","sleep","validateMnemonic","throttle","nextMnemonic","bip39","setHasError","leading","trailing","isDisabled","mnemonic","onInput","valueTrimmed","setMnemonic","hasError","AccountAddress","SelectorAccountItem","TopWrapper","AccountWrapper","EnterPassword","Restore","back","locked","JSON","setAccounts","loadMnemonicAndSeed","accounts","BackStyled","backToPage","restore","main","derivableAccounts","Login","setPage","handleBackClick","handleContinueMnemonicClick","mnemonicToSeed","nextSeed","setSeed","handleContinuePasswordClick","nextPassword","handleContinueDerivableAccountsClick","nextDerivationPath","page","Background","Description","Buttons","ButtonClose","OffPasswordModal","dark","Desc","SwitcherLabel","SwitcherText","Ready","isShowModal","nextIsSave","setIsShowModal","setIsSave","storeMnemonicAndSeed","fastEnter","isSave","PasteMnemonic","PasteMnemonicHint","MnemonicWrapper","Paste","userMnemonic","setUserMnemonic","WrapperLabel","CheckboxIcon","Checkbox","PleaseText","SecurityKeyHint","CheckboxWrapper","Mnemonic","readOnly","nextChecked","setChecked","paste","Signup","Navigate","NavLinkStyled","Auth","nextData","setData","isActive","path","exact","isLoading","Left","TitleBold","AppImg","Home","breakpoints","widedesktop","desktop","tablet","mobileLandscape","mobile","up","useBreakpoint","breakpoint","query","mq","handleChange","setIsBreak","DrawerBg","DrawerMenu","MenuLink","Drawer","onDrawerClose","ButtonLink","ButtonWeb","glow","ButtonIOS","GradientWrapper","FeaturesWrapper","FeaturesColumn","Feature","FeatureTitle","FeatureDescription","Features","isTablet","dangerouslySetInnerHTML","__html","FooterWrapper","BackgroundBlack","DelimiterSection","Middle","MiddleContainer","LogoWrapper","LogoP2P","DelimiterLogo","Wallet","Footer","HackathonWrapper","Curves","CarouselWrapper","Carousel","Selectors","Icon","SelectorName","SlideImage","TextWrapper","TextContent","Functions","handleClick","nextSlide","newSlides","slides","slide","setActiveSlide","setSlides","active","activeSlide","HamburgerIcon","Right","onDrawerToggle","TitleGreen","Navigation","Nav","CarouselMobile","carouselRef","element","scrollListener","windowScroll","totalWidth","setScrollProgress","count","selectedDotValue","scrollProgress","left","behavior","renderNavs","Item","ArrowIconWrapper","Dots","Dot","ITEMS","oneImg","twoImg","threeImg","fourImg","CarouselDesktop","handleSelectToken","setActiveIndex","newItems","i","level","renderItems","activeIndex","Bold","Hint","Under","TextTitle","TextTitleBold","TextBold","Window","YouCan","isDesktop","Landing","handleDrawerToggle","setIsDrawerOpen","LockIcon","CheckmarkIcon","MenuItem","onItemClick","isSelected","askClipboardWritePermission","permissions","setToClipboard","blob","ClipboardItem","clipboard","write","UsernameAddressWrapper","QRCodeWrapper","UsernameAddress","handleCopyClick","copy","UsernameAddressWidget","setIsImageCopyAvailable","medium","hollow","isImageCopyAvailable","qrElement","useUsername","domain","BottomInfo","ExplorerA","UsernameAddressWidgetWrapper","InfoBlock","ReceiveSolana","availableTokenAccounts","itemToken","publicKey","solAccount","href","getExplorerUrl","rel","millisecondsToHMS","milliseconds","seconds","floor","minutes","hours","getHours","pad","padStart","getSessionDay","Date","now","formatAmount","amount","BigNumber","toNumber","sessionFromMintConfigMultiple","config","session","mintParams","userAddress","destAddress","destChain","destinationChain","sourceChain","expiryTime","transactions","customParams","createdAt","sourceAsset","idFromParams","useLockAndMint","context","tx","sdk","fromChainMap","toChainMap","from","_","fromMap","toMap","buildMintContextWithMap","buildMintContext","useMachine","mintMachine","devTools","debug","machine","x","addDeposit","txHash","vOut","rawSourceTx","transaction","confirmations","send","sourceTxHash","setDecimals","assetDecimals","deposits","keys","depositMachines","sessionMachine","currentState","useRenNetwork","RenNetwork","Mainnet","Testnet","createContainer","slot","setSlot","getWallet","pubkey","signTransaction","sign","signAllTransactions","txs","SolanaProvider","Provider","useSolana","useContainer","Context","createContext","renJsCache","getRenjs","RenJS","chainsCache","getChains","solanaProvider","bitcoin","solana","Bitcoin","Solana","DepositWatcher","deposit","targetConfirmationsCount","onDepositChage","rawAmount","depositId","mint","isAccepted","DepositStates","RENVM_ACCEPTED","renSignature","show","onClose","NotifyToast","header","status","primary","CONFIRMING_DEPOSIT","sourceTxConfs","sourceTxConfTarget","isCompleted","text","showDepositToast","LockAndMintSession","nonce","onGatewayAddressInit","lockAndMintParams","asset","toBase58","gatewayAddress","getRenNetworkDetails","isTestnet","activeDepositId","isNil","activeTransactions","values","filter","t","completedAt","sort","b","Number","detectedAt","getActiveDepositId","activeDeposit","LockAndMintProvider","setConfig","setGatewayAddress","setDeposits","loadAndDeleteExpired","initializeConfig","initConfig","handleGatewayAddressInit","COMPLETED","newDeposits","content","isConfigInitialized","feesCache","timestamp","fees","burn","lock","release","useFetchFees","isNeedLoadFee","setFees","pending","setPending","fetchFees","getFees","rates","StatusItem","Status","StatusTitle","StatusAction","GatewayInfoWrapper","GatewayInfoItems","GatewayInfoItem","MinimumTxAmount","DepositConfirmationStatus","sourceConfirmations","DepositStatus","open","states","targetConfirmations","outAmount","color","HMSCountdown","setCount","ms","time","getFormattedHMS","LockAndMintBtc","lockAndMintProvider","ctx","useContext","useLockAndMintProvider","isFetchingFee","timeRemained","ceil","Warning","WarningIconWrapper","WarningText","AttentionIcon","WarningItems","WarningItem","ConfirmWrapper","ConfirmText","RenGatewayWarning","onShowButtonClick","mount","setIsTokenLoaded","setSolanaTokenAccount","createAccount","setAwaiting","solanaToken","setIsConfirm","marginTop","NetworkSelectWrapper","NetworkSelect","NetworkSelectText","SOURCE_NETWORKS","ReceiveAddressWidget","setSourceNetwork","setIsShowGatewayAddress","Receive","RateUSD","rate","rateSelector","Intl","currency","SHIFT_AMOUNT","Root","ArrowContainer","LeftArrowContainer","RightArrowContainer","nextAnimationFrame","scrollLeft","contentWidth","contentRef","stepTs","renderLazy","onLeftClick","onRightClick","scroll","step","delta","shift","remain","px","componentDidMount","this","componentDidUpdate","componentWillUnmount","render","right","leftshade","rightshade","onScroll","TokenName","TokenRow","FromTitle","AllBalance","TokenAvatarWrapper","InfoWrapper","SpecifyTokenWrapper","EmptyName","TokenWrapper","AmountInput","BalanceWrapper","BalanceText","AmountUSDStyled","DropDownHeader","FiltersWrapper","TitleTokens","YourTokens","AllTokens","FromToSelectInput","direction","feeAmount","setLocalAmount","handleScroll","setScrollTop","boxShadow","scrollTop","handleTokenAccountClick","nextTokenAccount","onTokenAccountChange","handleTokenClick","nextToken","renderBalance","feeAmountString","fee","balanceWithoutFee","filteredTokenAccounts","filteredWithBalance","tokenAccounts","filterLower","filteredTokens","hasBalance","onFocus","nextAmount","onAmountChange","tokenAccountBalance","localAmount","nextFilter","setFilter","openModal","some","modalType","DuplicateModalError","openModalRedux","FromWrapper","BottomWrapper","TooltipRow","TxName","TxValue","sessionFromBurnConfigMultiple","burnParams","destinationAddress","targetAmount","random","useBurnAndRelease","buildBurnContextWithMap","buildBurnContext","autoSubmit","burnMachine","burnExplorerLink","setBurnExplorerLink","releaseExplorerLink","setReleaseExplorerLink","fromChain","toChain","currentTx","utils","transactionExplorerLink","isBurnCompleted","destTxHash","StatusItems","StatusTimestamp","BurnStatusItem","BurnStates","isBurnErroring","BurnAndRelease","burnAndReleaseProps","SearchIcon","ToInput","AddressWrapper","WalletIconWrapper","ResolvedNamesList","ResolvedNamesItem","NameAddress","Name","LoaderWrapper","ToAddressInput","isAddressInvalid","resolvedNames","isResolvingNames","inputRef","setIsResolvedNamesListOpen","clickListener","handleItemClick","onResolvedNameClick","isFocused","resolvedAddress","isAddressResolved","setIsFocused","small","gray","isResolvedNamesListOpen","ToSendWrapper","InfoIcon","ConfirmTextWrapper","ConfirmTextPrimary","ConfirmTextSecondary","HintWrapper","TextFieldTXStyled","TextFieldStyled","SendIcon","isValidAmount","amountValue","isValidAddress","isSolanaNetwork","formatFee","SendWidget","fromTokenAccount","useFreeTransactions","isNetworkSourceSelectorVisible","setIsSolanaNetwork","destinationNetwork","setisResolvingNames","resolveUsername","resolved","setResolvedNames","setUsernameResolvedAddress","toTokenPublicKey","resolveName","getMinimumBalanceForRentExemption","resultRentFee","getRecentBlockhash","resultRecentBlockhash","setRentFee","setTxFee","checkDestinationAddress","getTokenAccount","setIsShowConfirmAddressSwitch","handleSubmit","source","destination","fromAmount","setIsInitBurnAndRelease","usernameResolvedAddress","setIsExecuting","transfer","tokenTicker","sum","fromToken","isValidDestinationAddress","toolTipItems","hasRenBtcMinimalAmount","renBtcMinimalAmount","setFromAmount","amountNumber","renTxTypeFee","networkFee","renVMFee","renVMFeeAmount","total","getTransactionFee","setRenBtcMinimalAmount","nextPublicKey","setToTokenPublicKey","isShowConfirmAddressSwitch","setIsConfirmCorrectAddress","setDestinationNetwork","txFee","isFree","big","full","isInitBurnAndRelease","HeaderImage","CircleWrapper","BottomIcon","Details","ResultWidget","locationState","Transaction","getTransaction","Send","useParams","publicKeySol","currentName","backTo","ItemsWrapper","ItemTitle","ItemAction","LogoutWrapper","Logout","CurrencyItem","Symbol","Capitalize","AccordionItem","AccordionTitle","AccordionTitlePrimary","AccordionTitleSecondary","MobileButtons","Settings","settings","onItemClickHandler","option","updateSettings","currencies","ticker","appearance","warning","playStorePath","alt","appStorePath","cursor","hide","isZeroBalancesHidden","forgetWallet","disconnect","URL_REGEX","RegExp","RadioButtonsWrapper","RadioButtonItem","AddCustomUrlWrapper","AddUrlWrapper","Network","selectNetwork","autoConnect","networkItem","isOpenAddUrl","setCustomUrl","newSettings","mergeDeepRight","custom","customUrl","setIsOpenAddUrl","light","display","SettingsNetwork","CurveType","createPoolConfig","obj","aquafarmConfig","PublicKey","authority","poolTokenMint","tokenAccountA","tokenAccountB","feeAccount","hostFeeAccount","feeNumerator","u64","feeDenominator","ownerTradeFeeNumerator","ownerTradeFeeDenominator","ownerWithdrawFeeNumerator","ownerWithdrawFeeDenominator","hostFeeNumerator","hostFeeDenominator","curveType","ConstantProduct","ConstantPrice","Stable","Offset","amp","programVersion","createAquafarmConfig","tokenProgramId","emissionsAuthority","removeRewardsAuthority","baseTokenMint","baseTokenVault","rewardTokenMint","rewardTokenVault","farmTokenMint","orderTokenPair","tokenX","tokenY","localeCompare","getTradeId","fetchPoolAmounts","poolConfig","programIds","tokenConfigs","tokenMintA","tokenAName","tokenMintB","tokenBName","tokenA","Token","Account","tokenB","all","getAccountInfo","accountInfos","tokenAAmount","tokenBAmount","getAllRoutes","pairs","poolConfigs","allRoutes","routes","entries","poolId","firstLegPoolId","intermediateTokenName","secondLegPoolId","getRoutes","generateRoutes","j","getPairs","poolToken","devnet","devnetTokens","testnet","testnetTokens","mainnet","mainnetTokens","pools","devnetPools","testnetPools","mainnetPools","programIDS","devnetProgramIds","testnetProgramIds","mainnetProgramIds","aquafarms","devnetAquafarms","testnetAquafarms","mainnetAquafarms","tokenJsons","configs","tokenName","assign","identifier","aquafarmConfigs","fromEntries","orcaConfigs","poolName","routeConfigs","serumTokenSwap","tokenSwapV2","tokenSwap","aquafarm","mintToTokenName","ConfigProvider","useConfig","ceilingDivision","dividend","divisor","quotient","eq","ZERO","remainder","mod","gt","add","ONE","countDecimals","input","indexOf","split","uint64","property","BufferLayout","OrcaPool","inputTokenName","getTokenAName","getTokenAAmount","getTokenBAmount","outputTokenName","inputAmount","amountIn","slippageTolerance","result","getOutputAmount","denominator","sub","numerator","minimumOutputAmount","accountRentExempt","transactionBuilder","inputUserTokenPublicKey","outputUserTokenPublicKey","createWSOLAccount","userTransferAuthority","createApproveInstruction","signers","inputPoolTokenPublicKey","outputPoolTokenPublicKey","addInstruction","createSwapInstruction","minimumAmountOut","userTransferAuthorityPublicKey","hostFeeAccountPublicKey","userSource","poolSource","poolDestination","userDestination","poolMint","swapProgramId","dataLayout","Buffer","alloc","span","encode","instruction","toBuffer","isSigner","isWritable","TransactionInstruction","programId","swapInstruction","getSwapProgramId","OutputTooHighError","ConstantProductPool","getTokenAmountsFromInput","poolInputAmount","poolOutputAmount","newPoolOutputAmount","outputAmount","_getFeeFromInput","inputAmountLessFees","_getOutputAmount","getTokenAmountsFromOutput","feeRatioNumerator","feeRatioDenominator","tradingFee","ownerFee","StablePool","computeFees","computeOutputAmount","computeBaseOutputAmount","computeInputAmount","inputFees","tradingFees","computeFee","ownerFees","baseAmount","createAsyncSuccess","DEFAULT_MAX_AGE","isAsyncPending","isAsyncSuccess","isAsyncFailure","getMaxAge","isRefreshRateIncreased","PoolError","AsyncCache","cache","cacheKey","asyncFn","maxAge","poll","useReducer","renderFn","_save","_queueRenderFn","_removeRenderFn","_refreshStaleCache","keyPairs","caches","resultRef","aggregateKey","join","resultPairs","newResult","aggregateAsyncResults","isBatchedResultsEqual","get","lastUpdate","_refreshCache","getTime","catch","promise","renderQueue","rerender","reject","set","asyncResults","find","r1","r2","every","equalAggregatedResults","poolCache","fetchPool","refreshCache","createPoolAsyncFn","DOES_NOT_EXIST","UNSUPPORTED_TYPE","fetchPoolsForTokenPair","tradeId","poolIds","flat","idx","list","useAsyncPool","useAsync","useAsyncBatchedPools","useBatchedAsync","PoolsProvider","usePools","coinIds","request","axios","create","baseURL","getPriceRequest","coinIdsJoined","url","method","ids","vs_currencies","getPrices","tokenNames","selectedCoinIds","prices","coinId","price","usd","ALL_PRICES_CACHE_KEY","useAsyncAllPrices","allTokens","fetchPrice","useAsyncORCAPrice","asyncORCAUSDCPool","priceResult","setPriceResult","fetchAllPrices","useAsyncMergedPrices","asyncAllPrices","asyncORCAPrice","pricesResult","setPricesResult","PriceProvider","usePrice","floatRegex","parseString","matches","match","integers","fractions","substring","padEnd","base","pow","formatBigNumber","maxSignificantDigits","umod","isZero","significantDigits","replace","numLeadingZeros","numDigits","min","numFractionDigits","fractionsString","getUSDValue","getNumber","parseFloat","formatNumberToUSD","options","showCents","numWithFixedFractionDigits","toFixed","numWithFixedSigFigs","toPrecision","numDecimals","toLocaleString","minimumFractionDigits","maximumFractionDigits","SlippageTolerance","t2","tolerance","fromString","ZERO_DECIMAL","getSignature","signedTransaction","signatures","base58","getConfirmationFast","txid","getSignatureStatus","confirmationStatus","getConfirmation","sendAndConfirmFast","rawTransaction","sendRawTransaction","startTime","nowMS","stringify","sendAndConfirm","TransactionBuilder","instructions","cleanupInstructions","keypairSigners","owner","solMint","createWSOLAccountInstructions","createCloseAccountInstruction","tokenMint","createAssociatedTokenAccountIx","userTokenPublicKey","concat","recentBlockhash","blockhash","setSigners","s","partialSign","Trade","parameters","isInputAmount","outputTooHigh","derivedFields","freeze","otherAmount","baseOutputAmount","exchangeRate","priceImpact","doubleHopFields","poolIndex","selectedRoute","priceImpactThreshold","BigDecimal","getPriceImpact","greaterThanOrEqualTo","deriveTrade","userStandardTokenAccounts","getIntermediateTokenName","intermediateUserTokenPublicKey","setupTransactionBuilder","createAssociatedTokenAccount","swapTransactionBuilder","AccountLayout","pool","constructExchange","getInputAmount","pool0","minimumIntermediateOutputAmount","result0","pool1","intermediateOutputAmount","setupTransaction","build","swapTransaction","prepareExchangeTransactions","signedTxs","signedSetupTx","signedSwapTx","txSignatureSetup","executeSetup","txSignatureSwap","executeSwap","route","route0Pool","getTokenBName","slice","reverse","orderRoutes","init","bestRoute","routeExecution","getRouteExecutionFromInput","lt","selectRouteFromInput","intermediateAmount","getRouteExecutionFromOutput","selectRouteFromOutput","getMinimumAmountOut","intermediateInputTokenName","intermediateInputAmount","getMinimumOutputAmount","inputDecimal","dividedBy","getBaseOutputAmount","baseOutputDecimal","minus","getDoubleHopFields","calculateFees","accountInfo","dummyAccount","delegate","delegatedAmount","isInitialized","isFrozen","isNative","rentExemptReserve","closeAuthority","retryRpcResponseAndContext","fn","maxRetries","retries","response","responseSlot","u64FromBuffer","buffer","fromBuffer","isNonATA","candidateKey","destPubKey","tokenMintPubKey","deriveAssociatedTokenAddress","equals","Keys","deserializeAccount","decode","delegateOption","isNativeOption","closeAuthorityOption","loadTokenAccounts","user","hasNonATAs","fetchingUserAccount","getAccountInfoAndContext","lamports","createWrappedSolAccount","fetchingTokenAccounts","getTokenAccountsByOwner","publicKeyAndAccount","tokenAddress","mintAddress","getAmount","minSolBalanceForSwap","isTwoStep","localStorageListeners","useLocalStorageString","defaultState","notify","listener","setState","newState","removeItem","setItem","useLocalStorage","stringState","setStringState","parse","ButtonState","DEFAULT_SLIPPAGE_TOLERANCE_STATE","_setInputTokenName","_setOutputTokenName","SLIPPAGE_TOLERANCE","slippageToleranceState","setSlippageToleranceState","ConnectWallet","buttonState","setButtonState","setSlippageTolerance","trade","setTrade","setIsRefreshRateIncreased","asyncPools","useUser","useAsyncStandardTokenAccounts","refreshStandardTokenAccounts","asyncStandardTokenAccounts","inputUserTokenAccount","outputUserTokenAccount","solUserTokenAccount","asyncPrices","inputTokenPrice","outputTokenPrice","intermediateTokenPrice","minSolBalanceRequired","setInputTokenName","updateInputToken","setOutputTokenName","updateOutputToken","setInputAmount","updateInputAmount","setOutputAmount","updateOutputAmount","switchTokens","updatePools","updateSlippageTolerance","ConfirmWallet","SendingTransaction","solRemainingForFees","ZeroInputValue","NotEnoughSOL","InsufficientBalance","isPriceImpactHigh","HighPriceImpact","Exchange","LoadingUserData","RouteDoesNotExist","inputTokenAmount","onSwap","getFailedTransactionErrorMessage","rawMessage","intermediateTokenPublicKey","notificationParams","symbolB","swapNotification","confirmExchange","Retry","fetchingUserTokenAccounts","clearAmounts","SwapProvider","useSwap","getCacheKey","NOT_CONNECTED_CACHE_KEY","accountHasNonATAs","setAccountHasNonATAs","useAsyncUserTokenAccounts","asyncTokenAccountsFn","filterTokenAccountsByType","hasOwnProperty","standardTokenAccounts","getAsyncUserTokenAccountsLastUpdated","getLastUpdate","asyncResult","UserProvider","Rate","ChangeRateWrapper","ChangeRateIcon","CurrentPrice","isReverse","one","formatExchangeRate","setIsReverse","FeesAccordion","totalFee","hideRightIfOpen","noContentPadding","ATA_ACCOUNT_CREATION_FEE","LoaderBlockStyled","FeesOriginal","feePools","transactionFee","feeCalculator","setupFee","swapFee","totalFeeUSD","priceSOL","accountsCreationFeeSOL","feePoolsFeeUSD","accountsCreationFeeUSD","transactionSetupFeeUSD","transactionSwapFeeUSD","Fees","ReverseWrapper","ReverseIcon","Reverse","OptionsWrapper","CustomButton","OptionButton","CustomWrapper","CustomLabel","SLIPPAGES","Slippage","slippage","lightGray","newSlippage","setIsCustomShow","isCustomShow","htmlFor","suffix","cleanSlippage","nextSlippage","clearSlippage","setLocalSlippage","showClear","SwapButtonOriginal","InputTokenAccountDoesNotExist","SwapButton","AmountUSD","setUSDValue","tokenMap","useTokenMap","tokenNameFull","tokenInfo","matchesFilter","str","SwapTokenForm","previousTrade","usePreviousValueHook","hasAsyncStandardTokenAccounts","amountString","setAmountString","setTokenName","tokenAccountMap","tokenSymbol","mintAddressA","tokenSymbolA","mintAddressB","tokenSymbolB","aUSD","bUSD","pairTokenName","isInput","setAmount","maxDecimals","maxAmount","SwapFromForm","SwapToForm","FromSwapWrapper","ToSwapWrapper","Lines","PoweredByBannerWrapper","PoweredBy","SwapWidget","Swap","HeaderWrapper","TokenAddress","ExpandWrapper","ExpandIcon","QRCopiedWrapper","QRCopied","DetailRow","FieldGroup","FieldTitle","FieldValue","ShareIcon","ShareWrapper","QRAddressWidgetOrigin","solPublicKey","foundToken","setIsExpand","isExpand","setIsImageCopied","isImageCopied","isShowDetails","setIsShowDetails","QRAddressWidget","ChartWrapper","FilterButton","Chart","loadCandles","getRatesCandle","nextType","handleFilterClick","changeCandlesType","chart","spacing","yAxis","visible","minPadding","maxPadding","gridLineColor","xAxis","tickWidth","lineWidth","dateTimeLabelFormats","millisecond","second","minute","hour","day","week","month","year","plotOptions","series","animation","area","fillColor","linearGradient","x1","y1","x2","y2","stops","Highcharts","Color","hover","marker","radius","threshold","dataGrouping","enabled","line","tooltip","borderColor","borderWidth","borderRadius","valueDecimals","backgroundColor","shadow","padding","xDateFormat","useHTML","pointFormatter","y","credits","legend","getConfig","isPureConfig","TokenInfo","PlusIcon","PriceWrapped","ValueCurrency","ValueOriginal","ValueDelta","WrapperFixed","FixedInfoWrapper","TokenSettings","TokenSettingsButton","TokenSettingsIcon","TopWidgetOrigin","widgetRef","isMainnet","bottom","setIsShowFixed","diff","percentage","handleAirdropClick","airdrop","renderButtons","renderContent","isSticky","period","renderDelta","SystemProgram","isShowFixed","TopWidget","delayedCheck","checkLoadMore","onNeedLoadMore","wrapper","clearTimeout","omit","defaultProps","BaseWrapper","TransactionIconWrapper","TransactionIcon","SwapAvatarsWrapper","Type","Amount","StatusWrapper","WarningIcon","ClockIcon","LinkStyled","TransactionRow","details","isReceiver","prefix","renderBottomLeft","Group","TitleDate","TransactionList","groupedTransactions","group","lastDate","order","currentDate","date","nowDate","yesterdayDate","dates","today","yesterday","dateHeader","dayjs","renderDate","ActivityWidget","isNeedUpdateTransactions","pageNum","fetchData","limit","getTransactions","setIsEnd","setCurrentHistoryPubkey","updateTransactions","desc","TokenSettingsIconWrapper","SettingItem","StyledIcon","TokenSettingsWidget","isZeroBalance","zeroBalanceTokens","hiddenTokens","loadHiddenTokens","isHidden","handleCloseTokenAccountClick","pubKey","hideUnhideZeroBalanceToken","removeHiddenToken","hideUnhideToken","removeZeroBalanceToken","updateHiddenTokens","renderSettings","WalletOrigin","tokenPublicKey","RAD_DEG","PI","PI2","pointOnArc","center","angle","radians","cos","sin","arc","outerRadius","startDegree","endDegree","points","abs","innerRadius","drawCircle","circumference","borderRadiusPoint","innerRadius2","outerRadius2","oStart","oEnd","iStart","iEnd","iSection","oSection","iArcStart","iArcEnd","oArcStart","oArcEnd","arcSweep1","arcSweep2","Tooltip","TokenAvatarStyled","colorsCache","DonutChartOrigin","offsetDegree","onSymbolChange","handleMouseMove","setSelectedSymbol","setSelectedAmountUSD","handleMouseOut","segments","p","c","startAngle","sectorAngle","valueToDeg","d","onMouseMove","onMouseOut","viewBox","DonutChart","TotalWrapper","PriceWrapper","TotalText","Price","AllTokensText","TotalBalanceWidget","totalBalance","greeting","dayTime","donutData","balance","balanceUSD","amountUSD","WrapperLink","MenuWrapper","isNotSOL","tokenList","vertical","TokenList","aUSDBalance","bUSDBalance","aBalance","bBalance","sortByUSDBalance","AddButton","IconPlus","HiddenTokens","HideIconWrapper","IconHide","TokensWidget","selectedSymbol","newTokens","newHiddenTokensList","hiddenTokensList","CloseButton","UsernameBanner","setIsBannerDisplayed","isUsernameBannerDisplayed","isBannerDisplayed","isUsernameActive","WrapperTemp","Wallets","WalletSettings","lte","ProtectedRoute","redirect","AuthRequiredRoute","Providers","setTokenList","SPLTokenListProvider","extend","localizedFormat","App","isFeatureLanding","useFeature","basename","process","component","anchor","renderToast","titleCase","sentence","TRANSACTION_SLICE_NAME","addPendingTransaction","TransactionAPI","getTransactionsForAddress","transactionInfo","currentHistoryPubkey","transactionSlice","newPubkeys","meta","mergeRight","before","uniq","pathOr","short","actions","supply","mintAuthority","isSimulated","amountInMinorDenomination","other","serializableToken","CandleRate","market","serializableRate","MarketRate","CRYPTO_COMPARE_API_URL","CURRENCY","fetch","cryptoCompareApiKey","res","ok","json","Data","assert","tokenSymbols","filterByClusterSlug","excludeByTag","getList","toUpperCase","chunks","splitEvery","chunk","results","mergeAll","complement","RATES_SLICE_NAME","RateAPI","args","PoolAPI","candlesType","candles","markets","rejected","secondary","lightBlue","link","iconsMap","arrow","appStore","arrowTriangle","branch","card","chain","change","checkmark","chevron1","chevron","chevronRounded","db","bucket","gear","googlePlay","more","eyeHide","eye","externalLink","search","success","sun","swap","timer","home","logout","pen","plug","plus","qr","questionCircle","reload","attention","clock","freeTx","info","warningTransparent","validProps","prop","isPropValid","xlinkHref","InputElement","SuffixWrapper","TransparentValue","ClearWrapper","ClearIcon","InputOriginal","handleClear","postfix","renderPostfix","Avatar","ArrowWrapper","Select","handleSelectorClick","child","Toggler","CheckboxHidden","Switch","Radio","RadioButton","MoreIcon","MoreIconWrapper","Menu","handleMenuClick","onMouseEnter","onMouseLeave","noOpacity","Accordion","TextField","renderIcon","TokenListContainer","defaultTokenlist","accountKeys","serializedInstruction","sourceTokenAccount","sourceToken","destinationTokenAccount","destinationToken","sourceAmount","destinationAmount","isSameAccount","typeOriginal","serializableTransaction","originalInstruction","ErrorHint","noIcon","Inner","Loader","transferNotification","ToastStyled","ToastIconWrapper","ToastIcon","ToastWrapper","ToastHeader","ToastText","StatusIcon","statusIcon","confirmed","_OWNED_TOKEN_ACCOUNTS_CACHE","_MINT_CACHE","SOL_MINT","_MARKET_CACHE","FEE_MULTIPLIER","ooAccounts","setOoAccounts","swapClient","closeOpenOrders","openOrder","newOoAccounts","openOrders","oo","delete","program","provider","OpenOrders","findForOwner","DEX_PID","Set","rpc","getMultipleAccounts","m","multipleMarkets","marketClients","programAccount","Market","getLayout","opts","mintPubkeys","baseMintAddress","quoteMintAddress","pk","mints","mintInfos","mintInfo","MintLayout","baseMintInfo","quoteMintInfo","_baseSplTokenDecimals","_quoteSplTokenDecimals","useDex","_SOLLET_INFO_CACHE","_SWAP_MARKET_EXISTS_CACHE","SwapApiError","msg","handleSwapApiResponse","resp","swapApiRequest","headers","fetchSolletInfo","infoRaw","splMint","requestWormholeSwapMarketIfNeeded","solletMint","wormholeMint","swapMarket","solletInfo","cached","wormKey","fromMint","toMint","first","WORMHOLE_NATIVE_MAP","WORM_USDC_MINT","USDC_MINT","WORM_USDC_MARKET","WORM_USDT_MINT","USDT_MINT","WORM_USDT_MARKET","wormholeNativeMarket","deriveWormholeMarket","baseMint","quoteMint","version","padToTwo","n","createWithSeed","WORM_MARKET_BASE","wormholeSolletMarket","conn","wormholeMap","solletMap","fromWormhole","isFromWormhole","toWormhole","isToWormhole","fromSollet","isFromSollet","toSollet","isToSollet","quote","wormholeInfo","erc20Contract","extensions","wormholeSwapMarket","useRouteVerbose","useTokenList","asyncRoute","wormholeMarket","kind","WRAPPED_SOL_MINT","useMarket","asyncMarket","marketClient","load","_ORDERBOOK_CACHE","useOrderbook","refresh","setRefresh","asyncOrderbook","orderbook","loadBids","loadAsks","bids","asks","bidsAddress","onAccountChange","OrderbookSide","oldBestBid","newBestBid","r","removeAccountChangeListener","asksAddress","oldBestOffer","newBestOffer","useBbo","bestBid","bestOffer","mid","useRoute","useFairRoute","fromBbo","fromMarket","toBbo","ACCOUNT_LAYOUT","struct","nu64","getOwnedAccountsFilters","memcmp","offset","offsetOf","bytes","dataSize","parseTokenAccountData","BN","filters","getProgramAccounts","TOKEN_PROGRAM_ID","accs","executable","ta","getAssociatedTokenAddress","ASSOCIATED_TOKEN_PROGRAM_ID","ata","getOwnedAssociatedTokenAccounts","acc","SRM_MINT","setFromMint","setToMint","_setFromAmount","toAmount","_setToAmount","isClosingNewAccounts","setIsClosingNewAccounts","isStrict","setIsStrict","setSlippage","fairOverride","setFairOverride","fair","_useSwapFair","referral","setToAmount","swapToFromMints","oldFrom","oldTo","fairRoute","SOL_COLOR","colors","SOL","WSOL","SRM","MSRM","BTC","ETH","FTT","YFI","LINK","XRP","WUSDT","USDT","USDC","WUSDC","SUSHI","ALEPH","SXP","HGET","CREAM","UBXT","HNT","FRONT","AKRO","HXRO","UNI","MATH","TOMO","LUA","SPL_REGISTRY_SOLLET_TAG","SPL_REGISTRY_WORM_TAG","SOL_TOKEN_INFO","chainId","logoURI","tags","website","serumV3Usdc","serumV3Usdt","coingeckoId","waterfallbot","swappableTokens","swappableTokensSollet","swappableTokensWormhole","TokenListProvider","EmptyImage","Empty","CacheTTL","cachedResult","ttl","SOLANA_BASE_URL","baseUrlWithAddress","BlueText","AddressText","EyeWrapper","EyeIcon","REGEX_PASSWORD","PasswordInput","isShowPassword","setIsShowPassword","defaultRetryOptions","intervalMS","backoutMultiplier","retryOptions","mergeLeft","retryReducer","thisArg","argArray","previousValue","currentValue","currentIndex","call","apply","sleepMs","Proxy","ManualWallet","_publicKey","getAccountFromSeed","emit","WalletEvent","CONNECT","DISCONNECT","serializeMessage","nacl","detached","secretKey","addSignature","lockedMnemonicAndSeed","STORAGE_KEY_LOCKED","unlockedMnemonicAndSeed","deriveSeed","walletIndex","accountIndex","bip32","derivePath","privateKey","path44","ed25519","path44Change","derivedSeed","keyPair","fromSeed","getDerivableAccounts","deriveEncryptionKey","salt","iterations","digest","pbkdf2","secretbox","keyLength","err","plaintext","randomBytes","kdf","nonceLength","encrypted","bs58","encodedEncrypted","encodedNonce","encodedSalt","ERROR_WRONG_PASSWORD","decodedPlaintext","decoded","sessionStorage","SearchIconWrapper","SearchClearWrapper","SearchClearIcon","SearchInput","PhantomtWallet","isPhantom","on","SolletWallet","SolletWalletAdapter","POST_TRANSACTION_SLEEP_MS","postTransactionSleepMS","createWallet","LOCAL","LocalWallet","SOLLET_EXTENSION","sollet","SOLLET","PHANTOM","MANUAL","newWallet","makeTransaction","defaultSendOptions","preflightCommitment","awaitConfirmation","CONFIRMED","transactionSignature","sendTransaction","awaitConfirm","signed","logs","errors","parseSendTransactionError","getWalletUnsafe","getBalance","requestAirdrop","airdropTo","regex","exec","lastIndex","initAmplitude","rootReducer","combineReducers","global","transactionsCache","REN_BTC_MINT","connectionTransactions","TokenAPIFactory","makeTransactionShortInfo","innerInstructions","preBalances","preTokenBalances","postTokenBalances","swapInstructionIndex","findIndex","inst","buf","instructionIndex","readUInt8","swapInner","transfersInstructions","parsed","sourceInstruction","destinationInstruction","sourceInfo","destinationInfo","tokenAccountInfo","closeInstruction","approveInstruction","transferInstruction","initializeAccountInstruction","initializeAccountInfo","LAMPORTS_PER_SOL","newAccount","preToken","preBalance","accountMint","tokenAmount","SYSTEM_PROGRAM_ID","Secp256k1Program","parsedInstruction","transactionInfoUncached","parsedTransaction","getParsedConfirmedTransaction","shortTransactionInfo","blockTime","transactionCached","transactionUncached","getConfirmedSignaturesForAddress2","confirmedSignaturesInfos","confirmedSignatures","confirmedSignaturesInfo","getParsedConfirmedTransactions","parsedTransactions","LOCK_AND_MINT_CONFIG_KEY","loadConfig","localConfig","saveConfig","fromPubkey","newAccountPubkey","space","createInitAccountInstruction","fundingAddress","splTokenMintPubKey","associatedTokenAddress","systemProgramId","SYSVAR_RENT_PUBKEY","ix","OnChainEntity","currentSlot","previous","lastUpdatedSlot","entity","ownerProgram","isDerivable","scaling","serializableTokenAccount","isDev","localPrivateKey","REACT_APP_APP_LOCAL_WALLET_PRIVATE_KEY","REACT_APP_APP_LOCAL_WALLET_MNEMONIC","swapHostFeeAddress","REACT_APP_DEFAULT_COMMITMENT","REACT_APP_POST_TRANSACTION_SLEEP_MS","networks","clusterApiUrl","DEFAULT_NETWORK","feeRelayerUrl","nameSericeUrl","REACT_APP_NAME_SERVICE_URL","moonpayApiKey","store","configureStore","reducer","middleware","getDefaultMiddleware","modalsMiddleware","logger","module","hot","accept","replaceReducer","KNOWN_FEE_PAYER_PUBKEYS","getFeePayerPubkey","makeTransferSolInstructionAndParams","toPubkey","sender_pubkey","recipient_pubkey","makeTransferTokenInstructionAndParams","SPLToken","createTransferCheckedInstruction","sender_token_account_pubkey","token_mint_pubkey","authority_pubkey","getSignedTransacton","signer","signerPublicKey","feePayer","signedTransacton","signaturePubkeyPair","getTransferTokenInstructionAndParams","destinationAccountInfo","ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","associatedTokenAccountInfo","instructionsAndParams","unshift","createAssociatedTokenAccountInstruction","isTransferSol","Toast","ToastContainer","addToast","instance","lastId","toastsRefs","hideTimeouts","clearingTimeouts","currentToasts","delayedQueue","heights","bottomOffsets","isHovered","onCloseClick","onLeave","hideIds","timeoutId","prevLength","prevState","getActiveToastsCount","toast","checkDelayedQueue","startToastsHiding","isHiding","showToast","renderer","removeToasts","calcOffsets","newBottomOffsets","totalOffset","bottomOffset","checkHeights","newHeights","heightsUpdated","foundToast","startToastHideTimeout","renderToasts","isRight","isOffsetCalculated","transform","isInvisible","isAppearing","warn","lookupName","STORAGE_KEY_TYPE","WALLET_SLICE_NAME","accountsListeners","WalletAPI","getSolToken","TokenAPI","getConfigForToken","walletState","walletPublicKey","publicKeys","promises","updateHitory","getTokenAccountsForWallet","solTokens","getAccountsForWallet","accountsForWallet","listenToTokenAccountChanges","updatedTokenAccount","updateAccount","tokenAccountsAddresses","newTokenAccounts","has","precacheTokenAccounts","processedData","NameServiceApi","names","FeeRelayerAPI","FeeRelayerAPIFactory","resultSignature","createAccountForToken","createMint","initialAccount","closeTokenAccount","closeAccount","makeInitialState","loadSettings","loadZeroBalanceTokens","walletSlice","array","updatedAccounts","gte","prevBalance","saveSettings","removeAllListeners","setImmediate","globalCss","FeatureProvider","flags","defaultFeatureFlags","features","require","ReactDOM","appId","autoBoot","Jazzicon","WrappedBy","TokenAvatar","isWrapped","tag","isNotExists","web3","WALLET_SETTINGS_KEY","WALLET_HIDDEN_TOKENS_KEY","WALLET_DISPLAYED_ZERO_BALANCE_TOKENS","USERNAME_BANNER_KEY","defaultSettings","localSettings","loadSetFromLocalStorage","itemKey","itemString","addOrDeleteItem","removeClosedTokenKeys","hideUsernameBanner","SIGNED","EventEmitter","makeNewAccountInstruction","newAccountKey","layout","balanceNeeded","accountChangeSubscriptionsIds","ACCOUNT_UPDATED_EVENT","AccountListener","subscriptionId","emittedEvent","tokensCache","tokenAccountsPrecache","mintTo","recipient","mintToInstruction","createMintToInstruction","transferSol","payer","clusterConfig","configForToken","propEq","tokenInfoUncached","getMintInfo","tokenCached","tokenUncached","getMultipleAccountsResult","_rpcRequest","encoding","cur","tokensInfo","tokensAccountsInfo","mintTokenInfo","tokensAddresses","extractParsedTokenAccountInfo","parsedAccountInfoResult","getParsedAccountInfo","getParsedAccountInfoResult","parsedInfo","updateTokenAccountInfo","setPrevious","ownerKey","getParsedTokenAccountsByOwner","allParsedAccountInfos","secondTokenAccount","accountResult","parsedTokenAccountInfo","allTokenAccounts","getAccountsForToken","allAccounts","createToken","mintAccount","createAccountInstruction","mintAuthorityKey","initMintInstruction","createInitMintInstruction","checkToken","initTokenAccountInstruction","updatedInfo","balanceNeededMint","balanceNeededAccount","sourceAccount","approve","transferBetweenSplTokenAccounts","createTransferInstruction","createAndTransferToAssociatedTokenAccount","associatedTokenOwner","transferTokens","sourceTokenAccountInfo","closeAccountInstruction","accountListener","listenTo","updatedAccount"],"mappings":"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","file":"static/js/main.e2afb5c6.chunk.js","sourcesContent":["import BN from 'bn.js';\nimport { Decimal } from 'decimal.js';\n\nimport { Token } from 'api/token/Token';\n\nexport const toDecimal = (num: number | BN | Decimal): Decimal => new Decimal(`${num}`);\nexport const toBN = (num: number | Decimal): BN => new BN(`${num}`);\n\n// Converts a token amount in minor denomination to its major denomination for display\n// e.g. 100 cents to \"1.00\"\nexport const minorAmountToMajor = (minorAmount: number | BN | Decimal, token: Token): Decimal =>\n  toDecimal(minorAmount)\n    .div(10 ** token.decimals)\n    .toDecimalPlaces(token.decimals);\n\n// Converts a token amount in major denomination to its minor denomination for storage\n// e.g. \"1.00\" to 100\nexport const majorAmountToMinor = (majorAmount: Decimal | number, token: Token): Decimal =>\n  new Decimal(majorAmount).mul(10 ** token.decimals).round();\n\nexport const formatValueWithDecimals = (value: string, decimals: number): string =>\n  `${value.slice(0, Math.max(0, value.length - decimals))}.${value.slice(\n    Math.max(0, value.length - decimals),\n  )}`;\n","import { Commitment, Connection, SignatureResult } from '@solana/web3.js';\nimport { memoizeWith, toString } from 'ramda';\n\nimport { defaultCommitment, NetworkType } from 'config/constants';\n\nimport { retryableProxy } from './utils/retryableProxy';\n\n// The default time to wait when confirming a transaction.\nexport const DEFAULT_COMMITMENT: Commitment = defaultCommitment;\n\nlet currentNetwork: NetworkType;\nlet currentNetworkTransactions: NetworkType;\n\n// Since connection objects include state, we memoise them here per network\nconst createConnection = memoizeWith(\n  toString,\n  (network: NetworkType): Connection => {\n    const connection = new Connection(network.endpoint, {\n      wsEndpoint: network.wsEndpoint,\n      httpHeaders: network.httpHeaders,\n      // commitment: DEFAULT_COMMITMENT,\n    });\n\n    // Due to an issue with the solana back-end relating to CORS headers on 429 responses\n    // Rate-limiting responses are not retried correctly. Adding this proxy fixes this.\n    const proxiedFunctions = [\n      'getBalance',\n      // 'getAccountInfo',\n      'getParsedAccountInfo',\n      'getParsedProgramAccounts',\n      'getParsedTokenAccountsByOwner',\n      'getRecentBlockhash',\n      'sendTransaction',\n      'sendRawTransaction',\n      'requestAirdrop',\n    ];\n    proxiedFunctions.forEach((fnName) => {\n      // @ts-ignore\n      connection[fnName] = retryableProxy(connection[fnName]);\n    });\n\n    return connection;\n  },\n);\n\nexport const getEndpoint = (network: NetworkType): string => {\n  return network.endpoint;\n};\nexport const getWsEndpoint = (network: NetworkType): string | undefined => {\n  return network.wsEndpoint;\n};\n\nexport const getConnection = (network?: NetworkType): Connection => {\n  if (network) {\n    currentNetwork = network;\n  }\n\n  return createConnection(currentNetwork);\n};\n\nexport const getConnectionTransactions = (network?: NetworkType): Connection => {\n  if (network) {\n    currentNetworkTransactions = { ...network };\n\n    // HACK: take transactions history from the official node\n    if (network.cluster === 'mainnet-beta') {\n      currentNetworkTransactions.endpoint = 'https://api.mainnet-beta.solana.com';\n    }\n  }\n\n  return createConnection(currentNetworkTransactions);\n};\n\nexport const confirmTransaction = (\n  signature: string,\n  commitment: Commitment = DEFAULT_COMMITMENT,\n): Promise<SignatureResult> => {\n  const connection = getConnection();\n  const confirmViaSocket = new Promise<SignatureResult>((resolve) =>\n    connection.onSignature(signature, (signatureResult) => {\n      console.log('Confirmation via socket:', signatureResult);\n      resolve(signatureResult);\n    }),\n  );\n\n  const confirmViaHttp = connection\n    .confirmTransaction(signature, commitment)\n    .then((signatureResult) => {\n      console.log('Confirmation via http:', signatureResult);\n      return signatureResult.value;\n    });\n\n  return Promise.race([confirmViaHttp, confirmViaSocket]);\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Loader } from 'components/common/Loader';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 86px;\n`;\n\ntype Props = {\n  size?: string;\n  className?: string;\n};\n\nexport const LoaderBlock: FunctionComponent<Props> = ({ size, className }) => {\n  return (\n    <Wrapper className={className}>\n      <Loader size={size} />\n    </Wrapper>\n  );\n};\n","import { Action } from '@reduxjs/toolkit';\nimport { any } from 'ramda';\n\ninterface AnyAction extends Action<string> {\n  // Allows any extra properties to be defined in an action.\n  [extraProps: string]: any;\n}\n\ninterface RejectedAction extends Action {\n  error: Error;\n}\n\nconst ignoredActions = [\n  // since we cannot reliably tell when a wallet connection\n  // action is rejected (e.g if the user just closes the wallet window)\n  // we do not want to wait for this pending event, therefore it does not\n  // enable the \"loading\" view, and we can trigger it multiple times if needed.\n  'wallet/connect',\n  'swap/executeSwap',\n  'transaction/getTransaction',\n  'openModal',\n  'pool/updatePools',\n  'wallet/updateTokenAccountsForWallet',\n];\n\nconst isIgnored = (action: AnyAction) =>\n  any((actionPrefix) => action.type.startsWith(actionPrefix), ignoredActions);\n\nexport const isRejectedAction = (action: AnyAction): action is RejectedAction =>\n  action.type.endsWith('rejected') && !isIgnored(action);\n\nexport const isFulfilledAction = (action: AnyAction): action is AnyAction =>\n  action.type.endsWith('fulfilled') && !isIgnored(action);\n\nexport const isPendingAction = (action: AnyAction): action is AnyAction =>\n  action.type.endsWith('pending') && !isIgnored(action);\n","import { createAction, createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n\nimport { APIFactory } from 'api/token';\nimport { SerializableToken } from 'api/token/Token';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { RootState } from 'store/rootReducer';\nimport { isFulfilledAction, isPendingAction, isRejectedAction } from 'utils/redux';\n\nexport const STORAGE_KEY_FEATURES_FLAGS = 'all_features';\n\nexport interface GlobalState {\n  loading: number;\n  error: string | null;\n  availableTokens: Array<SerializableToken>;\n  featureFlagsEnabled: boolean;\n}\n\nconst initialState: GlobalState = {\n  loading: 0,\n  error: null,\n  availableTokens: [],\n  featureFlagsEnabled: Boolean(localStorage.getItem(STORAGE_KEY_FEATURES_FLAGS)) || false,\n};\n\nexport const GLOBAL_SLICE_NAME = 'global';\n\n/**\n * Fetch all available tokens.\n */\nexport const getAvailableTokens = createAsyncThunk(\n  `${GLOBAL_SLICE_NAME}/getAvailableTokens`,\n  async (arg, thunkAPI): Promise<Array<SerializableToken>> => {\n    const {\n      wallet: { network },\n    } = thunkAPI.getState() as RootState;\n\n    const tokenAPI = APIFactory(network);\n    const tokens = await tokenAPI.getTokens();\n    return tokens.map((token) => token.serialize());\n  },\n);\n\nexport const wipeAction = createAction('wipeAction');\n\nexport const setFeatureFlagsAction = createAction<boolean>('setFeatureFlagsAction');\n\nconst globalSlice = createSlice({\n  name: GLOBAL_SLICE_NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getAvailableTokens.fulfilled, (state, action) => ({\n      ...state,\n      availableTokens: action.payload,\n    }));\n    builder.addCase(setFeatureFlagsAction, (state, action) => ({\n      ...state,\n      featureFlagsEnabled: action.payload,\n    }));\n    builder.addMatcher(isPendingAction, (state) => ({\n      ...state,\n      loading: state.loading + 1,\n    }));\n    builder.addMatcher(isRejectedAction, (state, action) => {\n      ToastManager.error(action.error.message);\n      console.error(action.error);\n      return {\n        ...state,\n        loading: Math.max(state.loading - 1, 0),\n        error: action.error.message,\n      };\n    });\n    builder.addMatcher(isFulfilledAction, (state) => ({\n      ...state,\n      loading: Math.max(state.loading - 1, 0),\n    }));\n  },\n});\n\n// eslint-disable-next-line import/no-default-export\nexport default globalSlice.reducer;\n","// Feature flags for https://github.com/sergiodxa/flagged\n\nexport const FEATURE_LEFT_NAV_MENU_POFILE = 'FEATURE_LEFT_NAV_MENU_POFILE';\nexport const FEATURE_SETTINGS_LIST = 'FEATURE_SETTINGS_LIST';\nexport const FEATURE_ADD_TOKEN_BUTTON = 'FEATURE_ADD_TOKEN_BUTTON';\nexport const FEATURE_LANDING = 'FEATURE_LANDING';\nexport const FEATURE_SETTINGS_CLOSE_ACCOUNT = 'FEATURE_SETTINGS_CLOSE_ACCOUNT';\nexport const FEATURE_SETTINGS_FREE_TRANSACTIONS = 'FEATURE_SETTINGS_FREE_TRANSACTIONS';\nexport const FEATURE_NAV_MENU_BUY_BUTTON = 'FEATURE_NAV_MENU_BUY_BUTTON';\n\nexport const featureFlags = {\n  [FEATURE_LEFT_NAV_MENU_POFILE]: false,\n  [FEATURE_SETTINGS_LIST]: false,\n  [FEATURE_ADD_TOKEN_BUTTON]: false,\n  [FEATURE_LANDING]: true,\n  [FEATURE_SETTINGS_CLOSE_ACCOUNT]: false,\n  [FEATURE_SETTINGS_FREE_TRANSACTIONS]: false,\n  [FEATURE_NAV_MENU_BUY_BUTTON]: true,\n};\n","import React, { forwardRef, FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nconst Wrapper = styled.div`\n  padding: 20px;\n\n  background: #fff;\n  border-radius: 12px;\n\n  &.withShadow {\n    box-shadow: 0 4px 4px #f6f6f9;\n  }\n`;\n\ntype Props = {\n  forwardedRef?: React.Ref<HTMLDivElement>;\n  withShadow?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n};\n\nconst CardOriginal: FunctionComponent<Props> = ({\n  forwardedRef,\n  withShadow,\n  children,\n  className,\n  ...props\n}) => {\n  return (\n    <Wrapper ref={forwardedRef} {...props} className={classNames(className, { withShadow })}>\n      {children}\n    </Wrapper>\n  );\n};\n\nexport const Card = forwardRef<HTMLDivElement, Props>((props, ref: React.Ref<HTMLDivElement>) => (\n  <CardOriginal {...props} forwardedRef={ref} />\n));\n","import React, { FC, memo, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\n\nimport { setFeatureFlagsAction, STORAGE_KEY_FEATURES_FLAGS } from 'store/slices/GlobalSlice';\n\nimport { Card } from '../Card';\n\nconst WrapperCard = styled(Card)`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  margin: 20px;\n  padding: 0;\n`;\n\nconst Label = styled.label`\n  display: flex;\n  align-items: center;\n\n  padding: 16px 20px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n\n  cursor: pointer;\n\n  &:hover {\n    color: #5887ff;\n  }\n`;\n\nconst Input = styled.input`\n  margin-left: 10px;\n\n  cursor: pointer;\n`;\n\nexport const FeaturesToggle: FC = memo(() => {\n  const dispatch = useDispatch();\n  const cardRef = useRef<HTMLDivElement>(null);\n  const [isShow, setShow] = useState(false);\n  const featureFlagsEnabled = useSelector((state) => state.global.featureFlagsEnabled);\n\n  const handleOnKeyUp = (e: KeyboardEvent) => {\n    // Ctrl + I\n    if (e.ctrlKey && e.which === 73) {\n      setShow((state) => !state);\n    }\n  };\n\n  const handleAwayClick = (e: MouseEvent) => {\n    if (!cardRef.current?.contains(e.target as HTMLDivElement)) {\n      setShow(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', handleAwayClick);\n    document.addEventListener('keyup', handleOnKeyUp);\n\n    return () => {\n      window.removeEventListener('click', handleAwayClick);\n      document.removeEventListener('keyup', handleOnKeyUp);\n    };\n  }, []);\n\n  if (!isShow) {\n    return null;\n  }\n\n  const handleToggleFeatures = () => {\n    localStorage.setItem(STORAGE_KEY_FEATURES_FLAGS, String(!featureFlagsEnabled));\n    dispatch(setFeatureFlagsAction(!featureFlagsEnabled));\n  };\n\n  return (\n    <WrapperCard ref={cardRef} withShadow>\n      <Label>\n        Turn on all{' '}\n        <Input type=\"checkbox\" checked={featureFlagsEnabled} onChange={handleToggleFeatures} />\n      </Label>\n    </WrapperCard>\n  );\n});\n","import { FC, useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport { useIntercom } from 'react-use-intercom';\n\nexport const Intercom: FC = () => {\n  const { update } = useIntercom();\n  const location = useLocation();\n\n  useEffect(() => {\n    update();\n  }, [update, location]);\n\n  return null;\n};\n","export const SHOW_MODAL_ADD_COIN = 'SHOW_MODAL_ADD_COIN';\nexport const SHOW_MODAL_TRANSACTION_CONFIRM = 'SHOW_MODAL_TRANSACTION_CONFIRM';\nexport const SHOW_MODAL_TRANSACTION_DETAILS = 'SHOW_MODAL_TRANSACTION_DETAILS';\nexport const SHOW_MODAL_TRANSACTION_STATUS = 'SHOW_MODAL_TRANSACTION_STATUS';\nexport const SHOW_MODAL_CLOSE_TOKEN_ACCOUNT = 'SHOW_MODAL_CLOSE_TOKEN_ACCOUNT';\nexport const SHOW_MODAL_ERROR = 'SHOW_MODAL_ERROR';\nexport const SHOW_MODAL_PROCEED_USERNAME = 'SHOW_MODAL_PROCEED_USERNAME';\n","import React, { createRef, FunctionComponent, RefObject, Suspense, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport loadable, { LoadableComponent } from '@loadable/component';\nimport { last } from 'ramda';\nimport { closeModal, ModalComponentType, ModalState } from 'redux-modals-manager';\n\nimport {\n  SHOW_MODAL_ADD_COIN,\n  SHOW_MODAL_CLOSE_TOKEN_ACCOUNT,\n  SHOW_MODAL_ERROR,\n  SHOW_MODAL_PROCEED_USERNAME,\n  SHOW_MODAL_TRANSACTION_CONFIRM,\n  SHOW_MODAL_TRANSACTION_DETAILS,\n  SHOW_MODAL_TRANSACTION_STATUS,\n} from 'store/constants/modalTypes';\nimport { RootState } from 'store/rootReducer';\n\nconst Wrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 30;\n\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst ModalContainer = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  overflow-y: auto;\n  overscroll-behavior: none;\n\n  /* Above background */\n  &:last-child {\n    z-index: 2;\n  }\n`;\n\nconst ModalWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100%;\n  padding: 10px 0;\n`;\n\nconst ModalBackground = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n\n  background-color: rgba(0, 0, 0, 0.6);\n\n  user-select: none;\n`;\n\n// TODO: types\nconst modalsMap = new Map<string, LoadableComponent<any>>([\n  [SHOW_MODAL_ADD_COIN, loadable(() => import('components/modals/AddCoinModal'))],\n  [\n    SHOW_MODAL_TRANSACTION_CONFIRM,\n    loadable(() => import('components/modals/TransactionConfirmModal')),\n  ],\n  [\n    SHOW_MODAL_TRANSACTION_DETAILS,\n    loadable(() => import('components/modals/TransactionInfoModals/TransactionDetailsModal')),\n  ],\n  [\n    SHOW_MODAL_TRANSACTION_STATUS,\n    loadable(() => import('components/modals/TransactionInfoModals/TransactionStatusModal')),\n  ],\n  [\n    SHOW_MODAL_CLOSE_TOKEN_ACCOUNT,\n    loadable(() => import('components/modals/CloseTokenAccountModal')),\n  ],\n  [SHOW_MODAL_PROCEED_USERNAME, loadable(() => import('components/modals/ProceedUsernameModal'))],\n  [SHOW_MODAL_ERROR, loadable(() => import('components/modals/ErrorModal'))],\n]);\n\nexport const ModalManager: FunctionComponent = () => {\n  const dispatch = useDispatch();\n  const [modalsRefs, setModalsRefs] = useState<{\n    [modalId: string]: RefObject<ModalComponentType>;\n  }>({});\n  const modals = useSelector((state: RootState) => state.modals);\n\n  const closeTopModal = async () => {\n    const { modalId } = last(modals) || {};\n\n    if (!modalId) {\n      return;\n    }\n\n    const modalRef = modalsRefs[modalId];\n\n    if (modalRef && modalRef.current && modalRef.current.canClose) {\n      if (!(await modalRef.current.canClose())) {\n        return;\n      }\n    }\n\n    dispatch(closeModal(modalId));\n  };\n\n  const handleWrapperClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    // handle click only on element\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    void closeTopModal();\n  };\n\n  const getReadyDialogs = () => {\n    const dialogs: (ModalState & {\n      ModalComponent: LoadableComponent<any>;\n    })[] = [];\n\n    for (const { type, modalId, props } of modals) {\n      const ModalComponent = modalsMap.get(type);\n      if (ModalComponent) {\n        dialogs.push({\n          type,\n          modalId,\n          props,\n          ModalComponent,\n        });\n      }\n    }\n\n    return dialogs;\n  };\n\n  const dialogsInfo = getReadyDialogs();\n\n  const dialogs = dialogsInfo.map(({ modalId, props, ModalComponent }) => {\n    let modalRef = modalsRefs[modalId];\n\n    if (!modalRef) {\n      modalRef = createRef();\n      setModalsRefs((state) => ({\n        ...state,\n        [modalId]: modalRef,\n      }));\n    }\n\n    return (\n      <Suspense fallback={null} key={modalId}>\n        <ModalContainer>\n          <ModalWrapper onMouseDown={handleWrapperClick}>\n            <ModalComponent\n              {...props}\n              modalId={modalId}\n              modalRef={modalRef}\n              close={(result: any) => dispatch(closeModal(modalId, result))}\n            />\n          </ModalWrapper>\n        </ModalContainer>\n      </Suspense>\n    );\n  });\n\n  if (dialogs.length > 0) {\n    return (\n      <Wrapper>\n        <ModalBackground />\n        {dialogs}\n      </Wrapper>\n    );\n  }\n\n  return null;\n};\n","import { useEffect, useRef } from 'react';\n\n// Declarative setInterval with auto-cleanup and mutable delay:\n// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nexport function useIntervalHook(callback: () => void, delay: number | null) {\n  const savedCallback = useRef(callback);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAABMCAYAAAAP13m4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASQSURBVHgB7d3vcds2GMfxX3J9X2WCoBNYnSDsBHYnqDOB0wmqDdpOUHeCJAvU6AS1JzA7Qb2BqycCSoiiKNYxAv75fu5gUIR8B5F8RAIiQKnx8zY9Ljy9U7/7kdSzZLpXv2oEdRxDOreN8TLZMBfC+YlyJ7jPLF+KV/bnpQBkQ4ABGRFgQEYEGJDRVwPe8+s2fdC8WIfOlf6/77Qca+16lp/Lwza9DfmcvN+m1bHCIQFmweU1L05P47UctZ4/wOb2RW3scx0NMC4RgYwIMCAjAgzIiAADMiLAgIwIMCAjAgzIiAADMiLAgIwIMCAjAgzIaEiAfa35WQmnsI2ewZCbfa81vzugn3rw3Gs5njvAnOa5/Vxf4ZAAW4lvs8gJn8NpYWiDARkRYEBGBBiQ0ZA2GIDhHtMXaYD9KDozTg1p/15so1M9ynOcFuAp2A4AAAAAAAAAAAAAAAAAAAAAgIV6kSzfqHvOBBuicSuYv8RwFRuu8m1PuT2et+vJmLWW9QjeT9LxYE7dAcaEN421cIodL074hCkDgIwIMCAjAgzIiAADMhoy6U0tREx68/RJb+Y2/ToAAAAAAAAAAAAAAAAAYMdGNFch2b1iv7TK3TZdhmW7x6w9stlGr9ogxPtt+l1lXWp/oF/X5ymhCmkM2yhVhWT7dEwPi4vHVJ+NvrwqpFN8SP+51O6xl/90vPldKLP0W0f5TSgbw4Fsw/kfW2kMN+ZutKvLjcZlo+P7taRrHe7Hdipho9P1elQr+O1ueh+W41DvOil/kyxXOhS/aUofPE5NXd5qNyeEfR6r/0dhivw2/anx8K3X59odc3YF8PHY+yzAau0up+yAPNN+gLmQP4TllZphBys1Z4i/VVYMLvuw1+H1lXaTrBBg02TBtdF4eO0Hj1MTYJtj/xQHXMa21TdJ2UqHEZpeG8flB5Wfdeoi5Let/I2AgmKA3YX8LCmrQn6r5oCtkvL0rFFarHdsrPuQWx2XPkByyl600uTEEc0xSNIzVBVyryYA0zOCC/mdynJq6h3rUodkZbTDpsnaOK9b62z/jqFDbbAYYD7kLimLZwX7UBaAdim47igv3cGRnknrZL1dwzvRDpsq269nrXVeEw2wWk1Hhwuv19pvX1letcpN6Q6OKuTtS1V7/YNoh02V/WZ43Vr3oIlJJ72JAWTfGrGH0Cfld2p+bPugpkexdBssBlCl/bNpbHvFdtjkds7C1TrsGp+cNMBiAFlP4qtkXZT2zNWtdaXEnk7jdHzKZtphKKJ9BjN2Bos9NukZwYe8UhN4pTs4qpDX2v3A3PZTeA/tsH5dPXSl7phIHes5HEPdBkkDzIf8IlmXBlCt5gfnq7CudAdHFXKrp+8oX6u57C3N6tK1vWw+ypJXAtU2/dGx3r6wapXT136ezFNa0gCr1XR0KCzXrfd77QLQhdelOzjiDnh/pNyHvFL5dthK3beblfydzs4Er3XYHV5SvKdvbPVqG3RfZPsUXCXLXR0YTvvtHK+yqpDHnxH63uNVhlP/43z66p6TU3+9vMoYcnOAV3mxnrWY/RoAMDv/AhhTnvUtJSQlAAAAAElFTkSuQmCC\"","import { useEffect, useRef, useState } from 'react';\n\nconst getScrollbarWidth = (() => {\n  let scrollElement: HTMLElement | null = null;\n\n  return () => {\n    if (scrollElement === null) {\n      const containerDiv = document.createElement('div');\n\n      containerDiv.innerHTML = `\n        <div style=\"position: absolute; top: -200px; width: 100px; height: 100px; overflow: scroll; visibility: hidden;\"></div>\n      `;\n\n      scrollElement = containerDiv.firstElementChild as HTMLElement;\n      document.body.append(scrollElement);\n    }\n\n    return scrollElement.offsetWidth - scrollElement.clientWidth;\n  };\n})();\n\nconst listeners: React.Dispatch<number | null>[] = [];\n\nlet width: number | null;\nlet prevWidth: number | null;\n\nfunction onResize() {\n  const scrollbarWidth = getScrollbarWidth();\n\n  if (scrollbarWidth === 0) {\n    width = null;\n  } else {\n    width = window.innerWidth - scrollbarWidth;\n  }\n\n  if (width !== prevWidth) {\n    for (const callback of listeners) {\n      callback(width);\n    }\n  }\n\n  prevWidth = width;\n}\n\nexport const useWidthWithoutScrollbar = (): number | null => {\n  const [value, setValue] = useState<number | null>(width);\n  const currentRef = useRef<number | null>(null);\n  currentRef.current = value;\n\n  useEffect(() => {\n    if (listeners.length === 0) {\n      window.addEventListener('resize', onResize);\n    }\n\n    listeners.push(setValue);\n\n    if (width === undefined) {\n      onResize();\n    } else if (currentRef.current !== width) {\n      setValue(width);\n    }\n\n    return () => {\n      const index = listeners.lastIndexOf(setValue);\n\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n\n      if (listeners.length === 0) {\n        window.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return value;\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { useWidthWithoutScrollbar } from 'utils/hooks/useWidthWithoutScrollbar';\n\nexport const ScrollFix: FunctionComponent<React.HTMLAttributes<HTMLDivElement>> = ({\n  style,\n  ...props\n}) => {\n  const width = useWidthWithoutScrollbar();\n\n  return <div style={width ? { ...style, width } : style} {...props} />;\n};\n","import React, { FunctionComponent } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, NavLink } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport * as H from 'history';\n\nimport Logo from 'assets/images/logo.png';\nimport { COLUMN_LEFT_WIDTH, COLUMNS_GRID_GUTTER } from 'components/common/Layout/constants';\nimport { Icon } from 'components/ui';\n\nimport { ScrollFix } from '../ScollFix';\nimport { HEADER_HEIGHT } from './constants';\n\nconst Wrapper = styled.header`\n  position: relative;\n\n  height: ${HEADER_HEIGHT}px;\n`;\n\nconst FixedContainer = styled.div`\n  position: fixed;\n  z-index: 1;\n\n  width: 100%;\n  height: ${HEADER_HEIGHT}px;\n\n  background: #fff;\n  border-bottom: 1px solid #f6f6f8;\n  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.05);\n`;\n\nconst ScrollFixContainer = styled(ScrollFix)`\n  height: 100%;\n  padding: 0 20px;\n`;\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 796px;\n  height: 100%;\n  margin: 0 auto;\n`;\n\nconst Content = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n`;\n\nconst LogoLink = styled(Link)`\n  color: #000;\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 120%;\n  text-decoration: none;\n`;\n\nconst LogoImg = styled.img`\n  width: 108px;\n  height: 38px;\n`;\n\nconst BreadcrumbWrapper = styled.div`\n  position: absolute;\n  left: ${COLUMN_LEFT_WIDTH + COLUMNS_GRID_GUTTER}px;\n\n  display: flex;\n  align-items: center;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 120%;\n`;\n\nconst BackIcon = styled(Icon)`\n  width: 22px;\n  height: 22px;\n  margin-left: -2px;\n\n  color: #a3a5ba;\n\n  transform: rotate(90deg);\n`;\n\nconst BackLink = styled(NavLink)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  margin-right: 16px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n  cursor: pointer;\n\n  &:hover {\n    background: #eff3ff;\n\n    ${BackIcon} {\n      color: #5887ff;\n    }\n  }\n`;\n\nexport type BreadcrumbType = {\n  currentName: string;\n  backTo?: string | Partial<H.Location<any>>;\n};\n\ntype Props = {\n  breadcrumb?: BreadcrumbType;\n};\n\nexport const Header: FunctionComponent<Props> = ({ breadcrumb }) => {\n  const connected = useSelector((state) => state.wallet.connected);\n\n  return (\n    <Wrapper>\n      <FixedContainer>\n        <ScrollFixContainer>\n          <MainContainer>\n            <Content>\n              <LogoLink to={connected ? '/wallets' : '/'}>\n                <LogoImg src={Logo} />\n              </LogoLink>\n              {breadcrumb ? (\n                <BreadcrumbWrapper>\n                  {breadcrumb.backTo ? (\n                    <BackLink to={breadcrumb.backTo}>\n                      <BackIcon name=\"chevron\" />\n                    </BackLink>\n                  ) : undefined}\n                  {breadcrumb.currentName}\n                </BreadcrumbWrapper>\n              ) : undefined}\n            </Content>\n          </MainContainer>\n        </ScrollFixContainer>\n      </FixedContainer>\n    </Wrapper>\n  );\n};\n","export const HEADER_HEIGHT = 64;\n","import React, { FunctionComponent } from 'react';\nimport { useLocation } from 'react-router';\nimport { NavLink } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport { Feature } from 'flagged';\n\nimport { Icon } from 'components/ui';\nimport { FEATURE_NAV_MENU_BUY_BUTTON } from 'config/featureFlags';\n\nconst Wrapper = styled.div`\n  display: grid;\n  grid-gap: 8px;\n`;\n\nconst NavButton = styled.div`\n  display: flex;\n  align-items: center;\n  height: 52px;\n  padding: 10px 20px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 140%;\n\n  background: #fff;\n  border-radius: 12px;\n`;\n\nconst IconBlock = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  margin-right: 20px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst NavIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #a3a5ba;\n`;\n\nconst NavLinkMenu = styled(NavLink)`\n  &.active {\n    ${NavButton} {\n      color: #5887ff;\n\n      background: #eff3ff;\n\n      ${IconBlock} {\n        color: #5887ff;\n\n        background: #fff !important;\n        border: 1px solid #5887ff;\n\n        ${NavIcon} {\n          color: #5887ff;\n        }\n      }\n    }\n  }\n\n  /* TODO: temp, delete after release recieve and settings */\n  &.disabled {\n    pointer-events: none;\n  }\n\n  &:hover {\n    ${NavButton} {\n      color: #5887ff;\n\n      ${IconBlock} {\n        color: #5887ff;\n\n        background: #eff3ff;\n        border: 1px solid #5887ff;\n\n        ${NavIcon} {\n          color: #5887ff;\n        }\n      }\n    }\n  }\n`;\n\nconst Separator = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 0px;\n  margin: 8px 0px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Line = styled.hr`\n  flex: none;\n  order: 0;\n  height: 2px;\n  align-self: stretch;\n  border: none;\n  flex-grow: 0;\n  margin: 0px 0px;\n  background: #f6f6f8;\n`;\n\nexport const LeftNavMenu: FunctionComponent = () => {\n  const location = useLocation();\n\n  return (\n    <Wrapper>\n      <NavLinkMenu\n        to={{ pathname: '/wallets', state: { fromPage: location.pathname } }}\n        className=\"button\">\n        <NavButton>\n          <IconBlock>\n            <NavIcon name=\"home\" />\n          </IconBlock>\n          Wallets\n        </NavButton>\n      </NavLinkMenu>\n\n      <Feature name={FEATURE_NAV_MENU_BUY_BUTTON}>\n        <NavLinkMenu\n          to={{ pathname: '/buy', state: { fromPage: location.pathname } }}\n          className=\"button\">\n          <NavButton>\n            <IconBlock>\n              <NavIcon name=\"plus\" />\n            </IconBlock>\n            Buy\n          </NavButton>\n        </NavLinkMenu>\n      </Feature>\n\n      <NavLinkMenu\n        to={{ pathname: '/receive', state: { fromPage: location.pathname } }}\n        className=\"button\">\n        <NavButton>\n          <IconBlock>\n            <NavIcon name=\"bottom\" />\n          </IconBlock>\n          Receive\n        </NavButton>\n      </NavLinkMenu>\n      <NavLinkMenu\n        to={{ pathname: '/send', state: { fromPage: location.pathname } }}\n        className=\"button\">\n        <NavButton>\n          <IconBlock>\n            <NavIcon name=\"top\" />\n          </IconBlock>\n          Send\n        </NavButton>\n      </NavLinkMenu>\n      <NavLinkMenu\n        to={{ pathname: '/swap', state: { fromPage: location.pathname } }}\n        className=\"button\">\n        <NavButton>\n          <IconBlock>\n            <NavIcon name=\"swap\" />\n          </IconBlock>\n          Swap\n        </NavButton>\n      </NavLinkMenu>\n      <NavLinkMenu\n        to={{ pathname: '/settings', state: { fromPage: location.pathname } }}\n        className=\"button\">\n        <NavButton>\n          <IconBlock>\n            <NavIcon name=\"gear\" />\n          </IconBlock>\n          Settings\n        </NavButton>\n      </NavLinkMenu>\n      <Separator>\n        <Line />\n      </Separator>\n      <NavLinkMenu to={{ pathname: 'https://apple.com/' }} target=\"_blank\" className=\"button\">\n        <NavButton>\n          <IconBlock>\n            <NavIcon name=\"app-store\" />\n          </IconBlock>\n          App Store\n        </NavButton>\n      </NavLinkMenu>\n      <NavLinkMenu to={{ pathname: 'https://google.com' }} target=\"_blank\" className=\"button\">\n        <NavButton>\n          <IconBlock>\n            <NavIcon name=\"google-play\" />\n          </IconBlock>\n          Google Play\n        </NavButton>\n      </NavLinkMenu>\n    </Wrapper>\n  );\n};\n","import React, { forwardRef, FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { rgba } from 'polished';\n\nimport { Card } from '../Card';\n\nconst Wrapper = styled(Card)`\n  padding: 0;\n\n  box-shadow: 0 4px 4px #f6f6f9;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 18px 20px;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ${rgba(0, 0, 0, 0.05)};\n  }\n`;\n\nconst Title = styled.div`\n  color: #000;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 140%;\n`;\n\nconst Action = styled.div``;\n\nconst Content = styled.div``;\n\ntype Props = {\n  forwardedRef?: React.Ref<HTMLDivElement>;\n  title?: React.ReactNode;\n  action?: React.ReactNode;\n  children?: React.ReactNode;\n  className?: string;\n};\n\nconst WidgetOriginal: FunctionComponent<Props> = ({\n  forwardedRef,\n  title,\n  action,\n  children,\n  className,\n}) => {\n  return (\n    <Wrapper ref={forwardedRef} className={className}>\n      {title || action ? (\n        <Header>\n          {title ? <Title>{title}</Title> : undefined}\n          {action ? <Action>{action}</Action> : undefined}\n        </Header>\n      ) : undefined}\n      {children ? <Content>{children}</Content> : undefined}\n    </Wrapper>\n  );\n};\n\nexport const Widget = forwardRef<HTMLDivElement, Props>((props, ref: React.Ref<HTMLDivElement>) => (\n  <WidgetOriginal {...props} forwardedRef={ref} />\n));\n","import React, { FunctionComponent, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { Feature } from 'flagged';\nimport { rgba } from 'polished';\n\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Widget } from 'components/common/Widget';\nimport { Avatar, Icon } from 'components/ui';\nimport { FEATURE_LEFT_NAV_MENU_POFILE } from 'config/featureFlags';\n\nconst WrapperWidget = styled(Widget)``;\n\nconst Top = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 10px 20px;\n\n  border-bottom: 1px solid ${rgba('#000', 0.05)};\n`;\n\nconst Username = styled.div`\n  margin-left: 20px;\n\n  color: #202020;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 140%;\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 54px;\n  margin: 0 16px 0 20px;\n`;\n\nconst Address = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst CopiedText = styled.div`\n  color: #2db533;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst CopyIcon = styled(Icon)`\n  width: 21px;\n  height: 21px;\n\n  color: #a3a5ba;\n`;\n\nconst CopyWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n\n  background: rgba(163, 165, 186, 0.1);\n  border-radius: 8px;\n  cursor: pointer;\n\n  &:hover {\n    background: #eff3ff;\n\n    ${CopyIcon} {\n      color: #5887ff;\n    }\n  }\n`;\n\nexport const ProfileWidget: FunctionComponent = () => {\n  const [copied, setCopied] = useState(false);\n\n  const username = 'konstantin';\n  const address = `${username}.p2pwallet.org`;\n\n  const handleCopyClick = () => {\n    try {\n      void navigator.clipboard.writeText(`https://${address}`);\n      setCopied(true);\n      ToastManager.info('URL Copied!');\n\n      // fade copied after some seconds\n      setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Feature name={FEATURE_LEFT_NAV_MENU_POFILE}>\n      <WrapperWidget>\n        <Top>\n          <Avatar src=\"https://i.pravatar.cc/100\" size={36} />\n          <Username>@{username}</Username>\n        </Top>\n        <Bottom>\n          {copied ? <CopiedText>URL Copied!</CopiedText> : <Address>{address}</Address>}\n          <CopyWrapper onClick={handleCopyClick}>\n            <CopyIcon name=\"copy\" />\n          </CopyWrapper>\n        </Bottom>\n      </WrapperWidget>\n    </Feature>\n  );\n};\n","import React, { FunctionComponent, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Sticky from 'react-stickynode';\n\nimport { styled } from '@linaria/react';\nimport NProgress from 'nprogress';\n\nimport { RootState } from 'store/rootReducer';\nimport { updateTokenAccountsForWallet } from 'store/slices/wallet/WalletSlice';\nimport { useIntervalHook } from 'utils/hooks/useIntervalHook';\n\nimport { BreadcrumbType, Header } from '../Header';\nimport { HEADER_HEIGHT } from '../Header/constants';\nimport { ScrollFix } from '../ScollFix';\nimport {\n  COLUMN_LEFT_WIDTH,\n  COLUMN_RIGHT_WIDTH,\n  COLUMNS_GRID_GUTTER,\n  CONTAINER_PADDING_TOP,\n} from './constants';\n// import { Download } from './Download';\nimport { LeftNavMenu } from './LeftNavMenu';\nimport { ProfileWidget } from './ProfileWidget';\n\nconst Wrapper = styled(ScrollFix)``;\n\nconst MainScrollFix = styled.div`\n  padding: 0 20px 170px;\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  max-width: 796px;\n  min-height: calc(100vh - ${CONTAINER_PADDING_TOP}px - ${HEADER_HEIGHT}px);\n  margin: 0 auto;\n  padding-top: ${CONTAINER_PADDING_TOP}px;\n`;\n\nconst Content = styled.div``;\n\nconst ColumnsWrapper = styled.div`\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: ${COLUMNS_GRID_GUTTER}px;\n`;\n\nconst ColumnLeftSticky = styled(Sticky)`\n  width: ${COLUMN_LEFT_WIDTH}px;\n  height: fit-content;\n`;\n\nconst ColumnLeft = styled.div`\n  display: grid;\n  grid-gap: 16px;\n  grid-template-rows: min-content;\n`;\n\nconst ColumnRightWrapper = styled.div`\n  width: ${COLUMN_RIGHT_WIDTH}px;\n  height: fit-content;\n`;\n\nconst ColumnRight = styled.div`\n  display: grid;\n  grid-gap: 24px;\n  grid-template-rows: min-content;\n`;\n\nconst CenteredWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nNProgress.configure({ showSpinner: false, parent: '#container' });\n\ntype Props = {\n  breadcrumb?: BreadcrumbType;\n  leftColumn?: React.ReactNode;\n  rightColumn?: React.ReactNode;\n  centered?: React.ReactNode;\n};\n\nexport const LayoutOrigin: FunctionComponent<Props> = ({\n  breadcrumb,\n  leftColumn,\n  rightColumn,\n  centered,\n  children,\n}) => {\n  const dispatch = useDispatch();\n  const connected = useSelector((state: RootState) => state.wallet.connected);\n  const loading = useSelector((state: RootState) => state.global.loading);\n\n  useEffect(() => {\n    if (loading) {\n      NProgress.start();\n    } else {\n      NProgress.done();\n    }\n  }, [loading]);\n\n  useIntervalHook(() => {\n    void dispatch(updateTokenAccountsForWallet());\n  }, 5000);\n\n  return (\n    <>\n      <Helmet>\n        <body className=\"\" />\n      </Helmet>\n      <Wrapper>\n        <Header breadcrumb={breadcrumb} />\n        <MainScrollFix id=\"container\">\n          <Container>\n            {connected ? (\n              <Content>\n                {rightColumn ? (\n                  <ColumnsWrapper>\n                    <ColumnLeftSticky top={HEADER_HEIGHT + CONTAINER_PADDING_TOP}>\n                      <ColumnLeft>\n                        {leftColumn || (\n                          <>\n                            <ProfileWidget />\n                            <LeftNavMenu />\n                            {/* <Download /> */}\n                          </>\n                        )}\n                      </ColumnLeft>\n                    </ColumnLeftSticky>\n                    <ColumnRightWrapper>\n                      <ColumnRight>{rightColumn}</ColumnRight>\n                    </ColumnRightWrapper>\n                  </ColumnsWrapper>\n                ) : centered ? (\n                  <CenteredWrapper>{centered}</CenteredWrapper>\n                ) : (\n                  children\n                )}\n              </Content>\n            ) : undefined}\n          </Container>\n        </MainScrollFix>\n      </Wrapper>\n    </>\n  );\n};\n\nexport const Layout = React.memo(LayoutOrigin);\n","import React, { forwardRef, FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Widget } from 'components/common/Widget';\nimport { Icon } from 'components/ui';\n\nconst WrapperWidget = styled(Widget)``;\n\nexport const TitleWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const IconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n\n  background: #5887ff;\n  border-radius: 12px;\n`;\n\nexport const IconStyled = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #fff;\n`;\n\nexport const Title = styled.div`\n  margin-left: 16px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 120%;\n`;\n\ntype Props = {\n  forwardedRef?: React.Ref<HTMLDivElement>;\n  icon: string;\n  title: string;\n  action?: React.ReactNode;\n  children?: React.ReactNode;\n  className?: string;\n};\n\nconst WidgetPageOriginal: FunctionComponent<Props> = ({\n  forwardedRef,\n  icon,\n  title,\n  action,\n  children,\n  className,\n  ...props\n}) => {\n  return (\n    <WrapperWidget\n      ref={forwardedRef}\n      title={\n        <TitleWrapper>\n          <IconWrapper>\n            <IconStyled name={icon} />\n          </IconWrapper>\n          <Title>{title}</Title>\n        </TitleWrapper>\n      }\n      action={action}\n      className={className}\n      {...props}>\n      {children}\n    </WrapperWidget>\n  );\n};\n\nexport const WidgetPage = forwardRef<HTMLDivElement, Props>(\n  (props, ref: React.Ref<HTMLDivElement>) => <WidgetPageOriginal {...props} forwardedRef={ref} />,\n);\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { moonpayApiKey, moonpayWidgetUrl } from 'config/constants';\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 16px 10px;\n  height: 640px;\n`;\n\nconst Error = styled.div`\n  align-self: center;\n\n  color: #f43d3d;\n`;\n\nconst params = {\n  apiKey: moonpayApiKey,\n  currencyCode: 'eth',\n  baseCurrencyAmount: 100,\n  lockAmount: false,\n};\n\nconst buildParams = (params: any) => {\n  return Object.keys(params)\n    .map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`)\n    .join('&');\n};\n\nexport const MoonpayWidget: FC = () => {\n  if (!moonpayApiKey && !moonpayWidgetUrl) {\n    return (\n      <Wrapper>\n        <Error>moonpayWidgetUrl and moonpayApiKey must be set</Error>\n      </Wrapper>\n    );\n  }\n\n  const urlWithParams = `${moonpayWidgetUrl}?${buildParams(params)}`;\n\n  return (\n    <Wrapper>\n      <iframe\n        allow=\"accelerometer; autoplay; camera; gyroscope; payment\"\n        frameBorder=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        src={urlWithParams}\n        title=\"MoonPay Widget\">\n        <p>Your browser does not support iframes.</p>\n      </iframe>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { WidgetPage } from 'components/common/WidgetPage';\n\nimport { MoonpayWidget } from './MoonpayWidget';\n\nconst WrapperWidgetPage = styled(WidgetPage)``;\n\nexport const BuyWidget: FC = () => {\n  return (\n    <WrapperWidgetPage title=\"Buy\" icon=\"plus\">\n      <MoonpayWidget />\n    </WrapperWidgetPage>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { Layout } from 'components/common/Layout';\nimport { BuyWidget } from 'components/pages/buy';\n\nexport const Buy: FunctionComponent = () => {\n  return <Layout rightColumn={<BuyWidget />} />;\n};\n","export default __webpack_public_path__ + \"static/media/app.8ce2c870.png\";","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Loader } from 'components/common/Loader';\n\nconst Wrapper = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background: rgba(255, 255, 255, 0.9);\n`;\n\nconst LoaderStyled = styled(Loader)`\n  width: 64px;\n  height: 64px;\n\n  &::after {\n    width: 88%;\n    height: 88%;\n  }\n`;\n\nconst Logo = styled.div`\n  position: absolute;\n\n  width: 44px;\n  height: 44px;\n\n  background: url('./logo-loader.svg') no-repeat 50%;\n  background-size: 44px 44px;\n`;\n\nexport const LoaderWide: FC = () => {\n  return (\n    <Wrapper>\n      <LoaderStyled />\n      <Logo />\n    </Wrapper>\n  );\n};\n","import React, { FC, HTMLAttributes } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n\n  background: #fff;\n  border: 1px solid #161616;\n  border-radius: 12px;\n  cursor: pointer;\n`;\n\nconst BackIcon = styled(Icon)`\n  width: 12px;\n  height: 12px;\n\n  color: #161616;\n`;\n\nexport const Back: FC<HTMLAttributes<HTMLDivElement>> = ({ onClick, className }) => {\n  return (\n    <Wrapper onClick={onClick} className={className}>\n      <BackIcon name=\"arrow\" />\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { AmountUSD } from 'components/common/AmountUSD';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { shortAddress } from 'utils/tokens';\n\nconst Wrapper = styled.div`\n  padding: 10px 20px;\n\n  cursor: pointer;\n`;\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 44px;\n`;\n\nconst Info = styled.div`\n  flex: 1;\n  margin-left: 20px;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 140%;\n`;\n\nconst TokenSymbol = styled.div`\n  max-width: 300px;\n\n  overflow: hidden;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\ntype Props = {\n  tokenAccount: TokenAccount;\n  onClick?: (tokenAccount: TokenAccount) => void;\n  className?: string;\n};\n\nexport const TokenAccountRow: FunctionComponent<Props> = ({ tokenAccount, onClick, className }) => {\n  const handleClick = () => {\n    if (onClick) {\n      onClick(tokenAccount);\n    }\n  };\n\n  return (\n    <Wrapper onClick={handleClick} className={className}>\n      <ItemWrapper>\n        <TokenAvatar\n          symbol={tokenAccount.mint.symbol}\n          address={tokenAccount.mint.address.toBase58()}\n          size={44}\n        />\n        <Info>\n          <Top>\n            <TokenSymbol title={tokenAccount.mint.address.toBase58()}>\n              {tokenAccount.mint.symbol || shortAddress(tokenAccount.mint.address.toBase58())}\n            </TokenSymbol>\n            <AmountUSD\n              symbol={tokenAccount.mint.symbol}\n              value={tokenAccount.mint.toMajorDenomination(tokenAccount.balance)}\n            />\n          </Top>\n          <Bottom>\n            <div>\n              {tokenAccount.mint.symbol === 'SOL'\n                ? shortAddress(tokenAccount.address.toBase58())\n                : tokenAccount.mint.name}\n            </div>\n            <div>\n              {tokenAccount?.mint.toMajorDenomination(tokenAccount.balance).toString()}{' '}\n              {tokenAccount.mint.symbol}\n            </div>\n          </Bottom>\n        </Info>\n      </ItemWrapper>\n    </Wrapper>\n  );\n};\n","import { styled } from '@linaria/react';\nimport { rgba } from 'polished';\n\nexport const Button = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 54px;\n  padding: 0 15px;\n\n  color: #f9f9f9;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n\n  background: #161616;\n  border: 1px solid transparent;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n\n  appearance: none;\n\n  &.hollow {\n    color: #161616;\n\n    background: #fff;\n    border: 1px solid ${rgba('#161616', 0.15)};\n  }\n\n  &:disabled {\n    background: #c0c1cb;\n  }\n`;\n","import React, { FC, useEffect, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nconst ButtonWrapper = styled.div`\n  cursor: pointer;\n`;\n\nconst PopoverWrapper = styled.div`\n  position: absolute;\n  top: calc(100% + 6px);\n  right: 0;\n  z-index: 1;\n\n  min-width: max-content;\n  padding: 20px;\n\n  color: #161616;\n  font-weight: 400;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n`;\n\ninterface Props {\n  button: (isShow: boolean) => React.ReactNode;\n}\n\nexport const Popover: FC<Props> = ({ button, children }) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const [isShow, setIsShow] = useState(false);\n\n  const handleAwayClick = (e: MouseEvent) => {\n    if (!wrapperRef.current?.contains(e.target as HTMLDivElement)) {\n      setIsShow(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('mouseup', handleAwayClick);\n\n    return () => {\n      window.removeEventListener('mouseup', handleAwayClick);\n    };\n  }, []);\n\n  const handleToggleShowClick = () => {\n    setIsShow(!isShow);\n  };\n\n  return (\n    <Wrapper ref={wrapperRef}>\n      <ButtonWrapper onClick={handleToggleShowClick}>{button(isShow)}</ButtonWrapper>\n      {isShow ? <PopoverWrapper>{children}</PopoverWrapper> : null}\n    </Wrapper>\n  );\n};\n","import React, { FC, ReactNode, useEffect, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div``;\n\nconst MainWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 54px;\n  padding-right: 16px;\n\n  background: #fff;\n  border: 1px solid rgba(22, 22, 22, 0.15);\n  border-radius: 12px;\n\n  cursor: pointer;\n\n  &.isOpen {\n    border-color: #161616;\n    box-shadow: 0 4px 4px #f6f6f9;\n  }\n`;\n\nconst Value = styled.div`\n  flex: 1;\n`;\n\nconst Text = styled.div`\n  padding: 16px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 22px;\n`;\n\nconst ChevronIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #a3a5ba;\n`;\n\nconst ChevronWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  margin-left: 26px;\n\n  &.isOpen {\n    transform: rotate(180deg);\n\n    ${ChevronIcon} {\n      color: #000;\n    }\n  }\n`;\n\nconst DropDownListContainer = styled.div`\n  position: absolute;\n  right: 0;\n  left: 0;\n  z-index: 1;\n\n  margin-top: 8px;\n  overflow: hidden;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 10px 32px rgba(0, 0, 0, 0.1);\n`;\n\nconst DropDownList = styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n`;\n\nconst DropDownListItem = styled.div`\n  cursor: pointer;\n`;\n\nexport type SelectorItemType = { value: string; label: string | ReactNode };\n\ntype Props = {\n  value: SelectorItemType;\n  items: SelectorItemType[];\n  onChange: (item: SelectorItemType) => void;\n  className?: string;\n};\n\nexport const Selector: FC<Props> = ({ value, items, onChange, className }) => {\n  const selectorRef = useRef<HTMLDivElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const listRef = useRef<HTMLDivElement>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleAwayClick = (e: MouseEvent) => {\n    if (\n      !selectorRef.current?.contains(e.target as HTMLDivElement) &&\n      !dropdownRef.current?.contains(e.target as HTMLDivElement)\n    ) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', handleAwayClick);\n\n    return () => {\n      window.removeEventListener('click', handleAwayClick);\n    };\n  }, []);\n\n  const handleSelectorClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleItemClick = (nextValue: SelectorItemType) => () => {\n    setIsOpen(false);\n    onChange(nextValue);\n  };\n\n  const renderValue = () => {\n    if (!value) {\n      return null;\n    }\n\n    if (typeof value.label === 'string') {\n      return <Text>{value.label}</Text>;\n    }\n\n    return value.label;\n  };\n\n  const renderItem = (item: SelectorItemType) => {\n    if (typeof item.label === 'string') {\n      return <Text>{item.label}</Text>;\n    }\n\n    return item.label;\n  };\n\n  return (\n    <Wrapper className={className}>\n      <MainWrapper\n        ref={selectorRef}\n        onClick={handleSelectorClick}\n        className={classNames({ isOpen })}>\n        <Value>{renderValue()}</Value>\n        <ChevronWrapper className={classNames({ isOpen })}>\n          <ChevronIcon name=\"arrow-triangle\" />\n        </ChevronWrapper>\n      </MainWrapper>\n      {isOpen ? (\n        <DropDownListContainer ref={dropdownRef}>\n          <DropDownList ref={listRef}>\n            {items.map((item) => (\n              <DropDownListItem key={item.value} onClick={handleItemClick(item)}>\n                {renderItem(item)}\n              </DropDownListItem>\n            ))}\n          </DropDownList>\n        </DropDownListContainer>\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { DERIVATION_PATH } from 'api/wallet/ManualWallet';\nimport { TokenAccountRow } from 'components/common/TokenAccountRow';\nimport { Button } from 'components/pages/home/Auth/common/Button';\nimport { Icon } from 'components/ui';\nimport { Popover } from 'components/ui/Popover';\nimport { getRatesMarkets } from 'store/slices/rate/RateSlice';\nimport { connect, getDerivableTokenAccounts } from 'store/slices/wallet/WalletSlice';\nimport { trackEvent } from 'utils/analytics';\n\nimport { Selector } from '../../common/Selector';\nimport { SelectorItemType } from '../../common/Selector/Selector';\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nconst SubTitle = styled.div`\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n`;\n\nconst SelectDerivationPath = styled(SubTitle)`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n`;\n\nconst CloseWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n\n  background: #f6f6f8;\n  border-radius: 4px;\n`;\n\nconst CloseIcon = styled(Icon)`\n  width: 12px;\n  height: 12px;\n\n  color: #161616;\n`;\n\nconst QuestionIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #a3a5ba;\n`;\n\nconst PopoverContent = styled.div`\n  width: 328px;\n`;\n\nconst Derivable = styled(SubTitle)`\n  margin: 24px 0 0;\n`;\n\nconst AccountsWrapper = styled.div`\n  margin: 8px 0 22px;\n`;\n\nconst TokenAccountRowStyled = styled(TokenAccountRow)`\n  padding-right: 0;\n  padding-left: 0;\n`;\n\nconst DERIVATION_PATHS_WITH_LABELS: SelectorItemType[] = [\n  {\n    label: `m/44'/501'/0'`,\n    value: DERIVATION_PATH.bip44,\n  },\n  {\n    label: `m/44'/501'/0'/0'`,\n    value: DERIVATION_PATH.bip44Change,\n  },\n  {\n    label: `m/501'/0'/0/0 (deprecated)`,\n    value: DERIVATION_PATH.deprecated,\n  },\n];\n\ntype Props = {\n  seed: string;\n  next: (derivationPath: string) => void;\n};\n\nexport const DerivableAccounts: FC<Props> = ({ seed, next }) => {\n  const dispatch = useDispatch();\n  const [derivationPathItem, setDerivationPathItem] = useState(DERIVATION_PATHS_WITH_LABELS[1]);\n  const derivableTokenAccounts = useSelector((state) =>\n    state.wallet.derivableTokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n\n  useEffect(() => {\n    void dispatch(connect());\n    // TODO: makes after login too, so maybe need to reduce\n    void dispatch(getRatesMarkets());\n  }, [dispatch]);\n\n  useEffect(() => {\n    void dispatch(getDerivableTokenAccounts({ seed, derivationPath: derivationPathItem.value }));\n  }, [dispatch, seed, derivationPathItem]);\n\n  const handleDerivationPathChange = (item: SelectorItemType) => {\n    trackEvent('login_select_derivation_path_click', { derivationPath: item.value });\n    setDerivationPathItem(item);\n  };\n\n  const handleContinueClick = () => {\n    trackEvent('login_continue_derivation_path_click', {\n      derivationPath: derivationPathItem.value,\n    });\n    next(derivationPathItem.value);\n  };\n\n  return (\n    <Wrapper>\n      <SelectDerivationPath>\n        Select Derivation Path{' '}\n        <Popover\n          button={(isShow) =>\n            isShow ? (\n              <CloseWrapper>\n                <CloseIcon name=\"close\" />\n              </CloseWrapper>\n            ) : (\n              <QuestionIcon name=\"question-circle\" />\n            )\n          }>\n          <PopoverContent>\n            By default, P2P wallet will use m/44&apos;/501&apos;/0&apos;/0&apos; as the derivation\n            path for the main wallet. To use an alternative path, try restoring an existing wallet.\n          </PopoverContent>\n        </Popover>\n      </SelectDerivationPath>\n      <Selector\n        value={derivationPathItem}\n        items={DERIVATION_PATHS_WITH_LABELS}\n        onChange={handleDerivationPathChange}\n      />\n\n      <Derivable>Derivable Accounts</Derivable>\n      <AccountsWrapper>\n        {derivableTokenAccounts?.map((tokenAccount) => (\n          <TokenAccountRowStyled\n            key={tokenAccount.address.toBase58()}\n            tokenAccount={tokenAccount}\n          />\n        ))}\n      </AccountsWrapper>\n\n      <Button onClick={handleContinueClick}>Continue</Button>\n    </Wrapper>\n  );\n};\n","import { useCallback, useRef } from 'react';\n\nimport amplitude from 'amplitude-js';\n\nimport { TrackEventType } from 'utils/analytics/types';\n\nexport function useTrackEventOnce() {\n  const tracked = useRef<string[]>([]);\n\n  const trackEventOnce = useCallback<TrackEventType>((event: string, data?: any) => {\n    if (tracked.current.includes(event)) {\n      return;\n    }\n\n    amplitude.getInstance().logEvent(event, data);\n    tracked.current = [...tracked.current, event];\n  }, []);\n\n  return trackEventOnce;\n}\n","/* eslint-disable react/no-array-index-key */\nimport React, { FC, useEffect, useMemo, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { ErrorHint } from 'components/common/ErrorHint';\nimport { PasswordInput } from 'components/common/PasswordInput';\nimport { trackEvent } from 'utils/analytics';\nimport { useTrackEventOnce } from 'utils/hooks/useTrackEventOnce';\n\nimport { Button } from '../Button';\nimport { validatePassword } from './utils';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  margin-top: 32px;\n`;\n\nconst SubTitle = styled.span`\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n`;\n\nconst CreatePassword = styled(SubTitle)`\n  margin-bottom: 8px;\n`;\n\nconst CreatePasswordHint = styled.span`\n  margin-bottom: 20px;\n\n  color: #161616;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n`;\n\nconst RulesWrapper = styled.div``;\n\nconst StepsWrappers = styled.div`\n  display: flex;\n  margin: 12px 0;\n`;\n\nconst Step = styled.div`\n  flex: 1;\n  height: 3px;\n\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 2px;\n\n  &.red {\n    background: #f43d3d;\n    opacity: 0.8;\n  }\n\n  &.orange {\n    background: #ffa631;\n    opacity: 0.8;\n  }\n\n  &.green {\n    background: #77db7c;\n    opacity: 0.8;\n  }\n\n  &.blue {\n    background: #5887ff;\n  }\n\n  &:not(:last-child) {\n    margin-right: 8px;\n  }\n`;\n\nconst RulesList = styled.ul`\n  margin: 0;\n  padding-left: 22px;\n`;\n\nconst Rule = styled.li`\n  color: #161616;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n\n  opacity: 0.3;\n\n  &.done {\n    text-decoration: line-through;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n`;\n\nconst RepeatPassword = styled(SubTitle)`\n  margin: 20px 0 12px;\n`;\n\nconst ButtonStyled = styled(Button)`\n  margin-top: 32px;\n`;\n\ntype Props = {\n  type: 'signup' | 'login';\n  next: (password: string) => void;\n};\n\nexport const Password: FC<Props> = ({ type, next }) => {\n  const trackEventOnce = useTrackEventOnce();\n  const [password, setPassword] = useState('');\n  const [passwordRepeat, setPasswordRepeat] = useState('');\n  const [hasPasswordRepeatError, setHasPasswordRepeatError] = useState(false);\n\n  const { isLowerCase, isUpperCase, isNumber, isMinLength } = useMemo(\n    () => validatePassword(password),\n    [password],\n  );\n\n  useEffect(() => {\n    if (type === 'login') {\n      trackEvent('login_create_password_open');\n    } else if (type === 'signup') {\n      trackEvent('signup_create_password_open');\n    }\n  }, [type]);\n\n  const handlePasswordChange = (value: string) => {\n    setPassword(value);\n\n    if (type === 'login') {\n      trackEventOnce('login_password_keydown');\n    } else if (type === 'signup') {\n      trackEventOnce('signup_password_keydown');\n    }\n  };\n\n  const handlePasswordRepeatChange = (value: string) => {\n    setPasswordRepeat(value);\n\n    if (type === 'login') {\n      trackEventOnce('login_password_confirm_keydown');\n    } else if (type === 'signup') {\n      trackEventOnce('signup_password_confirm_keydown');\n    }\n\n    if (hasPasswordRepeatError) {\n      setHasPasswordRepeatError(password !== value);\n    }\n  };\n\n  const handlePasswordRepeatBlur = () => {\n    setHasPasswordRepeatError(password !== passwordRepeat);\n  };\n\n  const handleContinueClick = () => {\n    if (type === 'login') {\n      trackEventOnce('login_continue_create_password_click');\n    } else if (type === 'signup') {\n      trackEventOnce('signup_continue_create_password_click');\n    }\n\n    next(password);\n  };\n\n  const renderRules = () => {\n    if (!password) {\n      return;\n    }\n\n    const counter = [isLowerCase, isUpperCase, isNumber, isMinLength].reduce(\n      (prev, curr) => (curr ? prev + 1 : prev),\n      0,\n    );\n\n    return (\n      <RulesWrapper>\n        <StepsWrappers>\n          {new Array(counter).fill(null).map((_, index) => {\n            return (\n              <Step\n                key={index}\n                className={classNames({\n                  red: counter === 1,\n                  orange: counter === 2,\n                  green: counter === 3,\n                  blue: counter === 4,\n                })}\n              />\n            );\n          })}\n          {new Array(4 - counter).fill(null).map((_, index) => (\n            <Step key={index} />\n          ))}\n        </StepsWrappers>\n        <RulesList>\n          <Rule className={classNames({ done: isUpperCase })}>One uppercase letter</Rule>\n          <Rule className={classNames({ done: isLowerCase })}>One lowercase letter</Rule>\n          <Rule className={classNames({ done: isNumber })}>One number</Rule>\n          <Rule className={classNames({ done: isMinLength })}>8+ characters</Rule>\n        </RulesList>\n      </RulesWrapper>\n    );\n  };\n\n  const disabled =\n    !password ||\n    !isLowerCase ||\n    !isUpperCase ||\n    !isNumber ||\n    !isMinLength ||\n    password !== passwordRepeat;\n\n  return (\n    <Wrapper>\n      <CreatePassword>Create password</CreatePassword>\n      <CreatePasswordHint>\n        Create password to protect your wallet. Its will be used for security actions confirmations\n        and for editing your profile info.\n      </CreatePasswordHint>\n      <PasswordInput\n        placeholder=\"Create new password\"\n        value={password}\n        onChange={handlePasswordChange}\n      />\n      {renderRules()}\n      <RepeatPassword>Repeat password</RepeatPassword>\n      <PasswordInput\n        placeholder=\"Repeat new password\"\n        value={passwordRepeat}\n        onChange={handlePasswordRepeatChange}\n        onBlur={handlePasswordRepeatBlur}\n        className={classNames({ error: hasPasswordRepeatError })}\n      />\n      {hasPasswordRepeatError ? <ErrorHint error=\"Passwords doesnt match\" /> : undefined}\n      <ButtonStyled disabled={disabled} onClick={handleContinueClick}>\n        Continue\n      </ButtonStyled>\n    </Wrapper>\n  );\n};\n","export function validatePassword(password: string) {\n  const isLowerCase = /[a-z]/.test(password);\n  const isUpperCase = /[A-Z]/.test(password);\n  const isNumber = /\\d/.test(password);\n  const isMinLength = password.length >= 8;\n\n  return { isLowerCase, isUpperCase, isNumber, isMinLength };\n}\n","import React, { FC, useEffect, useState } from 'react';\nimport { useRef } from 'react';\nimport { batch, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport * as bip39 from 'bip39';\nimport classNames from 'classnames';\nimport throttle from 'lodash.throttle';\n\nimport { WalletType } from 'api/wallet';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Button } from 'components/pages/home/Auth/common/Button';\nimport { localMnemonic } from 'config/constants';\nimport { connectWallet, selectType } from 'store/slices/wallet/WalletSlice';\nimport { trackEvent } from 'utils/analytics';\nimport { sleep } from 'utils/common';\nimport { useTrackEventOnce } from 'utils/hooks/useTrackEventOnce';\n\nimport { ErrorHint } from '../../../../../common/ErrorHint';\n\nconst Wrapper = styled.div``;\n\nconst ButtonsWrapper = styled.div``;\n\nconst SocialButton = styled.button`\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  height: 54px;\n  padding: 0 16px 0 24px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n\n  background: #fff;\n  border: 1px solid rgba(22, 22, 22, 0.15);\n  border-radius: 32px;\n  outline: none;\n  cursor: pointer;\n\n  appearance: none;\n\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n`;\n\nconst WalletIcon = styled.div`\n  width: 30px;\n  height: 30px;\n  margin-right: 16px;\n\n  &.sollet {\n    background: url('./sollet.svg') no-repeat 50%;\n  }\n\n  &.phantom {\n    background: url('./phantom.png') no-repeat 50%;\n  }\n`;\n\nconst ArrowIcon = styled.div`\n  flex: 1;\n  width: 20px;\n  height: 20px;\n\n  background: url('./arrow-right.svg') no-repeat 100% 50%;\n  opacity: 0.15;\n`;\n\nconst Delimiter = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 22px;\n  margin: 32px 0;\n\n  &::before {\n    position: absolute;\n\n    width: 100%;\n    height: 1px;\n\n    background: #161616;\n    opacity: 0.15;\n\n    content: '';\n  }\n`;\n\nconst DelimiterText = styled.div`\n  z-index: 1;\n\n  padding: 0 10px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 20px;\n\n  background: #fff;\n`;\n\nconst SecurityWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  margin-bottom: 32px;\n`;\n\nconst SecurityKey = styled.span`\n  margin-bottom: 8px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n`;\n\nconst MnemonicTextarea = styled.textarea`\n  min-height: 92px;\n  padding: 15px;\n\n  color: #161616;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 22px;\n\n  background: #f6f6f8;\n  border: 1px solid transparent;\n  border-radius: 12px;\n\n  &.hasError {\n    border-color: #f43d3d;\n  }\n\n  &::placeholder {\n    color: #1616164c;\n  }\n`;\n\ntype Props = {\n  setIsLoading: (isLoading: boolean) => void;\n  next: (mnemonic: string) => void;\n};\n\nexport const Main: FC<Props> = ({ setIsLoading, next }) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const mnemonicRef = useRef<HTMLTextAreaElement | null>(null);\n  const trackEventOnce = useTrackEventOnce();\n  const [mnemonic, setMnemonic] = useState(localMnemonic || '');\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    trackEvent('login_open');\n  }, []);\n\n  useEffect(() => {\n    if (mnemonicRef.current) {\n      mnemonicRef.current.style.height = 'inherit';\n      mnemonicRef.current.style.height = `${mnemonicRef.current.scrollHeight}px`;\n    }\n  }, [mnemonic]);\n\n  const handleConnectByClick = (type: WalletType) => () => {\n    batch(async () => {\n      try {\n        setIsLoading(true);\n        dispatch(selectType(type));\n        unwrapResult(await dispatch(connectWallet()));\n\n        if (type === WalletType.SOLLET) {\n          trackEventOnce('login_solletio_click');\n        } else if (type === WalletType.SOLLET_EXTENSION) {\n          trackEventOnce('login_sollet_extension_click');\n        } else if (type === WalletType.PHANTOM) {\n          trackEventOnce('login_phantom_click');\n        }\n\n        await sleep(100);\n        history.push('/wallets');\n      } catch (error) {\n        ToastManager.error((error as Error).message);\n      } finally {\n        setIsLoading(false);\n      }\n    });\n  };\n\n  const validateMnemonic = throttle(\n    (nextMnemonic) => {\n      if (bip39.validateMnemonic(nextMnemonic)) {\n        setHasError(false);\n      } else if (!hasError) {\n        setHasError(true);\n      }\n    },\n    100,\n    { leading: false, trailing: true },\n  );\n\n  const handleMnemonicInput = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const { value } = e.target;\n    const valueTrimmed = value.trim();\n\n    if (bip39.validateMnemonic(valueTrimmed)) {\n      setMnemonic(valueTrimmed);\n    } else {\n      setMnemonic(value);\n    }\n    validateMnemonic(valueTrimmed);\n\n    trackEventOnce('login_seed_keydown');\n  };\n\n  const handleMnemonicBlur = (e: React.FocusEvent<HTMLTextAreaElement>) => {\n    const value = e.target.value.trim();\n    setMnemonic(value);\n    validateMnemonic(value);\n  };\n\n  const handleContinueClick = () => {\n    next(mnemonic);\n  };\n\n  const isDisabled = !mnemonic || hasError;\n\n  return (\n    <Wrapper>\n      <ButtonsWrapper>\n        <SocialButton onClick={handleConnectByClick(WalletType.SOLLET)}>\n          <WalletIcon className=\"sollet\" />\n          Sollet.io\n          <ArrowIcon />\n        </SocialButton>\n        <SocialButton onClick={handleConnectByClick(WalletType.SOLLET_EXTENSION)}>\n          <WalletIcon className=\"sollet\" />\n          Sollet Extension\n          <ArrowIcon />\n        </SocialButton>\n        <SocialButton onClick={handleConnectByClick(WalletType.PHANTOM)}>\n          <WalletIcon className=\"phantom\" />\n          Phantom\n          <ArrowIcon />\n        </SocialButton>\n      </ButtonsWrapper>\n      <Delimiter>\n        <DelimiterText>Or use your seed...</DelimiterText>\n      </Delimiter>\n      <SecurityWrapper>\n        <SecurityKey>Enter security key</SecurityKey>\n        <MnemonicTextarea\n          ref={mnemonicRef}\n          placeholder=\"Seed phrase\"\n          value={mnemonic}\n          onInput={handleMnemonicInput}\n          onBlur={handleMnemonicBlur}\n          className={classNames({ hasError })}\n        />\n        {hasError ? <ErrorHint error=\"Incorrect seed phrase\" /> : undefined}\n      </SecurityWrapper>\n      <Button disabled={isDisabled} onClick={handleContinueClick}>\n        Continue\n      </Button>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { shortAddress } from 'utils/tokens';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  padding: 11px 12px;\n`;\n\nconst AccountAddress = styled.span`\n  margin-left: 16px;\n\n  color: #161616;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n`;\n\ninterface Props {\n  account: string;\n}\n\nexport const SelectorAccountItem: FC<Props> = ({ account }) => {\n  return (\n    <Wrapper>\n      <TokenAvatar symbol=\"SOL\" size=\"32\" />{' '}\n      <AccountAddress>{shortAddress(account)}</AccountAddress>\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { batch, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport { styled } from '@linaria/react';\nimport { unwrapResult } from '@reduxjs/toolkit';\n\nimport { WalletType } from 'api/wallet';\nimport { loadMnemonicAndSeed, LockedType, STORAGE_KEY_LOCKED } from 'api/wallet/ManualWallet';\nimport { ERROR_WRONG_PASSWORD } from 'api/wallet/ManualWallet/errors';\nimport LogoImg from 'assets/images/big-logo.png';\nimport { ErrorHint } from 'components/common/ErrorHint';\nimport { PasswordInput } from 'components/common/PasswordInput';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { SelectorAccountItem } from 'components/pages/home/Auth/Login/Restore/SelectorAccountItem';\nimport { connectWallet, selectType } from 'store/slices/wallet/WalletSlice';\nimport { trackEvent } from 'utils/analytics';\nimport { sleep } from 'utils/common';\nimport { useTrackEventOnce } from 'utils/hooks/useTrackEventOnce';\n\nimport { Button } from '../../common/Button';\nimport { Selector } from '../../common/Selector';\nimport { SelectorItemType } from '../../common/Selector/Selector';\n\nconst Wrapper = styled.div``;\n\nconst TopWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Logo = styled.div`\n  width: 64px;\n  height: 64px;\n\n  background: url('${LogoImg}') no-repeat 50% 50%;\n  background-size: 64px 64px;\n`;\n\nconst Title = styled.span`\n  display: inline-block;\n  margin-top: 32px;\n\n  color: #161616;\n  font-weight: bold;\n  font-size: 26px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 32px;\n`;\n\nconst AccountWrapper = styled.div`\n  margin: 32px 0;\n`;\n\nconst EnterPassword = styled.span`\n  display: inline-block;\n  margin: 32px 0 8px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n`;\n\nconst ButtonsWrapper = styled.div`\n  & > :not(:last-child) {\n    margin-bottom: 12px;\n  }\n`;\n\ninterface Props {\n  setIsLoading: (isLoading: boolean) => void;\n  back: () => void;\n}\n\nexport const Restore: FC<Props> = ({ setIsLoading, back }) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const trackEventOnce = useTrackEventOnce();\n  const [password, setPassword] = useState('');\n  const [accounts, setAccounts] = useState<SelectorItemType[]>([]);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    trackEvent('restore_welcome_back_open');\n\n    if (localStorage.getItem(STORAGE_KEY_LOCKED)) {\n      const locked = JSON.parse(localStorage.getItem(STORAGE_KEY_LOCKED) || '') as LockedType;\n\n      setAccounts([\n        {\n          label: <SelectorAccountItem account={locked.account} />,\n          value: locked.account,\n        },\n      ]);\n    }\n  }, []);\n\n  const validatePassword = async (value: string) => {\n    try {\n      await loadMnemonicAndSeed(value);\n      setHasError(false);\n    } catch (error) {\n      if ((error as Error).message === ERROR_WRONG_PASSWORD) {\n        setHasError(true);\n      }\n    }\n  };\n\n  const handlePasswordChange = (value: string) => {\n    setPassword(value);\n\n    if (value) {\n      trackEventOnce('restore_password_keydown');\n      void validatePassword(value);\n    }\n  };\n\n  const handleAccessClick = () => {\n    batch(async () => {\n      try {\n        const { seed, derivationPath } = await loadMnemonicAndSeed(password);\n\n        if (seed && derivationPath) {\n          setIsLoading(true);\n          dispatch(selectType(WalletType.MANUAL));\n          unwrapResult(\n            await dispatch(\n              connectWallet({\n                seed,\n                password,\n                derivationPath,\n              }),\n            ),\n          );\n\n          trackEvent('restore_access_wallet_click');\n\n          await sleep(100);\n          history.push('/wallets');\n        } else {\n          throw new Error(`Can't restore wallet`);\n        }\n      } catch (error) {\n        ToastManager.error((error as Error).message);\n      } finally {\n        setIsLoading(false);\n      }\n    });\n  };\n\n  const handleSeedPhraseClick = () => {\n    trackEvent('restore_access_via_seed_click');\n    back();\n  };\n\n  const isDisabled = !password || hasError;\n\n  return (\n    <Wrapper>\n      <TopWrapper>\n        <Logo />\n        <Title>Welcome back!</Title>\n      </TopWrapper>\n      <AccountWrapper>\n        <Selector value={accounts[0]} items={accounts} onChange={() => console.log(1)} />\n        <EnterPassword>Enter password</EnterPassword>\n        <PasswordInput placeholder=\"Password\" value={password} onChange={handlePasswordChange} />\n        {hasError ? <ErrorHint error=\"Wrong password\" /> : undefined}\n      </AccountWrapper>\n      <ButtonsWrapper>\n        <Button disabled={isDisabled} onClick={handleAccessClick}>\n          Access my wallet\n        </Button>\n        <Button className=\"hollow\" onClick={handleSeedPhraseClick}>\n          Access via seed phrase\n        </Button>\n      </ButtonsWrapper>\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { mnemonicToSeed, STORAGE_KEY_LOCKED } from 'api/wallet/ManualWallet';\nimport { Back } from 'components/pages/home/Auth/common/Back';\nimport { DerivableAccounts } from 'components/pages/home/Auth/Login/DerivableAccounts';\n\nimport { Password } from '../common/Password';\nimport { DataType } from '../types';\nimport { Main } from './Main';\nimport { Restore } from './Restore';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 360px;\n`;\n\nconst Title = styled.span`\n  position: relative;\n\n  margin-bottom: 32px;\n\n  color: #161616;\n  font-weight: 700;\n  font-size: 26px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 32px;\n  text-align: center;\n`;\n\nconst BackStyled = styled(Back)`\n  position: absolute;\n  left: 0;\n`;\n\ntype PageTypes = 'restore' | 'main' | 'password' | 'derivableAccounts';\n\nconst backToPage: {\n  // eslint-disable-next-line no-unused-vars\n  [page in PageTypes]: PageTypes;\n} = {\n  restore: 'main',\n  main: 'main',\n  password: 'main',\n  derivableAccounts: 'password',\n};\n\ntype Props = {\n  setIsLoading: (isLoading: boolean) => void;\n  next: (data: DataType) => void;\n};\n\nexport const Login: FC<Props> = ({ setIsLoading, next }) => {\n  const [mnemonic, setMnemonic] = useState('');\n  const [seed, setSeed] = useState('');\n  const [password, setPassword] = useState('');\n  const [page, setPage] = useState<PageTypes | 'ready'>('main');\n\n  useEffect(() => {\n    if (localStorage.getItem(STORAGE_KEY_LOCKED)) {\n      setPage('restore');\n    }\n  }, []);\n\n  const handleBackClick = () => {\n    setPage((state) => backToPage[state as PageTypes]);\n  };\n\n  const handleContinueMnemonicClick = async (nextMnemonic: string) => {\n    const nextSeed = await mnemonicToSeed(nextMnemonic);\n\n    setMnemonic(nextMnemonic);\n    setSeed(nextSeed);\n    setPage('password');\n  };\n\n  const handleContinuePasswordClick = (nextPassword: string) => {\n    setPassword(nextPassword);\n    setPage('derivableAccounts');\n  };\n\n  const handleContinueDerivableAccountsClick = (nextDerivationPath: string) => {\n    next({\n      type: 'login',\n      mnemonic,\n      seed,\n      password,\n      derivationPath: nextDerivationPath,\n    });\n  };\n\n  const render = () => {\n    if (page === 'restore') {\n      return <Restore setIsLoading={setIsLoading} back={handleBackClick} />;\n    }\n\n    return (\n      <>\n        <Title>\n          {page !== 'main' ? <BackStyled onClick={handleBackClick} /> : undefined}\n          Log in to your wallet\n        </Title>\n        {page === 'main' ? (\n          <Main setIsLoading={setIsLoading} next={handleContinueMnemonicClick} />\n        ) : undefined}\n        {page === 'password' ? (\n          <Password type=\"login\" next={handleContinuePasswordClick} />\n        ) : undefined}\n        {page === 'derivableAccounts' ? (\n          <DerivableAccounts seed={seed} next={handleContinueDerivableAccountsClick} />\n        ) : undefined}\n      </>\n    );\n  };\n\n  return <Wrapper>{render()}</Wrapper>;\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { rgba } from 'polished';\n\nimport { Button } from 'components/ui';\n\nconst Background = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n\n  background: rgba(255, 255, 255, 0.8);\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 504px;\n\n  overflow: hidden;\n\n  background: #fff;\n  border-radius: 15px;\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);\n`;\n\nconst Header = styled.div`\n  margin: 30px 20px 0;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n`;\n\nconst Description = styled.div`\n  margin-top: 12px;\n  padding: 0 20px 24px;\n\n  color: ${rgba('#161616', 0.8)};\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 20px;\n\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n`;\n\nconst Buttons = styled.div`\n  padding: 24px 20px;\n`;\n\nconst ButtonClose = styled(Button)`\n  margin-right: 16px;\n\n  color: #f43d3d;\n\n  border: 1px solid #f43d3d;\n\n  &:disabled {\n    background: #f77;\n    border: none;\n    opacity: 0.5;\n  }\n`;\n\ntype Props = {\n  close: (isSave: boolean) => void;\n};\n\nexport const OffPasswordModal: FunctionComponent<Props> = ({ close }) => {\n  const handleTurnOffClick = () => {\n    close(false);\n  };\n\n  const handleCloseClick = () => {\n    close(true);\n  };\n\n  return (\n    <Background>\n      <Wrapper>\n        <Header>Do you really want to turn off login with password?</Header>\n        <Description>\n          The seed phrare will not be saved on your device in future. On every login youll need to\n          enter your private seed phrase. You can manage this function in settings.\n        </Description>\n        <Buttons>\n          <ButtonClose onClick={handleTurnOffClick}>Yes, turn off</ButtonClose>\n          <Button dark onClick={handleCloseClick}>\n            No, keep login with password\n          </Button>\n        </Buttons>\n      </Wrapper>\n    </Background>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { batch, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport { styled } from '@linaria/react';\nimport { unwrapResult } from '@reduxjs/toolkit';\n\nimport { WalletType } from 'api/wallet';\nimport { storeMnemonicAndSeed } from 'api/wallet/ManualWallet';\nimport LogoImg from 'assets/images/big-logo.png';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { DataType } from 'components/pages/home/Auth/types';\nimport { Switch } from 'components/ui';\nimport { connectWallet, selectType } from 'store/slices/wallet/WalletSlice';\nimport { trackEvent } from 'utils/analytics';\nimport { sleep } from 'utils/common';\n\nimport { Button } from '../common/Button';\nimport { OffPasswordModal } from './OffPasswordModal';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  width: 360px;\n  margin-top: 200px;\n`;\n\nconst TopWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Logo = styled.div`\n  width: 64px;\n  height: 64px;\n\n  background: url('${LogoImg}') no-repeat 50% 50%;\n  background-size: 64px 64px;\n`;\n\nconst Title = styled.span`\n  display: inline-block;\n  margin-top: 32px;\n\n  color: #161616;\n  font-weight: bold;\n  font-size: 26px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 32px;\n`;\n\nconst Desc = styled.span`\n  margin-top: 8px;\n\n  color: #161616;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n  text-align: center;\n`;\n\nconst SwitcherLabel = styled.label`\n  display: flex;\n  align-items: center;\n\n  height: 52px;\n  margin: 20px 0 32px;\n  padding: 0 20px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n\n  cursor: pointer;\n`;\n\nconst SwitcherText = styled.span`\n  margin-left: 20px;\n\n  color: #161616;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n`;\n\ninterface Props {\n  setIsLoading: (isLoading: boolean) => void;\n  data: DataType;\n}\n\nexport const Ready: FC<Props> = ({ setIsLoading, data }) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [isSave, setIsSave] = useState(true);\n  const [isShowModal, setIsShowModal] = useState(false);\n\n  useEffect(() => {\n    if (data.type === 'login') {\n      trackEvent('login_wallet_ready_open');\n    } else if (data.type === 'signup') {\n      trackEvent('signup_wallet_ready_open');\n    }\n  }, [data.type]);\n\n  const handleCloseModal = (nextIsSave: boolean) => {\n    setIsShowModal(false);\n    setIsSave(nextIsSave);\n  };\n\n  const handleIsSaveChange = (nextIsSave: boolean) => {\n    if (nextIsSave) {\n      setIsSave(nextIsSave);\n      return;\n    }\n\n    setIsShowModal(true);\n  };\n\n  const handleFinishClick = () => {\n    batch(async () => {\n      try {\n        setIsLoading(true);\n        dispatch(selectType(WalletType.MANUAL));\n        unwrapResult(\n          await dispatch(\n            connectWallet({\n              seed: data.seed,\n              password: data.password,\n              derivationPath: data.derivationPath,\n            }),\n          ),\n        );\n        await storeMnemonicAndSeed(\n          data.mnemonic,\n          data.seed,\n          data.derivationPath,\n          data.password,\n          isSave,\n        );\n\n        if (data.type === 'login') {\n          trackEvent('login_finish_setup_click', { fastEnter: isSave });\n        } else if (data.type === 'signup') {\n          trackEvent('signup_finish_setup_click', { fastEnter: isSave });\n        }\n\n        await sleep(100);\n        history.push('/wallets');\n      } catch (error) {\n        ToastManager.error((error as Error).message);\n      } finally {\n        setIsLoading(false);\n      }\n    });\n  };\n\n  return (\n    <Wrapper>\n      {isShowModal ? <OffPasswordModal close={handleCloseModal} /> : undefined}\n\n      <TopWrapper>\n        <Logo />\n        <Title>{data.type === 'login' ? 'Welcome back!' : 'Your wallet is ready!'}</Title>\n        <Desc>\n          You can turn on a quick enter via password. Only you have access to your keys, not\n          government, not us, not anyone else. its 100% stored on your devices.\n        </Desc>\n      </TopWrapper>\n      <SwitcherLabel>\n        <Switch checked={isSave} onChange={handleIsSaveChange} />\n        <SwitcherText>Use fast enter with password</SwitcherText>\n      </SwitcherLabel>\n      <Button onClick={handleFinishClick}>Finish setup</Button>\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { useRef } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { ErrorHint } from 'components/common/ErrorHint';\nimport { Button } from 'components/pages/home/Auth/common/Button';\nimport { trackEvent } from 'utils/analytics';\nimport { useTrackEventOnce } from 'utils/hooks/useTrackEventOnce';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst PasteMnemonic = styled.span`\n  margin: 32px 0 8px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n`;\n\nconst PasteMnemonicHint = styled.span`\n  color: #161616;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n`;\n\nconst MnemonicWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0 32px;\n`;\n\nconst MnemonicTextarea = styled.textarea`\n  position: relative;\n\n  width: 100%;\n  height: 100%;\n  min-height: 130px;\n  padding: 15px;\n\n  color: #161616;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n\n  background: #f6f6f8;\n  border: 1px solid transparent;\n  border-radius: 12px;\n  outline: 0;\n\n  &:focus {\n    background: #fff;\n    border-color: #5887ff;\n  }\n\n  &::placeholder {\n    color: #1616164c;\n  }\n\n  &.hasError {\n    border-color: #f43d3d;\n  }\n`;\n\ninterface Props {\n  mnemonic: string;\n  next: () => void;\n}\n\nexport const Paste: FC<Props> = ({ mnemonic, next }) => {\n  const mnemonicRef = useRef<HTMLTextAreaElement | null>(null);\n  const trackEventOnce = useTrackEventOnce();\n  const [userMnemonic, setUserMnemonic] = useState('');\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    trackEvent('signup_paste_seed_open');\n  }, []);\n\n  useEffect(() => {\n    if (mnemonicRef.current) {\n      mnemonicRef.current.style.height = 'inherit';\n      mnemonicRef.current.style.height = `${mnemonicRef.current.scrollHeight}px`;\n    }\n  }, [mnemonic]);\n\n  const validateMnemonic = (value: string) => {\n    setHasError(value !== mnemonic);\n  };\n\n  const handleMnemonicInput = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const { value } = e.target;\n    const valueTrimmed = value.trim();\n\n    if (valueTrimmed === mnemonic) {\n      setUserMnemonic(valueTrimmed);\n    } else {\n      setUserMnemonic(value);\n    }\n\n    validateMnemonic(valueTrimmed);\n    trackEventOnce('signup_seed_pasted');\n  };\n\n  const handleMnemonicBlur = (e: React.FocusEvent<HTMLTextAreaElement>) => {\n    const value = e.target.value.trim();\n    setUserMnemonic(value);\n    validateMnemonic(value);\n  };\n\n  const handleContinueClick = () => {\n    trackEvent('signup_continue_paste_click');\n    next();\n  };\n\n  const isDisabled = userMnemonic !== mnemonic || hasError;\n\n  return (\n    <Wrapper>\n      <PasteMnemonic>Paste your seed phrase</PasteMnemonic>\n      <PasteMnemonicHint>\n        Paste or enter your seed phrase to confirm, that youve stored it on your side. If youll\n        lose it you will lost access to your wallet.\n      </PasteMnemonicHint>\n      <MnemonicWrapper>\n        <MnemonicTextarea\n          ref={mnemonicRef}\n          placeholder=\"Seed phrase\"\n          value={userMnemonic}\n          onInput={handleMnemonicInput}\n          onBlur={handleMnemonicBlur}\n          className={classNames({ hasError })}\n        />\n        {hasError ? <ErrorHint error=\"Incorrect seed phrase\" /> : undefined}\n      </MnemonicWrapper>\n      <Button disabled={isDisabled} onClick={handleContinueClick}>\n        Continue\n      </Button>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nconst WrapperLabel = styled.label`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n\n  cursor: pointer;\n`;\n\nconst Input = styled.input`\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  width: 20px;\n  height: 20px;\n\n  opacity: 0;\n\n  appearance: none;\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n`;\n\nconst CheckboxIcon = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 20px;\n  height: 20px;\n  margin-right: 10px;\n\n  background: url('./checkbox.svg') no-repeat 50%;\n\n  &.checked {\n    &::before {\n      position: absolute;\n\n      width: 16px;\n      height: 16px;\n\n      background: url('./checkmark.svg') no-repeat 50%;\n\n      content: '';\n    }\n  }\n`;\n\ntype Props = {\n  checked: boolean;\n  label: string;\n  onChange: (checked: boolean) => void;\n};\n\nexport const Checkbox: FC<Props> = ({ checked, label, onChange }) => {\n  return (\n    <WrapperLabel>\n      <Input type=\"checkbox\" checked={checked} onChange={(e) => onChange(e.target.checked)} />\n      <CheckboxIcon className={classNames({ checked })} />\n      {label}\n    </WrapperLabel>\n  );\n};\n","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Button } from 'components/pages/home/Auth/common/Button';\nimport { Checkbox } from 'components/pages/home/Auth/common/Checkbox';\nimport { trackEvent } from 'utils/analytics';\nimport { useTrackEventOnce } from 'utils/hooks/useTrackEventOnce';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst PleaseText = styled.span`\n  position: relative;\n\n  margin: 42px 0 48px;\n\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n  text-align: center;\n\n  background-image: linear-gradient(180deg, #ff7438 0%, #7636ff 100%);\n\n  /* Use the text as a mask for the background.\n  This will show the gradient as a text color rather than element bg. */\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  -webkit-box-decoration-break: clone;\n  opacity: 0.8;\n\n  &::before {\n    position: absolute;\n    top: -28px;\n    left: -32px;\n\n    width: 421px;\n    height: 98px;\n\n    background: url('./circle.svg') no-repeat 50%;\n\n    content: '';\n  }\n`;\n\nconst SecurityKey = styled.span`\n  margin-bottom: 12px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n`;\n\nconst SecurityKeyHint = styled.span`\n  margin-bottom: 20px;\n\n  color: #161616;\n  font-size: 14px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 18px;\n`;\n\nconst MnemonicWrapper = styled.div`\n  position: relative;\n\n  &::before {\n    position: absolute;\n    top: -148px;\n    right: -40px;\n\n    width: 47px;\n    height: 147px;\n\n    background: url('./line-seed.svg') no-repeat 50%;\n\n    content: '';\n  }\n`;\n\nconst MnemonicTextarea = styled.textarea`\n  position: relative;\n\n  flex-shrink: 0;\n  width: 100%;\n  height: 100%;\n  min-height: 125px;\n  padding: 15px;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n\n  background-image: linear-gradient(white, white), linear-gradient(180deg, #ff7438 0%, #7636ff 100%);\n  background-clip: padding-box, border-box;\n  background-origin: border-box;\n  border: solid 2px transparent;\n  border-radius: 12px;\n  outline: 0;\n  filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.1));\n\n  &::placeholder {\n    color: #1616164c;\n  }\n`;\n\nconst CheckboxWrapper = styled.div`\n  position: relative;\n\n  margin: 34px 0 26px;\n\n  &::before {\n    position: absolute;\n    top: -35px;\n    left: -17px;\n\n    width: 16px;\n    height: 39px;\n\n    background: url('./line-saved.svg') no-repeat 50%;\n\n    content: '';\n  }\n`;\n\ntype Props = {\n  mnemonic: string;\n  next: () => void;\n};\n\nexport const Mnemonic: FC<Props> = ({ mnemonic, next }) => {\n  const trackEventOnce = useTrackEventOnce();\n  const [checked, setChecked] = useState(false);\n\n  const handleCheckChange = (nextChecked: boolean) => {\n    setChecked(nextChecked);\n\n    if (nextChecked) {\n      trackEventOnce('signup_i_have_saved_words_click');\n    }\n  };\n\n  const handleContinueClick = () => {\n    trackEvent('signup_continue_mnemonic_click');\n    next();\n  };\n\n  return (\n    <Wrapper>\n      <PleaseText>\n        Please write down the following twelve words <br /> and keep them in a safe place.\n      </PleaseText>\n      <SecurityKey>Your security key</SecurityKey>\n      <SecurityKeyHint>\n        Your private keys are only stored on your current computer or device. You will need these\n        words to restore your wallet if your browsers storage is cleared or your device is damaged\n        or lost.\n      </SecurityKeyHint>\n      <MnemonicWrapper>\n        <MnemonicTextarea placeholder=\"Seed phrase\" value={mnemonic} readOnly />\n      </MnemonicWrapper>\n      <CheckboxWrapper>\n        <Checkbox\n          checked={checked}\n          label=\"I have saved these words in a safe place.\"\n          onChange={handleCheckChange}\n        />\n      </CheckboxWrapper>\n      <Button disabled={!checked} onClick={handleContinueClick}>\n        Continue\n      </Button>\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useMemo, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport * as bip39 from 'bip39';\n\nimport { DERIVATION_PATH, mnemonicToSeed } from 'api/wallet/ManualWallet';\nimport { Password } from 'components/pages/home/Auth/common/Password';\nimport { Paste } from 'components/pages/home/Auth/Signup/Paste';\nimport { trackEvent } from 'utils/analytics';\n\nimport { Back } from '../common/Back';\nimport { DataType } from '../types';\nimport { Mnemonic } from './Mnemonic';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 360px;\n`;\n\nconst Title = styled.span`\n  position: relative;\n\n  color: #161616;\n  font-weight: 700;\n  font-size: 26px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 32px;\n  text-align: center;\n`;\n\nconst BackStyled = styled(Back)`\n  position: absolute;\n  left: 0;\n`;\n\ntype PageTypes = 'mnemonic' | 'paste' | 'password';\n\nconst backToPage: {\n  // eslint-disable-next-line no-unused-vars\n  [page in PageTypes]: PageTypes;\n} = {\n  mnemonic: 'mnemonic',\n  paste: 'mnemonic',\n  password: 'paste',\n};\n\ntype Props = {\n  next: (data: DataType) => void;\n};\n\nexport const Signup: FC<Props> = ({ next }) => {\n  const [page, setPage] = useState<PageTypes>('mnemonic');\n\n  const mnemonic = useMemo(() => bip39.generateMnemonic(256), []);\n\n  useEffect(() => {\n    trackEvent('signup_open');\n  }, []);\n\n  const handleBackClick = () => {\n    setPage((state) => backToPage[state]);\n  };\n\n  const handleContinueMnemonicClick = () => {\n    setPage('paste');\n  };\n\n  const handleContinuePasteClick = () => {\n    setPage('password');\n  };\n\n  const handleContinuePasswordClick = async (password: string) => {\n    const seed = await mnemonicToSeed(mnemonic);\n    next({\n      type: 'signup',\n      mnemonic,\n      seed,\n      password,\n      derivationPath: DERIVATION_PATH.bip44Change,\n    });\n  };\n\n  return (\n    <Wrapper>\n      <Title>\n        {page !== 'mnemonic' ? <BackStyled onClick={handleBackClick} /> : undefined}\n        New wallet\n      </Title>\n      {page === 'mnemonic' ? (\n        <Mnemonic mnemonic={mnemonic} next={handleContinueMnemonicClick} />\n      ) : undefined}\n      {page === 'paste' ? <Paste mnemonic={mnemonic} next={handleContinuePasteClick} /> : undefined}\n      {page === 'password' ? (\n        <Password type=\"signup\" next={handleContinuePasswordClick} />\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FC, useState } from 'react';\nimport { NavLink, Route, Switch, useLocation } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\n\nimport { LoaderWide } from './common/LoaderWide';\nimport { Login } from './Login';\nimport { Ready } from './Ready';\nimport { Signup } from './Signup';\nimport { DataType } from './types';\n\nconst Wrapper = styled.div`\n  position: relative;\n  z-index: 1;\n\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n\n  padding-bottom: 20px;\n\n  background: #fff;\n`;\n\nconst Navigate = styled.div`\n  display: flex;\n  margin-bottom: 70px;\n\n  border-bottom: 1px solid #16161626;\n`;\n\nconst NavLinkStyled = styled(NavLink)`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  min-width: 180px;\n  height: 50px;\n\n  color: #1616164c;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n  white-space: nowrap;\n  text-align: center;\n  text-decoration: none;\n\n  cursor: pointer;\n\n  &.active {\n    color: #161616cc;\n\n    &::after {\n      position: absolute;\n      right: 0;\n      bottom: -1px;\n      left: 0;\n\n      height: 1px;\n\n      background: #161616;\n\n      content: '';\n    }\n  }\n`;\n\nexport const Auth: FC = () => {\n  const location = useLocation<{ from?: string }>();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState<DataType>({\n    type: undefined,\n    mnemonic: '',\n    seed: '',\n    derivationPath: '',\n    password: '',\n  });\n\n  const next = (nextData: DataType) => {\n    setData(nextData);\n  };\n\n  const render = () => {\n    if (data.seed) {\n      return <Ready setIsLoading={setIsLoading} data={data} />;\n    }\n\n    return (\n      <>\n        <Navigate>\n          <NavLinkStyled to=\"/signup\">Create new wallet</NavLinkStyled>\n          <NavLinkStyled to=\"/login\" isActive={() => ['/login', '/'].includes(location.pathname)}>\n            I already have wallet\n          </NavLinkStyled>\n        </Navigate>\n        <Switch>\n          <Route path={['/', '/login']} exact>\n            <Login setIsLoading={setIsLoading} next={next} />\n          </Route>\n          <Route path=\"/signup\">\n            <Signup next={next} />\n          </Route>\n        </Switch>\n      </>\n    );\n  };\n\n  return (\n    <Wrapper>\n      {render()}\n      {isLoading ? <LoaderWide /> : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { css } from '@linaria/core';\nimport { styled } from '@linaria/react';\n\nimport app from 'components/pages/home/app.png';\nimport { Auth } from 'components/pages/home/Auth';\nimport logo from 'components/pages/home/logo.svg';\nimport { fonts } from 'components/pages/landing/styles/fonts';\n\nconst Wrapper = styled.div`\n  display: flex;\n  min-height: 100%;\n`;\n\nconst Left = styled.div`\n  position: relative;\n\n  flex: 1;\n  padding: 20px 50px 50px;\n  overflow: hidden;\n\n  background: #f5f7fe;\n`;\n\nconst Logo = styled.div`\n  width: 32px;\n  height: 24px;\n\n  background: url(${logo}) no-repeat 50%;\n`;\n\nconst Title = styled.span`\n  display: inline-block;\n  margin-top: 67px;\n\n  color: #161616;\n  font-size: 32px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 40px;\n`;\n\nconst TitleBold = styled.strong`\n  display: block;\n\n  font-weight: 900;\n`;\n\nconst AppImg = styled.img`\n  position: absolute;\n  z-index: 0;\n\n  display: block;\n\n  width: 110%;\n  min-width: 820px;\n  margin-top: 50px;\n\n  filter: drop-shadow(-34px 42px 100px rgba(0, 0, 0, 0.05));\n`;\n\nexport const global = css`\n  :global() {\n    ${fonts}\n  }\n`;\n\nexport const Home: FunctionComponent = () => {\n  return (\n    <Wrapper>\n      <Left>\n        <Logo />\n        <Title>\n          Your crypto <TitleBold>is starting here</TitleBold>\n        </Title>\n        <AppImg src={app} />\n      </Left>\n      <Auth />\n    </Wrapper>\n  );\n};\n","import { useEffect, useState } from 'react';\n\nconst breakpoints: { [type: string]: number } = {\n  widedesktop: 1440,\n  desktop: 1440,\n  tablet: 1024,\n  mobileLandscape: 568,\n  mobile: 320,\n};\n\nexport const between = (breakStart: string, breakEnd: string) =>\n  `@media (min-width: ${breakpoints[breakStart]}) and (max-width: ${breakpoints[breakEnd]})`;\n\nexport const down = {\n  mobileLandscape: `@media (max-width: ${breakpoints.mobileLandscape}px)`,\n  mobile: `@media (max-width: ${breakpoints.mobile}px)`,\n};\n\nexport const up = {\n  widedesktop: `@media (min-width: ${breakpoints.widedesktop}px)`,\n  desktop: `@media (min-width: ${breakpoints.desktop}px)`,\n  tablet: `@media (min-width: ${breakpoints.tablet}px)`,\n  mobileLandscape: `@media (min-width: ${breakpoints.mobileLandscape}px)`,\n};\n\n// based on https://github.com/mg901/styled-breakpoints/blob/master/hooks/use-breakpoint.js\nexport const useBreakpoint = (breakpoint: string) => {\n  // Get the media query to match\n  const query = breakpoint.replace(/^@media\\s*/, '');\n  const [isBreak, setIsBreak] = useState<boolean | null>(null);\n\n  useEffect(() => {\n    const mq = window.matchMedia(query);\n    const handleChange = (event: MediaQueryListEvent) => {\n      setIsBreak(event.matches);\n    };\n\n    setIsBreak(mq.matches);\n\n    // Safari < 14 can't use addEventListener on a MediaQueryList\n    // https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList#Browser_compatibility\n    if (!mq.addEventListener) {\n      // Update the state whenever the media query match state changes\n      mq.addListener(handleChange);\n\n      // Clean up on unmount and if the query changes\n      return () => {\n        mq.removeListener(handleChange);\n      };\n    }\n    mq.addEventListener('change', handleChange);\n\n    return () => {\n      mq.removeEventListener('change', handleChange);\n    };\n  }, [query]);\n\n  return isBreak;\n};\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\n\nimport { up, useBreakpoint } from 'components/pages/landing/styles/breakpoints';\nimport { trackEvent } from 'utils/analytics';\n\nconst Wrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 30;\n\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst DrawerBg = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n\n  background: rgba(0, 0, 0, 0.5);\n  cursor: pointer;\n`;\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n\n  width: 44px;\n  height: 44px;\n\n  background: url('./close.svg') no-repeat 50%;\n  background-size: 22px 22px;\n`;\n\nconst DrawerMenu = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n\n  display: flex;\n  flex-direction: column;\n  width: 66.6%;\n  overflow-y: auto;\n\n  background: #161616;\n`;\n\nconst Logo = styled.div`\n  margin: 15px 0 32px 24px;\n\n  color: #fff;\n  font-size: 24px;\n  font-family: 'GT Super Txt Trial', sans-serif;\n  line-height: 140%;\n`;\n\nconst MenuLink = styled(Link)`\n  min-width: 250px;\n  padding: 24px 18px;\n\n  color: #f9f9f9;\n  font-size: 20px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 140%;\n  text-decoration: none;\n\n  &.green {\n    color: #bcff4e;\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.05);\n  }\n`;\n\ntype Props = {\n  isOpen: boolean;\n  onDrawerClose: () => void;\n};\n\nexport const Drawer: FC<Props> = ({ isOpen, onDrawerClose }) => {\n  const isDesktop = useBreakpoint(up.desktop);\n\n  if (isDesktop || !isOpen) {\n    return null;\n  }\n\n  const handleCloseClick = () => {\n    onDrawerClose();\n  };\n\n  return (\n    <>\n      <Wrapper>\n        <DrawerBg onClick={handleCloseClick}>\n          <CloseIcon />\n        </DrawerBg>\n        <DrawerMenu>\n          <Logo>Wallet</Logo>\n          {/* <MenuLink href=\"/#\">Explore</MenuLink> */}\n          {/* <MenuLink href=\"/#\">About</MenuLink> */}\n          {/* <MenuLink href=\"/#\">Recent Updates</MenuLink> */}\n          {/* <MenuLink href=\"/#\">FAQ</MenuLink> */}\n          <MenuLink to=\"/login\" onClick={() => trackEvent('landing_i_have_wallet_click')}>\n            I have a wallet\n          </MenuLink>\n          <MenuLink\n            to=\"/signup\"\n            onClick={() => trackEvent('landing_create_wallet_click')}\n            className=\"green\">\n            Create new wallet\n          </MenuLink>\n        </DrawerMenu>\n      </Wrapper>\n    </>\n  );\n};\n","import React, { FC, HTMLAttributes } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nexport const ButtonLink = styled(Link)`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 226px;\n  height: 61px;\n  padding: 0 24px;\n\n  color: #000;\n  font-weight: 500;\n  font-size: 18px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 140%;\n  text-decoration: none;\n\n  background-color: #fff;\n  border-radius: 32px;\n  cursor: pointer;\n\n  transition: background-color 0.1s;\n\n  &:hover {\n    background-color: #71e6ff;\n  }\n\n  &.green {\n    background-color: #bcff4e;\n\n    &:hover {\n      background-color: #e3ff74;\n    }\n  }\n\n  &.glow {\n    &::before {\n      position: absolute;\n      right: 10px;\n      bottom: 0;\n      left: 10px;\n\n      height: 50px;\n\n      background: linear-gradient(90deg, #fff 0%, #fff 100%);\n      border-radius: 32px;\n      opacity: 0.3;\n      filter: blur(30px);\n\n      content: '';\n    }\n\n    &.green {\n      &::before {\n        background: linear-gradient(90deg, #bcff4e 0%, #bcff4e 100%);\n      }\n    }\n  }\n`;\n\nconst Text = styled.div`\n  &.web,\n  &.ios {\n    padding-left: 33px;\n\n    background-repeat: no-repeat;\n    background-position: 0 50%;\n    background-size: 25px;\n  }\n\n  &.web {\n    background-image: url('./web.png');\n  }\n\n  &.ios {\n    background-image: url('./ios.png');\n  }\n`;\n\ntype ButtonProps = {\n  glow?: boolean;\n  green?: boolean;\n};\n\nexport const ButtonWeb: FC<ButtonProps & HTMLAttributes<HTMLElement>> = ({\n  glow,\n  green,\n  className,\n  ...props\n}) => {\n  return (\n    <ButtonLink to=\"/signup\" className={classNames(className, { glow, green })} {...props}>\n      <Text className=\"web\">Go to web wallet</Text>\n    </ButtonLink>\n  );\n};\n\nexport const ButtonIOS: FC<ButtonProps & HTMLAttributes<HTMLElement>> = ({\n  glow,\n  className,\n  ...props\n}) => {\n  return (\n    <ButtonLink to=\"#\" className={classNames(className, { glow, green: true })} {...props}>\n      <Text className=\"ios\">Download for iOS</Text>\n    </ButtonLink>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { ButtonIOS, ButtonWeb } from 'components/pages/landing/common/Button/Button';\nimport { trackEvent } from 'utils/analytics';\n\nimport { up, useBreakpoint } from '../styles/breakpoints';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 80px;\n  margin-bottom: 137px;\n\n  ${up.mobileLandscape} {\n    margin-top: 130px;\n    margin-bottom: 134px;\n  }\n\n  ${up.tablet} {\n    margin-top: 120px;\n    margin-bottom: 152px;\n  }\n\n  ${up.desktop} {\n    margin-top: 223px;\n    margin-bottom: 126px;\n  }\n`;\n\nconst Title = styled.div`\n  max-width: 295px;\n\n  color: #f9f9f9;\n  font-weight: 900;\n  font-size: 32px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 44px;\n  text-align: center;\n\n  ${up.mobileLandscape} {\n    max-width: 488px;\n\n    font-size: 48px;\n    line-height: 64px;\n  }\n\n  ${up.tablet} {\n    max-width: 864px;\n\n    font-size: 48px;\n    line-height: 64px;\n  }\n\n  ${up.desktop} {\n    max-width: 933px;\n\n    font-size: 56px;\n    line-height: 64px;\n  }\n`;\n\nconst GradientWrapper = styled.div`\n  max-width: 335px;\n  margin: 56px 20px 0;\n  padding: 2px;\n\n  background: linear-gradient(125deg, #fff738 0%, #36f3ff 50%, #1f50ff 100%);\n  border-radius: 16px;\n\n  ${up.mobileLandscape} {\n    max-width: 488px;\n    margin-top: 44px;\n  }\n\n  ${up.tablet} {\n    max-width: 864px;\n    margin-top: 72px;\n  }\n\n  ${up.desktop} {\n    max-width: 1068px;\n    margin-top: 109px;\n  }\n`;\n\nconst FeaturesWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 40px 20px 48px;\n\n  background: #161616;\n  border-radius: 16px;\n\n  ${up.mobileLandscape} {\n    padding: 50px;\n  }\n\n  ${up.tablet} {\n    flex-direction: row;\n    padding: 56px 34px 72px 44px;\n  }\n\n  ${up.desktop} {\n    padding: 64px 98px 64px;\n  }\n`;\n\nconst FeaturesColumn = styled.div`\n  flex: 1;\n  margin-bottom: 32px;\n\n  ${up.tablet} {\n    &:not(:last-child) {\n      margin-right: 78px;\n    }\n    margin-bottom: 0;\n  }\n\n  ${up.desktop} {\n    &:not(:last-child) {\n      margin-right: 164px;\n    }\n  }\n`;\n\nconst Feature = styled.div`\n  &:not(:last-child) {\n    margin-bottom: 32px;\n  }\n`;\n\nconst FeatureTitle = styled.div`\n  color: #f9f9f9;\n  font-size: 20px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 26px;\n\n  ${up.mobileLandscape} {\n    font-size: 28px;\n    line-height: 32px;\n  }\n\n  ${up.tablet} {\n    font-size: 24px;\n    line-height: 26px;\n  }\n`;\n\nconst FeatureDescription = styled.div`\n  margin-top: 16px;\n\n  color: #f9f9f9;\n  font-size: 18px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n\n  opacity: 0.5;\n\n  ${up.mobileLandscape} {\n    font-size: 16px;\n  }\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 40px;\n\n  ${up.tablet} {\n    align-items: flex-start;\n    margin-top: 60px;\n  }\n\n  & > :not(:last-child) {\n    margin-bottom: 20px;\n  }\n`;\n\nexport const Features: FC = () => {\n  const isTablet = useBreakpoint(up.tablet);\n\n  return (\n    <Wrapper>\n      <Title>Store, receive, transfer your money with all those great features</Title>\n      <GradientWrapper>\n        <FeaturesWrapper>\n          <FeaturesColumn>\n            <Feature>\n              <FeatureTitle>Its cross-platform</FeatureTitle>\n              <FeatureDescription>\n                You can use your P2P Wallet everywhere. iOs, Web, Android (soon). Yes, yes, we know,\n                it shouldnt be a feature, but the market shows different...\n              </FeatureDescription>\n            </Feature>\n            <Feature>\n              <FeatureTitle>Its protected</FeatureTitle>\n              <FeatureDescription>\n                Your device  your keys. We dont have any access to your private info. Use\n                fingerprint or face scanning to access your wallet.\n              </FeatureDescription>\n            </Feature>\n            <Feature>\n              <FeatureTitle>Its fast as a rocket</FeatureTitle>\n              <FeatureDescription\n                dangerouslySetInnerHTML={{\n                  __html: 'Fastest decentralized swap with full transparency in < 1s.',\n                }}\n              />\n            </Feature>\n          </FeaturesColumn>\n          <FeaturesColumn>\n            <Feature>\n              <FeatureTitle>Its designed for people</FeatureTitle>\n              <FeatureDescription>\n                Its simple with an intuitive interface inside. Everything under your fingertips.\n              </FeatureDescription>\n            </Feature>\n            <Feature>\n              <FeatureTitle>No registration or account setup...</FeatureTitle>\n              <FeatureDescription>\n                ...actually, its up to you. There can be some cool experiences with that\n                functionality.\n              </FeatureDescription>\n            </Feature>\n            <ButtonWrapper>\n              {isTablet ? (\n                <ButtonWeb glow onClick={() => trackEvent('landing_go_to_web_wallet_2_click')} />\n              ) : undefined}\n              <ButtonIOS glow onClick={() => trackEvent('landing_download_for_ios_2_click')} />\n            </ButtonWrapper>\n          </FeaturesColumn>\n        </FeaturesWrapper>\n      </GradientWrapper>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport LogoImg from 'assets/images/big-logo.png';\nimport { ButtonIOS, ButtonWeb } from 'components/pages/landing/common/Button/Button';\nimport { trackEvent } from 'utils/analytics';\n\nimport { up, useBreakpoint } from '../styles/breakpoints';\nimport LogoP2PImg from './logo.png';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n\n  background-image: url('./ellipse.svg');\n  background-repeat: no-repeat;\n  background-position: 50% 0;\n  background-size: 101% 100%;\n`;\n\nconst FooterWrapper = styled.div`\n  position: relative;\n  z-index: 1;\n\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 56px 40px 80px;\n\n  ${up.mobileLandscape} {\n    padding: 80px 40px;\n  }\n\n  ${up.tablet} {\n    padding: 80px 40px 72px;\n  }\n\n  ${up.desktop} {\n    padding: 55px 40px 80px;\n  }\n`;\n\nconst Logo = styled.div`\n  width: 64px;\n  height: 64px;\n\n  background: url('${LogoImg}') no-repeat 50% 50%;\n  background-size: 64px 64px;\n`;\n\nconst Title = styled.div`\n  margin-top: 56px;\n\n  color: #f9f9f9;\n  font-weight: 900;\n  font-size: 32px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 36px;\n  text-align: center;\n\n  ${up.mobileLandscape} {\n    max-width: 488px;\n    margin-top: 80px;\n\n    font-size: 44px;\n    line-height: 56px;\n  }\n\n  ${up.tablet} {\n    max-width: 886px;\n    margin-top: 64px;\n\n    font-size: 48px;\n    line-height: 56px;\n  }\n\n  ${up.desktop} {\n    max-width: 1067px;\n    margin-top: 56px;\n  }\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 56px;\n\n  & > :not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  ${up.mobileLandscape} {\n    margin-top: 80px;\n\n    & > * {\n      width: 388px;\n    }\n  }\n\n  ${up.tablet} {\n    flex-direction: row;\n    margin-top: 64px;\n\n    & > * {\n      width: inherit;\n      margin-bottom: 0 !important;\n    }\n\n    & > :not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n`;\n\nconst BackgroundBlack = styled.div`\n  width: 100%;\n\n  /* TODO: need to be here */\n  background: #161616;\n`;\n\nconst DelimiterSection = styled.div`\n  width: 100%;\n  height: 1px;\n\n  background: #2d2d2d;\n`;\n\nconst Middle = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n`;\n\nconst MiddleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 32px 50px;\n\n  ${up.mobileLandscape} {\n    padding: 56px 103px 78px;\n  }\n\n  ${up.tablet} {\n    flex-direction: row;\n    align-items: initial;\n    padding: 80px 88px;\n  }\n\n  ${up.desktop} {\n    max-width: 1442px;\n    padding: 68px 47px;\n  }\n`;\n\nconst LogoWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 34px;\n\n  // ${up.tablet} {\n  //   margin-right: 146px;\n  // }\n  //\n  // ${up.desktop} {\n  //   margin-right: 264px;\n  // }\n`;\n\nconst LogoP2P = styled.div`\n  width: 80px;\n  height: 18px;\n\n  background: url('${LogoP2PImg}') no-repeat 50% 50%;\n  background-size: 80px 18px;\n`;\n\nconst DelimiterLogo = styled.div`\n  width: 1px;\n  height: 34px;\n  margin: 0 24px 0 31px;\n\n  background: rgba(255, 255, 255, 0.2);\n`;\n\nconst Wallet = styled.div`\n  color: #fff;\n  font-weight: bold;\n  font-size: 24px;\n  font-family: 'GT Super Txt Trial', sans-serif;\n  line-height: 140%;\n`;\n\n// const ColumnsWrapper = styled.div`\n//   display: flex;\n//   margin-top: 56px;\n//\n//   ${up.mobileLandscape} {\n//     flex-direction: column;\n//     align-items: center;\n//\n//     margin-top: 20px;\n//   }\n//\n//   ${up.tablet} {\n//     flex-direction: row;\n//     align-items: initial;\n//\n//     margin-top: 0;\n//   }\n// `;\n//\n// const Column = styled.div`\n//   display: flex;\n//   flex-direction: column;\n//   align-items: center;\n//\n//   & > :not(:last-child) {\n//     margin-bottom: 30px;\n//   }\n//\n//   ${up.mobileLandscape} {\n//     margin-top: 100px;\n//   }\n//\n//   ${up.tablet} {\n//     align-items: initial;\n//\n//     margin-top: 0;\n//\n//     &:not(:last-child) {\n//       margin-right: 143px;\n//     }\n//   }\n// `;\n\n// const AdditionalColumn = styled.div`\n//   display: flex;\n//   flex-direction: column;\n//   align-items: center;\n//   width: 100%;\n//   padding: 39px 0;\n//\n//   & > :not(:last-child) {\n//     margin-bottom: 30px;\n//   }\n//\n//   ${up.mobileLandscape} {\n//     padding: 61px 0;\n//\n//     & > :not(:last-child) {\n//       margin-bottom: 43px;\n//     }\n//   }\n// `;\n\n// const ColumnLink = styled.a`\n//   display: flex;\n//   align-items: center;\n//   height: 22px;\n//\n//   color: #fff;\n//   font-weight: 500;\n//   font-size: 20px;\n//   font-family: 'Aktiv Grotesk Corp', sans-serif;\n//   line-height: 140%;\n//   text-decoration: none;\n//\n//   ${up.mobileLandscape} {\n//     font-size: 24px;\n//     line-height: 140%;\n//   }\n//\n//   ${up.tablet} {\n//     font-size: 16px;\n//     line-height: 140%;\n//   }\n//\n//   &.gray {\n//     color: rgba(255, 255, 255, 0.3);\n//   }\n//\n//   &.twitter {\n//     height: 34px;\n//     padding-left: 40px;\n//\n//     background: url('./twitter.png') no-repeat 0 50%;\n//     background-size: 24px;\n//   }\n//\n//   &.github {\n//     height: 34px;\n//     padding-left: 40px;\n//\n//     background: url('./github.png') no-repeat 0 50%;\n//     background-size: 24px;\n//   }\n// `;\n\nconst Bottom = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 32px 40px;\n\n  color: rgba(255, 255, 255, 0.3);\n  font-weight: 500;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n\n  ${up.mobileLandscape} {\n    padding: 25px 40px;\n\n    font-size: 20px;\n    line-height: 140%;\n  }\n\n  ${up.tablet} {\n    padding: 20px 40px;\n\n    font-size: 16px;\n    line-height: 140%;\n  }\n\n  ${up.desktop} {\n    padding: 15px 40px;\n  }\n`;\n\nexport const Footer: FC = () => {\n  // const isDesktop = useBreakpoint(up.desktop);\n  const isTablet = useBreakpoint(up.tablet);\n  // const isMobileLandscape = useBreakpoint(up.mobileLandscape);\n\n  return (\n    <Wrapper>\n      <FooterWrapper>\n        <Top>\n          <Logo />\n          <Title>Carefully crafted for people from people in and around the world</Title>\n          <ButtonWrapper>\n            {isTablet ? (\n              <ButtonWeb glow onClick={() => trackEvent('landing_go_to_web_wallet_3_click')} />\n            ) : undefined}\n            <ButtonIOS glow onClick={() => trackEvent('landing_download_for_ios_4_click')} />\n          </ButtonWrapper>\n        </Top>\n        <BackgroundBlack>\n          <DelimiterSection />\n          <Middle>\n            <MiddleContainer>\n              <LogoWrapper>\n                <LogoP2P />\n                <DelimiterLogo />\n                <Wallet>Wallet</Wallet>\n              </LogoWrapper>\n              {/* <ColumnsWrapper> */}\n              {/* <Column> */}\n              {/*  <ColumnLink href=\"#\">Explore</ColumnLink> */}\n              {/*  <ColumnLink href=\"#\">About</ColumnLink> */}\n              {/*  <ColumnLink href=\"#\">Recent Updates</ColumnLink> */}\n              {/*  <ColumnLink href=\"#\">FAQ</ColumnLink> */}\n              {/* </Column> */}\n              {/* {isDesktop ? ( */}\n              {/*  <Column> */}\n              {/*    <ColumnLink href=\"#\" className=\"gray\"> */}\n              {/*      wallet@p2p.org */}\n              {/*    </ColumnLink> */}\n              {/*    <ColumnLink href=\"#\" className=\"gray\"> */}\n              {/*      t.me/p2p.org */}\n              {/*    </ColumnLink> */}\n              {/*  </Column> */}\n              {/* ) : undefined} */}\n              {/* {isMobileLandscape ? ( */}\n              {/*  <Column> */}\n              {/*    <ColumnLink href=\"#\" className=\"gray twitter\"> */}\n              {/*      @p2pwallet */}\n              {/*    </ColumnLink> */}\n              {/*    <ColumnLink href=\"#\" className=\"gray github\"> */}\n              {/*      @p2pwallet */}\n              {/*    </ColumnLink> */}\n              {/*    {!isDesktop && isTablet ? ( */}\n              {/*      <> */}\n              {/*        <ColumnLink href=\"#\" className=\"gray\"> */}\n              {/*          wallet@p2p.org */}\n              {/*        </ColumnLink> */}\n              {/*        <ColumnLink href=\"#\" className=\"gray\"> */}\n              {/*          t.me/p2p.org */}\n              {/*        </ColumnLink> */}\n              {/*      </> */}\n              {/*    ) : undefined} */}\n              {/*  </Column> */}\n              {/* ) : undefined} */}\n              {/* </ColumnsWrapper> */}\n            </MiddleContainer>\n          </Middle>\n          {/* {!isMobileLandscape ? ( */}\n          {/*  <> */}\n          {/*    <DelimiterSection /> */}\n          {/*    <AdditionalColumn> */}\n          {/*      <ColumnLink href=\"#\" className=\"gray twitter\"> */}\n          {/*        @p2pwallet */}\n          {/*      </ColumnLink> */}\n          {/*      <ColumnLink href=\"#\" className=\"gray github\"> */}\n          {/*        @p2pwallet */}\n          {/*      </ColumnLink> */}\n          {/*    </AdditionalColumn> */}\n          {/*  </> */}\n          {/* ) : undefined} */}\n          {/* {!isTablet ? ( */}\n          {/*  <> */}\n          {/*    <DelimiterSection /> */}\n          {/*    <AdditionalColumn> */}\n          {/*      <ColumnLink href=\"#\" className=\"gray\"> */}\n          {/*        wallet@p2p.org */}\n          {/*      </ColumnLink> */}\n          {/*      <ColumnLink href=\"#\" className=\"gray\"> */}\n          {/*        t.me/p2p.org */}\n          {/*      </ColumnLink> */}\n          {/*    </AdditionalColumn> */}\n          {/*  </> */}\n          {/* ) : undefined} */}\n          <DelimiterSection />\n          <Bottom>\n            There shoud be something about privacy policy and terms of services, but you can use it\n            anonymously\n          </Bottom>\n        </BackgroundBlack>\n      </FooterWrapper>\n    </Wrapper>\n  );\n};\n","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { down, up, useBreakpoint } from '../styles/breakpoints';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n\n  height: 1389px;\n  margin-top: 187px;\n\n  ${down.mobileLandscape} {\n    &::after {\n      position: absolute;\n\n      top: -100px;\n      left: 50%;\n\n      width: 30px;\n      height: 30px;\n      margin-left: -15px;\n\n      background: url('./arrow-down-mobile.png') no-repeat 50%;\n      background-size: 30px;\n\n      content: '';\n    }\n  }\n\n  ${up.mobileLandscape} {\n    height: 1348px;\n    margin-top: 130px;\n  }\n\n  ${up.tablet} {\n    height: 1177px;\n    margin-top: 119px;\n  }\n\n  ${up.desktop} {\n    height: 854px;\n    margin-top: 110px;\n  }\n`;\n\nconst HackathonWrapper = styled.div`\n  position: absolute;\n  z-index: 1;\n\n  ${up.tablet} {\n    top: -40px;\n    right: -161px;\n\n    width: 305px;\n    height: 159px;\n\n    &::before {\n      position: absolute;\n\n      top: 0;\n      left: 0;\n\n      width: 128px;\n      height: 128px;\n\n      background: url('./hackathon-second.svg') no-repeat 50% 50%;\n\n      content: '';\n    }\n\n    &::after {\n      position: absolute;\n\n      right: 0;\n      bottom: 0;\n\n      width: 128px;\n      height: 128px;\n\n      background: url('./hackathon-third.svg') no-repeat 50% 50%;\n\n      content: '';\n    }\n  }\n\n  ${up.desktop} {\n    top: -110px;\n    right: -48px;\n\n    width: 300px;\n    height: 150px;\n\n    &::before {\n      top: initial;\n      bottom: 0;\n      left: 0;\n    }\n\n    &::after {\n      top: 0;\n      right: 0;\n      bottom: initial;\n    }\n  }\n`;\n\nconst Container = styled.div`\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: 1178px;\n\n  &::before {\n    position: absolute;\n    top: -291px;\n\n    width: 1896px;\n    height: 2027px;\n\n    background: url('./gradient.png') no-repeat 50%;\n    background-size: 1896px 2027px;\n\n    content: '';\n  }\n\n  &::after {\n    position: absolute;\n    top: 0;\n\n    width: 926px;\n    height: 1389px;\n\n    background: url('./ellipse-functions.svg') no-repeat 50%;\n    background-size: 926px 1389px;\n\n    content: '';\n  }\n\n  ${up.mobileLandscape} {\n    &::before {\n      width: 1798px;\n      height: 1923px;\n\n      background-size: 1798px 1923px;\n    }\n\n    &::after {\n      width: 1250px;\n      height: 1348px;\n\n      background-size: 1250px 1348px;\n    }\n  }\n\n  ${up.tablet} {\n    &::before {\n      top: -259px;\n\n      width: 1674px;\n      height: 1791px;\n\n      background-size: 1674px 1791px;\n    }\n\n    &::after {\n      width: 1250px;\n      height: 1177px;\n\n      background-size: 1250px 1177px;\n    }\n  }\n\n  ${up.desktop} {\n    flex-direction: row;\n\n    &::before {\n      top: -257px;\n\n      display: none;\n\n      width: 1506px;\n      height: 1311px;\n\n      background-size: 1506px 1311px;\n    }\n\n    &::after {\n      display: none;\n\n      width: 1458px;\n      height: 854px;\n\n      background-size: 1458px 854px;\n    }\n  }\n`;\n\nconst Curves = styled.div`\n  position: absolute;\n  bottom: -151px;\n  left: -1021px;\n\n  width: 3204px;\n  height: 1647px;\n\n  background: url('./curves-functions.svg') no-repeat 50%;\n  background-size: 3204px 1647px;\n\n  content: '';\n\n  ${up.mobileLandscape} {\n    bottom: -78px;\n    left: -685px;\n\n    width: 2959px;\n    height: 1521px;\n\n    background-size: 2959px 1521px;\n  }\n\n  ${up.tablet} {\n    bottom: 18px;\n    left: -295px;\n\n    width: 2759px;\n    height: 1418px;\n\n    background-size: 2759px 1418px;\n  }\n\n  ${up.desktop} {\n    bottom: -363px;\n    left: -144px;\n\n    width: 2759px;\n    height: 1418px;\n\n    background-size: 2759px 1418px;\n  }\n`;\n\nconst CarouselWrapper = styled.div`\n  position: relative;\n  z-index: 1;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  height: 854px;\n\n  ${up.tablet} {\n    flex-direction: row;\n    height: 545px;\n  }\n\n  ${up.desktop} {\n    padding-right: 94px;\n\n    &::before {\n      position: absolute;\n      right: -298px;\n\n      width: 1506px;\n      height: 1311px;\n\n      background: url('./gradient.png') no-repeat 50%;\n      background-size: 1506px 1311px;\n\n      content: '';\n    }\n\n    &::after {\n      position: absolute;\n\n      right: 0;\n\n      width: 1458px;\n      height: 854px;\n\n      background: url('./ellipse-functions.svg') no-repeat 50%;\n      background-size: 1458px 854px;\n\n      content: '';\n    }\n  }\n\n  ${up.widedesktop} {\n    &::after {\n      background-position: 100% 50%;\n      background-size: 854px 854px;\n    }\n  }\n`;\n\nconst Carousel = styled.div`\n  position: relative;\n  z-index: 1;\n\n  width: 286px;\n  height: 504px;\n`;\n\nconst Selectors = styled.div`\n  z-index: 1;\n\n  display: flex;\n\n  margin-top: 71px;\n\n  ${up.mobileLandscape} {\n    margin-top: 90px;\n  }\n\n  ${up.tablet} {\n    flex-direction: column;\n    margin-top: 0;\n    margin-left: 100px;\n  }\n`;\n\nconst Icon = styled.div`\n  width: 48px;\n  height: 48px;\n\n  background-color: rgba(255, 255, 255, 0.05);\n  background-repeat: no-repeat;\n  background-position: 50%;\n  border-radius: 18px;\n\n  &.send {\n    background-image: url('./selector-send.svg');\n    background-size: 16px 13px;\n  }\n\n  &.store {\n    background-image: url('./selector-store.svg');\n    background-size: 16px 16px;\n  }\n\n  &.swap {\n    background-image: url('./selector-swap.svg');\n    background-size: 28px 28px;\n  }\n`;\n\nconst Selector = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n\n  cursor: pointer;\n\n  &.active,\n  &:hover {\n    background: url('./selector-bg.svg') no-repeat 50% 50%;\n    background-size: contain;\n\n    ${Icon} {\n      background-color: #fff;\n    }\n  }\n\n  &:not(:last-child) {\n    margin-right: 20px;\n  }\n\n  ${up.mobileLandscape} {\n    &:not(:last-child) {\n      margin-right: 32px;\n    }\n  }\n\n  ${up.tablet} {\n    &:not(:last-child) {\n      margin-right: 0;\n      margin-bottom: 20px;\n    }\n  }\n`;\n\nconst SelectorName = styled.div`\n  margin-top: 12px;\n\n  color: #fff;\n  font-weight: bold;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 140%;\n  white-space: nowrap;\n  text-align: center;\n`;\n\nconst SlideImage = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n\n  background-repeat: no-repeat;\n  background-position: center;\n\n  transition: top 0.2s, bottom 0.2s, right 0.2s, left 0.2s;\n\n  &:first-child {\n    top: 0;\n    right: 0;\n    z-index: 1;\n\n    width: 232px;\n    height: 502px;\n\n    background-size: 232px 502px;\n    filter: drop-shadow(0 32px 56px rgba(0, 0, 0, 0.5));\n  }\n\n  &:nth-child(2) {\n    top: initial;\n    bottom: 0;\n    left: 0;\n\n    width: 208px;\n    height: 452px;\n\n    background-size: 208px 452px;\n    transform: rotate(-10deg);\n  }\n\n  &.send {\n    background-image: url('./screen-1-desktop.png');\n  }\n\n  &.store {\n    background-image: url('./screen-2-desktop.png');\n  }\n\n  &.swap {\n    background-image: url('./screen-3-desktop.png');\n  }\n`;\n\nconst TextWrapper = styled.div`\n  z-index: 1;\n\n  margin-top: 71px;\n  padding: 0 40px;\n\n  ${up.mobileLandscape} {\n    margin-top: 80px;\n  }\n\n  ${up.tablet} {\n    margin-top: 100px;\n  }\n\n  ${up.desktop} {\n    min-height: 419px;\n    margin-top: 0;\n    margin-left: 88px;\n    padding: 0;\n  }\n`;\n\nconst TextContent = styled.div`\n  max-width: 456px;\n`;\n\nconst Title = styled.div`\n  color: #f9f9f9;\n  font-size: 24px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 32px;\n\n  ${up.desktop} {\n    font-size: 32px;\n    line-height: 48px;\n  }\n`;\n\nconst TitleBold = styled.span`\n  font-weight: 900;\n  font-family: 'GT Super Ds Trial', sans-serif;\n`;\n\nconst Description = styled.div`\n  margin-top: 32px;\n\n  color: #f9f9f9;\n  font-size: 20px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 30px;\n\n  opacity: 0.3;\n\n  ${up.desktop} {\n    font-size: 24px;\n    line-height: 36px;\n  }\n`;\n\nexport const Functions: FC = () => {\n  const isTablet = useBreakpoint(up.tablet);\n  const [activeSlide, setActiveSlide] = useState('send');\n  const [slides, setSlides] = useState(['send', 'store', 'swap']);\n\n  const handleClick = (nextSlide: string) => () => {\n    const newSlides = slides.filter((slide) => slide !== nextSlide);\n    setActiveSlide(nextSlide);\n    setSlides([nextSlide, ...newSlides]);\n  };\n\n  return (\n    <Wrapper>\n      <Container>\n        <Curves />\n        {isTablet ? <HackathonWrapper /> : undefined}\n        <CarouselWrapper>\n          <Carousel>\n            {slides.map((slide) => (\n              <SlideImage key={slide} className={slide} />\n            ))}\n          </Carousel>\n          <Selectors>\n            <Selector\n              className={classNames({ active: activeSlide === 'send' })}\n              onClick={handleClick('send')}>\n              <Icon className=\"send\" />\n              <SelectorName>Send</SelectorName>\n            </Selector>\n            <Selector\n              className={classNames({ active: activeSlide === 'store' })}\n              onClick={handleClick('store')}>\n              <Icon className=\"store\" />\n              <SelectorName>Store</SelectorName>\n            </Selector>\n            <Selector\n              className={classNames({ active: activeSlide === 'swap' })}\n              onClick={handleClick('swap')}>\n              <Icon className=\"swap\" />\n              <SelectorName>Swap</SelectorName>\n            </Selector>\n          </Selectors>\n        </CarouselWrapper>\n        <TextWrapper>\n          {activeSlide === 'send' ? (\n            <TextContent>\n              <Title>\n                Send <TitleBold>USDC</TitleBold>, <TitleBold>BTC</TitleBold>,{' '}\n                <TitleBold>ETH</TitleBold>, and other tokens <TitleBold>in a seconds</TitleBold>{' '}\n                with <TitleBold>no fees</TitleBold>. Use QR code or address right in your app or web\n                wallet.\n              </Title>\n              <Description>\n                Solana has 400ms blocks and extremely low fees by design. Every transaction takes\n                less than a minute. All the fees are on us.\n              </Description>\n            </TextContent>\n          ) : undefined}\n          {activeSlide === 'store' ? (\n            <TextContent>\n              <Title>\n                Full control of your cryptos and your keys.{' '}\n                <TitleBold>Only you can access your assets.</TitleBold> <br /> Not government. Not\n                us. Not anyone else. Easily manage 30+ coins.\n              </Title>\n              <Description>\n                Easily import your existing wallet with a 12/24-word recovery phrase.\n              </Description>\n            </TextContent>\n          ) : undefined}\n          {activeSlide === 'swap' ? (\n            <TextContent>\n              <Title>\n                Exchange crypto using the advantages of DeFi Solutions with a{' '}\n                <TitleBold>high speed</TitleBold> of centralized exchanges.{' '}\n                <TitleBold>No signup required.</TitleBold> Exchange in a few seconds. Sophisticated\n                UI/UX.\n              </Title>\n            </TextContent>\n          ) : undefined}\n        </TextWrapper>\n      </Container>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\n\nimport { trackEvent } from 'utils/analytics';\n\nimport { up, useBreakpoint } from '../styles/breakpoints';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 64px;\n  padding: 0 20px 0 10px;\n`;\n\nconst Left = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: flex-start;\n`;\n\nconst HamburgerIcon = styled.div`\n  width: 44px;\n  height: 44px;\n  margin-right: 10px;\n\n  background: url('./hamburger.svg') no-repeat 50% 50%;\n  background-size: 24px 24px;\n  cursor: pointer;\n`;\n\nconst LogoWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Logo = styled.div`\n  width: 80px;\n  height: 18px;\n  margin-left: 10px;\n\n  background: url('./logo.svg') no-repeat 50% 50%;\n  background-size: 80px 18px;\n`;\n\nconst Delimiter = styled.div`\n  width: 1px;\n  height: 34px;\n  margin: 0 24px 0 31px;\n\n  background: rgba(255, 255, 255, 0.2);\n`;\n\nconst Wallet = styled.div`\n  color: #fff;\n  font-weight: bold;\n  font-size: 24px;\n  font-family: 'GT Super Txt Trial', sans-serif;\n  line-height: 140%;\n`;\n\n// const Center = styled.div`\n//   display: flex;\n//   flex: 1;\n//   align-items: center;\n//   justify-content: center;\n// `;\n//\n// const NavLink = styled.a`\n//   color: #fff;\n//   font-weight: 500;\n//   font-size: 16px;\n//   font-family: 'Aktiv Grotesk Corp', sans-serif;\n//   line-height: 140%;\n//   text-decoration: none;\n//\n//   &:not(:last-child) {\n//     margin-right: 44px;\n//   }\n// `;\n\nconst Right = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: flex-end;\n`;\n\nconst Button = styled(Link)`\n  display: flex;\n  align-items: center;\n  height: 40px;\n  padding: 0 36px;\n\n  color: #fff;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 140%;\n  text-decoration: none;\n\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 32px;\n\n  transition: color 0.1s, background 0.1s;\n\n  &.white {\n    color: #000;\n\n    background: #fff;\n\n    &:hover {\n      color: #000;\n\n      background: #bcff4e;\n    }\n  }\n\n  &:not(:last-child) {\n    margin-right: 16px;\n  }\n\n  &:hover {\n    color: #000;\n\n    background: #fff;\n  }\n`;\n\ntype Props = {\n  onDrawerToggle: () => void;\n};\n\nexport const Header: FC<Props> = ({ onDrawerToggle }) => {\n  const isTablet = useBreakpoint(up.tablet);\n  // const isDesktop = useBreakpoint(up.desktop);\n\n  const handleHamburgerClick = () => {\n    onDrawerToggle();\n  };\n\n  return (\n    <Wrapper>\n      <Left>\n        {/* // isDesktop */}\n        {isTablet ? <HamburgerIcon onClick={handleHamburgerClick} /> : undefined}\n        <LogoWrapper>\n          <Logo />\n          <Delimiter />\n          <Wallet>Wallet</Wallet>\n        </LogoWrapper>\n      </Left>\n      {/* {isDesktop ? ( */}\n      {/*  <Center> */}\n      {/*    <NavLink href=\"#explore\">Explore</NavLink> */}\n      {/*    <NavLink href=\"#about\">About</NavLink> */}\n      {/*    <NavLink href=\"#recent\">Recent updates</NavLink> */}\n      {/*    <NavLink href=\"#faq\">FAQ</NavLink> */}\n      {/*  </Center> */}\n      {/* ) : undefined} */}\n      {isTablet ? (\n        <Right>\n          <Button to=\"/login\" onClick={() => trackEvent('landing_i_have_wallet_click')}>\n            I have a wallet\n          </Button>\n          <Button\n            to=\"/signup\"\n            onClick={() => trackEvent('landing_create_wallet_click')}\n            className=\"white\">\n            Create wallet\n          </Button>\n        </Right>\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport LogoImg from 'assets/images/big-logo.png';\nimport { ButtonIOS, ButtonWeb } from 'components/pages/landing/common/Button/Button';\nimport { trackEvent } from 'utils/analytics';\n\nimport { up, useBreakpoint } from '../styles/breakpoints';\n\nconst Wrapper = styled.div`\n  z-index: 2;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin-top: 56px;\n\n  ${up.mobileLandscape} {\n    margin-top: 120px;\n  }\n\n  ${up.tablet} {\n    margin-top: 124px;\n  }\n\n  ${up.desktop} {\n    margin-top: 94px;\n  }\n`;\n\nconst Logo = styled.div`\n  width: 64px;\n  height: 64px;\n\n  background: url('${LogoImg}') no-repeat 50% 50%;\n  background-size: 64px 64px;\n`;\n\nconst Title = styled.span`\n  display: inline-block;\n\n  max-width: 330px;\n  margin-top: 56px;\n\n  color: #f9f9f9;\n  font-weight: bold;\n  font-size: 46px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 52px;\n  text-align: center;\n\n  ${up.mobileLandscape} {\n    max-width: 470px;\n    margin-top: 64px;\n\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  ${up.tablet} {\n    max-width: 818px;\n    margin-top: 56px;\n  }\n\n  ${up.desktop} {\n    max-width: 999px;\n    margin-top: 72px;\n\n    font-size: 84px;\n    line-height: 84px;\n  }\n`;\n\nconst TitleGreen = styled.span`\n  color: #bcff4e;\n\n  text-shadow: 0 0 #0000;\n\n  background-image: linear-gradient(180deg, #e6ff4e 0%, #bcff4e 100%);\n\n  /* Use the text as a mask for the background.\n  This will show the gradient as a text color rather than element bg. */\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  -webkit-box-decoration-break: clone;\n`;\n\nconst Description = styled.span`\n  display: none;\n\n  ${up.tablet} {\n    display: initial;\n    max-width: 587px;\n    margin-top: 20px;\n\n    color: #f9f9f9;\n    font-size: 20px;\n    font-family: 'Aktiv Grotesk Corp', sans-serif;\n    line-height: 140%;\n    text-align: center;\n\n    &.line-through {\n      color: #4e4e4e;\n      text-decoration: line-through;\n    }\n  }\n\n  ${up.desktop} {\n    font-size: 24px;\n  }\n`;\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 56px;\n  padding: 0 40px;\n\n  & > :not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  ${up.mobileLandscape} {\n    flex-direction: row;\n    margin-top: 72px;\n\n    & > :not(:last-child) {\n      margin-right: 20px;\n      margin-bottom: 0;\n    }\n  }\n\n  ${up.tablet} {\n    margin-top: 76px;\n  }\n\n  ${up.desktop} {\n    margin-top: 50px;\n  }\n`;\n\nexport const Top: FC = () => {\n  const isTablet = useBreakpoint(up.tablet);\n\n  return (\n    <Wrapper>\n      <Logo />\n      <Title>\n        A wallet with super-speed and <TitleGreen>free transactions</TitleGreen>\n      </Title>\n      <Description>\n        <Description className=\"line-through\">One more</Description> The first ever wallet where you\n        can send money with free transactions and without hidden fees.{' '}\n      </Description>\n      <ButtonsWrapper>\n        {isTablet ? (\n          <ButtonWeb glow onClick={() => trackEvent('landing_go_to_web_wallet_1_click')} />\n        ) : undefined}\n        <ButtonIOS glow onClick={() => trackEvent('landing_download_for_ios_1_click')} />\n      </ButtonsWrapper>\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { up } from 'components/pages/landing/styles/breakpoints';\n\nconst Wrapper = styled.div``;\n\nconst Carousel = styled.div`\n  position: relative;\n  z-index: 1;\n\n  display: flex;\n  padding: 0 40px;\n\n  overflow-x: auto;\n\n  filter: drop-shadow(0 40px 100px rgba(0, 0, 0, 0.15));\n\n  ${up.tablet} {\n    padding: 0 80px;\n  }\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: none;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  padding-right: 50px;\n`;\n\nconst SlideImage = styled.div`\n  width: 263px;\n  height: 570px;\n\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 263px 570px;\n\n  &:not(:last-child) {\n    margin-right: 16px;\n  }\n\n  ${up.mobileLandscape} {\n    width: 313.75px;\n    height: 680px;\n\n    background-size: 313.75px 680px;\n\n    &:not(:last-child) {\n      margin-right: 20px;\n    }\n  }\n\n  ${up.tablet} {\n    width: 864px;\n    height: 554px;\n\n    background-size: 864px 554px;\n\n    &:not(:last-child) {\n      margin-right: 0;\n    }\n  }\n\n  ${up.desktop} {\n    width: 1136px;\n    height: 730px;\n\n    background-size: 1136px 730px;\n  }\n\n  &.one {\n    background-image: url('./screen-1-mobile.png');\n  }\n\n  &.two {\n    background-image: url('./screen-2-mobile.png');\n  }\n\n  &.three {\n    background-image: url('./screen-3-mobile.png');\n  }\n`;\n\nconst Navigation = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin-top: 32px;\n\n  ${up.mobileLandscape} {\n    margin-top: 48px;\n  }\n`;\n\nconst Nav = styled.div`\n  width: 14px;\n  height: 14px;\n\n  background: #161616;\n  border-radius: 50%;\n  opacity: 0.2;\n\n  &.active {\n    opacity: 0.7;\n  }\n\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nexport const CarouselMobile: FC = () => {\n  const carouselRef = useRef<HTMLDivElement>(null);\n  const [scrollProgress, setScrollProgress] = useState(0);\n\n  useEffect(() => {\n    const element = carouselRef.current;\n\n    const scrollListener = () => {\n      if (!element) {\n        return;\n      }\n\n      const windowScroll = element.scrollLeft; // Distance of the scrollbar from the leftmost point\n      const totalWidth = element.scrollWidth - element.clientWidth; // Total width the scrollbar can traverse\n\n      if (windowScroll === 0) {\n        return setScrollProgress(0);\n      }\n\n      if (windowScroll > totalWidth) {\n        return setScrollProgress(100);\n      }\n\n      setScrollProgress((windowScroll / totalWidth) * 100);\n    };\n\n    if (element) {\n      element.addEventListener('scroll', scrollListener);\n    }\n\n    return () => {\n      if (element) {\n        element.removeEventListener('scroll', scrollListener);\n      }\n    };\n  }, []);\n\n  const renderNavs = (count: number) => {\n    const selectedDotValue = (scrollProgress * count) / 100;\n\n    return [...new Array(count).keys()].map((index: number) => (\n      <Nav\n        key={index}\n        onClick={() => {\n          if (!carouselRef.current) {\n            return;\n          }\n\n          const element = carouselRef.current;\n          // const windowScroll = element.scrollLeft; // Distance of the scrollbar from the leftmost point\n          const totalWidth = element.scrollWidth - element.clientWidth; // Total width the scrollbar can traverse\n\n          carouselRef.current.scrollTo({\n            left: (totalWidth / count) * (index ? index + 1 : index),\n            behavior: 'smooth',\n          });\n        }}\n        className={classNames({\n          active: selectedDotValue >= index && selectedDotValue <= index + 1,\n        })}\n      />\n    ));\n  };\n\n  return (\n    <Wrapper>\n      <Carousel ref={carouselRef}>\n        <Container>\n          <SlideImage className=\"one\" />\n          <SlideImage className=\"two\" />\n          <SlideImage className=\"three\" />\n        </Container>\n      </Carousel>\n      <Navigation>{renderNavs(3)}</Navigation>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nconst Wrapper = styled.div`\n  position: absolute;\n\n  display: inline-block;\n  max-width: 1136px;\n  margin: 0 30px;\n\n  transform: translateY(0) scale(0.82);\n\n  cursor: pointer;\n\n  transition: opacity 0.3s, transform 0.5s;\n\n  &.level-2,\n  &.level-1 {\n    z-index: 1;\n\n    opacity: 0.75;\n  }\n\n  &.level-2 {\n    transform: translateY(0) scale(0.92);\n  }\n\n  &.level-1 {\n    transform: translateY(0) scale(0.92);\n\n    &:hover {\n      transform: translateY(0) scale(0.94);\n      opacity: 0.9;\n    }\n  }\n\n  &.level0 {\n    position: relative;\n    z-index: 3;\n\n    transform: translateY(0) scale(1);\n    opacity: 1;\n  }\n\n  &.level1,\n  &.level2 {\n    z-index: 1;\n\n    opacity: 0.75;\n  }\n\n  &.level1 {\n    transform: translateY(35px) scale(0.95);\n\n    &:hover {\n      transform: translateY(35px) scale(0.97);\n      opacity: 0.9;\n    }\n  }\n\n  &.level2 {\n    transform: translateY(0) scale(0.92);\n  }\n`;\n\ninterface Props {\n  level: number;\n  className?: string;\n}\n\nexport const Item: FC<Props> = ({ level, children, className }) => {\n  return <Wrapper className={`${className || ''} level${level}`}>{children}</Wrapper>;\n};\n","export default __webpack_public_path__ + \"static/media/screen-1-desktop.3263f75c.png\";","export default __webpack_public_path__ + \"static/media/screen-2-desktop.3671e256.png\";","export default __webpack_public_path__ + \"static/media/screen-3-desktop.04406f28.png\";","export default __webpack_public_path__ + \"static/media/screen-4-desktop.23670a9c.png\";","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nimport { up } from '../../styles/breakpoints';\nimport { Item } from './Item';\nimport oneImg from './screen-1-desktop.png';\nimport twoImg from './screen-2-desktop.png';\nimport threeImg from './screen-3-desktop.png';\nimport fourImg from './screen-4-desktop.png';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  max-width: 1136px;\n\n  user-select: none;\n`;\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n\n  border-radius: 10px;\n  box-shadow: -34px 42px 100px rgba(0, 0, 0, 0.05);\n\n  ${up.tablet} {\n    & > img {\n      width: 864px;\n      height: 554px;\n    }\n  }\n\n  ${up.desktop} {\n    & > img {\n      width: 1136px;\n      height: 728px;\n    }\n  }\n`;\n\nconst ArrowIconWrapper = styled.div`\n  position: absolute;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 48px;\n  height: 48px;\n\n  background: #fff;\n  border-radius: 18px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.03);\n  cursor: pointer;\n\n  &:hover,\n  &:active {\n    background: #fafafa;\n  }\n\n  &.top {\n    top: 0;\n  }\n\n  &.bottom {\n    bottom: 0;\n\n    transform: rotate(180deg);\n  }\n`;\n\nconst ChevronIcon = styled(Icon)`\n  width: 16px;\n  height: 13px;\n\n  color: #000;\n`;\n\nconst Navigation = styled.div`\n  position: relative;\n  right: -17px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  height: 181px;\n\n  ${up.desktop} {\n    right: -50px;\n  }\n`;\n\nconst Dots = styled.div``;\n\nconst Dot = styled.div`\n  width: 15px;\n  height: 10px;\n\n  background: #161616;\n  border-radius: 18px;\n  opacity: 0.05;\n\n  &.active {\n    opacity: 0.3;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n\nconst ITEMS = [\n  {\n    src: oneImg,\n  },\n  {\n    src: twoImg,\n  },\n  {\n    src: threeImg,\n  },\n  {\n    src: fourImg,\n  },\n];\n\nexport const CarouselDesktop: FC = () => {\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  const handleSelectToken = (index: number) => () => {\n    setActiveIndex(index);\n  };\n\n  const handleNext = () => {\n    setActiveIndex((state) => state + 1);\n  };\n\n  const handlePrev = () => {\n    setActiveIndex((state) => state - 1);\n  };\n\n  const prepareItems = () => {\n    return ITEMS.map((item, index) => (\n      <ItemWrapper key={item.src} onClick={handleSelectToken(index)}>\n        {/* eslint-disable-next-line jsx-a11y/alt-text */}\n        <img src={item.src} />\n      </ItemWrapper>\n    ));\n  };\n\n  const renderItems = () => {\n    const items = prepareItems();\n\n    const newItems = [];\n\n    for (let i = 0; i < items.length; i++) {\n      let index = i;\n\n      if (i < 0) {\n        index = items.length + i;\n      }\n\n      newItems.push(\n        <Item key={i} className={`${i}`} level={i - activeIndex}>\n          {items[index]}\n        </Item>,\n      );\n    }\n\n    return newItems;\n  };\n\n  return (\n    <Wrapper>\n      {renderItems()}\n      <Navigation>\n        {activeIndex !== 0 ? (\n          <ArrowIconWrapper className=\"top\" onClick={handlePrev}>\n            <ChevronIcon name=\"chevron-rounded\" />\n          </ArrowIconWrapper>\n        ) : null}\n        <Dots>\n          {ITEMS.map((_, index) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <Dot key={index} className={classNames({ active: index === activeIndex })} />\n          ))}\n        </Dots>\n        {activeIndex !== ITEMS.length - 1 ? (\n          <ArrowIconWrapper className=\"bottom\" onClick={handleNext}>\n            <ChevronIcon name=\"chevron-rounded\" />\n          </ArrowIconWrapper>\n        ) : null}\n      </Navigation>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { ButtonIOS, ButtonWeb } from 'components/pages/landing/common/Button/Button';\nimport { CarouselMobile } from 'components/pages/landing/Under/CarouselMobile';\nimport { trackEvent } from 'utils/analytics';\n\nimport { up, useBreakpoint } from '../styles/breakpoints';\nimport { CarouselDesktop } from './CarouselDesktop';\n\nconst Wrapper = styled.div`\n  position: relative;\n  z-index: 1;\n\n  margin: 80px 0 100px;\n\n  ${up.mobileLandscape} {\n    margin: 120px 0 100px;\n  }\n\n  ${up.tablet} {\n    margin: 140px 0 154px;\n  }\n\n  ${up.desktop} {\n    margin: 230px 0 175px;\n  }\n`;\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 0 40px;\n`;\n\nconst Title = styled.div`\n  max-width: 295px;\n\n  color: #161616;\n  font-size: 36px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 44px;\n  text-align: center;\n\n  ${up.mobileLandscape} {\n    max-width: 488px;\n\n    font-size: 48px;\n    line-height: 54px;\n  }\n\n  ${up.tablet} {\n    max-width: 750px;\n\n    font-size: 48px;\n    line-height: 56px;\n  }\n\n  ${up.desktop} {\n    max-width: 1067px;\n\n    font-size: 60px;\n    line-height: 64px;\n  }\n`;\n\nconst Bold = styled.span`\n  position: relative;\n\n  display: inline-block;\n\n  font-weight: 900;\n\n  ${up.tablet} {\n    &::after {\n      position: absolute;\n      right: -50px;\n      bottom: -60px;\n\n      width: 37px;\n      height: 81px;\n\n      background: url('./top-curve.png') no-repeat 50% 50%;\n      background-size: 37px 81px;\n\n      content: '';\n    }\n  }\n`;\n\nconst CarouselWrapper = styled.div`\n  padding: 64px 0;\n\n  ${up.mobileLandscape} {\n    padding: 80px 0 53px;\n  }\n\n  ${up.tablet} {\n    display: flex;\n    justify-content: center;\n    padding: 77px 0 80px;\n  }\n\n  ${up.desktop} {\n    padding: 77px 0 100px;\n  }\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 40px;\n`;\n\nconst Hint = styled.div`\n  margin-top: 24px;\n\n  color: #161616;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 140%;\n\n  opacity: 0.3;\n\n  ${up.tablet} {\n    margin-top: 20px;\n\n    font-size: 14px;\n  }\n`;\n\nexport const Under: FC = () => {\n  const isTablet = useBreakpoint(up.tablet);\n\n  return (\n    <Wrapper>\n      <Top>\n        <Title>\n          Heres a sneak peek of what we have <Bold>under the hood</Bold>\n        </Title>\n      </Top>\n      <CarouselWrapper>{isTablet ? <CarouselDesktop /> : <CarouselMobile />}</CarouselWrapper>\n      <Bottom>\n        {isTablet ? (\n          <ButtonWeb green />\n        ) : (\n          <ButtonIOS onClick={() => trackEvent('landing_download_for_ios_3_click')} />\n        )}\n        <Hint>Will take less than a 2 min.</Hint>\n      </Bottom>\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { up, useBreakpoint } from '../styles/breakpoints';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  background-image: url('./bg-youcan.svg');\n  background-repeat: no-repeat;\n  background-position: 50% 0;\n  background-size: 101% 25%;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 100px 0 96px;\n\n  ${up.mobileLandscape} {\n    padding: 100px 0 110px;\n  }\n\n  ${up.tablet} {\n    padding: 120px 0 70px;\n  }\n\n  ${up.desktop} {\n    padding: 168px 0 90px;\n  }\n`;\n\nconst Title = styled.div`\n  max-width: 295px;\n\n  color: #161616;\n  font-weight: 900;\n  font-size: 40px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 50px;\n  text-align: center;\n\n  ${up.mobileLandscape} {\n    max-width: 488px;\n\n    font-size: 48px;\n    line-height: 56px;\n  }\n\n  ${up.tablet} {\n    max-width: 864px;\n\n    font-size: 48px;\n    line-height: 56px;\n  }\n\n  ${up.desktop} {\n    max-width: 1068px;\n\n    font-size: 60px;\n    line-height: 64px;\n  }\n`;\n\nconst Hint = styled.div`\n  position: relative;\n\n  max-width: 296px;\n  margin-top: 95px;\n\n  color: #161616;\n  font-size: 20px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 24px;\n  text-align: center;\n\n  &::after {\n    position: absolute;\n\n    top: -55px;\n    left: -30px;\n\n    width: 352px;\n    height: 170px;\n\n    background: url('./circle.svg') no-repeat 50%;\n    background-size: 352px 170px;\n\n    content: '';\n  }\n\n  ${up.mobileLandscape} {\n    max-width: initial;\n\n    margin-top: 101px;\n\n    line-height: 44px;\n\n    &::after {\n      top: -73px;\n      left: -60px;\n\n      width: 516px;\n      height: 184px;\n\n      background-size: 516px 184px;\n    }\n  }\n\n  ${up.tablet} {\n    margin-top: 105px;\n\n    font-size: 20px;\n    line-height: 44px;\n\n    &::after {\n      width: 516px;\n      height: 184px;\n\n      background-size: 516px 184px;\n    }\n  }\n\n  ${up.desktop} {\n    margin-top: 120px;\n\n    font-size: 24px;\n    line-height: 44px;\n\n    &::after {\n      top: -98px;\n      left: -50px;\n\n      width: 592px;\n      height: 211px;\n\n      background-size: 592px 211px;\n    }\n  }\n`;\n\nconst TitleBold = styled.span`\n  font-weight: 700;\n`;\n\nconst Middle = styled.div`\n  display: flex;\n  justify-content: center;\n\n  background: #f9f9f9;\n`;\n\nconst MiddleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  padding: 0 40px;\n\n  ${up.mobileLandscape} {\n    padding: 0 56px;\n  }\n\n  ${up.tablet} {\n    flex-direction: row;\n    max-width: 864px;\n    padding: 0;\n  }\n\n  ${up.desktop} {\n    max-width: 1204px;\n  }\n`;\n\nconst TextWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  max-width: 456px;\n\n  ${up.mobileLandscape} {\n    align-items: center;\n  }\n`;\n\nconst TextContent = styled.div`\n  ${up.mobileLandscape} {\n    max-width: 456px;\n  }\n\n  ${up.desktop} {\n    max-width: 450px;\n  }\n`;\n\nconst TextTitle = styled.div`\n  color: #161616;\n  font-size: 40px;\n  font-family: 'GT Super Ds Trial', sans-serif;\n  line-height: 40px;\n\n  ${up.mobileLandscape} {\n    font-size: 36px;\n  }\n\n  ${up.desktop} {\n    font-size: 48px;\n    line-height: 50px;\n  }\n`;\n\nconst TextTitleBold = styled.span`\n  font-weight: 900;\n`;\n\nconst Text = styled.div`\n  margin-top: 48px;\n\n  color: #161616;\n  font-size: 18px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 32px;\n\n  ${up.mobileLandscape} {\n    font-size: 24px;\n    line-height: 32px;\n  }\n\n  ${up.tablet} {\n    font-size: 20px;\n    line-height: 30px;\n  }\n\n  ${up.desktop} {\n    margin-top: 50px;\n\n    font-size: 24px;\n    line-height: 34px;\n  }\n`;\n\nconst TextBold = styled.span`\n  color: #50d5ff;\n  font-weight: 900;\n`;\n\n// const LearnMoreLink = styled.a`\n//   display: flex;\n//   align-items: center;\n//   margin-top: 48px;\n//\n//   color: #161616;\n//   font-weight: 500;\n//   font-size: 18px;\n//   font-family: 'Aktiv Grotesk Corp', sans-serif;\n//   line-height: 34px;\n//\n//   ${up.mobileLandscape} {\n//     font-size: 24px;\n//     text-decoration: none;\n//   }\n//\n//   ${up.tablet} {\n//     margin-top: 40px;\n//\n//     font-size: 20px;\n//   }\n//\n//   ${up.desktop} {\n//     margin-top: 56px;\n//\n//     font-size: 24px;\n//   }\n// `;\n//\n// const Arrow = styled.div`\n//   width: 13px;\n//   height: 16px;\n//   margin-left: 23px;\n//\n//   background: url('./arrow.svg') no-repeat 50%;\n//   background-size: 13px 16px;\n// `;\n\nconst Window = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 453px;\n  margin-top: 121px;\n\n  &::before {\n    position: absolute;\n\n    width: 802px;\n    height: 453px;\n\n    background-image: url('./ellipse-youcan.svg');\n    background-repeat: no-repeat;\n    background-position: 100% 50%;\n    background-size: 802px 453px;\n\n    content: '';\n  }\n\n  &::after {\n    position: absolute;\n    left: 65px;\n\n    width: 526px;\n    height: 431px;\n\n    background-image: url('./window-youcan.svg');\n    background-repeat: no-repeat;\n    background-position: 100% 50%;\n    background-size: 552px 431px;\n    filter: drop-shadow(-34px 42px 100px rgba(0, 0, 0, 0.15));\n\n    content: '';\n  }\n\n  ${up.mobileLandscape} {\n    height: 668px;\n\n    &::before {\n      width: 1183px;\n      height: 668px;\n\n      background-size: 1183px 668px;\n    }\n\n    &::after {\n      left: 30px;\n\n      width: 913px;\n      height: 714px;\n\n      background-size: 913px 714px;\n    }\n  }\n\n  ${up.tablet} {\n    flex: 1;\n    margin-top: 0;\n    margin-left: 34px;\n  }\n\n  ${up.desktop} {\n    flex: initial;\n    width: 846px;\n    height: 873px;\n    margin-left: 20px;\n\n    &::before {\n      width: 1426px;\n      height: 873px;\n\n      background-size: 1426px 873px;\n    }\n\n    &::after {\n      left: 90px;\n\n      width: 796px;\n      height: 836px;\n\n      background-size: 796px 836px;\n    }\n  }\n`;\n\nconst Bottom = styled.div`\n  background: #f9f9f9;\n`;\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const YouCan: FC<Props> = ({ children }) => {\n  const isDesktop = useBreakpoint(up.desktop);\n  // const isMobileLandscape = useBreakpoint(up.mobileLandscape);\n\n  return (\n    <Wrapper>\n      <Top>\n        <Title>Imagine if you can send USD, BTC or ETH without fees in just a few seconds?</Title>\n        <Hint>\n          We have it! <TitleBold>BTC</TitleBold>, <TitleBold>ETH</TitleBold> and{' '}\n          <TitleBold>30+</TitleBold> another tokens*\n        </Hint>\n      </Top>\n      <Middle>\n        <MiddleContainer>\n          <TextWrapper>\n            <TextContent>\n              <TextTitle>\n                You can send a <TextTitleBold>lot of tokens</TextTitleBold> fast and with no fees\n              </TextTitle>\n              <Text>\n                Doesnt matter what token you want to send. {!isDesktop ? <br /> : undefined}\n                <TextBold>The speed is stable for all of them!</TextBold>\n                <br />\n                <br />\n                Solana blockchain contains many tokens. Its native and wrapped by different\n                technologies such as FTX, Sollet etc. It allows us to keep the speed and no-fees in\n                front of others.\n              </Text>\n              {/* <LearnMoreLink> */}\n              {/*  Learn more about Wrapped Tokens {isMobileLandscape ? <Arrow /> : undefined} */}\n              {/* </LearnMoreLink> */}\n            </TextContent>\n          </TextWrapper>\n          <Window />\n        </MiddleContainer>\n      </Middle>\n      <Bottom>{children}</Bottom>\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\n\nimport { css } from '@linaria/core';\nimport { styled } from '@linaria/react';\n\nimport { Drawer } from 'components/pages/landing/common/Drawer';\nimport { Features } from 'components/pages/landing/Features';\nimport { Footer } from 'components/pages/landing/Footer';\nimport { Functions } from 'components/pages/landing/Functions';\nimport { Header } from 'components/pages/landing/Header';\nimport { fonts } from 'components/pages/landing/styles/fonts';\nimport { Top } from 'components/pages/landing/Top';\nimport { Under } from 'components/pages/landing/Under';\n// import { Updates } from 'components/pages/landing/Updates';\nimport { YouCan } from 'components/pages/landing/YouCan/YouCan';\nimport { trackEvent } from 'utils/analytics';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n`;\n\nexport const global = css`\n  :global() {\n    body.landing {\n      background: #161616;\n\n      ${fonts}\n    }\n  }\n`;\n\nexport const Landing: FC = () => {\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n\n  useEffect(() => {\n    trackEvent('landing_open');\n  }, []);\n\n  const handleDrawerToggle = () => {\n    setIsDrawerOpen(!isDrawerOpen);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <body className=\"landing\" />\n      </Helmet>\n      <Wrapper>\n        <Drawer isOpen={isDrawerOpen} onDrawerClose={handleDrawerToggle} />\n        <Header onDrawerToggle={handleDrawerToggle} />\n        <Top />\n        <Functions />\n        <Features />\n        <YouCan>\n          <Under />\n          {/* <Updates /> */}\n          <Footer />\n        </YouCan>\n      </Wrapper>\n    </>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 20px;\n\n  color: #a3a5ba;\n  font-size: 14px;\n  line-height: 140%;\n  text-align: center;\n`;\n\nconst LockIcon = styled(Icon)`\n  width: 20px;\n  margin-right: 8px;\n\n  color: #a3a5ba;\n`;\n\nexport const Hint: FC = () => {\n  return (\n    <Wrapper>\n      <LockIcon name=\"lock\" /> All deposits are stored 100% non-custodiallity with keys held on this\n      device\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst CheckmarkIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: transparent;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 44px;\n  padding: 8px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n\n  text-transform: capitalize;\n\n  border-radius: 8px;\n  cursor: pointer;\n\n  &:hover {\n    color: #5887ff;\n\n    background: #f6f6f8;\n\n    ${CheckmarkIcon} {\n      color: #a3a5ba;\n    }\n  }\n\n  &.isSelected {\n    ${CheckmarkIcon} {\n      color: #5887ff;\n    }\n  }\n`;\n\ntype Props = {\n  isSelected: boolean;\n  onItemClick: () => void;\n  close?: () => void;\n};\n\nexport const MenuItem: FunctionComponent<Props> = ({\n  children,\n  isSelected,\n  onItemClick,\n  close = () => {},\n}) => {\n  const handleItemClick = () => {\n    onItemClick();\n    close();\n  };\n\n  return (\n    <Wrapper onClick={handleItemClick} className={classNames({ isSelected })}>\n      {children} <CheckmarkIcon name=\"checkmark\" />\n    </Wrapper>\n  );\n};\n","import { ToastManager } from 'components/common/ToastManager';\n\n// @return Promise<boolean>\nexport const askClipboardWritePermission = async () => {\n  try {\n    // The clipboard-write permission is granted automatically to pages\n    // when they are the active tab. So it's not required, but it's more safe.\n    // @ts-ignore\n    const { state } = await navigator.permissions.query({ name: 'clipboard-write' });\n    return state === 'granted';\n  } catch {\n    // Browser compatibility / Security error (ONLY HTTPS) ...\n    return false;\n  }\n};\n\n// @params blob - The ClipboardItem takes an object with the MIME type as key, and the actual blob as the value.\n// @return Promise<void>\nexport const setToClipboard = async (blob: Blob | null) => {\n  if (!blob) {\n    ToastManager.error(`Can't copy to clipboard`);\n    return;\n  }\n\n  try {\n    // @ts-ignore\n    const data = [new ClipboardItem({ [blob.type]: blob })];\n    // @ts-ignore\n    await navigator.clipboard.write(data);\n  } catch (error) {\n    ToastManager.error((error as Error).message);\n  }\n};\n","import React, { FC, useEffect, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport QRCode from 'qrcode.react';\n\nimport Logo from 'assets/images/logo.png';\nimport { AddressText } from 'components/common/AddressText';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Button } from 'components/ui';\nimport { askClipboardWritePermission, setToClipboard } from 'utils/clipboard';\n\nconst Wrapper = styled.div``;\n\nconst UsernameAddressWrapper = styled.div`\n  display: flex;\n  margin-bottom: 16px;\n  padding: 32px;\n\n  box-shadow: 0px 1px 8px rgba(0, 0, 0, 0.05);\n  border-radius: 12px;\n`;\n\nconst QRCodeWrapper = styled.div`\n  margin-right: 30px;\n`;\n\nconst UsernameAddress = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Username = styled.div`\n  margin-bottom: 16px;\n\n  font-weight: 600;\n  font-size: 20px;\n`;\n\nconst LogoImg = styled.img`\n  width: 108px;\n  height: 38px;\n`;\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst ButtonStyled = styled(Button)`\n  margin-right: 8px;\n`;\n\ntype Props = {\n  address: string;\n  username?: string;\n};\n\nconst copy = (value: string, text: string) => {\n  try {\n    void navigator.clipboard.writeText(value);\n    ToastManager.info(`${text} Copied!`);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst handleCopyClick = (value: string, text: string) => () => {\n  return copy(value, text);\n};\n\nexport const UsernameAddressWidget: FC<Props> = ({ address, username }) => {\n  const [isImageCopyAvailable, setIsImageCopyAvailable] = useState(false);\n  useEffect(() => {\n    askClipboardWritePermission()\n      .then((state) => setIsImageCopyAvailable(state))\n      .catch(() => setIsImageCopyAvailable(false));\n  }, []);\n\n  const handleImageCopyClick = () => {\n    const qrElement = document.querySelector<HTMLCanvasElement>('#qrcode');\n    if (!qrElement) {\n      return;\n    }\n\n    try {\n      qrElement.toBlob((blob: Blob | null) => setToClipboard(blob));\n      ToastManager.info('QR code Copied!');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Wrapper>\n      <UsernameAddressWrapper>\n        <QRCodeWrapper>\n          <QRCode id=\"qrcode\" value={address} size={150} />\n        </QRCodeWrapper>\n        <UsernameAddress>\n          {username ? <Username>{username}</Username> : undefined}\n          <AddressText address={address} medium />\n          <LogoImg src={Logo} />\n        </UsernameAddress>\n      </UsernameAddressWrapper>\n      <ButtonsWrapper>\n        {username ? (\n          <ButtonStyled hollow onClick={handleCopyClick(username, 'Username')}>\n            Copy username\n          </ButtonStyled>\n        ) : undefined}\n        <ButtonStyled hollow onClick={handleCopyClick(address, 'Address')}>\n          Copy address\n        </ButtonStyled>\n        <ButtonStyled hollow onClick={isImageCopyAvailable ? handleImageCopyClick : undefined}>\n          Copy QR code\n        </ButtonStyled>\n      </ButtonsWrapper>\n    </Wrapper>\n  );\n};\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nexport type Username = {\n  username: string | null;\n  domain: string;\n};\n\nexport const useUsername = (): Username => {\n  const cluster = useSelector((state) => state.wallet.network.cluster);\n  const username = useSelector((state) => state.wallet.username);\n\n  const domain = cluster === 'mainnet-beta' ? '.p2p.sol' : '.p2p';\n\n  return useMemo(() => {\n    return {\n      username,\n      domain,\n    };\n  }, [domain, username]);\n};\n","import { styled } from '@linaria/react';\n\nimport { TextField } from 'components/ui';\n\nexport const Description = styled.div`\n  padding: 16px 24px;\n`;\n\nexport const TextFieldStyled = styled(TextField)`\n  margin-bottom: 8px;\n`;\n\nexport const BottomInfo = styled.div`\n  display: flex;\n\n  justify-content: center;\n  padding: 15px 20px;\n\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n\n  border-top: 1px solid #f6f6f8;\n`;\n\nexport const ExplorerA = styled.a`\n  color: #a3a5ba;\n\n  &:hover {\n    color: #458aff;\n  }\n`;\n\nexport const UsernameAddressWidgetWrapper = styled.div`\n  margin-bottom: 16px;\n  padding: 0 24px;\n`;\n","import React, { FC, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { UsernameAddressWidget } from 'components/common/UsernameAddressWidget';\nimport { Accordion } from 'components/ui';\nimport { getExplorerUrl } from 'utils/connection';\nimport { useUsername } from 'utils/hooks/useUsername';\n\nimport { BottomInfo, Description, ExplorerA, UsernameAddressWidgetWrapper } from './styled';\n\nconst InfoBlock = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 16px;\n  padding: 12px 20px;\n\n  background: #fafbfc;\n  border-radius: 12px;\n`;\n\nexport const ReceiveSolana: FC = () => {\n  const cluster = useSelector((state) => state.wallet.network.cluster);\n\n  const availableTokenAccounts = useSelector((state) =>\n    state.wallet.tokenAccounts.map((itemToken) => TokenAccount.from(itemToken)),\n  );\n  const publicKey = useSelector((state) => state.wallet.publicKey);\n  const solAccount = useMemo(\n    () => availableTokenAccounts.find((account) => account.address.toBase58() === publicKey),\n    [availableTokenAccounts, publicKey],\n  );\n  const { username, domain } = useUsername();\n\n  if (!solAccount) {\n    return null;\n  }\n  return (\n    <>\n      <Description>\n        <InfoBlock>\n          <div>\n            Receive any token within the <strong>Solana network</strong> even if it is not included\n            in your wallet list\n          </div>\n        </InfoBlock>\n        <Accordion title=\"Which cryptocurrencies can I use?\">\n          The Solana Program Library (SPL) is a collection of on-chain programs maintained by the\n          Solana team. The SPL Token program is the token standard of the Solana blockchain.\n          <br />\n          <br />\n          Similar to ERC20 tokens on the Ethereum network, SPL Tokens are designed for DeFi\n          applications. SPL Tokens can be traded on Serum, a Solana based decentralized exchange and\n          FTX.\n        </Accordion>\n      </Description>\n      <UsernameAddressWidgetWrapper>\n        <UsernameAddressWidget\n          address={publicKey || ''}\n          username={username ? `${username}${domain}` : ''}\n        />\n      </UsernameAddressWidgetWrapper>\n      <BottomInfo>\n        <ExplorerA\n          href={getExplorerUrl('address', solAccount.address.toBase58(), cluster)}\n          target=\"_blank\"\n          rel=\"noopener noreferrer noindex\"\n          className=\"button\">\n          View in Solana explorer\n        </ExplorerA>\n      </BottomInfo>\n    </>\n  );\n};\n","export const getHours = (milliseconds: number) => {\n  return Math.floor(milliseconds / (1000 * 60 * 60));\n};\n\nexport const millisecondsToHMS = (milliseconds: number) => {\n  const seconds = Math.floor((milliseconds / 1000) % 60);\n  const minutes = Math.floor((milliseconds / 1000 / 60) % 60);\n  // take absolute hours as they may be greater than 24\n  const hours = getHours(milliseconds);\n  return { hours, minutes, seconds };\n};\n\nconst pad = (value: number) => {\n  return String(value).padStart(2, '0');\n};\n\nexport const getFormattedHMS = (milliseconds: number) => {\n  const { hours, minutes, seconds } = millisecondsToHMS(milliseconds);\n  return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any, no-unused-vars, @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unused-vars,react-hooks/rules-of-hooks,react-hooks/exhaustive-deps */\n\nimport { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { UTXO } from '@renproject/chains-bitcoin/build/main/APIs/API';\nimport { DepositCommon, LockChain, MintChain, RenNetwork } from '@renproject/interfaces';\nimport RenJS from '@renproject/ren';\nimport {\n  AcceptedGatewayTransaction,\n  buildMintContextWithMap,\n  DepositStates,\n  GatewayMachineContext,\n  GatewaySession,\n  GatewayStates,\n  isAccepted,\n  isMinted,\n  LockChainMap,\n  MintChainMap,\n  mintMachine,\n} from '@renproject/ren-tx';\nimport { BurnSession } from '@renproject/ren-tx/build/main/types/burn';\nimport { useActor, useMachine, useSelector } from '@xstate/react';\nimport BigNumber from 'bignumber.js/bignumber';\n\ninterface MintParams {\n  /**\n   * Asset to be minted/burned (on native chain) eg. \"BTC\"\n   */\n  sourceAsset: string;\n  /**\n   * Ren network version to be used, which determines network versions for the selected chains\n   */\n  network: RenNetwork | 'testnet' | 'mainnet';\n  /**\n   * Address that will recieve the asset, eg. \"0xA1...\"\n   */\n  destAddress: string;\n  /**\n   * How much the user expects to recieve in destAsset (eg. BTC)\n   *\n   */\n  targetAmount?: string | number;\n\n  /**\n   * Amount of sourceAsset user is suggested to send in the base denomination (eg. SATs for Bitcoin)\n   * Usually the targetAmount + fees\n   */\n  suggestedAmount?: string | number;\n\n  /**\n   * Optional random 32 bytes to make the gateway address unique. Must be persisted in order to restore the transaction\n   */\n  nonce?: string | Buffer;\n}\n\nexport type DepositTranstaction = AcceptedGatewayTransaction<any>;\n\n// Amount of time remaining until gateway expires\n// We remove 1 day from the ren-tx expiry to reflect the extra mint\n// submission leeway\n// FIXME: once ren-tx takes the two stages into account, fix this\nexport const getRemainingGatewayTime = (expiryTime: number) =>\n  Math.ceil(expiryTime - 24 * 60 * 60 * 1000 - Number(new Date()));\n\nexport const getSessionDay = () => Math.floor(Date.now() / 1000 / 60 / 60 / 24);\n\n// user has 72 hours from the start of a session day to complete the tx\n// a gateway is only valid for 48 hours however.\n//\n// FIXME: once ren-tx takes the two-stage expiry into account, update this\nexport const getSessionExpiry = () => (getSessionDay() + 3) * 60 * 60 * 24 * 1000;\n\nexport function idFromParams(session: GatewaySession<any> | BurnSession<any, any>): string {\n  return `tx-${session.userAddress}-${getSessionDay()}-${session.sourceAsset}-to-${\n    session.destChain\n  }`;\n}\n\nexport function formatAmount(amount: string) {\n  return new BigNumber(amount).div(10 ** 8).toNumber();\n}\n\nfunction sessionFromMintConfigMultiple<X, CustomParams = {}>(config: {\n  mintParams: MintParams;\n  userAddress: string;\n  destinationChain: string;\n  sourceChain: string;\n  customParams: CustomParams;\n}): GatewaySession<X> {\n  const session: GatewaySession<X> = {\n    ...config.mintParams,\n    id: '',\n    userAddress: config.userAddress,\n    destAddress: config.mintParams.destAddress,\n    destChain: config.destinationChain,\n    sourceChain: config.sourceChain,\n    expiryTime: getSessionExpiry(),\n    transactions: {},\n    customParams: config.customParams,\n    createdAt: Date.now(),\n  };\n  session.id = idFromParams(session);\n  return session;\n}\n\nexport interface MintConfig {\n  sdk: RenJS;\n  mintParams: MintParams;\n  debug?: boolean;\n}\n\n// Use this if you want to send to a single destination\nexport interface MintConfigSingle extends MintConfig {\n  to: MintChain;\n  from: LockChain;\n}\n\n// Use this if you want to set up & restore multiple assets / destinations\nexport interface MintConfigMultiple<CustomParams = {}> extends MintConfig {\n  toMap: MintChainMap<GatewayMachineContext<any>>;\n  fromMap: LockChainMap<GatewayMachineContext<any>>;\n  /**\n   * Chain that the source asset is located on, eg. \"Bitcoin\"\n   */\n  sourceChain: string;\n  /**\n   * Chain that the asset will be recieved on eg. \"Ethereum\"\n   */\n  destinationChain: string;\n  /**\n   * Address that can cryptographically be proven to belong to a user. Used as a \"from\" address for some chains\n   */\n  userAddress: string;\n  /**\n   * Extra parameters to be used for constructing to/from contract parameters\n   */\n  customParams: CustomParams;\n}\n\nfunction isSingle(c: MintConfigSingle | MintConfigMultiple): c is MintConfigSingle {\n  return (c as MintConfigSingle).to !== undefined;\n}\n\nconst buildMintContext = <X>(config: MintConfigSingle | MintConfigMultiple) => {\n  const { sdk } = config;\n  let tx: GatewaySession<X>;\n\n  let fromChainMap = {};\n  let toChainMap = {};\n  if (isSingle(config)) {\n    fromChainMap = { [config.from.name]: (_: any) => config.from };\n    toChainMap = { [config.to.name]: (_: any) => config.to };\n    tx = sessionFromMintConfigMultiple({\n      ...config,\n      sourceChain: config.from.name,\n      userAddress: '',\n      destinationChain: config.to.name,\n      customParams: {},\n    });\n  } else {\n    tx = sessionFromMintConfigMultiple(config);\n    fromChainMap = config.fromMap;\n    toChainMap = config.toMap;\n  }\n  return buildMintContextWithMap<X>({\n    tx,\n    sdk,\n    fromChainMap,\n    toChainMap,\n  });\n};\n\nexport const useLockAndMint = (config: MintConfigSingle | MintConfigMultiple) => {\n  const context = useMemo(() => buildMintContext(config), [config]);\n\n  const [state, , machine] = useMachine(mintMachine, {\n    context,\n    devTools: config.debug,\n  });\n\n  const session = useSelector(machine, (x) => {\n    return x.context.tx;\n  });\n\n  const addDeposit = useCallback(\n    (amount, txHash, vOut) => {\n      const rawSourceTx: DepositCommon<UTXO> = {\n        amount: String(amount),\n        transaction: {\n          amount: String(amount),\n          txHash,\n          vOut,\n          confirmations: 100,\n        },\n      };\n      machine.send({\n        type: 'RESTORE',\n        data: { sourceTxHash: txHash, rawSourceTx },\n      });\n    },\n    [machine.send],\n  );\n\n  const [decimals, setDecimals] = useState(0);\n\n  useEffect(() => {\n    void (async () => {\n      const assetDecimals = await context.from(context).assetDecimals(context.tx.sourceAsset);\n      setDecimals(assetDecimals);\n    })();\n  }, [setDecimals, context]);\n\n  const formatAmount = useCallback(\n    (amount: string) => {\n      return new BigNumber(amount).div(10 ** decimals).toNumber();\n    },\n    [decimals],\n  );\n\n  return {\n    addDeposit,\n    deposits: Object.keys(state.context.depositMachines || {}),\n    formatAmount,\n    session,\n    sessionMachine: machine,\n    state: state.value as GatewayStates,\n    currentState: state,\n  };\n};\n\nexport const useDeposit = (session: ReturnType<typeof useLockAndMint>, depositId: string) => {\n  const depositMachine = useSelector(session.sessionMachine, (context) => {\n    if (!context.context.depositMachines) return;\n    return context.context.depositMachines[depositId];\n  });\n  if (!depositMachine) return;\n  const [state, send] = useActor(depositMachine);\n\n  const mint = useCallback(() => {\n    if (!isAccepted(state.context.deposit)) return;\n    send({ type: 'CLAIM', data: state.context.deposit, params: {} });\n  }, [state.context.deposit, send]);\n\n  const [decimals, setDecimals] = useState(0);\n  const [depositExplorerLink, setDepositExplorerLink] = useState<string>();\n  const [mintExplorerLink, setMintExplorerLink] = useState<string>();\n\n  useEffect(() => {\n    void (async () => {\n      const fromChain = session.sessionMachine.state.context.from(\n        session.sessionMachine.state.context,\n      );\n\n      const toChain = session.sessionMachine.state.context.to(session.sessionMachine.state.context);\n\n      const currentTx = session.sessionMachine.state.context.tx.transactions[depositId];\n\n      if (isMinted(currentTx)) {\n        setMintExplorerLink(\n          toChain.utils?.transactionExplorerLink &&\n            toChain.utils.transactionExplorerLink(currentTx.destTxHash),\n        );\n      }\n\n      const assetDecimals = await fromChain.assetDecimals(\n        session.sessionMachine.state.context.tx.sourceAsset,\n      );\n      setDecimals(assetDecimals);\n      setDepositExplorerLink(\n        fromChain.utils?.transactionExplorerLink &&\n          fromChain.utils?.transactionExplorerLink(currentTx.rawSourceTx.transaction),\n      );\n    })();\n  }, [\n    setDecimals,\n    session.sessionMachine.state.context.from,\n    state.context.deposit.rawSourceTx,\n    (state.context.deposit as any).rawDestTx,\n  ]);\n\n  const formatAmount = useCallback(\n    (amount: string) => {\n      return new BigNumber(amount).div(10 ** decimals).toNumber();\n    },\n    [decimals],\n  );\n\n  return {\n    state,\n    formatAmount,\n    depositExplorerLink,\n    mintExplorerLink,\n    value: state.value as DepositStates,\n    deposit: state.context.deposit,\n    mint,\n  };\n};\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { RenNetwork } from '@renproject/interfaces';\n\nexport const useRenNetwork = (): RenNetwork => {\n  const cluster = useSelector((state) => state.wallet.network.cluster);\n  return useMemo(() => {\n    return cluster === 'mainnet-beta' ? RenNetwork.Mainnet : RenNetwork.Testnet;\n  }, [cluster]);\n};\n","import { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { SolanaProvider as RenSolanaProvider } from '@renproject/chains-solana';\nimport { Transaction } from '@solana/web3.js';\nimport { createContainer } from 'unstated-next';\n\nimport { getConnection } from 'api/connection';\nimport { getWallet } from 'api/wallet';\n\nexport type SetSlot = (slot: number) => void;\n\nexport interface UseSolana extends RenSolanaProvider {\n  slot: number;\n  setSlot: SetSlot;\n}\n\nconst useSolanaInternal = (): UseSolana => {\n  const network = useSelector((state) => state.wallet.network);\n  const publicKey = useSelector((state) => state.wallet.publicKey);\n  const [slot, setSlot] = useState<number>(0);\n\n  const connection = getConnection(network);\n\n  const wallet = useMemo(() => {\n    if (!publicKey) {\n      return null;\n    }\n\n    return {\n      publicKey: getWallet().pubkey,\n      signTransaction: (tx: Transaction) => getWallet().sign(tx),\n      signAllTransactions: (txs: Transaction[]) => getWallet().signAllTransactions(txs),\n    };\n  }, [publicKey]);\n\n  return {\n    connection,\n    wallet,\n    slot,\n    setSlot,\n  };\n};\n\nexport const { Provider: SolanaProvider, useContainer: useSolana } = createContainer(\n  useSolanaInternal,\n);\n","import React, {\n  createContext,\n  FC,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { Bitcoin } from '@renproject/chains-bitcoin';\nimport { Solana } from '@renproject/chains-solana';\nimport { SolanaProvider } from '@renproject/chains-solana';\nimport { getRenNetworkDetails, RenNetwork } from '@renproject/interfaces';\nimport RenJS from '@renproject/ren';\nimport {\n  DepositStates,\n  GatewaySession,\n  GatewayTransaction,\n  isAccepted,\n  OpenedGatewaySession,\n} from '@renproject/ren-tx';\nimport { isNil } from 'ramda';\n\nimport { getWallet } from 'api/wallet';\nimport { useSolana } from 'app/contexts/solana';\nimport { NotifyToast } from 'components/common/NotifyToast';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Button } from 'components/ui';\nimport { useLockAndMint } from 'utils/hooks/renBridge/useLockAndMint';\nimport { DepositTranstaction, formatAmount } from 'utils/hooks/renBridge/useLockAndMint';\nimport { useRenNetwork } from 'utils/hooks/renBridge/useNetwork';\nimport { initConfig, loadAndDeleteExpired, MintConfig } from 'utils/lockAndMintConfig';\n\nexport type DepositState = {\n  currentState: DepositStates;\n  mint: () => void;\n  deposit: DepositTranstaction;\n};\n\ntype Deposits = {\n  [key: string]: DepositState;\n};\n\ntype LockAndMintContext = {\n  isConfigInitialized: boolean;\n  initializeConfig: () => void;\n  gatewayAddress: string;\n  expiryTime: number;\n  deposits: Deposits;\n};\n\nconst Context = createContext<null | LockAndMintContext>(null);\n\ntype RenJSCache = Record<RenNetwork, RenJS>;\n\nconst renJsCache: Partial<RenJSCache> = {};\nconst getRenjs = (network: RenNetwork) => {\n  if (!renJsCache[network]) {\n    renJsCache[network] = new RenJS(network);\n  }\n  return renJsCache[network] as RenJS;\n};\n\nconst chainsCache: any = {};\nconst getChains = (network: RenNetwork, solanaProvider: SolanaProvider) => {\n  const { bitcoin, solana } = chainsCache;\n  if (!bitcoin && !solana) {\n    chainsCache.bitcoin = new Bitcoin();\n    chainsCache.solana = new Solana(solanaProvider, network);\n  }\n  return chainsCache;\n};\n\nconst showDepositToast = (sourceTxConfs: number, sourceTxConfTarget: number) => {\n  const isCompleted = sourceTxConfs !== sourceTxConfTarget;\n  const header = isCompleted\n    ? 'Waiting for deposit confirmation...'\n    : 'The deposit has been confirmed!';\n  const status = isCompleted ? 'confirmingDeposit' : 'confirmedDeposit';\n  ToastManager.show(({ onClose }) => (\n    <NotifyToast\n      type=\"confirmingDeposit\"\n      onClose={onClose}\n      header={header}\n      status={status}\n      text={`${sourceTxConfs} / ${sourceTxConfTarget}`}\n    />\n  ));\n};\n\nconst DepositWatcher: FC<{\n  deposit: DepositTranstaction;\n  machine: any;\n  targetConfirmationsCount: number;\n  onDepositChage: (depositId: string, deposit: DepositState) => void;\n}> = ({ deposit, machine, targetConfirmationsCount, onDepositChage }) => {\n  const rawAmount = useMemo(() => {\n    return formatAmount(deposit.rawSourceTx.amount);\n  }, [deposit.rawSourceTx.amount]);\n\n  const { send, depositId } = useMemo(() => {\n    return {\n      depositId: machine.id,\n      send: machine.send,\n    };\n  }, [machine.id, machine.send]);\n\n  const mint = useCallback(() => {\n    if (!isAccepted(deposit)) return;\n    send({ type: 'CLAIM', data: deposit, params: {} });\n  }, [deposit, send]);\n\n  const { value } = machine.state;\n\n  useEffect(() => {\n    onDepositChage(depositId, { currentState: value, mint, deposit });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [depositId, mint, value, deposit]);\n\n  useEffect(() => {\n    if (\n      value === DepositStates.RENVM_ACCEPTED &&\n      window.location.pathname !== '/receive' &&\n      deposit.renSignature\n    ) {\n      ToastManager.show(({ onClose }) => (\n        <NotifyToast\n          type=\"mint\"\n          onClose={onClose}\n          header={'Awaiting the signature on your wallet'}\n          status=\"warning\"\n          button={\n            <Button\n              primary\n              onClick={() => {\n                mint();\n                if (onClose) {\n                  onClose();\n                }\n              }}>{`Mint ${rawAmount} BTC`}</Button>\n          }\n        />\n      ));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [deposit.renSignature, value]);\n\n  useEffect(() => {\n    if (value === DepositStates.CONFIRMING_DEPOSIT) {\n      showDepositToast(deposit.sourceTxConfs || 0, targetConfirmationsCount);\n    }\n  }, [deposit.sourceTxConfs, targetConfirmationsCount, value]);\n\n  return null;\n};\n\nconst getActiveDepositId = (tx: GatewaySession<any>) => {\n  if (isNil(tx.transactions)) return undefined;\n  const transactions = Object.values(tx.transactions);\n  const activeTransactions = transactions\n    .filter((t: any) => !t?.completedAt)\n    .sort(\n      (a: GatewayTransaction<any>, b: GatewayTransaction<any>) =>\n        Number(a.detectedAt || 0) - Number(b.detectedAt || 0),\n    );\n  return activeTransactions.length > 0 ? activeTransactions[0].sourceTxHash : undefined;\n};\n\nconst LockAndMintSession: FC<{\n  nonce: string;\n  onGatewayAddressInit: (address: string) => void;\n  onDepositChage: (depositId: string, deposit: DepositState) => void;\n}> = ({ nonce, onGatewayAddressInit, onDepositChage }) => {\n  const solanaProvider = useSolana();\n  const network = useRenNetwork();\n  const { bitcoin, solana } = getChains(network, solanaProvider);\n  const lockAndMintParams = useMemo(() => {\n    return {\n      sdk: getRenjs(network),\n      mintParams: {\n        sourceAsset: Bitcoin.asset,\n        network,\n        destAddress: getWallet().pubkey.toBase58(),\n        nonce: nonce,\n      },\n      from: bitcoin,\n      to: solana,\n    };\n  }, [bitcoin, network, nonce, solana]);\n\n  const mint = useLockAndMint(lockAndMintParams);\n\n  useEffect(() => {\n    onGatewayAddressInit((mint.session as OpenedGatewaySession<any>).gatewayAddress);\n  }, [mint.session, onGatewayAddressInit]);\n\n  const targetConfirmationsCount = useMemo(() => {\n    return getRenNetworkDetails(network).isTestnet ? 1 : 6;\n  }, [network]);\n\n  const current = mint.currentState;\n  const activeDepositId = getActiveDepositId(current.context.tx);\n\n  const activeDeposit = useMemo(() => {\n    if (!current.context.tx.transactions || activeDepositId === undefined) {\n      return null;\n    }\n    const deposit = current.context.tx.transactions[activeDepositId];\n    if (!deposit || !current.context.depositMachines) return null;\n    const machine = current.context.depositMachines[deposit.sourceTxHash];\n    return { deposit, machine } as any;\n  }, [activeDepositId, current.context]);\n\n  if (activeDeposit) {\n    return (\n      <DepositWatcher\n        deposit={activeDeposit.deposit}\n        machine={activeDeposit.machine}\n        targetConfirmationsCount={targetConfirmationsCount}\n        onDepositChage={onDepositChage}\n      />\n    );\n  }\n\n  return null;\n};\n\nexport const LockAndMintProvider: FC = ({ children }) => {\n  const publicKey = useSelector((state) => state.wallet.publicKey);\n  const [config, setConfig] = useState<MintConfig | null>(null);\n  const [gatewayAddress, setGatewayAddress] = useState<string>('');\n  const [deposits, setDeposits] = useState<Deposits>({});\n\n  useEffect(() => {\n    if (!publicKey) {\n      return;\n    }\n\n    setConfig(loadAndDeleteExpired(publicKey));\n  }, [publicKey]);\n\n  const initializeConfig = useCallback(() => {\n    if (!publicKey) {\n      return;\n    }\n    setTimeout(() => {\n      setConfig(initConfig(publicKey));\n    }, 0);\n  }, [publicKey]);\n\n  const handleGatewayAddressInit = useCallback((address: string) => {\n    if (address) {\n      setGatewayAddress(address);\n    }\n  }, []);\n\n  const handleDepositsChange = (depositId: string, deposit: DepositState) => {\n    setDeposits({\n      ...deposits,\n      [depositId]: deposit,\n    });\n  };\n\n  useEffect(() => {\n    for (const depositId of Object.keys(deposits)) {\n      if (deposits[depositId].currentState === DepositStates.COMPLETED) {\n        const newDeposits = { ...deposits };\n        delete newDeposits[depositId];\n        setTimeout(() => {\n          setDeposits({\n            ...newDeposits,\n          });\n        }, 3000);\n      }\n    }\n  }, [deposits]);\n\n  const expiryTime = config ? config.expiryTime : 0;\n\n  const content = useMemo(() => children, [children]);\n  return (\n    <>\n      {publicKey && config ? (\n        <LockAndMintSession\n          nonce={config.nonce}\n          onGatewayAddressInit={handleGatewayAddressInit}\n          onDepositChage={handleDepositsChange}\n        />\n      ) : undefined}\n      <Context.Provider\n        value={{\n          isConfigInitialized: !!config,\n          initializeConfig,\n          gatewayAddress,\n          expiryTime,\n          deposits,\n        }}>\n        {content}\n      </Context.Provider>\n    </>\n  );\n};\n\nexport const useLockAndMintProvider = (): LockAndMintContext => {\n  const ctx = useContext(Context);\n  if (ctx === null) {\n    throw new Error('Context not available');\n  }\n  return ctx;\n};\n\ntype Fees = {\n  mint: number;\n  burn: number;\n  lock: number;\n  release: number;\n};\n\ntype FeesCache = {\n  timestamp: number;\n  fees: Fees;\n};\n\nconst feesCache: FeesCache = {\n  timestamp: 0,\n  fees: {\n    mint: 0,\n    burn: 0,\n    lock: 0,\n    release: 0,\n  },\n};\nexport const useFetchFees = (isNeedLoadFee = true) => {\n  const solanaProvider = useSolana();\n  const network = useRenNetwork();\n  const { bitcoin, solana } = getChains(network, solanaProvider);\n  const [fees, setFees] = useState(feesCache.fees);\n  const [pending, setPending] = useState(false);\n\n  useEffect(() => {\n    const fetchFees = async () => {\n      setPending(true);\n      const rates = await getRenjs(network).getFees({\n        asset: Bitcoin.asset,\n        from: bitcoin,\n        to: solana,\n      });\n      setPending(false);\n      const fees = {\n        mint: rates.mint,\n        burn: rates.burn,\n        lock: rates.lock ? rates.lock.toNumber() : 0,\n        release: rates.release ? rates.release.toNumber() : 0,\n      };\n      setFees(fees);\n      feesCache.fees = fees;\n      feesCache.timestamp = Date.now();\n    };\n\n    if (\n      isNeedLoadFee &&\n      (!feesCache.timestamp || feesCache.timestamp + 1000 * 60 * 5 <= Date.now())\n    ) {\n      void fetchFees();\n    } else {\n      setFees(feesCache.fees);\n    }\n  }, [bitcoin, isNeedLoadFee, network, solana]);\n\n  return { fees, pending };\n};\n","import React, { FC, useMemo, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { Bitcoin } from '@renproject/chains-bitcoin';\nimport { getRenNetworkDetails } from '@renproject/interfaces';\nimport { DepositStates } from '@renproject/ren-tx';\n\nimport { Loader } from 'components/common/Loader';\nimport { LoaderBlock } from 'components/common/LoaderBlock';\nimport { UsernameAddressWidget } from 'components/common/UsernameAddressWidget';\nimport { Accordion, Button } from 'components/ui';\nimport { getFormattedHMS } from 'utils/dates';\nimport { getRemainingGatewayTime } from 'utils/hooks/renBridge/useLockAndMint';\nimport { DepositTranstaction, formatAmount } from 'utils/hooks/renBridge/useLockAndMint';\nimport { useRenNetwork } from 'utils/hooks/renBridge/useNetwork';\nimport { useIntervalHook } from 'utils/hooks/useIntervalHook';\nimport { useFetchFees, useLockAndMintProvider } from 'utils/providers/LockAndMintProvider';\n\nimport { BottomInfo, Description, ExplorerA, UsernameAddressWidgetWrapper } from '../styled';\n\nconst StatusItem = styled.li`\n  display: flex;\n  align-items: center;\n\n  padding: 12px 0;\n\n  border-bottom: 1px solid #f6f6f8;\n\n  &:nth-last-child() {\n    border-bottom: none;\n  }\n`;\n\nconst Status = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\nconst StatusTitle = styled.div`\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst StatusAction = styled.div``;\n\nconst GatewayInfoWrapper = styled.div`\n  display: flex;\n\n  padding: 12px;\n\n  background: rgba(163, 165, 186, 0.05);\n  border-radius: 12px;\n`;\n\nconst GatewayInfoItems = styled.ul`\n  margin: 0;\n\n  list-style: square;\n`;\n\nconst GatewayInfoItem = styled.li``;\n\nconst MinimumTxAmount = styled.div`\n  display: flex;\n`;\n\nconst renderStates = ({\n  currentState,\n  deposit,\n  targetConfirmationsCount,\n  mint,\n}: {\n  currentState: DepositStates;\n  deposit: DepositTranstaction;\n  mint: () => void;\n  targetConfirmationsCount: number;\n}) => {\n  const states: Array<React.ReactNode> = [];\n\n  if (currentState === DepositStates.RESTORING_DEPOSIT) {\n    return states;\n  }\n\n  const confirmations =\n    deposit.sourceTxConfs < targetConfirmationsCount\n      ? targetConfirmationsCount - deposit.sourceTxConfs\n      : 0;\n  for (let i = 0; i <= targetConfirmationsCount - confirmations; i++) {\n    states.push(\n      <DepositConfirmationStatus\n        key={i}\n        sourceConfirmations={i}\n        targetConfirmations={targetConfirmationsCount}\n      />,\n    );\n  }\n  if (currentState === DepositStates.CONFIRMING_DEPOSIT) {\n    return states;\n  }\n\n  states.push(\n    <StatusItem key={DepositStates.RENVM_SIGNING}>\n      <Status>\n        <StatusTitle>Submitting to RenVM</StatusTitle>\n      </Status>\n    </StatusItem>,\n  );\n  if (currentState === DepositStates.RENVM_SIGNING) {\n    return states;\n  }\n\n  states.push(\n    <StatusItem key={DepositStates.RENVM_ACCEPTED}>\n      <Status>\n        <StatusTitle>Awaiting the signature on your wallet</StatusTitle>\n      </Status>\n      <StatusAction>\n        <Button primary onClick={mint} disabled={currentState !== DepositStates.RENVM_ACCEPTED}>\n          {`Mint ${formatAmount(deposit.rawSourceTx.amount)} BTC`}\n        </Button>\n      </StatusAction>\n    </StatusItem>,\n  );\n  if (\n    currentState === DepositStates.SUBMITTING_MINT ||\n    currentState === DepositStates.RENVM_ACCEPTED\n  ) {\n    return states;\n  }\n\n  states.push(\n    <StatusItem key={DepositStates.MINTING}>\n      <Status>\n        <StatusTitle>Minting</StatusTitle>\n      </Status>\n    </StatusItem>,\n  );\n  if (currentState === DepositStates.MINTING) {\n    return states;\n  }\n\n  const rewAmount =\n    (deposit.renResponse?.out as any)?.amount?.toNumber() ||\n    (deposit.renResponse as any)?.amount?.toNumber();\n  const outAmount = formatAmount(rewAmount);\n  states.push(\n    <StatusItem key={DepositStates.COMPLETED}>\n      <Status>\n        <StatusTitle>{`Successfully minted ${outAmount} renBtc!`}</StatusTitle>\n      </Status>\n      <StatusAction>\n        <StatusTitle style={{ color: '#4caf50' }}>{`+${outAmount} renBTC`}</StatusTitle>\n      </StatusAction>\n    </StatusItem>,\n  );\n  return states;\n};\n\nconst DepositConfirmationStatus: FC<{\n  targetConfirmations: number | string;\n  sourceConfirmations: number;\n}> = ({ targetConfirmations, sourceConfirmations }) => {\n  const style: Partial<{ color: string }> = {};\n\n  if (sourceConfirmations === 0) {\n    style.color = '#ff5959';\n  } else if (sourceConfirmations === targetConfirmations) {\n    style.color = '#4caf50';\n  }\n\n  return (\n    <StatusItem>\n      <Status>\n        <StatusTitle>Waiting for deposit confirmation</StatusTitle>\n      </Status>\n      <StatusAction>\n        <StatusTitle style={style}>{`${sourceConfirmations} / ${targetConfirmations}`}</StatusTitle>\n      </StatusAction>\n    </StatusItem>\n  );\n};\n\nexport const DepositStatus: FC<{\n  currentState: DepositStates;\n  deposit: DepositTranstaction;\n  mint: () => void;\n  targetConfirmationsCount: number;\n}> = (props) => {\n  return (\n    <Accordion title=\"Receiving statuses\" open>\n      {renderStates({ ...props }).reverse()}\n    </Accordion>\n  );\n};\n\nconst HMSCountdown: FC<{ milliseconds: number }> = ({ milliseconds }) => {\n  const [count, setCount] = useState(milliseconds);\n  useIntervalHook(() => {\n    if (count > 0) {\n      setCount((ms) => ms - 1000);\n    }\n  }, 1000);\n  const time = getFormattedHMS(count);\n\n  return <strong>{time}</strong>;\n};\n\nexport const LockAndMintBtc: FC = () => {\n  const network = useRenNetwork();\n  const targetConfirmationsCount = useMemo(() => {\n    return getRenNetworkDetails(network).isTestnet ? 1 : 6;\n  }, [network]);\n\n  const lockAndMintProvider = useLockAndMintProvider();\n  if (!lockAndMintProvider.isConfigInitialized) {\n    lockAndMintProvider.initializeConfig();\n  }\n\n  const { fees, pending: isFetchingFee } = useFetchFees();\n\n  if (!lockAndMintProvider.gatewayAddress) {\n    return <LoaderBlock />;\n  }\n\n  const timeRemained = getRemainingGatewayTime(lockAndMintProvider.expiryTime);\n\n  return (\n    <>\n      <Description>\n        <GatewayInfoWrapper>\n          <GatewayInfoItems>\n            <GatewayInfoItem>\n              This address accepts <strong>only Bitcoin</strong>. You may lose assets by sending\n              another coin.\n            </GatewayInfoItem>\n            <GatewayInfoItem>\n              You will receive <strong>renBTC.</strong>\n            </GatewayInfoItem>\n            <GatewayInfoItem>\n              <MinimumTxAmount>\n                <div>Minimum transaction amount of &nbsp;</div>\n                {isFetchingFee ? (\n                  <Loader />\n                ) : (\n                  <strong>{`${(fees.lock / 10 ** 8) * 2} ${Bitcoin.asset}.`}</strong>\n                )}\n              </MinimumTxAmount>\n            </GatewayInfoItem>\n            <GatewayInfoItem>\n              <HMSCountdown milliseconds={timeRemained} /> is the remaining time to safely send the\n              assets.\n            </GatewayInfoItem>\n          </GatewayInfoItems>\n        </GatewayInfoWrapper>\n      </Description>\n      <UsernameAddressWidgetWrapper>\n        <UsernameAddressWidget address={lockAndMintProvider.gatewayAddress} />\n      </UsernameAddressWidgetWrapper>\n      <Description>\n        {Object.keys(lockAndMintProvider.deposits).map((depositId) => (\n          <DepositStatus\n            key={depositId}\n            {...lockAndMintProvider.deposits[depositId]}\n            targetConfirmationsCount={targetConfirmationsCount}\n          />\n        ))}\n      </Description>\n      <BottomInfo>\n        <ExplorerA\n          href={`https://btc.com/btc/address/${lockAndMintProvider.gatewayAddress}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer noindex\"\n          className=\"button\">\n          View in Bitcoin explorer\n        </ExplorerA>\n      </BottomInfo>\n    </>\n  );\n};\n","import React, { FC, useCallback, useEffect, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { Bitcoin } from '@renproject/chains-bitcoin';\nimport { Solana } from '@renproject/chains-solana';\n\nimport { useSolana } from 'app/contexts/solana';\nimport { LoaderBlock } from 'components/common/LoaderBlock';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Button, Icon, Switch } from 'components/ui';\nimport { useRenNetwork } from 'utils/hooks/renBridge/useNetwork';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 16px 24px;\n`;\n\nconst Warning = styled.div`\n  display: flex;\n\n  padding: 12px;\n\n  background: rgba(163, 165, 186, 0.05);\n  border-radius: 12px;\n`;\n\nconst WarningIconWrapper = styled.div``;\n\nconst WarningText = styled.div`\n  margin-left: 12px;\n`;\n\nconst AttentionIcon = styled(Icon)`\n  width: 36px;\n  height: 36px;\n`;\n\nconst WarningItems = styled.ul`\n  margin: 0 0 16px;\n\n  list-style: square;\n`;\n\nconst WarningItem = styled.li`\n  padding-top: 14px;\n`;\n\nconst ConfirmWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  margin-bottom: 16px;\n  padding: 26px 20px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst ConfirmText = styled.div`\n  flex: 1 1;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nexport const RenGatewayWarning: FC<{ onShowButtonClick: () => void }> = ({ onShowButtonClick }) => {\n  const [awaiting, setAwaiting] = useState(false);\n  const [isTokenLoaded, setIsTokenLoaded] = useState(false);\n  const [hasSolanaTokenAccount, setSolanaTokenAccount] = useState<any>();\n  const solanaProvider = useSolana();\n  const network = useRenNetwork();\n  const [isConfirm, setIsConfirm] = useState(false);\n\n  useEffect(() => {\n    const mount = async () => {\n      setIsTokenLoaded(false);\n      setSolanaTokenAccount(\n        await new Solana(solanaProvider, network).getAssociatedTokenAccount(Bitcoin.asset),\n      );\n      setIsTokenLoaded(true);\n    };\n\n    void mount();\n  }, [network, solanaProvider]);\n\n  const createAccount = useCallback(async () => {\n    try {\n      setAwaiting(true);\n      const solanaToken = await new Solana(solanaProvider, network).createAssociatedTokenAccount(\n        Bitcoin.asset,\n      );\n      setSolanaTokenAccount(solanaToken);\n    } catch (error) {\n      ToastManager.error((error as Error).message);\n      console.error(error);\n    } finally {\n      setAwaiting(false);\n    }\n  }, [network, solanaProvider]);\n\n  if (!isTokenLoaded) {\n    return <LoaderBlock />;\n  }\n\n  if (!hasSolanaTokenAccount) {\n    return (\n      <Wrapper>\n        <Warning>\n          <WarningIconWrapper>\n            <AttentionIcon name=\"attention\" />\n          </WarningIconWrapper>\n          <WarningText>\n            Solana Associated Token Account Required. This will require you to sign a transaction\n            and spend some SOL.\n          </WarningText>\n        </Warning>\n        <Button primary disabled={awaiting} onClick={createAccount} style={{ marginTop: '26px' }}>\n          Create Token Account\n        </Button>\n      </Wrapper>\n    );\n  }\n\n  return (\n    <Wrapper>\n      <Warning>\n        <WarningIconWrapper>\n          <AttentionIcon name=\"attention\" />\n        </WarningIconWrapper>\n        <WarningText>\n          Bitcoin deposit address <strong>is only open for 36 hours</strong>, but you can send to it\n          multiple times within this session\n        </WarningText>\n      </Warning>\n      <WarningItems>\n        <WarningItem>\n          Each transaction to this deposit address takes about 60 minutes to complete. For security\n          reasons, you will need to wait for 6 block confirmations before you can mint renBTC on\n          Solana.\n        </WarningItem>\n        <WarningItem>\n          If you cannot complete this transaction within the required time, please return at a later\n          date.\n        </WarningItem>\n        <WarningItem>\n          If you do not finish your transaction within this period/session/time frame,\n          <strong> you risk losing the deposits</strong>.\n        </WarningItem>\n      </WarningItems>\n      <ConfirmWrapper>\n        <ConfirmText>I can complete this transaction within time</ConfirmText>\n        <Switch checked={isConfirm} onChange={() => setIsConfirm(!isConfirm)} />\n      </ConfirmWrapper>\n      <Button disabled={!isConfirm} primary onClick={onShowButtonClick}>\n        Show address\n      </Button>\n    </Wrapper>\n  );\n};\n","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Hint } from 'components/common/Hint';\nimport { WidgetPage } from 'components/common/WidgetPage';\nimport { Select } from 'components/ui';\nimport { MenuItem } from 'components/ui/Select/MenuItem';\n\nimport { ReceiveSolana } from './ReceiveSolana';\n// import { ReceiveBtc } from './renBridge/ReceiveBtc';\nimport { LockAndMintBtc } from './renBridge/LockAndMintBtc';\nimport { RenGatewayWarning } from './renBridge/RenGatewayWarning';\n\nconst WrapperWidgetPage = styled(WidgetPage)``;\n\nconst NetworkSelectWrapper = styled.div`\n  padding: 12px 24px 0;\n`;\n\nconst NetworkSelect = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 12px 20px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst NetworkSelectText = styled.div`\n  display: flex;\n  flex-grow: 1;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst SOURCE_NETWORKS = ['solana', 'bitcoin'];\n\nexport const ReceiveAddressWidget: FC = () => {\n  const [sourceNetwork, setSourceNetwork] = useState('solana');\n  const [isShowGatewayAddress, setIsShowGatewayAddress] = useState(false);\n\n  const handleSourceNetworkClick = (source: string) => {\n    setSourceNetwork(source);\n  };\n\n  const renderSourceNetworkReceivePanel = () => {\n    switch (sourceNetwork) {\n      case 'bitcoin':\n        if (isShowGatewayAddress) {\n          // return <ReceiveBtc />;\n          return <LockAndMintBtc />;\n        }\n        return <RenGatewayWarning onShowButtonClick={() => setIsShowGatewayAddress(true)} />;\n      case 'solana':\n      default:\n        return <ReceiveSolana />;\n    }\n  };\n\n  return (\n    <div>\n      <WrapperWidgetPage title=\"Receive\" icon=\"bottom\">\n        <NetworkSelectWrapper>\n          <NetworkSelect>\n            <NetworkSelectText>Network</NetworkSelectText>\n            <Select value={sourceNetwork}>\n              {SOURCE_NETWORKS.map((network) => (\n                <MenuItem\n                  key={network}\n                  isSelected={network === sourceNetwork}\n                  onItemClick={() => handleSourceNetworkClick(network)}>\n                  {network}\n                </MenuItem>\n              ))}\n            </Select>\n          </NetworkSelect>\n        </NetworkSelectWrapper>\n        {renderSourceNetworkReceivePanel()}\n      </WrapperWidgetPage>\n      <Hint />\n    </div>\n  );\n};\n","import React, { FunctionComponent, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { Layout } from 'components/common/Layout';\nimport { ReceiveAddressWidget } from 'components/pages/receive/ReceiveAddressWidget';\nimport { trackEvent } from 'utils/analytics';\n// import { ReceiveNewWidget } from 'components/pages/receive/ReceiveNewWidget';\n// import { ReceiveWalletsWidget } from 'components/pages/receive/ReceiveWalletsWidget';\n\nexport const Receive: FunctionComponent = () => {\n  const location = useLocation<{ fromPage: string }>();\n\n  useEffect(() => {\n    trackEvent('receive_open', { fromPage: location.state.fromPage });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Layout\n      rightColumn={\n        <>\n          <ReceiveAddressWidget />\n          {/* <ReceiveWalletsWidget /> */}\n          {/* <ReceiveNewWidget /> */}\n        </>\n      }\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\n\nimport { rateSelector } from 'store/selectors/rates';\n\nconst Wrapper = styled.div``;\n\ntype Props = {\n  symbol?: string;\n};\n\nexport const RateUSD: FunctionComponent<Props> = ({ symbol = '', ...props }) => {\n  const rate = useSelector(rateSelector(symbol.toUpperCase()));\n\n  if (!rate) {\n    return null;\n  }\n\n  return (\n    <Wrapper title=\"Rate in USD\" {...props}>\n      {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(rate)}\n    </Wrapper>\n  );\n};\n","import React, { createRef, PureComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport throttle from 'lodash.throttle';\n\nconst SHIFT_SPEED = 0.7;\nconst SHIFT_AMOUNT = 150;\n\nconst Root = styled.div`\n  position: relative;\n\n  &.leftshade::before {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1;\n\n    width: 80px;\n\n    background: linear-gradient(to right, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0));\n\n    content: '';\n  }\n\n  &.rightshade::after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n\n    width: 80px;\n\n    background: linear-gradient(to left, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0));\n\n    content: '';\n  }\n`;\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: block;\n  overflow-x: auto;\n  overflow-y: hidden;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: none;\n  }\n`;\n\nconst Content = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst ArrowContainer = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 2;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 50px;\n\n  cursor: pointer;\n`;\n\nconst LeftArrowContainer = styled(ArrowContainer)`\n  left: 0;\n`;\n\nconst RightArrowContainer = styled(ArrowContainer)`\n  right: 0;\n`;\n\nfunction nextAnimationFrame(callback: () => void) {\n  if (window.requestAnimationFrame) {\n    window.requestAnimationFrame(callback);\n  } else {\n    setTimeout(() => callback(), 16);\n  }\n}\n\nexport class SlideContainer extends PureComponent<React.HTMLAttributes<HTMLDivElement>> {\n  state: {\n    width: number;\n    scrollLeft: number;\n    contentWidth: number;\n  } = {\n    width: 0,\n    scrollLeft: 0,\n    contentWidth: 0,\n  };\n\n  contentRef = createRef<HTMLDivElement>();\n\n  wrapperRef = createRef<HTMLDivElement>();\n\n  stepTs = 0;\n\n  renderLazy = throttle(\n    () => {\n      this.setState({\n        contentWidth: this.contentRef.current?.offsetWidth || 0,\n        scrollLeft: this.wrapperRef.current?.scrollLeft || 0,\n        width: this.wrapperRef.current?.scrollWidth || 0,\n      });\n    },\n    50,\n    { leading: false },\n  );\n\n  componentDidMount() {\n    window.addEventListener('resize', this.renderLazy);\n    this.renderLazy();\n  }\n\n  componentDidUpdate() {\n    this.renderLazy();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.renderLazy);\n    this.renderLazy.cancel();\n  }\n\n  onLeftClick = () => {\n    this.scroll(SHIFT_AMOUNT, true);\n  };\n\n  onRightClick = () => {\n    this.scroll(SHIFT_AMOUNT);\n  };\n\n  scroll = (px: number, left?: boolean) => {\n    this.stepTs = Date.now() - 16;\n    this.step(px, left);\n  };\n\n  step = (px: number, left?: boolean) => {\n    const now = Date.now();\n    const delta = now - this.stepTs;\n    this.stepTs = now;\n\n    const shift = Math.round(delta * SHIFT_SPEED);\n\n    if (this.wrapperRef.current) {\n      if (left) {\n        this.wrapperRef.current.scrollLeft -= Math.min(px, shift);\n      } else {\n        this.wrapperRef.current.scrollLeft += Math.min(px, shift);\n      }\n    }\n\n    const remain = px - shift;\n\n    if (remain > 0) {\n      nextAnimationFrame(() => {\n        this.step(remain, left);\n      });\n    }\n  };\n\n  render() {\n    const { children, className } = this.props;\n    const { contentWidth, scrollLeft, width } = this.state;\n\n    let left = false;\n    let right = false;\n\n    if (this.contentRef.current) {\n      left = scrollLeft !== 0;\n      right = width > scrollLeft + contentWidth;\n    }\n\n    return (\n      <Root\n        className={classNames(className, { leftshade: Boolean(left), rightshade: Boolean(right) })}>\n        {left ? <LeftArrowContainer onClick={this.onLeftClick} /> : undefined}\n        <Wrapper ref={this.wrapperRef} onScroll={this.renderLazy}>\n          <Content ref={this.contentRef}>{children}</Content>\n        </Wrapper>\n        {right ? <RightArrowContainer onClick={this.onRightClick} /> : undefined}\n      </Root>\n    );\n  }\n}\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Token } from 'api/token/Token';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { shortAddress } from 'utils/tokens';\n\nconst Wrapper = styled.div`\n  padding: 10px 20px;\n\n  cursor: pointer;\n`;\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 44px;\n`;\n\nconst Info = styled.div`\n  flex: 1;\n  margin-left: 20px;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 140%;\n`;\n\nconst TokenName = styled.div`\n  max-width: 300px;\n\n  overflow: hidden;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\ntype Props = {\n  token: Token;\n  onClick: (token: Token) => void;\n};\n\nexport const TokenRow: FunctionComponent<Props> = ({ token, onClick }) => {\n  const handleClick = () => {\n    onClick(token);\n  };\n\n  return (\n    <Wrapper onClick={handleClick}>\n      <ItemWrapper>\n        <TokenAvatar symbol={token.symbol} address={token.address.toBase58()} size={44} />\n        <Info>\n          <Top>\n            <TokenName title={token.address.toBase58()}>\n              {token.symbol || shortAddress(token.address.toBase58())}\n            </TokenName>\n          </Top>\n          <Bottom>\n            <div>{token.name}</div>\n          </Bottom>\n        </Info>\n      </ItemWrapper>\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { Decimal } from 'decimal.js';\nimport throttle from 'lodash.throttle';\nimport { isNil } from 'ramda';\n\nimport { Token } from 'api/token/Token';\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { AmountUSD } from 'components/common/AmountUSD';\nimport { SlideContainer } from 'components/common/SlideContainer';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { Icon } from 'components/ui';\nimport { SearchInput } from 'components/ui/SearchInput';\nimport { majorAmountToMinor, minorAmountToMajor } from 'utils/amount';\nimport { shortAddress } from 'utils/tokens';\n\nimport { Empty } from '../../../Empty';\nimport { TokenAccountRow } from '../../../TokenAccountRow';\nimport { TokenRow } from '../../../TokenRow';\n\nconst Wrapper = styled.div``;\n\nconst TopWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst FromTitle = styled.div`\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst AllBalance = styled.div`\n  color: #5887ff;\n\n  cursor: pointer;\n\n  &.disabled {\n    cursor: auto;\n\n    pointer-events: none;\n  }\n\n  &.error {\n    color: #f43d3d;\n  }\n`;\n\nconst MainWrapper = styled.div`\n  display: flex;\n\n  margin-top: 20px;\n`;\n\nconst WalletIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nconst TokenAvatarWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n\n  &.isOpen {\n    background: #5887ff;\n\n    ${WalletIcon} {\n      color: #fff;\n    }\n  }\n`;\n\nconst InfoWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  min-width: 0;\n\n  margin-left: 20px;\n`;\n\nconst SpecifyTokenWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 44px;\n`;\n\nconst TokenName = styled.div`\n  max-width: 200px;\n  overflow: hidden;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 140%;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst EmptyName = styled.div`\n  color: #a3a5ba;\n`;\n\nconst ChevronWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  margin-left: 26px;\n`;\n\nconst ChevronIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #000;\n`;\n\nconst TokenWrapper = styled.div`\n  display: flex;\n  min-width: 0;\n\n  cursor: pointer;\n\n  &.isOpen {\n    ${TokenName}, ${ChevronIcon} {\n      color: #5887ff;\n    }\n  }\n`;\n\nconst AmountInput = styled.input`\n  max-width: 200px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 120%;\n  text-align: right;\n\n  background: transparent;\n  border: 0;\n\n  outline: none;\n\n  appearance: none;\n\n  &::placeholder {\n    color: #a3a5ba;\n  }\n`;\n\nconst BalanceWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 3px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst BalanceText = styled.div`\n  display: flex;\n`;\n\nconst AmountUSDStyled = styled(AmountUSD)`\n  margin-left: 3px;\n`;\n\nconst DropDownListContainer = styled.div`\n  position: absolute;\n  right: 0;\n  left: 0;\n  z-index: 1;\n\n  margin-top: 8px;\n  overflow: hidden;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 10px 32px rgba(0, 0, 0, 0.1);\n`;\n\nconst DropDownHeader = styled.div`\n  padding: 0 20px;\n\n  border-radius: 0 0 12px 12px;\n  box-shadow: none;\n  backdrop-filter: blur(15px);\n`;\n\nconst Title = styled.div`\n  padding: 12px 0;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst FiltersWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  height: 66px;\n\n  & > :not(:last-child) {\n    margin-right: 12px;\n  }\n`;\n\n//\n// Uncomment in the future\n//\n// const FilterName = styled.div`\n//   display: flex;\n//   align-items: center;\n//   height: 34px;\n//   padding: 0 12px;\n//\n//   color: #a3a5ba;\n//   font-weight: 600;\n//   font-size: 13px;\n//   line-height: 140%;\n//   white-space: nowrap;\n//\n//   background: rgba(163, 165, 186, 0.1);\n//   border-radius: 12px;\n//\n//   cursor: pointer;\n//\n//   &.active {\n//     color: #fff;\n//\n//     background: #5887ff;\n//   }\n// `;\n//\n// const SearchCircle = styled.div`\n//   display: flex;\n//   flex-shrink: 0;\n//   align-items: center;\n//   justify-content: center;\n//   width: 34px;\n//   height: 34px;\n//\n//   background: #f6f6f8;\n//   border-radius: 12px;\n//   cursor: pointer;\n// `;\n//\n// const SearchIcon = styled(Icon)`\n//   width: 24px;\n//   height: 24px;\n//\n//   color: #a3a5ba;\n// `;\n\nconst DropDownList = styled.div`\n  max-height: 400px;\n  padding-bottom: 14px;\n  overflow-y: auto;\n`;\n\nconst TitleTokens = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0 20px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst YourTokens = styled(TitleTokens)`\n  height: 32px;\n`;\n\nconst AllTokens = styled(TitleTokens)`\n  height: 44px;\n`;\n\ntype Props = {\n  direction?: 'from' | 'to';\n  tokens?: Token[];\n  tokenAccounts: TokenAccount[];\n  token?: Token;\n  tokenAccount?: TokenAccount;\n  amount?: string;\n  feeAmount?: string;\n  onTokenAccountChange: (token: Token, tokenAccount: TokenAccount | null) => void;\n  onAmountChange: (minorAmount: string, type?: 'available') => void;\n  disabled?: boolean;\n  disabledInput?: boolean;\n  className?: string;\n};\n\nconst SCROLL_THRESHOLD = 15;\n\nexport const FromToSelectInput: FunctionComponent<Props> = ({\n  direction = 'from',\n  tokens,\n  tokenAccounts,\n  token,\n  tokenAccount,\n  amount,\n  feeAmount: feeAmountString,\n  onTokenAccountChange,\n  onAmountChange,\n  disabled,\n  disabledInput,\n  className,\n}) => {\n  const selectorRef = useRef<HTMLDivElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const listRef = useRef<HTMLDivElement>(null);\n  const [filter, setFilter] = useState('');\n  const [localAmount, setLocalAmount] = useState(String(amount));\n  const [isOpen, setIsOpen] = useState(false);\n  const [scrollTop, setScrollTop] = useState(0);\n\n  useEffect(() => {\n    if (!isNil(amount) && amount !== localAmount) {\n      setLocalAmount(amount);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [amount]);\n\n  const handleScroll = throttle(() => {\n    if (!listRef.current) {\n      return;\n    }\n\n    if (listRef.current.scrollTop <= SCROLL_THRESHOLD) {\n      setScrollTop(listRef.current.scrollTop);\n    } else {\n      setScrollTop(SCROLL_THRESHOLD);\n    }\n  }, 100);\n\n  const boxShadow = useMemo(() => {\n    return `0 5px 10px rgba(56, 60, 71, ${\n      scrollTop >= SCROLL_THRESHOLD ? '0.05' : 0.003 * scrollTop\n    }`;\n  }, [scrollTop]);\n\n  const handleAwayClick = (e: MouseEvent) => {\n    if (\n      !selectorRef.current?.contains(e.target as HTMLDivElement) &&\n      !dropdownRef.current?.contains(e.target as HTMLDivElement)\n    ) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', handleAwayClick);\n\n    return () => {\n      window.removeEventListener('click', handleAwayClick);\n    };\n  }, []);\n\n  useEffect(() => {\n    const element = listRef.current;\n\n    if (!element) {\n      return;\n    }\n\n    element.addEventListener('scroll', handleScroll);\n\n    return () => {\n      if (!element) {\n        return;\n      }\n\n      element.removeEventListener('scroll', handleScroll);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, listRef.current]);\n\n  const handleSelectorClick = () => {\n    if (!tokenAccounts) {\n      return;\n    }\n\n    setIsOpen(!isOpen);\n  };\n\n  const handleTokenAccountClick = (nextTokenAccount: TokenAccount) => {\n    setIsOpen(false);\n    onTokenAccountChange(nextTokenAccount.mint, nextTokenAccount);\n  };\n\n  const handleTokenClick = (nextToken: Token) => {\n    setIsOpen(false);\n    onTokenAccountChange(nextToken, null);\n  };\n\n  const handleAllBalanceClick = () => {\n    if (!tokenAccount) {\n      return;\n    }\n\n    let tokenAccountBalance = tokenAccount.balance;\n\n    if (feeAmountString) {\n      const [feeAmount, symbol] = feeAmountString.split(' ');\n\n      if (tokenAccount?.mint.symbol === symbol) {\n        const fee = majorAmountToMinor(new Decimal(feeAmount), tokenAccount.mint);\n        const balanceWithoutFee = tokenAccount.balance.minus(fee);\n        tokenAccountBalance = balanceWithoutFee.gt(0) ? balanceWithoutFee : new Decimal(0);\n      }\n    }\n\n    onAmountChange(\n      minorAmountToMajor(tokenAccountBalance, tokenAccount.mint).toString(),\n      'available',\n    );\n  };\n\n  const handleAmountFocus = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let nextAmount = e.target.value;\n\n    if (Number(nextAmount) === 0) {\n      nextAmount = '';\n      setLocalAmount(nextAmount);\n      onAmountChange(nextAmount);\n    }\n  };\n\n  const handleAmountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let nextAmount = e.target.value\n      .replace(',', '.')\n      .replace(/[^\\d.]/g, '')\n      .replace(/^(\\d*\\.?)|(\\d*)\\.?/g, '$1$2');\n\n    if (nextAmount === '.') {\n      nextAmount = '0.';\n    }\n\n    setLocalAmount(nextAmount);\n\n    if (!isNil(Number(nextAmount))) {\n      onAmountChange(nextAmount);\n    }\n  };\n\n  const handleFilterChange = (value: string) => {\n    const nextFilter = value.trim();\n\n    setFilter(nextFilter);\n  };\n\n  const renderBalance = () => {\n    if (!tokenAccount) {\n      return null;\n    }\n\n    if (feeAmountString) {\n      const [feeAmount, symbol] = feeAmountString.split(' ');\n\n      if (tokenAccount?.mint.symbol === symbol) {\n        const fee = majorAmountToMinor(new Decimal(feeAmount), tokenAccount.mint);\n        const balanceWithoutFee = tokenAccount.balance.minus(fee);\n\n        return `${tokenAccount.mint\n          .toMajorDenomination(balanceWithoutFee.gt(0) ? balanceWithoutFee : 0)\n          .toString()} ${tokenAccount?.mint.symbol}`;\n      }\n    }\n\n    return `${tokenAccount?.mint.toMajorDenomination(tokenAccount.balance).toString()} ${\n      tokenAccount?.mint.symbol\n    }`;\n  };\n\n  const filteredTokenAccounts = useMemo(() => {\n    if (!tokenAccounts) {\n      return [];\n    }\n\n    // Token with balance in from selector\n    let filteredWithBalance = tokenAccounts;\n    if (direction === 'from') {\n      filteredWithBalance = tokenAccounts.filter((account) => account.balance.gt(0));\n    }\n\n    if (!filter) {\n      return filteredWithBalance;\n    }\n\n    const filterLower = filter.toLowerCase();\n    return filteredWithBalance\n      .filter(\n        (account) =>\n          account.mint.symbol?.toLowerCase().includes(filterLower) ||\n          account.mint.name?.toLowerCase().includes(filterLower),\n      )\n      .sort((a, b) => b.balance.cmp(a.balance));\n  }, [direction, tokenAccounts, filter]);\n\n  const filteredTokens = useMemo(() => {\n    if (!tokens) {\n      return [];\n    }\n\n    if (!filter) {\n      return tokens;\n    }\n\n    const filterLower = filter.toLowerCase();\n\n    return tokens.filter(\n      (itemToken) =>\n        itemToken.symbol?.toLowerCase().includes(filterLower) ||\n        itemToken.name?.toLowerCase().includes(filterLower),\n    );\n  }, [tokens, filter]);\n\n  const hasBalance = tokenAccount\n    ? tokenAccount.mint.toMajorDenomination(tokenAccount.balance).toNumber() >= Number(localAmount)\n    : false;\n\n  return (\n    <Wrapper className={className}>\n      <TopWrapper>\n        <FromTitle>{direction === 'from' ? 'From' : 'To'}</FromTitle>\n      </TopWrapper>\n      <MainWrapper>\n        <TokenAvatarWrapper className={classNames({ isOpen: isOpen && !token })}>\n          {token ? (\n            <TokenAvatar symbol={token.symbol} address={token.address.toBase58()} size={44} />\n          ) : (\n            <WalletIcon name=\"wallet\" />\n          )}\n        </TokenAvatarWrapper>\n        <InfoWrapper>\n          <SpecifyTokenWrapper>\n            <TokenWrapper\n              ref={selectorRef}\n              onClick={handleSelectorClick}\n              className={classNames({ isOpen })}>\n              <TokenName title={token?.address.toBase58()}>\n                {token?.symbol ||\n                  (tokenAccount && shortAddress(tokenAccount.address.toBase58())) || (\n                    <EmptyName></EmptyName>\n                  )}\n              </TokenName>\n              <ChevronWrapper>\n                <ChevronIcon name=\"arrow-triangle\" />\n              </ChevronWrapper>\n            </TokenWrapper>\n            <AmountInput\n              placeholder={token?.toMajorDenomination(0).toString() || '0'}\n              value={localAmount}\n              onFocus={handleAmountFocus}\n              onChange={handleAmountChange}\n              disabled={disabled || disabledInput}\n            />\n          </SpecifyTokenWrapper>\n          <BalanceWrapper>\n            <BalanceText>\n              {token && tokenAccount ? (\n                direction === 'from' && !disabled ? (\n                  <AllBalance\n                    onClick={handleAllBalanceClick}\n                    className={classNames({ disabled, error: !hasBalance })}>\n                    Available: {renderBalance()}\n                  </AllBalance>\n                ) : (\n                  <>Balance: {renderBalance()}</>\n                )\n              ) : undefined}\n              {!token ? 'Select currency' : undefined}\n            </BalanceText>\n            {token ? (\n              <BalanceText>\n                 <AmountUSDStyled value={new Decimal(localAmount || 0)} symbol={token?.symbol} />\n              </BalanceText>\n            ) : undefined}\n          </BalanceWrapper>\n        </InfoWrapper>\n      </MainWrapper>\n      {isOpen ? (\n        <DropDownListContainer ref={dropdownRef}>\n          <DropDownHeader\n            style={{\n              boxShadow,\n            }}>\n            <Title>Select token</Title>\n            <SlideContainer>\n              <FiltersWrapper>\n                {/* Uncomment in the future */}\n                {/* <SearchCircle> */}\n                {/*  <SearchIcon name=\"search\" /> */}\n                {/* </SearchCircle> */}\n                {/* <FilterName>All</FilterName> */}\n                {/* <FilterName>My tokens set</FilterName> */}\n                {/* <FilterName>Token Exchange</FilterName> */}\n                {/* <FilterName>Aave</FilterName> */}\n                {/* <FilterName>Compound</FilterName> */}\n                {/* <FilterName>Last</FilterName> */}\n                <SearchInput\n                  placeholder=\"Search for token\"\n                  value={filter}\n                  onChange={handleFilterChange}\n                />\n              </FiltersWrapper>\n            </SlideContainer>\n          </DropDownHeader>\n          <DropDownList ref={listRef}>\n            {filteredTokenAccounts?.length ? (\n              <>\n                {direction === 'to' ? <YourTokens>Your tokens</YourTokens> : undefined}\n                {filteredTokenAccounts.map((account) => (\n                  <TokenAccountRow\n                    key={account.address.toBase58()}\n                    tokenAccount={account}\n                    onClick={handleTokenAccountClick}\n                  />\n                ))}\n              </>\n            ) : undefined}\n            {filteredTokens?.length ? (\n              <>\n                <AllTokens>All tokens</AllTokens>\n                {filteredTokens.map((token) => (\n                  <TokenRow\n                    key={token.address.toBase58()}\n                    token={token}\n                    onClick={handleTokenClick}\n                  />\n                ))}\n              </>\n            ) : undefined}\n            {!filteredTokenAccounts?.length && !filteredTokens?.length ? (\n              <Empty type=\"search\" />\n            ) : undefined}\n          </DropDownList>\n        </DropDownListContainer>\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { openModal as openModalRedux } from 'redux-modals-manager';\n\nimport { RootState } from 'store/rootReducer';\nimport { DuplicateModalError } from 'utils/errors';\n\nexport const openModal = createAsyncThunk<any, { modalType: string; props?: any }>(\n  `openModal`,\n  (arg, thunkAPI) => {\n    const { modals } = thunkAPI.getState() as RootState;\n\n    if (modals.some(({ type }) => type === arg.modalType)) {\n      throw new DuplicateModalError(`Dublicate of modal ${arg.modalType}`);\n    }\n\n    return thunkAPI.dispatch(openModalRedux(arg.modalType, arg.props));\n  },\n);\n","import { styled } from '@linaria/react';\n\nimport { WidgetPage } from 'components/common/WidgetPage';\n\nexport const WrapperWidgetPage = styled(WidgetPage)``;\n\nexport const FromWrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  flex-direction: column; /* to don't collapse margins of children */\n\n  margin-bottom: 8px;\n  padding: 16px 20px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n`;\n\nexport const FeeLine = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 44px;\n  margin-top: 10px;\n  padding: 0 20px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n`;\n\nexport const FeeLeft = styled.div`\n  display: flex;\n  flex-grow: 1;\n`;\n\nexport const FeeRight = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const BottomWrapper = styled.div`\n  padding: 24px 0;\n\n  &:not(:has(div:only-child)) {\n    padding: 20px;\n  }\n`;\n\nexport const ButtonWrapper = styled.div``;\n\nexport const TooltipRow = styled.div`\n  display: flex;\n\n  font-size: 14px;\n`;\n\nexport const TxName = styled.div`\n  flex-grow: 1;\n\n  margin-right: 5px;\n\n  font-weight: normal;\n`;\n\nexport const TxValue = styled.div`\n  font-weight: 600;\n`;\n","import { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { LockChain, MintChain, RenNetwork } from '@renproject/interfaces';\nimport RenJS from '@renproject/ren';\nimport {\n  buildBurnContextWithMap,\n  burnMachine,\n  BurnMachineContext,\n  BurnStates,\n  LockChainMap,\n  MintChainMap,\n} from '@renproject/ren-tx';\nimport { BurnSession, isBurnCompleted } from '@renproject/ren-tx/build/main/types/burn';\nimport { useMachine } from '@xstate/react';\nimport BigNumber from 'bignumber.js/bignumber';\n\ninterface BurnParams {\n  /**\n   * Asset to be minted/burned (on native chain) eg. \"BTC\"\n   */\n  sourceAsset: string;\n  /**\n   * Ren network version to be used, which determines network versions for the selected chains\n   */\n  network: RenNetwork | 'testnet' | 'mainnet';\n  /**\n   * Address that will recieve the asset, eg. \"0xA1...\"\n   */\n  destinationAddress: string;\n  /**\n   * How much the user wishes to burn in the minimum denomination (eg SATS for BTC)\n   */\n  targetAmount: string;\n\n  /**\n   * Optional random 32 bytes to make the gateway address unique. Must be persisted in order to restore the transaction\n   */\n  nonce?: string | Buffer;\n}\n\nfunction sessionFromBurnConfigMultiple<X, Y, CustomParams = {}>(config: {\n  burnParams: BurnParams;\n  userAddress: string;\n  destinationChain: string;\n  sourceChain: string;\n  customParams: CustomParams;\n}): BurnSession<X, Y> {\n  const session: BurnSession<X, Y> = {\n    ...config.burnParams,\n    id: '',\n    userAddress: config.userAddress,\n    destAddress: config.burnParams.destinationAddress,\n    destChain: config.destinationChain,\n    sourceChain: config.sourceChain,\n    targetAmount: config.burnParams.targetAmount,\n    customParams: config.customParams,\n    createdAt: Date.now(),\n  };\n  session.id = 'tx-' + Math.floor(Math.random() * 10 ** 16);\n  return session;\n}\n\nexport interface BurnConfig {\n  sdk: RenJS;\n  burnParams: BurnParams;\n  debug?: boolean;\n  autoSubmit?: boolean;\n}\n\n// Use this if you want to handle persistence yourself\nexport interface BurnConfigSingle extends BurnConfig {\n  to: LockChain;\n  from: MintChain;\n  /**\n   * Address that can cryptographically be proven to belong to a user. Used as a \"from\" address for some chains\n   */\n  userAddress: string;\n}\n\n// Use this if you want to set up & restore multiple assets / destinations\nexport interface BurnConfigMultiple<CustomParams = {}> extends BurnConfig {\n  toMap: LockChainMap<BurnMachineContext<any, any>>;\n  fromMap: MintChainMap<BurnMachineContext<any, any>>;\n  /**\n   * Chain that the source asset is located on, eg. \"Bitcoin\"\n   */\n  sourceChain: string;\n  /**\n   * Chain that the asset will be recieved on eg. \"Ethereum\"\n   */\n  destinationChain: string;\n  /**\n   * Address that can cryptographically be proven to belong to a user. Used as a \"from\" address for some chains\n   */\n  userAddress: string;\n  /**\n   * Extra parameters to be used for constructing to/from contract parameters\n   */\n  customParams: CustomParams;\n}\n\nfunction isSingleBurn(c: BurnConfigSingle | BurnConfigMultiple): c is BurnConfigSingle {\n  return (c as BurnConfigSingle).to !== undefined;\n}\n\nconst buildBurnContext = <X, Y>(\n  config: BurnConfigSingle | BurnConfigMultiple,\n): BurnMachineContext<X, Y> => {\n  const { sdk } = config;\n  let tx: BurnSession<X, Y>;\n\n  let fromChainMap: MintChainMap<BurnMachineContext<X, Y>> = {};\n  let toChainMap: LockChainMap<BurnMachineContext<X, Y>> = {};\n  if (isSingleBurn(config)) {\n    fromChainMap = { [config.from.name]: (_: any) => config.from };\n    toChainMap = { [config.to.name]: (_: any) => config.to };\n    tx = sessionFromBurnConfigMultiple({\n      ...config,\n      sourceChain: config.from.name,\n      userAddress: config.userAddress,\n      destinationChain: config.to.name,\n      customParams: {},\n    });\n  } else {\n    tx = sessionFromBurnConfigMultiple(config);\n    fromChainMap = config.fromMap;\n    toChainMap = config.toMap;\n  }\n  return buildBurnContextWithMap({\n    tx,\n    sdk,\n    fromChainMap,\n    toChainMap,\n  });\n};\n\nexport const useBurnAndRelease = (config: BurnConfigSingle | BurnConfigMultiple) => {\n  const context = useMemo(() => buildBurnContext(config), [config]);\n  context.autoSubmit = config.autoSubmit;\n\n  const [state, , machine] = useMachine(burnMachine, {\n    context,\n    devTools: true,\n  });\n  const burn = useCallback(() => {\n    machine.send({ type: 'SUBMIT' });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [machine.send]);\n\n  const [decimals, setDecimals] = useState(0);\n  const [burnExplorerLink, setBurnExplorerLink] = useState<string>();\n  const [releaseExplorerLink, setReleaseExplorerLink] = useState<string>();\n\n  useEffect(() => {\n    void (async () => {\n      const fromChain = state.context.from(state.context);\n\n      const toChain = state.context.to(state.context);\n\n      const currentTx = state.context.tx.transaction;\n\n      if (currentTx) {\n        setBurnExplorerLink(\n          fromChain.utils?.transactionExplorerLink &&\n            fromChain.utils.transactionExplorerLink(\n              currentTx.sourceTxHash || (currentTx as any).rawSourceTx,\n              state.context.tx.network,\n            ),\n        );\n      }\n\n      if (currentTx && isBurnCompleted(currentTx)) {\n        setReleaseExplorerLink(\n          toChain.utils?.transactionExplorerLink &&\n            toChain.utils.transactionExplorerLink(currentTx.destTxHash, state.context.tx.network),\n        );\n      }\n\n      const assetDecimals = await toChain.assetDecimals(state.context.tx.sourceAsset);\n      setDecimals(assetDecimals);\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setDecimals, context]);\n\n  const formatAmount = useCallback(\n    (amount: string) => {\n      return new BigNumber(amount).div(10 ** decimals).toNumber();\n    },\n    [decimals],\n  );\n\n  return {\n    machine,\n    state,\n    formatAmount,\n    burnExplorerLink,\n    releaseExplorerLink,\n    value: state.value as BurnStates,\n    session: state.context.tx,\n    tx: state.context.tx.transaction,\n    burn,\n  };\n};\n","import React, { FC, useMemo } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { Bitcoin } from '@renproject/chains-bitcoin';\nimport { Solana } from '@renproject/chains-solana';\nimport RenJS from '@renproject/ren';\nimport { BurnSession, BurnStates, BurnTransaction, isBurnErroring } from '@renproject/ren-tx';\n\nimport { getWallet } from 'api/wallet';\nimport { useSolana } from 'app/contexts/solana';\nimport { LoaderBlock } from 'components/common/LoaderBlock';\nimport { Accordion, Button } from 'components/ui';\nimport { useBurnAndRelease } from 'utils/hooks/renBridge/useBurnAndRelease.ts';\nimport { useRenNetwork } from 'utils/hooks/renBridge/useNetwork';\n\nconst StatusItems = styled.ul`\n  margin: 0;\n  padding: 0;\n\n  list-style: none;\n`;\n\nconst StatusItem = styled.li`\n  display: flex;\n  align-items: center;\n\n  padding: 12px 0;\n\n  border-bottom: 1px solid #f6f6f8;\n\n  &:nth-last-child() {\n    border-bottom: none;\n  }\n`;\n\nconst Status = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\nconst StatusTitle = styled.div`\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst StatusTimestamp = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n`;\n\nconst StatusAction = styled.div``;\n\nconst BurnStatusItem: FC<{\n  value: BurnStates;\n  session: BurnSession<any, any>;\n  burn: () => void;\n  tx: BurnTransaction | undefined;\n  formatAmount: (amount: string) => number;\n  timestamp?: string;\n}> = ({ value, session, tx, burn, formatAmount, timestamp }) => {\n  switch (value) {\n    case BurnStates.CREATED:\n      return (\n        <StatusItem>\n          <Status>\n            <StatusTitle>Awaiting the signature on your wallet</StatusTitle>\n            {timestamp && <StatusTimestamp>{timestamp}</StatusTimestamp>}\n          </Status>\n          <StatusAction>\n            <Button primary onClick={() => burn()}>{`Burn ${formatAmount(session.targetAmount)} ${\n              session.sourceAsset\n            }`}</Button>\n          </StatusAction>\n        </StatusItem>\n      );\n    case BurnStates.CONFIRMING_BURN:\n      if (!tx) return <LoaderBlock />;\n      return (\n        <StatusItem>\n          <Status>\n            <StatusTitle>Waiting for burn confirmation</StatusTitle>\n            {timestamp && <StatusTimestamp>{timestamp}</StatusTimestamp>}\n          </Status>\n          <StatusAction>\n            <StatusTitle>{`${tx.sourceTxConfs} / ${tx.sourceTxConfTarget}`}</StatusTitle>\n          </StatusAction>\n        </StatusItem>\n      );\n    case BurnStates.RENVM_RELEASING:\n      return (\n        <StatusItem>\n          <Status>\n            <StatusTitle>Submitting to RenVM</StatusTitle>\n            {timestamp && <StatusTimestamp>{timestamp}</StatusTimestamp>}\n          </Status>\n        </StatusItem>\n      );\n    case BurnStates.RENVM_ACCEPTED:\n      return (\n        <StatusItem>\n          <Status>\n            <StatusTitle>Releasing</StatusTitle>\n            {timestamp && <StatusTimestamp>{timestamp}</StatusTimestamp>}\n          </Status>\n        </StatusItem>\n      );\n    case BurnStates.RELEASED:\n      return (\n        <StatusItem>\n          <Status>\n            <StatusTitle>Released</StatusTitle>\n            {timestamp && <StatusTimestamp>{timestamp}</StatusTimestamp>}\n          </Status>\n        </StatusItem>\n      );\n    case BurnStates.ERROR_BURNING:\n    case BurnStates.ERROR_RELEASING:\n      if (!isBurnErroring(session)) return <LoaderBlock />;\n      return (\n        <StatusItem>\n          <Status>\n            <StatusTitle style={{ color: '#ff5959' }}>{session.error.message}</StatusTitle>\n          </Status>\n        </StatusItem>\n      );\n    default:\n      return <LoaderBlock />;\n  }\n};\n\ntype Props = {\n  destinationAddress: string;\n  targetAmount: string;\n};\n\nexport const BurnAndRelease: FC<Props> = ({ destinationAddress, targetAmount }) => {\n  const solanaProvider = useSolana();\n  const network = useRenNetwork();\n  const burnAndReleaseProps = useMemo(() => {\n    const amount = String(Math.floor(Number(targetAmount) * Math.pow(10, 8)));\n\n    return {\n      sdk: new RenJS(network),\n      burnParams: {\n        sourceAsset: Bitcoin.asset,\n        network,\n        destinationAddress,\n        targetAmount,\n      },\n      userAddress: getWallet().pubkey.toBase58(),\n      from: new Solana(solanaProvider, network).Account({\n        address: getWallet().pubkey.toBase58(),\n        value: amount,\n        amount,\n      }),\n      to: new Bitcoin().Address(destinationAddress),\n      autoSubmit: true,\n    };\n  }, [destinationAddress, network, solanaProvider, targetAmount]);\n\n  const machine = useBurnAndRelease(burnAndReleaseProps);\n  if (!machine) return null;\n\n  return (\n    <Accordion title=\"Receiving statuses\" open>\n      <StatusItems>\n        <BurnStatusItem {...machine} />\n      </StatusItems>\n    </Accordion>\n  );\n};\n","import React, { FunctionComponent, useEffect, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { rgba } from 'polished';\n\nimport { ResolveUsernameResponce } from 'api/nameService';\nimport { AddressText } from 'components/common/AddressText';\nimport { Loader } from 'components/common/Loader';\nimport { Icon } from 'components/ui';\n\nconst WalletIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nconst SearchIcon = styled(Icon)`\n  width: 32px;\n  height: 32px;\n\n  color: #a3a5ba;\n`;\n\nconst IconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n\n  &.isFocused {\n    background: #5887ff !important;\n\n    ${WalletIcon}, ${SearchIcon} {\n      color: #fff !important;\n    }\n  }\n`;\n\nconst WrapperLabel = styled.label`\n  display: flex;\n\n  &:hover {\n    ${IconWrapper} {\n      background: #eff3ff;\n\n      ${WalletIcon}, ${SearchIcon} {\n        color: #5887ff;\n      }\n    }\n  }\n`;\n\nconst ToInput = styled.input`\n  flex: 1;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 120%;\n\n  background: transparent;\n  border: 0;\n\n  outline: none;\n\n  appearance: none;\n\n  &.isAddressResolved {\n    height: 18px;\n    font-size: 16px;\n  }\n\n  &.hasError {\n    height: 18px;\n    font-size: 16px;\n  }\n\n  &::placeholder {\n    color: ${rgba('#A3A5BA', 0.5)};\n  }\n`;\n\nconst AddressWrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  margin-left: 12px;\n`;\n\nconst Error = styled.div`\n  flex-grow: 1;\n\n  font-weight: 600;\n  font-size: 14px;\n\n  color: #f43d3d;\n`;\n\nconst WalletIconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst ResolvedNamesList = styled.ul`\n  position: absolute;\n  margin: 0;\n  padding: 8px 10px;\n  width: 125%;\n  top: 45px;\n  right: -20px;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0px 0px 12px rgb(0 0 0 / 8%);\n  z-index: 10;\n`;\n\nconst ResolvedNamesItem = styled.li`\n  display: flex;\n  padding: 16px 10px;\n\n  list-style: none;\n  border-radius: 12px;\n\n  cursor: pointer;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #f6f6f8;\n  }\n\n  &:hover {\n    background: #f6f6f8;\n    ${WalletIconWrapper} {\n      background: #fff;\n\n      ${WalletIcon} {\n        color: #5887ff;\n      }\n    }\n  }\n`;\n\nconst NameAddress = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  margin-left: 12px;\n`;\n\nconst Name = styled.div`\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst LoaderWrapper = styled.div`\n  position: absolute;\n  right: 0;\n  top: 8px;\n`;\n\ntype Props = {\n  value: string;\n  resolvedAddress?: string | null;\n  isAddressInvalid: boolean;\n  resolvedNames: ResolveUsernameResponce[];\n  isResolvingNames: boolean;\n  onResolvedNameClick: (props: any) => void;\n  onChange: (publicKey: string) => void;\n};\n\nexport const ToAddressInput: FunctionComponent<Props> = ({\n  value,\n  resolvedAddress,\n  isAddressInvalid = false,\n  resolvedNames = [],\n  isResolvingNames = false,\n  onResolvedNameClick,\n  onChange,\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const listRef = useRef<HTMLUListElement>(null);\n  const [isFocused, setIsFocused] = useState(false);\n  const [isResolvedNamesListOpen, setIsResolvedNamesListOpen] = useState(false);\n\n  useEffect(() => {\n    if (resolvedNames.length > 1) {\n      setIsResolvedNamesListOpen(true);\n    } else {\n      setIsResolvedNamesListOpen(false);\n    }\n  }, [resolvedNames.length]);\n\n  useEffect(() => {\n    const clickListener = (e: MouseEvent) => {\n      if (!listRef.current?.contains(e.target as HTMLDivElement)) {\n        setIsResolvedNamesListOpen(false);\n      }\n      if (inputRef.current?.contains(e.target as HTMLDivElement) && resolvedNames.length > 1) {\n        setIsResolvedNamesListOpen(true);\n      }\n    };\n\n    window.addEventListener('click', clickListener);\n\n    return () => {\n      window.removeEventListener('click', clickListener);\n    };\n  }, [resolvedNames.length]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const nextValue = e.target.value.trim();\n\n    onChange(nextValue);\n  };\n\n  const handleItemClick = (params: any) => () => {\n    setIsResolvedNamesListOpen(false);\n    onResolvedNameClick(params);\n  };\n\n  return (\n    <WrapperLabel>\n      <IconWrapper className={classNames({ isFocused })}>\n        {resolvedAddress || (!isAddressInvalid && value.length > 40) ? (\n          <WalletIcon name=\"home\" />\n        ) : (\n          <SearchIcon name=\"search\" />\n        )}\n      </IconWrapper>\n      <AddressWrapper>\n        <ToInput\n          className={classNames({ isAddressResolved: resolvedAddress, hasError: isAddressInvalid })}\n          placeholder=\"Username / SOL address\"\n          value={value}\n          onChange={handleChange}\n          onFocus={() => setIsFocused(true)}\n          onBlur={() => setIsFocused(false)}\n          ref={inputRef}\n        />\n        {resolvedAddress ? <AddressText address={resolvedAddress} small gray /> : undefined}\n        {!isResolvingNames && !isResolvedNamesListOpen && isAddressInvalid ? (\n          <Error>Theres no address like this</Error>\n        ) : undefined}\n        {isResolvingNames ? (\n          <LoaderWrapper>\n            <Loader />\n          </LoaderWrapper>\n        ) : undefined}\n        {isResolvedNamesListOpen ? (\n          <ResolvedNamesList ref={listRef}>\n            {resolvedNames.map((item: any) => (\n              <ResolvedNamesItem\n                key={item.name}\n                onClick={handleItemClick({\n                  address: item.owner,\n                  name: item.name,\n                })}>\n                <WalletIconWrapper>\n                  <WalletIcon name=\"home\" />\n                </WalletIconWrapper>\n                <NameAddress>\n                  <Name>{item.name}</Name>\n                  <AddressText address={item.owner} small gray />\n                </NameAddress>\n              </ResolvedNamesItem>\n            ))}\n          </ResolvedNamesList>\n        ) : undefined}\n      </AddressWrapper>\n    </WrapperLabel>\n  );\n};\n","import React, { FunctionComponent, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport { styled } from '@linaria/react';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { Bitcoin } from '@renproject/chains-bitcoin';\nimport { RenNetwork } from '@renproject/interfaces';\nimport { PublicKey } from '@solana/web3.js';\nimport classNames from 'classnames';\nimport Decimal from 'decimal.js';\nimport { rgba } from 'polished';\n\nimport { ResolveUsernameResponce } from 'api/nameService';\nimport { Token } from 'api/token/Token';\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { RateUSD } from 'components/common/RateUSD';\nimport { FromToSelectInput } from 'components/common/SendSwapWidget/common/FromToSelectInput';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Button, Icon, Switch, Tooltip } from 'components/ui';\nimport { Select, TextField } from 'components/ui';\nimport { MenuItem } from 'components/ui/Select/MenuItem';\nimport { openModal } from 'store/actions/modals';\nimport {\n  SHOW_MODAL_ERROR,\n  SHOW_MODAL_TRANSACTION_CONFIRM,\n  SHOW_MODAL_TRANSACTION_STATUS,\n} from 'store/constants/modalTypes';\nimport { RootState } from 'store/rootReducer';\nimport {\n  getMinimumBalanceForRentExemption,\n  getRecentBlockhash,\n  getTokenAccount,\n  resolveUsername,\n  transfer,\n} from 'store/slices/wallet/WalletSlice';\nimport { minorAmountToMajor } from 'utils/amount';\nimport { trackEvent } from 'utils/analytics';\nimport { useRenNetwork } from 'utils/hooks/renBridge/useNetwork';\nimport { useTrackEventOnce } from 'utils/hooks/useTrackEventOnce';\nimport { useFetchFees } from 'utils/providers/LockAndMintProvider';\n\nimport { Hint } from '../../Hint';\nimport {\n  BottomWrapper,\n  ButtonWrapper,\n  FromWrapper,\n  TooltipRow,\n  TxName,\n  TxValue,\n  WrapperWidgetPage,\n} from '../common/styled';\nimport { BurnAndRelease } from './BurnAndRelease';\nimport { ToAddressInput } from './ToAddressInput';\n\nconst Wrapper = styled.div`\n  margin-top: 16px;\n  padding: 8px 20px;\n`;\n\nconst ToSendWrapper = styled(FromWrapper)``;\n\nconst FromTitle = styled.div`\n  margin-bottom: 8px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst InfoIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  margin-left: 10px;\n\n  color: #a3a5ba;\n`;\n\nconst ConfirmWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n  padding: 20px 0 0;\n\n  &.isShowConfirmAddressSwitch {\n    border-top: 1px solid #f6f6f8;\n  }\n`;\n\nconst ConfirmTextWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\nconst ConfirmTextPrimary = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n`;\nconst ConfirmTextSecondary = styled.div`\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst HintWrapper = styled.div`\n  padding: 12px 0;\n\n  color: #a3a5ba;\n  font-size: 14px;\n  line-height: 21px;\n  text-align: center;\n\n  border-top: 1px solid ${rgba('#000', 0.05)};\n`;\n\nconst Error = styled.div`\n  margin-left: 66px;\n\n  color: #f43d3d;\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst TextFieldTXStyled = styled(TextField)`\n  margin-bottom: 8px;\n\n  &.isFree {\n    color: #2db533;\n  }\n`;\n\nconst TextFieldStyled = styled(TextField)`\n  margin-bottom: 8px;\n`;\n\nconst NetworkSelectWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  margin-bottom: 8px;\n  padding: 12px 20px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst NetworkSelectText = styled.div`\n  display: flex;\n  flex-grow: 1;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst SendIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n  margin-right: 12px;\n`;\n\nconst SOURCE_NETWORKS = ['solana', 'bitcoin'];\nconst BURN_ALLOCATE_ACCOUNT_SIZE = 97;\n\ntype Props = {\n  publicKey: string | null;\n};\n\nconst isValidAmount = (amount: string): boolean => {\n  const amountValue = Number.parseFloat(amount);\n\n  return amount === '' || amountValue === 0;\n};\n\nconst isValidAddress = (\n  isSolanaNetwork: boolean,\n  address: string,\n  network: RenNetwork,\n): boolean => {\n  if (isSolanaNetwork && address.length >= 40) {\n    try {\n      // eslint-disable-next-line no-new\n      new PublicKey(address);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  return Bitcoin.utils.addressIsValid(address, network);\n};\n\nconst formatFee = (amount: number): number =>\n  new Decimal(amount)\n    .div(10 ** 9)\n    .toDecimalPlaces(9)\n    .toNumber();\n\nconst getTransactionFee = (amount: string, fees: any) => {\n  const amountNumber = Number(amount);\n  const renTxTypeFee = fees.burn;\n  const networkFee = Number(fees.release) / 10 ** 8;\n  const renVMFee = Number(renTxTypeFee) / 10000; // percent value\n  const renVMFeeAmount = Number(amountNumber * renVMFee);\n  const total = Number(Number(amountNumber - renVMFeeAmount - networkFee).toFixed(6));\n  return total > 0 ? total : 0;\n};\n\nexport const SendWidget: FunctionComponent<Props> = ({ publicKey = '' }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const trackEventOnce = useTrackEventOnce();\n  const [fromAmount, setFromAmount] = useState('');\n  const [toTokenPublicKey, setToTokenPublicKey] = useState('');\n  const [txFee, setTxFee] = useState(0);\n  const [rentFee, setRentFee] = useState(0);\n  const [isExecuting, setIsExecuting] = useState(false);\n  const [isShowConfirmAddressSwitch, setIsShowConfirmAddressSwitch] = useState(false);\n  const [isConfirmCorrectAddress, setIsConfirmCorrectAddress] = useState(false);\n  const [destinationNetwork, setDestinationNetwork] = useState(SOURCE_NETWORKS[0]);\n  const [isInitBurnAndRelease, setIsInitBurnAndRelease] = useState(false);\n  const [renBtcMinimalAmount, setRenBtcMinimalAmount] = useState(0);\n  const [usernameResolvedAddress, setUsernameResolvedAddress] = useState<string | null>(null);\n  const [isSolanaNetwork, setIsSolanaNetwork] = useState(true);\n  const [resolvedNames, setResolvedNames] = useState<Array<ResolveUsernameResponce>>([]);\n  const [isResolvingNames, setisResolvingNames] = useState(false);\n\n  const network = useRenNetwork();\n  const { fees, pending: isFetchingFee } = useFetchFees(!isSolanaNetwork);\n\n  const tokenAccounts = useSelector((state: RootState) =>\n    state.wallet.tokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n  const fromTokenAccount = useMemo(\n    () => tokenAccounts.find((account) => account.address.toBase58() === publicKey),\n    [tokenAccounts, publicKey],\n  );\n\n  const useFreeTransactions = useSelector(\n    (state: RootState) => state.wallet.settings.useFreeTransactions,\n  );\n  const isNetworkSourceSelectorVisible = fromTokenAccount?.mint.symbol === 'renBTC';\n\n  useEffect(() => {\n    if (destinationNetwork !== 'solana') {\n      setIsSolanaNetwork(false);\n    } else {\n      setIsSolanaNetwork(true);\n    }\n    if (destinationNetwork !== 'solana' && fromTokenAccount?.mint.symbol !== 'renBTC') {\n      setIsSolanaNetwork(true);\n    }\n  }, [destinationNetwork, fromTokenAccount?.mint.symbol]);\n\n  useEffect(() => {\n    async function resolveName() {\n      setisResolvingNames(true);\n      const resolved = unwrapResult(await dispatch(resolveUsername(toTokenPublicKey)));\n      setisResolvingNames(false);\n      setResolvedNames([]);\n      setUsernameResolvedAddress(null);\n      if (resolved.length === 1) {\n        setUsernameResolvedAddress(resolved[0].owner);\n      } else if (resolved.length > 1) {\n        setResolvedNames(resolved);\n      }\n    }\n    if (isSolanaNetwork && toTokenPublicKey.length > 0 && toTokenPublicKey.length <= 40) {\n      resolveName();\n    } else {\n      setUsernameResolvedAddress(null);\n    }\n  }, [dispatch, isSolanaNetwork, toTokenPublicKey]);\n\n  useEffect(() => {\n    const mount = async () => {\n      try {\n        const resultRentFee = unwrapResult(\n          await dispatch(getMinimumBalanceForRentExemption(BURN_ALLOCATE_ACCOUNT_SIZE)),\n        );\n\n        const resultRecentBlockhash = unwrapResult(await dispatch(getRecentBlockhash()));\n\n        setRentFee(formatFee(resultRentFee));\n        setTxFee(formatFee(resultRecentBlockhash.feeCalculator.lamportsPerSignature));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    if (!useFreeTransactions || isNetworkSourceSelectorVisible) {\n      void mount();\n    }\n  }, [dispatch, useFreeTransactions, isNetworkSourceSelectorVisible]);\n\n  useEffect(() => {\n    const checkDestinationAddress = async () => {\n      const account = unwrapResult(\n        await dispatch(getTokenAccount(new PublicKey(toTokenPublicKey))),\n      );\n\n      if (!account) {\n        setIsShowConfirmAddressSwitch(true);\n      }\n    };\n\n    if (isSolanaNetwork && isValidAddress(isSolanaNetwork, toTokenPublicKey, network)) {\n      void checkDestinationAddress();\n    } else {\n      setIsShowConfirmAddressSwitch(false);\n    }\n  }, [dispatch, isSolanaNetwork, network, toTokenPublicKey]);\n\n  const handleSubmit = async () => {\n    if (!isSolanaNetwork) {\n      const result = unwrapResult(\n        await dispatch(\n          openModal({\n            modalType: SHOW_MODAL_TRANSACTION_CONFIRM,\n            props: {\n              type: 'send',\n              params: {\n                source: fromTokenAccount,\n                destination: toTokenPublicKey,\n                amount: fromAmount,\n              },\n            },\n          }),\n        ),\n      );\n\n      if (!result) {\n        return false;\n      }\n\n      setIsInitBurnAndRelease(true);\n\n      return;\n    }\n\n    if (!fromTokenAccount) {\n      throw new Error(\"Didn't find token\");\n    }\n\n    const amount = new Decimal(fromAmount).mul(10 ** fromTokenAccount?.mint.decimals).toNumber();\n\n    if (!amount || amount <= 0) {\n      throw new Error('Invalid amount');\n    }\n\n    const destination = new PublicKey(\n      usernameResolvedAddress ? usernameResolvedAddress : toTokenPublicKey,\n    );\n\n    if (fromTokenAccount?.mint.symbol !== 'SOL') {\n      const account = unwrapResult(await dispatch(getTokenAccount(destination)));\n\n      if (\n        account &&\n        account.mint.symbol !== 'SOL' &&\n        !account.mint.address.equals(fromTokenAccount.mint.address)\n      ) {\n        void dispatch(\n          openModal({\n            modalType: SHOW_MODAL_ERROR,\n            props: {\n              icon: 'wallet',\n              header: 'Wallet address is not valid',\n              text: `The wallet address is not valid. It must be a ${fromTokenAccount.mint.symbol} wallet address`,\n            },\n          }),\n        );\n        return;\n      }\n    }\n\n    const result = unwrapResult(\n      await dispatch(\n        openModal({\n          modalType: SHOW_MODAL_TRANSACTION_CONFIRM,\n          props: {\n            type: 'send',\n            params: {\n              source: fromTokenAccount,\n              destination: destination.toBase58(),\n              amount: fromAmount,\n              username: usernameResolvedAddress ? toTokenPublicKey : '',\n            },\n          },\n        }),\n      ),\n    );\n\n    if (!result) {\n      return false;\n    }\n\n    try {\n      setIsExecuting(true);\n\n      const action = transfer({\n        source: fromTokenAccount.address,\n        destination,\n        amount,\n      });\n\n      trackEvent('send_send_click', {\n        tokenTicker: fromTokenAccount.mint.symbol || '',\n        sum: amount,\n      });\n\n      unwrapResult(\n        await dispatch(\n          openModal({\n            modalType: SHOW_MODAL_TRANSACTION_STATUS,\n            props: {\n              type: 'send',\n              action,\n              fromToken: fromTokenAccount.mint,\n              fromAmount: new Decimal(amount),\n            },\n          }),\n        ),\n      );\n    } catch (error) {\n      ToastManager.error((error as Error).message);\n    } finally {\n      setIsExecuting(false);\n    }\n  };\n\n  const handleFromTokenAccountChange = (\n    nextToken: Token,\n    nextTokenAccount: TokenAccount | null,\n  ) => {\n    if (!nextTokenAccount) {\n      return;\n    }\n\n    trackEvent('send_select_token_click', { tokenTicker: nextTokenAccount.mint.symbol || '' });\n\n    history.replace(`/send/${nextTokenAccount.address.toBase58()}`);\n  };\n\n  const handleFromAmountChange = (minorAmount: string, type?: string) => {\n    setFromAmount(minorAmount);\n    if (!isSolanaNetwork && !isFetchingFee) {\n      const amount = getTransactionFee(minorAmount, fees);\n      setRenBtcMinimalAmount(amount);\n    }\n\n    if (type === 'available') {\n      trackEvent('send_available_click', { sum: Number(minorAmount) });\n    } else {\n      trackEvent('send_amount_keydown', { sum: Number(minorAmount) });\n    }\n  };\n\n  const handleToPublicKeyChange = (nextPublicKey: string) => {\n    setToTokenPublicKey(nextPublicKey);\n\n    if (!nextPublicKey) {\n      setResolvedNames([]);\n    }\n\n    trackEventOnce('send_address_keydown');\n  };\n\n  const handleResolveNameChange = ({ address, name }: any) => {\n    setToTokenPublicKey(name);\n    setUsernameResolvedAddress(address);\n  };\n\n  const hasBalance = fromTokenAccount\n    ? minorAmountToMajor(fromTokenAccount.balance, fromTokenAccount.mint).toNumber() >=\n      Number(fromAmount)\n    : false;\n\n  const isDisabled = isExecuting;\n  const destinationAddress = usernameResolvedAddress ? usernameResolvedAddress : toTokenPublicKey;\n  const isValidDestinationAddress = destinationAddress.length\n    ? isValidAddress(isSolanaNetwork, destinationAddress, network)\n    : true;\n  const toolTipItems = [];\n  if (useFreeTransactions && !isNetworkSourceSelectorVisible) {\n    toolTipItems.push(\n      <TooltipRow key=\"tooltip-row-1\">Paid by p2p.org.</TooltipRow>,\n      <TooltipRow key=\"tooltip-row-2\">We take care of all transfers costs .</TooltipRow>,\n    );\n  } else {\n    toolTipItems.push(\n      <TooltipRow key=\"tooltip-row-3\">\n        <TxName>Transaction:</TxName>\n        <TxValue>{`${txFee} SOL`}</TxValue>\n      </TooltipRow>,\n    );\n\n    if (!isSolanaNetwork) {\n      toolTipItems.push(\n        <TooltipRow key=\"tooltip-row-4\">\n          <TxName>Fee:</TxName>\n          <TxValue>{`${rentFee} SOL`}</TxValue>\n        </TooltipRow>,\n      );\n    }\n  }\n\n  const hasRenBtcMinimalAmount =\n    isNetworkSourceSelectorVisible && !isSolanaNetwork ? renBtcMinimalAmount > 0 : true;\n\n  return (\n    <div>\n      <WrapperWidgetPage title=\"Send\" icon=\"top\">\n        <Wrapper>\n          <FromWrapper>\n            <FromToSelectInput\n              tokenAccounts={tokenAccounts}\n              token={fromTokenAccount?.mint}\n              tokenAccount={fromTokenAccount}\n              amount={fromAmount}\n              onTokenAccountChange={handleFromTokenAccountChange}\n              onAmountChange={handleFromAmountChange}\n              disabled={isDisabled}\n            />\n          </FromWrapper>\n          <ToSendWrapper>\n            <FromTitle>To</FromTitle>\n            <ToAddressInput\n              value={toTokenPublicKey || ''}\n              resolvedAddress={usernameResolvedAddress}\n              isAddressInvalid={!isValidDestinationAddress}\n              onChange={handleToPublicKeyChange}\n              resolvedNames={resolvedNames}\n              onResolvedNameClick={handleResolveNameChange}\n              isResolvingNames={isResolvingNames}\n            />\n            {isShowConfirmAddressSwitch ? (\n              <ConfirmWrapper className={classNames({ isShowConfirmAddressSwitch })}>\n                <ConfirmTextWrapper>\n                  <ConfirmTextPrimary>\n                    Is this address correct? It doesnt have funds.\n                  </ConfirmTextPrimary>\n                  <ConfirmTextSecondary>Im sure, Its correct</ConfirmTextSecondary>\n                </ConfirmTextWrapper>\n                <Switch\n                  checked={isConfirmCorrectAddress}\n                  onChange={() => setIsConfirmCorrectAddress(!isConfirmCorrectAddress)}\n                />\n              </ConfirmWrapper>\n            ) : undefined}\n          </ToSendWrapper>\n          {isNetworkSourceSelectorVisible ? (\n            <NetworkSelectWrapper>\n              <NetworkSelectText>Network</NetworkSelectText>\n              <Select value={destinationNetwork}>\n                {SOURCE_NETWORKS.map((network) => (\n                  <MenuItem\n                    key={network}\n                    isSelected={network === destinationNetwork}\n                    onItemClick={() => setDestinationNetwork(network)}>\n                    {network}\n                  </MenuItem>\n                ))}\n              </Select>\n            </NetworkSelectWrapper>\n          ) : undefined}\n          <TextFieldStyled\n            label=\"Current price\"\n            value={\n              <>\n                <RateUSD symbol={fromTokenAccount?.mint.symbol} />{' '}\n                <span>&nbsp;per {fromTokenAccount?.mint.symbol} </span>\n              </>\n            }\n          />\n          <TextFieldTXStyled\n            label=\"Transfer fee\"\n            value={isSolanaNetwork ? 'Free' : `${txFee + rentFee} SOL`}\n            icon={<Tooltip title={<InfoIcon name=\"info\" />}>{toolTipItems}</Tooltip>}\n            className={classNames({ isFree: isSolanaNetwork })}\n          />\n          <BottomWrapper>\n            <ButtonWrapper>\n              <Button\n                primary={!isDisabled}\n                disabled={\n                  isDisabled ||\n                  isValidAmount(fromAmount) ||\n                  (isSolanaNetwork && !isValidDestinationAddress) ||\n                  !hasBalance ||\n                  (isShowConfirmAddressSwitch && !isConfirmCorrectAddress) ||\n                  !hasRenBtcMinimalAmount\n                }\n                big\n                full\n                onClick={handleSubmit}>\n                <SendIcon name=\"top\" />\n                Send now\n              </Button>\n            </ButtonWrapper>\n          </BottomWrapper>\n          <HintWrapper>Send SOL or any SPL Tokens on one address</HintWrapper>\n          {isInitBurnAndRelease ? (\n            <BurnAndRelease destinationAddress={toTokenPublicKey} targetAmount={fromAmount} />\n          ) : undefined}\n        </Wrapper>\n      </WrapperWidgetPage>\n      <Hint />\n    </div>\n  );\n};\n","import React, { FunctionComponent, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { rgba } from 'polished';\n\nimport { Transaction } from 'api/transaction/Transaction';\nimport bgImg from 'assets/images/sun.png';\nimport { Card } from 'components/common/Card';\nimport { Button, Icon } from 'components/ui';\nimport { openModal } from 'store/actions/modals';\nimport { SHOW_MODAL_TRANSACTION_DETAILS } from 'store/constants/modalTypes';\nimport { RootState } from 'store/rootReducer';\nimport { getTransaction } from 'store/slices/transaction/TransactionSlice';\n\nconst WrapperCard = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 32px;\n`;\n\nconst HeaderImage = styled.div`\n  width: 175px;\n  height: 183px;\n  margin-bottom: 32px;\n\n  background-image: url(${bgImg});\n  background-repeat: no-repeat;\n  background-size: 183px 175px;\n`;\n\nconst CircleWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 56px;\n  height: 56px;\n  margin: 32px -4px 24px 0;\n\n  background: #e1e1e1;\n  border-radius: 50%;\n`;\n\nconst BottomIcon = styled(Icon)`\n  width: 17px;\n  height: 17px;\n\n  transform: rotate(180deg);\n`;\n\nconst InfoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 32px;\n`;\n\nconst Value = styled.div`\n  color: #000;\n  font-weight: 500;\n  font-size: 28px;\n  line-height: 33px;\n`;\n\nconst Status = styled.div`\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 12px 0;\n  padding: 0 16px;\n\n  color: ${rgba('#000', 0.5)};\n  font-weight: bold;\n  font-size: 12px;\n  line-height: 14px;\n\n  background: #f4f4f4;\n  border-radius: 8px;\n`;\n\nconst Details = styled.div`\n  color: ${rgba('#000', 0.5)};\n  font-size: 14px;\n  line-height: 140%;\n\n  cursor: pointer;\n`;\n\nexport const ResultWidget: FunctionComponent = () => {\n  const { state: locationState } = useLocation<{ signature: string }>();\n  const dispatch = useDispatch();\n  const transaction = useSelector(\n    (state: RootState) =>\n      state.transaction.items[locationState.signature] &&\n      Transaction.from(state.transaction.items[locationState.signature]),\n  );\n\n  useEffect(() => {\n    const mount = async () => {\n      const trx = unwrapResult(await dispatch(getTransaction(locationState.signature)));\n\n      if (!trx) {\n        setTimeout(mount, 3000);\n      }\n    };\n\n    if (locationState.signature) {\n      void mount();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch]);\n\n  const handleDetailsClick = () => {\n    void dispatch(\n      openModal({\n        modalType: SHOW_MODAL_TRANSACTION_DETAILS,\n        props: { signature: locationState?.signature },\n      }),\n    );\n  };\n\n  return (\n    <WrapperCard>\n      <HeaderImage />\n      <CircleWrapper>\n        <BottomIcon name=\"bottom\" />\n      </CircleWrapper>\n      <InfoWrapper>\n        {transaction ? (\n          <Value>\n            {transaction.short.destinationAmount.toNumber()}{' '}\n            {transaction.short.sourceTokenAccount?.mint.symbol}\n          </Value>\n        ) : undefined}\n        <Status>{transaction ? 'Processed' : 'Processing'}</Status>\n        {transaction ? (\n          <Details onClick={handleDetailsClick}>Transaction details</Details>\n        ) : undefined}\n      </InfoWrapper>\n      {transaction?.short.source ? (\n        <Link to={`/wallet/${transaction.short.source.toBase58()}`} className=\"button\">\n          <Button primary big full>\n            Go back to wallet\n          </Button>\n        </Link>\n      ) : undefined}\n    </WrapperCard>\n  );\n};\n","import React, { FunctionComponent, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation, useParams } from 'react-router-dom';\n\nimport { Layout } from 'components/common/Layout';\nimport { SendWidget } from 'components/common/SendSwapWidget/SendWidget';\nimport { ResultWidget } from 'components/pages/send/ResultWidget';\nimport { trackEvent } from 'utils/analytics';\n\nexport const Send: FunctionComponent = () => {\n  const location = useLocation<{ fromPage: string }>();\n  const { publicKey, status } = useParams<{ publicKey: string; status: string }>();\n  const publicKeySol = useSelector((state) => state.wallet.publicKey);\n\n  useEffect(() => {\n    trackEvent('send_open', { fromPage: location.state.fromPage });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Layout\n      breadcrumb={\n        status === 'result'\n          ? {\n              currentName: 'Result',\n              backTo: {\n                pathname: `/send/${publicKey || publicKeySol}`,\n                state: { fromPage: location.pathname },\n              },\n            }\n          : undefined\n      }\n      rightColumn={\n        status !== 'result' ? (\n          <SendWidget publicKey={publicKey || publicKeySol} />\n        ) : (\n          <ResultWidget />\n        )\n      }\n    />\n  );\n};\n","import React, { FunctionComponent, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { Feature } from 'flagged';\n\nimport { forgetWallet } from 'api/wallet/ManualWallet';\nimport AppStoreBadge from 'assets/images/app-store-badge.png';\nimport GooglePlayBadge from 'assets/images/google-play-badge.png';\nimport { Layout } from 'components/common/Layout';\nimport { UsernameAddressWidget } from 'components/common/UsernameAddressWidget';\nimport { WidgetPage } from 'components/common/WidgetPage';\nimport { Accordion, Icon, Select, Switch } from 'components/ui';\nimport { MenuItem } from 'components/ui/Select/MenuItem';\nimport { appStorePath, playStorePath } from 'config/constants';\nimport { FEATURE_SETTINGS_FREE_TRANSACTIONS, FEATURE_SETTINGS_LIST } from 'config/featureFlags';\nimport { disconnect, updateSettings } from 'store/slices/wallet/WalletSlice';\nimport { trackEvent } from 'utils/analytics';\nimport { useUsername } from 'utils/hooks/useUsername';\nimport { appearance, currencies } from 'utils/settings';\nimport { WalletSettings } from 'utils/types';\n\nconst Wrapper = styled.div`\n  display: grid;\n  grid-gap: 24px;\n`;\n\nconst ItemsWrapper = styled.div`\n  margin-top: 10px;\n  padding: 20px;\n\n  border-bottom: 1px solid #f6f6f8;\n`;\n\nconst Item = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 20px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n\n  &:not(:last-child) {\n    margin-bottom: 8px;\n  }\n`;\n\nconst ItemTitle = styled.div`\n  display: flex;\n  flex-grow: 1;\n\n  font-size: 16px;\n  font-weight: 600;\n`;\n\nconst ItemAction = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst LogoutWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 20px;\n`;\n\nconst Logout = styled.div`\n  padding: 0 10px;\n  font-size: 16px;\n  font-weight: 600;\n\n  color: #f43d3d;\n\n  cursor: pointer;\n`;\n\nconst CurrencyItem = styled.div``;\n\nconst Symbol = styled.span`\n  padding-left: 3px;\n\n  color: #a3a5ba;\n`;\n\nconst Capitalize = styled.span`\n  text-transform: capitalize;\n`;\n\nconst Title = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 16px;\n\n  text-align: right;\n\n  &.overflow-ellipsis {\n    width: 250px;\n    overflow: hidden;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n`;\n\nconst ChevronIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #a3a5ba;\n`;\n\nconst ChevronWrapper = styled.div`\n  margin-left: 20px;\n\n  transform: rotate(270deg);\n`;\n\nconst AccordionItem = styled.div`\n  margin-bottom: 8px;\n`;\n\nconst AccordionTitle = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 95%;\n`;\n\nconst AccordionTitlePrimary = styled.div``;\n\nconst AccordionTitleSecondary = styled.div`\n  &.warning {\n    color: #f43d3d;\n  }\n`;\n\nconst MobileButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  width: 263px;\n  padding: 5px 0;\n`;\n\nconst Text = styled.div`\n  margin-bottom: 20px;\n`;\n\nexport const Settings: FunctionComponent = () => {\n  const location = useLocation<{ fromPage: string }>();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const settings = useSelector((state) => state.wallet.settings);\n  const publicKey = useSelector((state) => state.wallet.publicKey);\n  const { username, domain } = useUsername();\n\n  useEffect(() => {\n    trackEvent('settings_open', { fromPage: location.state.fromPage });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleLogoutClick = () => {\n    trackEvent('settings_logout_click');\n    forgetWallet();\n    void dispatch(disconnect());\n  };\n\n  const onItemClickHandler = (option: Partial<WalletSettings> = settings) => () => {\n    dispatch(updateSettings(option));\n  };\n\n  const { network } = settings;\n\n  return (\n    <Layout\n      rightColumn={\n        <Wrapper>\n          <WidgetPage icon=\"gear\" title=\"Settings\">\n            <ItemsWrapper>\n              <Feature name={FEATURE_SETTINGS_LIST}>\n                <Item>\n                  <ItemTitle>Currency</ItemTitle>\n                  <ItemAction>\n                    <Select value={settings.currency}>\n                      {currencies.map(({ ticker, name, symbol }) => (\n                        <MenuItem\n                          key={ticker}\n                          isSelected={ticker === settings.currency}\n                          onItemClick={onItemClickHandler({ currency: ticker })}>\n                          <CurrencyItem>\n                            {name}\n                            <Symbol>{`(${symbol})`}</Symbol>\n                          </CurrencyItem>\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </ItemAction>\n                </Item>\n                <Item>\n                  <ItemTitle>Appearance</ItemTitle>\n                  <ItemAction>\n                    <Select value={settings.appearance}>\n                      {appearance.map((value) => (\n                        <MenuItem\n                          key={value}\n                          isSelected={value === settings.appearance}\n                          onItemClick={onItemClickHandler({ appearance: value })}>\n                          <Capitalize>{value}</Capitalize>\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </ItemAction>\n                </Item>\n              </Feature>\n              <AccordionItem>\n                <Accordion\n                  open={(location.state as any)?.isUsernameActive}\n                  title={\n                    <AccordionTitle>\n                      <AccordionTitlePrimary>Username</AccordionTitlePrimary>\n                      <AccordionTitleSecondary className={classNames({ warning: !username })}>\n                        {username ? `${username}${domain}` : 'Not yet reserved'}\n                      </AccordionTitleSecondary>\n                    </AccordionTitle>\n                  }>\n                  {username ? (\n                    <>\n                      <Text>\n                        Your P2P username allows you to receive any token within the Solana network\n                        even if it is not included in your wallet list.\n                      </Text>\n                      <UsernameAddressWidget\n                        address={publicKey || ''}\n                        username={`${username}${domain}`}\n                      />\n                    </>\n                  ) : (\n                    <>\n                      <Text>\n                        You can receive and send tokens using your P2P username or link. Also,\n                        users, who know your URL or username can send you any token, even if you\n                        dont have it in your wallets list.\n                      </Text>\n                      <div>You can access the feature in the app</div>\n                      <MobileButtons>\n                        <NavLink\n                          to={{ pathname: playStorePath }}\n                          target=\"_blank\"\n                          className=\"button\">\n                          <img\n                            src={GooglePlayBadge}\n                            width=\"135\"\n                            height=\"40\"\n                            alt=\"Download P2P Wallet at the Google Play Store\"\n                          />\n                        </NavLink>\n                        <NavLink to={{ pathname: appStorePath }} target=\"_blank\" className=\"button\">\n                          <img\n                            src={AppStoreBadge}\n                            width=\"120\"\n                            height=\"40\"\n                            alt=\"Download P2P Wallet from the App Store\"\n                          />\n                        </NavLink>\n                      </MobileButtons>\n                    </>\n                  )}\n                </Accordion>\n              </AccordionItem>\n              <Item>\n                <ItemTitle>Network</ItemTitle>\n                <ItemAction\n                  onClick={() => {\n                    history.push('/settings/network');\n                  }}\n                  style={{ cursor: 'pointer' }}>\n                  <Title className=\"overflow-ellipsis\">{network.endpoint}</Title>\n                  <ChevronWrapper\n                    onClick={() => {\n                      history.push('/settings/network');\n                    }}>\n                    <ChevronIcon name=\"chevron\" />\n                  </ChevronWrapper>\n                </ItemAction>\n              </Item>\n              <Item>\n                <ItemTitle>Hide zero balances</ItemTitle>\n                <ItemAction>\n                  <Switch\n                    checked={settings.isZeroBalancesHidden}\n                    onChange={(checked) => {\n                      trackEvent('settings_hide_zero_balances_click', {\n                        hide: checked,\n                      });\n                      onItemClickHandler({\n                        isZeroBalancesHidden: checked,\n                      })();\n                    }}\n                  />\n                </ItemAction>\n              </Item>\n              <Feature name={FEATURE_SETTINGS_FREE_TRANSACTIONS}>\n                <Item>\n                  <ItemTitle>Use free transactions</ItemTitle>\n                  <ItemAction>\n                    <Switch\n                      checked={settings.useFreeTransactions}\n                      onChange={(checked) =>\n                        onItemClickHandler({\n                          useFreeTransactions: checked,\n                        })()\n                      }\n                    />\n                  </ItemAction>\n                </Item>\n              </Feature>\n            </ItemsWrapper>\n            <LogoutWrapper>\n              <Logout onClick={handleLogoutClick}>Logout now</Logout>\n            </LogoutWrapper>\n          </WidgetPage>\n        </Wrapper>\n      }\n    />\n  );\n};\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { FunctionComponent, useState } from 'react';\nimport { batch, useDispatch, useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport { rgba } from 'polished';\nimport { mergeDeepRight } from 'ramda';\n\nimport { WidgetPage } from 'components/common/WidgetPage';\nimport { Button, Input, RadioButton } from 'components/ui';\nimport { networks, NetworkType } from 'config/constants';\nimport { wipeAction } from 'store/slices/GlobalSlice';\nimport { autoConnect, selectNetwork, updateSettings } from 'store/slices/wallet/WalletSlice';\nimport { trackEvent } from 'utils/analytics';\n\nconst URL_REGEX = new RegExp(\n  /https?:\\/\\/(?:w{1,3}\\.)?[^\\s.]+(?:\\.[a-z]+)*(?::\\d+)?((?:\\/\\w+)|(?:-\\w+))*\\/?(?![^<]*(?:<\\/\\w+>|\\/?>))/,\n);\n\nconst RadioButtonsWrapper = styled.div`\n  position: relative;\n\n  padding: 0 10px;\n`;\n\nconst RadioButtonItem = styled.div`\n  position: relative;\n\n  margin-top: 6px;\n  margin-bottom: 12px;\n  padding: 14px 18px;\n\n  border-radius: 12px;\n  cursor: pointer;\n\n  &:hover {\n    background: #f6f6f8;\n  }\n\n  &::after {\n    position: absolute;\n    right: 10px;\n    bottom: -6px;\n    left: 10px;\n\n    border-bottom: 1px solid ${rgba(0, 0, 0, 0.05)};\n\n    content: '';\n  }\n`;\n\nconst AddCustomUrlWrapper = styled.div`\n  padding: 20px;\n`;\n\nconst AddUrlWrapper = styled.div``;\n\nconst Text = styled.div`\n  margin-bottom: 16px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst Buttons = styled.div`\n  padding: 24px 0 0;\n\n  button:first-child {\n    margin-right: 10px;\n  }\n`;\n\nexport const Network: FunctionComponent = () => {\n  const dispatch = useDispatch();\n  const [isOpenAddUrl, setIsOpenAddUrl] = useState(false);\n  const [customUrl, setCustomUrl] = useState('');\n\n  const { network } = useSelector((state) => state.wallet.settings);\n\n  const handleChange = (value: NetworkType) => {\n    trackEvent('settings_network_click', { endpoint: value.endpoint });\n\n    dispatch(updateSettings({ network: value }));\n\n    batch(async () => {\n      dispatch(selectNetwork(value));\n      dispatch(wipeAction());\n      await dispatch(autoConnect());\n    });\n  };\n\n  const renderClustersRadioButtons = () =>\n    Object.values(networks).map((networkItem) => {\n      return (\n        <RadioButtonItem key={networkItem.name}>\n          <RadioButton\n            label={networkItem.endpointLabel || networkItem.endpoint}\n            value={networkItem}\n            checked={networkItem.name === network.name}\n            onChange={handleChange}\n          />\n        </RadioButtonItem>\n      );\n    });\n\n  // const renderCustomClustersRadioButtons = () => {\n  //   const { custom } = network;\n  //\n  //   if (!custom) {\n  //     return null;\n  //   }\n  //\n  //   return Object.entries(custom).map((entry) => {\n  //     const [key, url] = entry;\n  //     return (\n  //       <RadioButtonItem key={key}>\n  //         <RadioButton\n  //           label={url}\n  //           value={key}\n  //           checked={key === network.current}\n  //           onChange={handleChange}\n  //         />\n  //       </RadioButtonItem>\n  //     );\n  //   });\n  // };\n\n  const handleOpenAddUrl = () => {\n    setIsOpenAddUrl(!isOpenAddUrl);\n  };\n\n  const handleCustomUrl = (value: string) => {\n    setCustomUrl(value);\n  };\n\n  const handleSaveButtonClick = () => {\n    const newSettings = mergeDeepRight(network, {\n      custom: { [`custom-${new Date().getTime()}`]: customUrl },\n    });\n\n    dispatch(updateSettings({ network: newSettings }));\n    setCustomUrl('');\n    setIsOpenAddUrl(!isOpenAddUrl);\n  };\n\n  const handleCloseButton = () => {\n    setCustomUrl('');\n    setIsOpenAddUrl(!isOpenAddUrl);\n  };\n\n  return (\n    <WidgetPage icon=\"branch\" title=\"Network\">\n      <RadioButtonsWrapper>\n        <>\n          {renderClustersRadioButtons()}\n          {/* {renderCustomClustersRadioButtons()} */}\n        </>\n      </RadioButtonsWrapper>\n      <AddCustomUrlWrapper>\n        {isOpenAddUrl ? (\n          <AddUrlWrapper>\n            <Text>\n              If you are a developer you can add your node address for test or as a main working\n              node in a wallet.\n            </Text>\n            <Input name=\"customUrl\" value={customUrl} onChange={handleCustomUrl} />\n            <Buttons>\n              <Button primary disabled={!URL_REGEX.test(customUrl)} onClick={handleSaveButtonClick}>\n                Save\n              </Button>\n              <Button light onClick={handleCloseButton}>\n                Cancel\n              </Button>\n            </Buttons>\n          </AddUrlWrapper>\n        ) : (\n          <Button light onClick={handleOpenAddUrl} style={{ display: 'none' }}>\n            + Add custom URL\n          </Button>\n        )}\n      </AddCustomUrlWrapper>\n    </WidgetPage>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { Layout } from 'components/common/Layout';\nimport { Network } from 'components/pages/settings/Network';\n\nexport const SettingsNetwork: FunctionComponent = () => {\n  const location = useLocation();\n\n  return (\n    <Layout\n      breadcrumb={{\n        currentName: 'Network',\n        backTo: { pathname: '/settings', state: { fromPage: location.pathname } },\n      }}\n      rightColumn={<Network />}\n    />\n  );\n};\n","import { u64 } from '@solana/spl-token';\nimport { PublicKey } from '@solana/web3.js';\n\nimport type { AquafarmConfig, PoolConfig, PoolJSON } from '../types';\n\nexport enum CurveType {\n  // eslint-disable-next-line no-unused-vars\n  ConstantProduct = 0,\n  // eslint-disable-next-line no-unused-vars\n  ConstantPrice = 1,\n  // eslint-disable-next-line no-unused-vars\n  Stable = 2,\n  // eslint-disable-next-line no-unused-vars\n  Offset = 3,\n}\n\nexport function createPoolConfig(obj: PoolJSON, aquafarmConfig: AquafarmConfig): PoolConfig {\n  return {\n    ...obj,\n    account: new PublicKey(obj.account),\n    authority: new PublicKey(obj.authority),\n    poolTokenMint: new PublicKey(obj.poolTokenMint),\n    tokenAccountA: new PublicKey(obj.tokenAccountA),\n    tokenAccountB: new PublicKey(obj.tokenAccountB),\n    feeAccount: new PublicKey(obj.feeAccount),\n    hostFeeAccount: obj.hostFeeAccount ? new PublicKey(obj.hostFeeAccount) : null,\n    feeNumerator: new u64(obj.feeNumerator),\n    feeDenominator: new u64(obj.feeDenominator),\n    ownerTradeFeeNumerator: new u64(obj.ownerTradeFeeNumerator),\n    ownerTradeFeeDenominator: new u64(obj.ownerTradeFeeDenominator),\n    ownerWithdrawFeeNumerator: new u64(obj.ownerWithdrawFeeNumerator),\n    ownerWithdrawFeeDenominator: new u64(obj.ownerWithdrawFeeDenominator),\n    hostFeeNumerator: new u64(obj.hostFeeNumerator),\n    hostFeeDenominator: new u64(obj.hostFeeDenominator),\n    // @ts-ignore\n    curveType: (function (): CurveType {\n      switch (obj.curveType) {\n        case 'ConstantProduct':\n          return CurveType.ConstantProduct;\n        case 'ConstantPrice':\n          return CurveType.ConstantPrice;\n        case 'Stable':\n          return CurveType.Stable;\n        case 'Offset':\n          return CurveType.Offset;\n      }\n    })(),\n    aquafarmConfig: aquafarmConfig,\n    amp: obj.amp ? new u64(obj.amp) : undefined,\n    deprecated: obj.deprecated || false,\n    programVersion: obj.programVersion || 1,\n  };\n}\n","import { PublicKey } from '@solana/web3.js';\n\nimport { AquafarmConfig, AquafarmJSON } from './../types';\n\nexport function createAquafarmConfig(obj: AquafarmJSON): AquafarmConfig {\n  return {\n    ...obj,\n    account: new PublicKey(obj.account),\n    tokenProgramId: new PublicKey(obj.tokenProgramId),\n    emissionsAuthority: new PublicKey(obj.emissionsAuthority),\n    removeRewardsAuthority: new PublicKey(obj.removeRewardsAuthority),\n    baseTokenMint: new PublicKey(obj.baseTokenMint),\n    baseTokenVault: new PublicKey(obj.baseTokenVault),\n    rewardTokenMint: new PublicKey(obj.rewardTokenMint),\n    rewardTokenVault: new PublicKey(obj.rewardTokenVault),\n    farmTokenMint: new PublicKey(obj.farmTokenMint),\n  };\n}\n","import { Token } from '@solana/spl-token';\nimport { Account, Connection } from '@solana/web3.js';\n\nimport { ProgramIds } from '../config';\nimport { PoolConfig, TokenConfigs } from '../orca-commons';\n\nexport function orderTokenPair(tokenX: string, tokenY: string): string[] {\n  if (tokenX === 'USDC' && tokenY === 'USDT') {\n    return [tokenX, tokenY];\n  } else if (tokenY === 'USDC' && tokenX === 'USDT') {\n    return [tokenY, tokenX];\n  } else if (tokenY === 'USDC' || tokenY === 'USDT') {\n    return [tokenX, tokenY];\n  } else if (tokenX === 'USDC' || tokenX === 'USDT') {\n    return [tokenY, tokenX];\n  } else if (tokenX.localeCompare(tokenY) < 0) {\n    return [tokenX, tokenY];\n  } else {\n    return [tokenY, tokenX];\n  }\n}\n\nexport function getTradeId(tokenX: string, tokenY: string) {\n  const [tokenA, tokenB] = orderTokenPair(tokenX, tokenY);\n  return tokenA + '/' + tokenB;\n}\n\nexport async function fetchPoolAmounts(\n  connection: Connection,\n  poolConfig: PoolConfig,\n  programIds: ProgramIds,\n  tokenConfigs: TokenConfigs,\n) {\n  const tokenMintA = tokenConfigs[poolConfig.tokenAName].mint;\n  const tokenMintB = tokenConfigs[poolConfig.tokenBName].mint;\n\n  const tokenA = new Token(connection, tokenMintA, programIds.token, new Account());\n  const tokenB = new Token(connection, tokenMintB, programIds.token, new Account());\n  const accountInfos = await Promise.all([\n    tokenA.getAccountInfo(poolConfig.tokenAccountA),\n    tokenB.getAccountInfo(poolConfig.tokenAccountB),\n  ]);\n\n  return {\n    tokenAAmount: accountInfos[0].amount,\n    tokenBAmount: accountInfos[1].amount,\n  };\n}\n","import { PoolConfigs, TokenConfigs } from '../orca-commons';\nimport { getTradeId, orderTokenPair } from '../utils/pools';\nimport { Route, RouteConfigs } from './provider';\n\nfunction getPairs(tokens: string[]): string[][] {\n  const pairs: string[][] = [];\n\n  for (let i = 0; i + 1 < tokens.length; i++) {\n    for (let j = i + 1; j < tokens.length; j++) {\n      const tokenA = tokens[i];\n      const tokenB = tokens[j];\n\n      pairs.push(orderTokenPair(tokenA, tokenB));\n    }\n  }\n\n  return pairs;\n}\n\nfunction getAllRoutes(pairs: string[][], poolConfigs: PoolConfigs): RouteConfigs {\n  const allRoutes: RouteConfigs = {};\n  pairs.forEach(([tokenA, tokenB]) => {\n    allRoutes[getTradeId(tokenA, tokenB)] = getRoutes(tokenA, tokenB, poolConfigs);\n  });\n\n  return allRoutes;\n}\n\nfunction getRoutes(tokenA: string, tokenB: string, poolConfigs: PoolConfigs): Route[] {\n  const routes: Route[] = [];\n\n  // Find all pools that contain the same tokens.\n  // Checking tokenAName and tokenBName will find Stable pools.\n  Object.entries(poolConfigs).forEach(([poolId, poolConfig]) => {\n    if (\n      (poolConfig.tokenAName === tokenA && poolConfig.tokenBName === tokenB) ||\n      (poolConfig.tokenAName === tokenB && poolConfig.tokenBName === tokenA)\n    ) {\n      routes.push([poolId]);\n    }\n  });\n\n  // Find all pools that contain the first token but not the second\n  const firstLegPools = Object.entries(poolConfigs)\n    .filter(\n      ([, poolConfig]) =>\n        (poolConfig.tokenAName === tokenA && poolConfig.tokenBName !== tokenB) ||\n        (poolConfig.tokenBName === tokenA && poolConfig.tokenAName !== tokenB),\n    )\n    .map(([poolId, poolConfig]) => [\n      poolId,\n      poolConfig.tokenBName === tokenA ? poolConfig.tokenAName : poolConfig.tokenBName,\n    ]);\n\n  // Find all routes that can include firstLegPool and a second pool.\n  firstLegPools.forEach(([firstLegPoolId, intermediateTokenName]) => {\n    Object.entries(poolConfigs).forEach(([secondLegPoolId, poolConfig]) => {\n      if (\n        (poolConfig.tokenAName === intermediateTokenName && poolConfig.tokenBName === tokenB) ||\n        (poolConfig.tokenBName === intermediateTokenName && poolConfig.tokenAName === tokenB)\n      ) {\n        routes.push([firstLegPoolId, secondLegPoolId]);\n      }\n    });\n  });\n\n  return routes;\n}\n\nexport function generateRoutes(tokenConfigs: TokenConfigs, poolConfigs: PoolConfigs): RouteConfigs {\n  const tokens = Object.entries(tokenConfigs)\n    .filter(([, tokenConfigs]) => !tokenConfigs.poolToken)\n    .map(([tokenName]) => tokenName);\n\n  const pairs = getPairs(tokens);\n\n  return getAllRoutes(pairs, poolConfigs);\n}\n","import { useSelector } from 'react-redux';\n\nimport { PublicKey } from '@solana/web3.js';\nimport { createContainer } from 'unstated-next';\n\nimport type {\n  AquafarmJSONS,\n  PoolConfig,\n  PoolConfigs,\n  PoolJSON,\n  TokenConfigs,\n  TokenJSONS,\n} from '../orca-commons';\nimport {\n  createAquafarmConfig,\n  createPoolConfig,\n  createTokenConfig,\n  devnetAquafarms,\n  devnetPools,\n  devnetProgramIds,\n  devnetTokens,\n  mainnetAquafarms,\n  mainnetPools,\n  mainnetProgramIds,\n  mainnetTokens,\n  PoolJSONS,\n  testnetAquafarms,\n  testnetPools,\n  testnetProgramIds,\n  testnetTokens,\n} from '../orca-commons';\nimport { generateRoutes } from './routeGenerator';\n\nconst tokens: {\n  [cluster: string]: TokenJSONS;\n} = {\n  devnet: devnetTokens,\n  testnet: testnetTokens,\n  mainnet: mainnetTokens,\n};\n\nconst pools: {\n  [cluster: string]: PoolJSONS;\n} = {\n  devnet: devnetPools,\n  testnet: testnetPools,\n  mainnet: mainnetPools,\n};\n\nconst programIDS: {\n  [cluster: string]: any;\n} = {\n  devnet: devnetProgramIds,\n  testnet: testnetProgramIds,\n  mainnet: mainnetProgramIds,\n};\n\nconst aquafarms: {\n  [cluster: string]: AquafarmJSONS;\n} = {\n  devnet: devnetAquafarms,\n  testnet: testnetAquafarms,\n  mainnet: mainnetAquafarms,\n};\n\nexport type MintToTokenName = {\n  [key: string]: string;\n};\n\nexport type Route = string[];\nexport type RouteConfigs = { [key: string]: Route[] };\n\nexport type ProgramIds = { [key: string]: PublicKey };\n\nexport interface UseConfig {\n  routeConfigs: RouteConfigs;\n  tokenConfigs: TokenConfigs;\n  poolConfigs: PoolConfigs;\n  programIds: ProgramIds;\n  mintToTokenName: MintToTokenName;\n}\n\n// TODO: hack\nfunction correctCluster(cluster: string) {\n  if (cluster === 'mainnet-beta') {\n    return 'mainnet';\n  }\n\n  return cluster;\n}\n\nconst useConfigInternal = (): UseConfig => {\n  const network = useSelector((state) => correctCluster(state.wallet.network.cluster)); // getReactNetworkName();\n\n  const tokenConfigs = createTokenConfig(tokens[network]) as TokenConfigs;\n\n  const aquafarmConfigs = Object.fromEntries(\n    Object.entries(aquafarms[network]).map(([poolAddress, obj]) => {\n      return [poolAddress, createAquafarmConfig(obj)];\n    }),\n  );\n  const orcaConfigs = Object.entries(pools[network]).map(([poolName, obj]: [string, PoolJSON]): [\n    string,\n    PoolConfig,\n  ] => {\n    const aquafarmConfig = aquafarmConfigs[obj.account] || null;\n    return [poolName, createPoolConfig(obj, aquafarmConfig)];\n  });\n  const poolConfigs = Object.fromEntries(orcaConfigs);\n\n  const routeConfigs = generateRoutes(tokenConfigs, poolConfigs);\n\n  const programIds = {\n    serumTokenSwap: new PublicKey(programIDS[network].serumTokenSwap),\n    tokenSwapV2: new PublicKey(programIDS[network].tokenSwapV2),\n    tokenSwap: new PublicKey(programIDS[network].tokenSwap),\n    token: new PublicKey(programIDS[network].token),\n    aquafarm: new PublicKey(programIDS[network].aquafarm),\n  };\n\n  const mintToTokenName = Object.entries({\n    ...tokenConfigs,\n    // ...config.collectibleConfigs,\n  }).reduce((mintToTokenName, [tokenName, tokenConfig]) => {\n    mintToTokenName[tokenConfig.mint.toBase58()] = tokenName;\n\n    return mintToTokenName;\n  }, {} as MintToTokenName);\n\n  return {\n    routeConfigs,\n    tokenConfigs,\n    poolConfigs,\n    programIds,\n    mintToTokenName,\n  };\n};\n\nexport const { Provider: ConfigProvider, useContainer: useConfig } = createContainer(\n  useConfigInternal,\n);\n\nexport function useProgramIds() {\n  const { programIds } = useConfig();\n  return programIds;\n}\n","import { PublicKey } from '@solana/web3.js';\n\nimport type { TokenConfigs, TokenJSONS } from '../types';\n\nexport function createTokenConfig(tokenJsons: TokenJSONS): TokenConfigs {\n  return Object.entries(tokenJsons).reduce((configs, token) => {\n    const [tokenName, obj] = token;\n\n    configs[tokenName] = Object.assign({}, obj, {\n      mint: new PublicKey(obj.mint),\n      identifier: obj.identifier || tokenName,\n    });\n\n    return configs;\n  }, {} as TokenConfigs);\n}\n","import { ONE, ZERO } from '@orca-so/sdk';\nimport { u64 } from '@solana/spl-token';\n\nexport function ceilingDivision(dividend: u64, divisor: u64): [u64, u64] {\n  let quotient = dividend.div(divisor);\n  if (quotient.eq(ZERO)) {\n    return [ZERO, divisor];\n  }\n\n  let remainder = dividend.mod(divisor);\n  if (remainder.gt(ZERO)) {\n    quotient = quotient.add(ONE);\n    divisor = dividend.div(quotient);\n    remainder = dividend.mod(quotient);\n    if (remainder.gt(ZERO)) {\n      divisor = divisor.add(ONE);\n    }\n  }\n\n  return [quotient, divisor];\n}\n\nexport function countDecimals(input: string): number {\n  if (input.indexOf('.') === -1) return 0;\n  return (input && input.split('.')[1].length) || 0;\n}\n","import * as BufferLayout from 'buffer-layout';\n\nexport const uint64 = (property: string = 'uint64'): BufferLayout.Layout => {\n  return BufferLayout.blob(8, property);\n};\n","import { ZERO } from '@orca-so/sdk';\nimport { u64 } from '@solana/spl-token';\nimport { Account, PublicKey } from '@solana/web3.js';\n\nimport { Wallet } from 'api/wallet/Wallet';\n\nimport { ProgramIds } from '../config';\nimport { CurveType, PoolConfig, TokenConfigs } from '../orca-commons';\nimport { swapInstruction } from '../utils/web3/instructions/pool-instructions';\nimport TransactionBuilder from '../utils/web3/TransactionBuilder';\nimport SlippageTolerance from './SlippageTolerance';\n\nexport default class OrcaPool {\n  poolConfig: PoolConfig;\n  tokenAAmount: u64;\n  tokenBAmount: u64;\n\n  constructor(poolConfig: PoolConfig, tokenAAmount: u64, tokenBAmount: u64) {\n    this.poolConfig = poolConfig;\n    this.tokenAAmount = tokenAAmount;\n    this.tokenBAmount = tokenBAmount;\n  }\n\n  getAccount(): PublicKey {\n    return this.poolConfig.account;\n  }\n\n  getCurveType(): CurveType {\n    return this.poolConfig.curveType;\n  }\n\n  getDisplayName() {\n    return this.poolConfig.tokenAName + ' / ' + this.poolConfig.tokenBName;\n  }\n\n  getPoolId() {\n    let poolId = this.poolConfig.tokenAName + '/' + this.poolConfig.tokenBName;\n\n    if (this.poolConfig.curveType === CurveType.Stable) {\n      poolId += '[stable]';\n    }\n\n    if (this.poolConfig.aquafarmConfig) {\n      poolId += '[aquafarm]';\n    }\n\n    return poolId;\n  }\n\n  isDeprecated() {\n    return !!this.poolConfig.deprecated;\n  }\n\n  getTokenAName() {\n    return this.poolConfig.tokenAName;\n  }\n\n  getTokenAAmount() {\n    return this.tokenAAmount;\n  }\n\n  getTokenBName() {\n    return this.poolConfig.tokenBName;\n  }\n\n  getTokenBAmount() {\n    return this.tokenBAmount;\n  }\n\n  getTokenAmountsFromInput(inputTokenName: string): [u64, u64] {\n    return inputTokenName === this.getTokenAName()\n      ? [this.getTokenAAmount(), this.getTokenBAmount()]\n      : [this.getTokenBAmount(), this.getTokenAAmount()];\n  }\n\n  getTokenAmountsFromOutput(outputTokenName: string): [u64, u64] {\n    return outputTokenName === this.getTokenAName()\n      ? [this.getTokenBAmount(), this.getTokenAAmount()]\n      : [this.getTokenAAmount(), this.getTokenBAmount()];\n  }\n\n  // getOutputAmount is a placeholder function that's implemented\n  // by classes the extend OrcaPool\n  getOutputAmount(inputAmount: u64, inputTokenName: string): u64 {\n    return ZERO;\n  }\n\n  getMinimumAmountOut(\n    amountIn: u64,\n    inputTokenName: string,\n    slippageTolerance: SlippageTolerance,\n  ): u64 {\n    const estimatedOutputAmount = this.getOutputAmount(amountIn, inputTokenName);\n\n    const result = estimatedOutputAmount\n      .mul(slippageTolerance.denominator.sub(slippageTolerance.numerator))\n      .div(slippageTolerance.denominator);\n    return new u64(result.toString());\n  }\n\n  async constructExchange(\n    wallet: Wallet, // TODO: change to some package\n    tokenConfigs: TokenConfigs,\n    programIds: ProgramIds,\n    inputTokenName: string,\n    outputTokenName: string,\n    inputAmount: u64,\n    minimumOutputAmount: u64,\n    accountRentExempt: number,\n    transactionBuilder: TransactionBuilder,\n    inputUserTokenPublicKey: PublicKey | undefined,\n    outputUserTokenPublicKey: PublicKey | undefined,\n  ): Promise<{ outputUserTokenPublicKey: PublicKey }> {\n    // Only create a wrapped SOL account if `inputUserTokenPublicKey`\n    // Otherwise, assume that the WSOL account contains the correct balance\n    if (inputTokenName === 'SOL' && !inputUserTokenPublicKey) {\n      const account = transactionBuilder.createWSOLAccount(\n        wallet.publicKey,\n        inputAmount,\n        accountRentExempt,\n        programIds.token,\n        tokenConfigs['SOL'].mint,\n      );\n      inputUserTokenPublicKey = account.publicKey;\n    } else if (!inputUserTokenPublicKey) {\n      throw new Error('inputUserTokenPublicKey must be defined if inputTokenName is not SOL');\n    }\n\n    if (outputTokenName === 'SOL') {\n      const account = transactionBuilder.createWSOLAccount(\n        wallet.publicKey,\n        ZERO,\n        accountRentExempt,\n        programIds.token,\n        tokenConfigs['SOL'].mint,\n      );\n      outputUserTokenPublicKey = account.publicKey;\n    } else if (!outputUserTokenPublicKey) {\n      throw new Error('outputUserTokenPublicKey must be defined if inputTokenName is not SOL');\n    }\n\n    const userTransferAuthority = new Account();\n    transactionBuilder.createApproveInstruction(\n      inputUserTokenPublicKey,\n      userTransferAuthority,\n      wallet.publicKey,\n      programIds.token,\n      inputAmount,\n    );\n\n    transactionBuilder.signers.push(userTransferAuthority);\n\n    // Create swap instruction\n    const [inputPoolTokenPublicKey, outputPoolTokenPublicKey] =\n      this.poolConfig.tokenAName === outputTokenName\n        ? [this.poolConfig.tokenAccountB, this.poolConfig.tokenAccountA]\n        : [this.poolConfig.tokenAccountA, this.poolConfig.tokenAccountB];\n\n    transactionBuilder.addInstruction(\n      this.createSwapInstruction(\n        programIds,\n        inputAmount,\n        minimumOutputAmount,\n        inputUserTokenPublicKey,\n        outputUserTokenPublicKey,\n        inputPoolTokenPublicKey,\n        outputPoolTokenPublicKey,\n        userTransferAuthority.publicKey,\n        this.poolConfig.hostFeeAccount,\n      ),\n    );\n\n    return {\n      outputUserTokenPublicKey,\n    };\n  }\n\n  getSwapProgramId(programIds: ProgramIds) {\n    switch (this.poolConfig.programVersion) {\n      case 2: {\n        return programIds.tokenSwapV2;\n      }\n      default: {\n        return programIds.tokenSwap;\n      }\n    }\n  }\n\n  createSwapInstruction(\n    programIds: ProgramIds,\n    amountIn: u64,\n    minimumAmountOut: u64,\n    inputUserTokenPublicKey: PublicKey,\n    outputUserTokenPublicKey: PublicKey,\n    inputPoolTokenPublicKey: PublicKey,\n    outputPoolTokenPublicKey: PublicKey,\n    userTransferAuthorityPublicKey: PublicKey,\n    hostFeeAccountPublicKey: PublicKey | null,\n  ) {\n    return swapInstruction(\n      this.poolConfig.account,\n      this.poolConfig.authority,\n      userTransferAuthorityPublicKey,\n      inputUserTokenPublicKey,\n      inputPoolTokenPublicKey,\n      outputPoolTokenPublicKey,\n      outputUserTokenPublicKey,\n      this.poolConfig.poolTokenMint,\n      this.poolConfig.feeAccount,\n      hostFeeAccountPublicKey,\n      this.getSwapProgramId(programIds),\n      programIds.token,\n      amountIn,\n      minimumAmountOut,\n    );\n  }\n\n  getFeePercentage() {\n    return (\n      (100 * this.poolConfig.feeNumerator.toNumber()) / this.poolConfig.feeDenominator.toNumber()\n    );\n  }\n}\n","import { u64 } from '@solana/spl-token';\nimport { PublicKey, TransactionInstruction } from '@solana/web3.js';\nimport { Buffer } from 'buffer';\nimport * as BufferLayout from 'buffer-layout';\n\nimport * as Layout from './layout';\n\nexport function swapInstruction(\n  tokenSwap: PublicKey,\n  authority: PublicKey,\n  userTransferAuthority: PublicKey,\n  userSource: PublicKey,\n  poolSource: PublicKey,\n  poolDestination: PublicKey,\n  userDestination: PublicKey,\n  poolMint: PublicKey,\n  feeAccount: PublicKey,\n  hostFeeAccount: PublicKey | null,\n  swapProgramId: PublicKey,\n  tokenProgramId: PublicKey,\n  amountIn: u64,\n  minimumAmountOut: u64,\n): TransactionInstruction {\n  const dataLayout = BufferLayout.struct([\n    BufferLayout.u8('instruction'),\n    Layout.uint64('amountIn'),\n    Layout.uint64('minimumAmountOut'),\n  ]);\n\n  const data = Buffer.alloc(dataLayout.span);\n\n  dataLayout.encode(\n    {\n      instruction: 1, // Swap instruction\n      amountIn: amountIn.toBuffer(),\n      minimumAmountOut: minimumAmountOut.toBuffer(),\n    },\n    data,\n  );\n\n  const keys = [\n    { pubkey: tokenSwap, isSigner: false, isWritable: false },\n    { pubkey: authority, isSigner: false, isWritable: false },\n    { pubkey: userTransferAuthority, isSigner: true, isWritable: false },\n    { pubkey: userSource, isSigner: false, isWritable: true },\n    { pubkey: poolSource, isSigner: false, isWritable: true },\n    { pubkey: poolDestination, isSigner: false, isWritable: true },\n    { pubkey: userDestination, isSigner: false, isWritable: true },\n    { pubkey: poolMint, isSigner: false, isWritable: true },\n    { pubkey: feeAccount, isSigner: false, isWritable: true },\n    { pubkey: tokenProgramId, isSigner: false, isWritable: false },\n  ];\n  if (hostFeeAccount !== null) {\n    keys.push({ pubkey: hostFeeAccount, isSigner: false, isWritable: true });\n  }\n  return new TransactionInstruction({\n    keys,\n    programId: swapProgramId,\n    data,\n  });\n}\n","import { ReactNode } from 'react';\n\nimport { u64 } from '@solana/spl-token';\nimport { PublicKey } from '@solana/web3.js';\n\nimport { Wallet } from 'api/wallet/Wallet';\n\nimport { ProgramIds } from '../config';\nimport { TokenConfigs } from '../orca-commons';\nimport TransactionBuilder from '../utils/web3/TransactionBuilder';\nimport SlippageTolerance from './SlippageTolerance';\n\nexport default interface TradeablePoolInterface {\n  getDisplayName(): ReactNode;\n  getPoolId(): string;\n  getAccount(): PublicKey;\n  isDeprecated(): boolean;\n  getTokenAName(): string;\n  getTokenAAmount(): u64;\n  getTokenBName(): string;\n  getTokenBAmount(): u64;\n  getOutputAmount(inputAmount: u64, inputTokenName: string): u64;\n  getBaseOutputAmount(inputAmount: u64, inputTokenName: string): u64;\n  getInputAmount(outputAmount: u64, outputTokenName: string): u64;\n  getMinimumAmountOut(\n    amountIn: u64,\n    inputTokenName: string,\n    slippageTolerance: SlippageTolerance,\n  ): u64;\n  constructExchange(\n    wallet: Wallet, // TODO: change to some package\n    tokenConfigs: TokenConfigs,\n    programIds: ProgramIds,\n    inputTokenName: string,\n    outputTokenName: string,\n    inputAmount: u64,\n    minimumOutputAmount: u64,\n    accountRentExempt: number,\n    transactionBuilder: TransactionBuilder,\n    inputUserTokenPublicKey: PublicKey | undefined,\n    outputUserTokenPublicKey: PublicKey | undefined,\n  ): Promise<{ outputUserTokenPublicKey: PublicKey }>;\n  calculateFees(inputAmount: u64, inputTokenName: string): u64;\n  getFeePercentage(): number;\n}\n\nexport class OutputTooHighError extends Error {}\n","import { ZERO } from '@orca-so/sdk';\nimport { u64 } from '@solana/spl-token';\n\nimport { ceilingDivision } from '../utils/math';\nimport OrcaPool from './OrcaPool';\nimport OrcaPoolInterface from './OrcaPoolInterface';\nimport { OutputTooHighError } from './TradeablePoolInterface';\n\nexport default class ConstantProductPool extends OrcaPool implements OrcaPoolInterface {\n  _getOutputAmount(inputAmount: u64, inputTokenName: string): u64 {\n    const [poolInputAmount, poolOutputAmount] = this.getTokenAmountsFromInput(inputTokenName);\n\n    const invariant = poolInputAmount.mul(poolOutputAmount);\n\n    const [newPoolOutputAmount] = ceilingDivision(invariant, poolInputAmount.add(inputAmount));\n\n    const outputAmount = poolOutputAmount.sub(newPoolOutputAmount);\n\n    return new u64(outputAmount.toString());\n  }\n\n  getOutputAmount(inputAmount: u64, inputTokenName: string): u64 {\n    const fees = this._getFeeFromInput(inputAmount);\n    const inputAmountLessFees = inputAmount.sub(fees);\n\n    return this._getOutputAmount(inputAmountLessFees, inputTokenName);\n  }\n\n  getInputAmount(outputAmount: u64, outputTokenName: string): u64 {\n    const [poolInputAmount, poolOutputAmount] = this.getTokenAmountsFromOutput(outputTokenName);\n\n    if (outputAmount.gt(poolOutputAmount)) {\n      throw new OutputTooHighError();\n    }\n\n    const invariant = poolInputAmount.mul(poolOutputAmount);\n\n    const [newPoolInputAmount] = ceilingDivision(invariant, poolOutputAmount.sub(outputAmount));\n\n    const inputAmountLessFees = newPoolInputAmount.sub(poolInputAmount);\n\n    let feeRatioNumerator, feeRatioDenominator;\n    if (this.poolConfig.ownerTradeFeeDenominator.eq(ZERO)) {\n      feeRatioNumerator = this.poolConfig.feeDenominator;\n      feeRatioDenominator = this.poolConfig.feeDenominator.sub(this.poolConfig.feeNumerator);\n    } else {\n      feeRatioNumerator = this.poolConfig.feeDenominator.mul(\n        this.poolConfig.ownerTradeFeeDenominator,\n      );\n      feeRatioDenominator = this.poolConfig.feeDenominator\n        .mul(this.poolConfig.ownerTradeFeeDenominator)\n        .sub(this.poolConfig.feeNumerator.mul(this.poolConfig.ownerTradeFeeDenominator))\n        .sub(this.poolConfig.ownerTradeFeeNumerator.mul(this.poolConfig.feeDenominator));\n    }\n\n    const inputAmount = inputAmountLessFees.mul(feeRatioNumerator).div(feeRatioDenominator);\n\n    return new u64(inputAmount.toString());\n  }\n\n  // baseOutputAmount is the amount the user would receive\n  // if fees are included and slippage is excluded.\n  getBaseOutputAmount(inputAmount: u64, inputTokenName: string) {\n    const [poolInputAmount, poolOutputAmount] = this.getTokenAmountsFromInput(inputTokenName);\n\n    const fees = this._getFeeFromInput(inputAmount);\n    const inputAmountLessFees = inputAmount.sub(fees);\n\n    return new u64(inputAmountLessFees.mul(poolOutputAmount).div(poolInputAmount).toString());\n  }\n\n  _getFeeFromInput(inputAmount: u64) {\n    const tradingFee = this.poolConfig.feeDenominator.eq(ZERO)\n      ? ZERO\n      : inputAmount.mul(this.poolConfig.feeNumerator).div(this.poolConfig.feeDenominator);\n\n    const ownerFee = this.poolConfig.ownerTradeFeeDenominator.eq(ZERO)\n      ? ZERO\n      : inputAmount\n          .mul(this.poolConfig.ownerTradeFeeNumerator)\n          .div(this.poolConfig.ownerTradeFeeDenominator);\n\n    return new u64(tradingFee.add(ownerFee).toString());\n  }\n\n  calculateFees(inputAmount: u64, inputTokenName: string): u64 {\n    const fees = this._getFeeFromInput(inputAmount);\n\n    return this._getOutputAmount(fees, inputTokenName);\n  }\n}\n","import { ZERO } from '@orca-so/sdk';\nimport {\n  computeBaseOutputAmount,\n  computeInputAmount,\n  computeOutputAmount,\n} from '@orca-so/stablecurve';\nimport { u64 } from '@solana/spl-token';\n\nimport OrcaPool from './OrcaPool';\nimport OrcaPoolInterface from './OrcaPoolInterface';\nimport { OutputTooHighError } from './TradeablePoolInterface';\n\nexport default class StablePool extends OrcaPool implements OrcaPoolInterface {\n  getOutputAmount(inputAmount: u64, inputTokenName: string): u64 {\n    const [poolInputAmount, poolOutputAmount] = this.getTokenAmountsFromInput(inputTokenName);\n\n    const inputAmountLessFees = inputAmount.sub(this.computeFees(inputAmount));\n\n    if (!this.poolConfig.amp) {\n      throw new Error('amp does not exist in poolConfig');\n    }\n\n    return computeOutputAmount(\n      inputAmountLessFees,\n      poolInputAmount,\n      poolOutputAmount,\n      this.poolConfig.amp,\n    );\n  }\n\n  // baseOutputAmount is the amount the user would receive\n  // if fees are included and price impact is excluded.\n  getBaseOutputAmount(inputAmount: u64, inputTokenName: string) {\n    const [poolInputAmount, poolOutputAmount] = this.getTokenAmountsFromInput(inputTokenName);\n\n    const inputAmountLessFees = inputAmount.sub(this.computeFees(inputAmount));\n\n    if (!this.poolConfig.amp) {\n      throw new Error('amp does not exist in poolConfig');\n    }\n\n    return computeBaseOutputAmount(\n      inputAmountLessFees,\n      poolInputAmount,\n      poolOutputAmount,\n      this.poolConfig.amp,\n    );\n  }\n\n  getInputAmount(outputAmount: u64, outputTokenName: string): u64 {\n    const [poolInputAmount, poolOutputAmount] = this.getTokenAmountsFromOutput(outputTokenName);\n\n    if (outputAmount.gt(poolOutputAmount)) {\n      throw new OutputTooHighError();\n    }\n\n    if (!this.poolConfig.amp) {\n      throw new Error('amp does not exist in poolConfig');\n    }\n\n    const inputAmountLessFees = computeInputAmount(\n      outputAmount,\n      poolInputAmount,\n      poolOutputAmount,\n      this.poolConfig.amp,\n    );\n\n    const inputAmount = inputAmountLessFees\n      .mul(this.poolConfig.feeDenominator)\n      .div(this.poolConfig.feeDenominator.sub(this.poolConfig.feeNumerator));\n\n    return new u64(inputAmount.toString());\n  }\n\n  calculateFees(inputAmount: u64, inputTokenName: string): u64 {\n    const [poolInputAmount, poolOutputAmount] = this.getTokenAmountsFromInput(inputTokenName);\n\n    const inputFees = this.computeFees(inputAmount);\n\n    if (!this.poolConfig.amp) {\n      throw new Error('amp does not exist in poolConfig');\n    }\n\n    return computeOutputAmount(inputFees, poolInputAmount, poolOutputAmount, this.poolConfig.amp);\n  }\n\n  private computeFees(inputAmount: u64): u64 {\n    const tradingFees = this.computeFee(\n      inputAmount,\n      this.poolConfig.feeNumerator,\n      this.poolConfig.feeDenominator,\n    );\n    const ownerFees = this.computeFee(\n      inputAmount,\n      this.poolConfig.ownerTradeFeeNumerator,\n      this.poolConfig.ownerTradeFeeDenominator,\n    );\n\n    return tradingFees.add(ownerFees);\n  }\n\n  private computeFee(baseAmount: u64, feeNumerator: u64, feeDenominator: u64): u64 {\n    if (feeNumerator.eq(ZERO)) {\n      return ZERO;\n    }\n\n    return baseAmount.mul(feeNumerator).div(feeDenominator);\n  }\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport { useEffect, useReducer, useRef } from 'react';\n\nimport { useIntervalHook } from 'utils/hooks/useIntervalHook';\n\nexport type AsyncResult<T> = AsyncPending | AsyncSuccess<T> | AsyncFailure;\n\ntype AsyncPending = {\n  value: null;\n  error: null;\n};\n\n// TODO: Add an explicit state for pending requests\nexport type AsyncSuccess<T> = {\n  value: T;\n  error: null;\n};\n\ntype AsyncFailure = {\n  value: null;\n  error: Error;\n};\n\nexport const defaultAsyncPending: AsyncPending = {\n  value: null,\n  error: null,\n};\n\nexport function createAsyncSuccess<T>(result: T): AsyncSuccess<T> {\n  return { value: result, error: null };\n}\n\nexport const LONG_MAX_AGE = 120_000;\nexport const DEFAULT_MAX_AGE = 30_000;\nexport const SHORTENED_MAX_AGE = 10_000;\n\nexport function isAsyncPending<T>(result: AsyncResult<T>): result is AsyncPending {\n  return result.value === null && result.error === null;\n}\n\nexport function isAsyncSuccess<T>(result: AsyncResult<T>): result is AsyncSuccess<T> {\n  return result.value !== null && result.error === null;\n}\n\nexport function isAsyncFailure<T>(result: AsyncResult<T>): result is AsyncFailure {\n  return result.value === null && result.error !== null;\n}\n\ntype BatchedResult<T> = AsyncResult<{ [key: string]: T }>;\n\ntype CacheValue<T> = {\n  asyncFn: () => Promise<T>;\n  result: AsyncResult<T>;\n  lastUpdate: number;\n  renderQueue: React.DispatchWithoutAction[];\n};\n\nexport function getMaxAge(isRefreshRateIncreased: boolean) {\n  return isRefreshRateIncreased ? SHORTENED_MAX_AGE : DEFAULT_MAX_AGE;\n}\n\nexport default class AsyncCache<T> {\n  private cache: Map<string, CacheValue<T>> = new Map();\n\n  useAsync(\n    cacheKey: string,\n    asyncFn: () => Promise<T>,\n    maxAge: number = DEFAULT_MAX_AGE,\n    poll: boolean = true,\n  ): AsyncResult<T> {\n    const [, renderFn] = useReducer((i) => i + 1, 0);\n    const cache = this._save(cacheKey, asyncFn);\n\n    useEffect(() => {\n      this._queueRenderFn(cache, renderFn);\n\n      return () => this._removeRenderFn(cache, renderFn);\n    }, [cache, renderFn]);\n\n    // Invoke `_refreshStaleCache` on every function call.\n    // `_refreshStaleCache` must be called inside the hook\n    // to ensure it is invoked after `_queueRenderFn`.\n    useEffect(() => {\n      this._refreshStaleCache(cache, maxAge);\n    });\n\n    useIntervalHook(\n      () => {\n        this._refreshStaleCache(cache, maxAge);\n      },\n      poll ? maxAge : null,\n    );\n\n    return cache.result;\n  }\n\n  useBatchedAsync(\n    keyPairs: [string, () => Promise<T>][],\n    maxAge: number = DEFAULT_MAX_AGE,\n    poll: boolean = true,\n  ): BatchedResult<T> {\n    const [, renderFn] = useReducer((i) => i + 1, 0);\n\n    const caches = keyPairs.map(([cacheKey, asyncFn]) => this._save(cacheKey, asyncFn));\n\n    const resultRef = useRef<AsyncResult<{ [key: string]: T }>>({\n      value: null,\n      error: null,\n    });\n\n    const aggregateKey = keyPairs\n      .map(([cacheKey, _]) => cacheKey)\n      .sort()\n      .join(',');\n\n    useEffect(() => {\n      caches.forEach((cache) => this._queueRenderFn(cache, renderFn));\n\n      return () => caches.forEach((cache) => this._removeRenderFn(cache, renderFn));\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [aggregateKey]);\n\n    useIntervalHook(\n      () => {\n        caches.forEach((cache) => this._refreshStaleCache(cache, maxAge));\n      },\n      poll ? maxAge : null,\n    );\n\n    caches.forEach((cache) => this._refreshStaleCache(cache, maxAge));\n\n    const resultPairs: [string, AsyncResult<T>][] = keyPairs.map(([cacheKey, _], index) => [\n      cacheKey,\n      caches[index].result,\n    ]);\n\n    const newResult = aggregateAsyncResults(resultPairs);\n\n    if (!isBatchedResultsEqual(newResult, resultRef.current)) {\n      resultRef.current = newResult;\n    }\n\n    return resultRef.current;\n  }\n\n  getLastUpdate(cacheKey: string): number | undefined {\n    return this.cache.get(cacheKey)?.lastUpdate;\n  }\n\n  getResult(cacheKey: string): AsyncResult<T> | undefined {\n    return this.cache.get(cacheKey)?.result;\n  }\n\n  refreshCache(cacheKey: string): Promise<T> | undefined {\n    const cache = this.cache.get(cacheKey);\n    if (!cache) {\n      return undefined;\n    }\n\n    return this._refreshCache(cache);\n  }\n\n  async _refreshStaleCache(cache: CacheValue<T>, maxAge: number) {\n    const now = new Date().getTime();\n    if (now > cache.lastUpdate + maxAge) {\n      this._refreshCache(cache).catch((e) => {\n        console.error('async error: ', e);\n      });\n    }\n  }\n\n  async _refreshCache(cache: CacheValue<T>): Promise<T> {\n    cache.lastUpdate = new Date().getTime();\n\n    let result, promise;\n    try {\n      promise = cache.asyncFn();\n      result = { value: await promise, error: null };\n      cache.result = result;\n      cache.renderQueue.forEach((rerender) => rerender());\n    } catch (e) {\n      if (cache.result.value) {\n        promise = Promise.resolve(cache.result.value);\n      } else {\n        promise = Promise.reject(e.message);\n        result = { value: null, error: new Error(e.message) };\n        cache.result = result;\n        cache.renderQueue.forEach((rerender) => rerender());\n      }\n    }\n\n    return promise;\n  }\n\n  _save(cacheKey: string, asyncFn: () => Promise<T>): CacheValue<T> {\n    let cache = this.cache.get(cacheKey);\n\n    if (!cache) {\n      cache = {\n        asyncFn,\n        result: { value: null, error: null },\n        lastUpdate: 0,\n        renderQueue: [],\n      };\n\n      this.cache.set(cacheKey, cache);\n    } else {\n      cache.asyncFn = asyncFn;\n    }\n\n    return cache;\n  }\n\n  _queueRenderFn(cache: CacheValue<T>, renderFn: React.DispatchWithoutAction) {\n    cache.renderQueue.push(renderFn);\n  }\n\n  _removeRenderFn(cache: CacheValue<T>, renderFn: React.DispatchWithoutAction) {\n    const index = cache.renderQueue.indexOf(renderFn);\n    if (index === -1) {\n      throw new Error('Unable to find render function');\n    }\n\n    cache.renderQueue.splice(index, 1);\n  }\n}\n\nfunction aggregateAsyncResults<T>(\n  keyPairs: [string, AsyncResult<T>][],\n): AsyncResult<{ [key: string]: T }> {\n  const asyncResults = keyPairs.map(([_, result]) => result);\n  const error = asyncResults.find((result) => result.error)?.error;\n  if (error) {\n    return { value: null, error };\n  }\n\n  const nullValue = asyncResults.find((result) => !result.value);\n  if (nullValue) {\n    return { value: null, error: null };\n  }\n\n  return {\n    value: Object.fromEntries(\n      keyPairs\n        .map(([cacheKey, result]) => [cacheKey, result.value])\n        .filter(([_, result]) => result),\n    ),\n    error: null,\n  };\n}\n\nfunction isBatchedResultsEqual<T>(r1: BatchedResult<T>, r2: BatchedResult<T>): boolean {\n  if (isAsyncSuccess(r1) && isAsyncSuccess(r2)) {\n    return equalAggregatedResults(r1.value, r2.value);\n  } else if (isAsyncFailure(r1) && isAsyncFailure(r2)) {\n    return r1.error === r2.error;\n  }\n\n  return isAsyncPending(r1) && isAsyncPending(r2);\n}\n\nfunction equalAggregatedResults<T>(r1: { [key: string]: T }, r2: { [key: string]: T }): boolean {\n  return (\n    Object.keys(r1).length === Object.keys(r2).length &&\n    Object.entries(r1).every(([key, item]: [string, T]) => r2[key] === item)\n  );\n}\n","import { createContainer } from 'unstated-next';\n\nimport { useSolana } from 'app/contexts/solana';\nimport { useConfig } from 'app/contexts/swap';\n\nimport ConstantProductPool from '../models/ConstantProductPool';\nimport StablePool from '../models/StablePool';\nimport TradeablePoolInterface from '../models/TradeablePoolInterface';\nimport { CurveType } from '../orca-commons';\nimport AsyncCache, { AsyncResult, DEFAULT_MAX_AGE } from '../utils/AsyncCache';\nimport { fetchPoolAmounts, getTradeId } from '../utils/pools';\n\nexport type TradeablePoolsMap = {\n  [key: string]: TradeablePoolInterface;\n};\n\nexport enum PoolError {\n  // eslint-disable-next-line no-unused-vars\n  DOES_NOT_EXIST = 'Pool does not exist',\n  // eslint-disable-next-line no-unused-vars\n  UNSUPPORTED_TYPE = 'Pool type not supported',\n}\n\nconst poolCache = new AsyncCache<TradeablePoolInterface>();\n\nexport interface UsePools {\n  fetchPool(poolName: string): Promise<TradeablePoolInterface> | undefined;\n  fetchPoolsForTokenPair(\n    tokenA: string,\n    tokenB: string,\n  ): Promise<(TradeablePoolInterface | undefined)[]>;\n  useAsyncPool(poolName: string, maxAge?: number): AsyncResult<TradeablePoolInterface>;\n  useAsyncBatchedPools(poolIds: string[], maxAge?: number): AsyncResult<TradeablePoolsMap>;\n}\n\nconst usePoolsInternal = (): UsePools => {\n  const { connection } = useSolana();\n  const { routeConfigs, tokenConfigs, poolConfigs, programIds } = useConfig();\n\n  function fetchPool(poolId: string) {\n    return poolCache.refreshCache(poolId);\n  }\n\n  /**\n   * Fetch the latest value of all pools that could be used to route from tokenA to tokenB\n   * @param tokenA The name of the first token to trade, e.g. ETH\n   * @param tokenB The name of the second token to trade, e.g. SOL\n   */\n  function fetchPoolsForTokenPair(tokenA: string, tokenB: string) {\n    const tradeId = getTradeId(tokenA, tokenB);\n    const poolIds = routeConfigs[tradeId]\n      .flat()\n      .filter((poolId, idx, list) => list.indexOf(poolId) === idx);\n\n    return Promise.all(poolIds.map((poolId) => fetchPool(poolId)));\n  }\n\n  function createPoolAsyncFn(poolId: string): () => Promise<TradeablePoolInterface> {\n    return async (): Promise<TradeablePoolInterface> => {\n      const poolConfig = poolConfigs[poolId];\n      if (!poolConfig) {\n        throw new Error(PoolError.DOES_NOT_EXIST);\n      }\n\n      const { tokenAAmount, tokenBAmount } = await fetchPoolAmounts(\n        connection,\n        poolConfig,\n        programIds,\n        tokenConfigs,\n      );\n\n      if (poolConfig.curveType === CurveType.ConstantProduct) {\n        return new ConstantProductPool(poolConfig, tokenAAmount, tokenBAmount);\n      } else if (poolConfig.curveType === CurveType.Stable) {\n        return new StablePool(poolConfig, tokenAAmount, tokenBAmount);\n      }\n\n      throw new Error(PoolError.UNSUPPORTED_TYPE);\n    };\n  }\n\n  function useAsyncPool(poolId: string, maxAge: number = DEFAULT_MAX_AGE) {\n    return poolCache.useAsync(poolId, createPoolAsyncFn(poolId), maxAge);\n  }\n\n  function useAsyncBatchedPools(\n    poolIds: string[],\n    maxAge: number = DEFAULT_MAX_AGE,\n  ): AsyncResult<TradeablePoolsMap> {\n    const keyPairs: [string, () => Promise<TradeablePoolInterface>][] = poolIds.map((poolId) => [\n      poolId,\n      createPoolAsyncFn(poolId),\n    ]);\n    return poolCache.useBatchedAsync(keyPairs, maxAge);\n  }\n\n  return {\n    fetchPool,\n    fetchPoolsForTokenPair,\n    useAsyncPool,\n    useAsyncBatchedPools,\n  };\n};\n\nexport const { Provider: PoolsProvider, useContainer: usePools } = createContainer(\n  usePoolsInternal,\n);\n","import axios, { AxiosRequestConfig } from 'axios';\n\nimport coingeckoIds from '../data/json/coingeckoIds.json';\nimport { TokenPrices } from '../types';\n\ntype CoinConfig = {\n  [symbol: string]: string;\n};\n\nconst coinIds: CoinConfig = coingeckoIds;\nconst baseURL = 'https://api.coingecko.com/api/v3';\nconst getPricePartialPath = '/simple/price';\n\nconst request = axios.create({ baseURL });\n\nfunction getPriceRequest(coinIdsJoined: string): AxiosRequestConfig {\n  return {\n    url: getPricePartialPath,\n    method: 'get',\n    params: { ids: coinIdsJoined, vs_currencies: 'usd' },\n  };\n}\n\nexport async function getPrices(...tokenNames: string[]): Promise<TokenPrices> {\n  try {\n    const selectedCoinIds = tokenNames.map((tokenName) => {\n      return coinIds[tokenName];\n    });\n    const coinIdsJoined = selectedCoinIds.join(',');\n\n    const result = await request.request(getPriceRequest(coinIdsJoined));\n\n    const prices: TokenPrices = {};\n    tokenNames.forEach(function (tokenName) {\n      const coinId = coinIds[tokenName];\n      const price = result.data[coinId]?.usd;\n      if (price) {\n        prices[tokenName] = price;\n      }\n    });\n\n    return prices;\n  } catch (err) {\n    throw Error('CoinGecko error - ' + err);\n  }\n}\n","import { useEffect, useState } from 'react';\n\nimport Decimal from 'decimal.js';\nimport { createContainer } from 'unstated-next';\n\nimport { getPrices } from 'app/contexts/swap/orca-commons/oracle/coingecko';\n\nimport { useConfig } from '../config';\nimport { TokenPrices } from '../orca-commons';\nimport { usePools } from '../pools';\nimport AsyncCache, { AsyncResult } from '../utils/AsyncCache';\n\nconst cache = new AsyncCache<TokenPrices>();\n\nconst ALL_PRICES_CACHE_KEY = 'ALL_PRICES';\n\nconst ORCASOLPoolName = 'ORCA/USDC[aquafarm]';\nconst ORCATokenName = 'ORCA';\n\nexport interface UsePrice {\n  fetchAllPrices: () => Promise<TokenPrices> | undefined;\n  useAsyncAllPrices: () => AsyncResult<TokenPrices>;\n  useAsyncORCAPrice: () => AsyncResult<number>;\n  useAsyncMergedPrices: () => AsyncResult<TokenPrices>;\n}\n\nexport const usePriceInternal = (): UsePrice => {\n  const { tokenConfigs } = useConfig();\n  const { useAsyncPool } = usePools();\n\n  function fetchAllPrices() {\n    return cache.refreshCache(ALL_PRICES_CACHE_KEY);\n  }\n\n  function useAsyncAllPrices() {\n    const allTokens = Object.entries(tokenConfigs)\n      .filter(([_, data]) => data.fetchPrice)\n      .map(([token, _]) => token);\n    const asyncFn = () => {\n      return getPrices(...allTokens);\n    };\n\n    return cache.useAsync(ALL_PRICES_CACHE_KEY, asyncFn);\n  }\n\n  function useAsyncORCAPrice(): AsyncResult<number> {\n    const asyncORCAUSDCPool = useAsyncPool(ORCASOLPoolName);\n    const [priceResult, setPriceResult] = useState<AsyncResult<number>>({\n      value: null,\n      error: null,\n    });\n\n    useEffect(() => {\n      if (!asyncORCAUSDCPool.value || asyncORCAUSDCPool.error) {\n        setPriceResult(asyncORCAUSDCPool);\n        return;\n      }\n\n      const tokenAAmount = asyncORCAUSDCPool.value.getTokenAAmount();\n      const tokenBAmount = asyncORCAUSDCPool.value.getTokenBAmount();\n      setPriceResult({\n        value: new Decimal(tokenBAmount.toString()).div(tokenAAmount.toString()).toNumber(),\n        error: null,\n      });\n    }, [asyncORCAUSDCPool]);\n\n    return priceResult;\n  }\n\n  function useAsyncMergedPrices(): AsyncResult<TokenPrices> {\n    const asyncAllPrices = useAsyncAllPrices();\n    const asyncORCAPrice = useAsyncORCAPrice();\n\n    const [pricesResult, setPricesResult] = useState<AsyncResult<TokenPrices>>({\n      value: null,\n      error: null,\n    });\n\n    useEffect(() => {\n      if (!asyncAllPrices.value) {\n        setPricesResult(asyncAllPrices);\n      }\n\n      if (!asyncORCAPrice.value) {\n        setPricesResult({ value: null, error: asyncORCAPrice.error });\n      }\n\n      setPricesResult({\n        value: Object.assign({}, asyncAllPrices.value, {\n          [ORCATokenName]: asyncORCAPrice.value,\n        }),\n        error: null,\n      });\n    }, [asyncAllPrices, asyncORCAPrice]);\n\n    return pricesResult;\n  }\n\n  return {\n    fetchAllPrices,\n    useAsyncAllPrices,\n    useAsyncORCAPrice,\n    useAsyncMergedPrices,\n  };\n};\n\nexport const { Provider: PriceProvider, useContainer: usePrice } = createContainer(\n  usePriceInternal,\n);\n","import { ZERO } from '@orca-so/sdk';\nimport { u64 } from '@solana/spl-token';\n\nimport { countDecimals } from './math';\n\nconst floatRegex = /^(\\d*)?(\\.)?(\\d*)?$/;\nconst MAX_SIGNIFICANT_DIGITS = 5;\n\nexport function parseString(amount: string, decimals: number): u64 {\n  const matches = amount.match(floatRegex);\n\n  if (!matches) {\n    return ZERO;\n  }\n\n  const integers = matches[1] ? new u64(matches[1]) : ZERO;\n  const fractions = matches[3]\n    ? new u64(matches[3].substring(0, decimals).padEnd(decimals, '0'))\n    : ZERO;\n  const base = new u64(10).pow(new u64(decimals));\n  const result = integers.mul(base).add(fractions);\n  return new u64(result.toString());\n}\n\n// Convert a u64 integer into its string representation\n// Only show up to MAX_SIGNIFICANT_DIGITS digits\n// 1.01 -> 1.01\n// 100 -> 100\n// 0.123456789 -> 0.12345\n// 0.001234567 -> 0.0012345\n// 1.012345678 -> 1.0123\n// 12345.6789 -> 12345\nexport function formatBigNumber(\n  amount: u64,\n  decimals: number,\n  maxSignificantDigits = MAX_SIGNIFICANT_DIGITS,\n): string {\n  const base = new u64(10).pow(new u64(decimals));\n  const integers = amount.div(base);\n  const fractions = amount.umod(base);\n  if (fractions.isZero()) {\n    return integers.toString();\n  }\n\n  const significantDigits = amount.toString().replace(/^0+/, '').replace(/0+$/, '').length;\n  const numLeadingZeros = decimals - fractions.toString().length;\n  const numDigits = Math.min(significantDigits, maxSignificantDigits);\n  const numFractionDigits = integers.eq(ZERO)\n    ? numLeadingZeros + numDigits\n    : numDigits - integers.toString().length;\n\n  const fractionsString = fractions\n    .toString()\n    .padStart(decimals, '0')\n    .substring(0, numFractionDigits);\n\n  if (!fractionsString.length) {\n    return integers.toString();\n  }\n\n  return `${integers.toString()}.${fractionsString}`;\n}\n\nexport function getUSDValue(amount: u64, decimals: number, price: number): number {\n  return getNumber(amount, decimals) * price;\n}\n\nexport function getNumber(amount: u64, decimals: number): number {\n  return parseFloat(formatBigNumber(amount, decimals));\n}\n\nexport function formatNumberToUSD(\n  amount: number,\n  options: { showCents: boolean } = { showCents: true },\n) {\n  const numFractionDigits = options.showCents ? 2 : 0;\n  const numWithFixedFractionDigits = amount.toFixed(numFractionDigits);\n  if (numWithFixedFractionDigits === '0' || numWithFixedFractionDigits === '0.00') {\n    const numWithFixedSigFigs = amount.toPrecision(3);\n    const numDecimals = countDecimals(numWithFixedSigFigs);\n    return amount.toLocaleString('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: numDecimals,\n      maximumFractionDigits: numDecimals,\n    });\n  }\n  return amount.toLocaleString('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: numFractionDigits,\n  });\n}\n","import { u64 } from '@solana/spl-token';\n\nimport { parseString } from '../utils/format';\n\nexport default class SlippageTolerance {\n  numerator: u64;\n  denominator: u64;\n\n  constructor(numerator: u64, denominator: u64) {\n    this.numerator = numerator;\n    this.denominator = denominator;\n  }\n\n  static fromString(tolerance: string) {\n    const numerator = parseString(tolerance, 1);\n    const denominator = new u64(1000);\n\n    return new SlippageTolerance(numerator, denominator);\n  }\n\n  toString() {\n    return ((this.numerator.toNumber() / this.denominator.toNumber()) * 100).toFixed(1);\n  }\n\n  eq(t2: SlippageTolerance) {\n    return this.numerator.eq(t2.numerator) && this.denominator.eq(t2.denominator);\n  }\n\n  stringEq(tolerance: string) {\n    const t2 = SlippageTolerance.fromString(tolerance);\n    return this.numerator.eq(t2.numerator) && this.denominator.eq(t2.denominator);\n  }\n}\n","import Decimal from 'decimal.js';\n\nexport const ZERO_DECIMAL = new Decimal(0);\n","import { nowMS } from '@orca-so/sdk';\nimport { Connection, SignatureResult, Transaction } from '@solana/web3.js';\nimport base58 from 'bs58';\n\nconst TIMEOUT_MS = 60_000;\nconst REFRESH_INTERVAL_MS = 1_000;\n\n// getSignature extracts the transaction ID from a signed transaction.\n// The transaction ID is simply the first signature in the transaction.\nexport function getSignature(signedTransaction: Transaction): string {\n  if (!signedTransaction.signatures[0].signature) {\n    throw Error('Unable to find signature for transaction');\n  }\n\n  return base58.encode(signedTransaction.signatures[0].signature);\n}\n\nasync function getConfirmationFast(connection: Connection, txid: string): Promise<boolean> {\n  try {\n    const { value } = await connection.getSignatureStatus(txid);\n    // Due to a bug (https://github.com/solana-labs/solana/issues/15461)\n    // the `confirmationStatus` field could be unpopulated.\n    // To handle this case, also check the `confirmations` field.\n    // Note that a `null` value for `confirmations` signals that the\n    // transaction was finalized.\n    return (\n      (typeof value?.confirmations === 'number' && value?.confirmations > 0) ||\n      value?.confirmations === null ||\n      value?.confirmationStatus === 'confirmed'\n    );\n  } catch (e) {\n    console.error(e);\n    return false;\n  }\n}\n\nasync function getConfirmation(connection: Connection, txid: string): Promise<boolean> {\n  try {\n    const confirmViaSocket = new Promise<SignatureResult>((resolve) =>\n      connection.onSignature(txid, (signatureResult) => {\n        console.log('Confirmation via socket:', signatureResult);\n        resolve(signatureResult);\n      }),\n    );\n\n    const confirmViaHttp = connection.confirmTransaction(txid).then((signatureResult) => {\n      console.log('Confirmation via http:', signatureResult);\n      return signatureResult.value;\n    });\n\n    await Promise.race([confirmViaHttp, confirmViaSocket]);\n\n    return true;\n  } catch (e) {\n    console.error(e);\n    return false;\n  }\n}\n\nexport function sendAndConfirmFast(\n  connection: Connection,\n  signedTransaction: Transaction,\n): () => Promise<null> {\n  return async () => {\n    const rawTransaction = signedTransaction.serialize();\n    const txid = await connection.sendRawTransaction(rawTransaction);\n\n    const startTime = nowMS();\n    while (true) {\n      if (await getConfirmationFast(connection, txid)) {\n        return null;\n      }\n\n      if (nowMS() - startTime > TIMEOUT_MS) {\n        throw new Error(`Raw transaction ${txid} failed (${JSON.stringify(txid)})`);\n      }\n\n      await new Promise((resolve) => setTimeout(resolve, REFRESH_INTERVAL_MS));\n    }\n  };\n}\n\nexport function sendAndConfirm(\n  connection: Connection,\n  signedTransaction: Transaction,\n): () => Promise<null> {\n  return async () => {\n    const rawTransaction = signedTransaction.serialize();\n    const txid = await connection.sendRawTransaction(rawTransaction);\n\n    const startTime = nowMS();\n    while (true) {\n      if (await getConfirmation(connection, txid)) {\n        return null;\n      }\n\n      if (nowMS() - startTime > TIMEOUT_MS) {\n        throw new Error(`Raw transaction ${txid} failed (${JSON.stringify(txid)})`);\n      }\n\n      await new Promise((resolve) => setTimeout(resolve, REFRESH_INTERVAL_MS));\n    }\n  };\n}\n","import { Token, u64 } from '@solana/spl-token';\nimport {\n  Account,\n  Connection,\n  Keypair,\n  PublicKey,\n  Signer,\n  Transaction,\n  TransactionInstruction,\n} from '@solana/web3.js';\n\nimport {\n  createAssociatedTokenAccountIx,\n  createWSOLAccountInstructions,\n} from './instructions/token-instructions';\n\n/**\n * TODO: Deprecate Accounts / Move to sdk's transaction builder structure\n */\nexport default class TransactionBuilder {\n  instructions: TransactionInstruction[];\n  cleanupInstructions: TransactionInstruction[];\n  signers: Account[];\n  keypairSigners: Keypair[];\n\n  constructor() {\n    this.instructions = [];\n    this.cleanupInstructions = [];\n    this.signers = [];\n    this.keypairSigners = [];\n  }\n\n  addInstruction(instruction: TransactionInstruction) {\n    this.instructions.push(instruction);\n  }\n\n  createWSOLAccount(\n    owner: PublicKey,\n    amount: u64,\n    accountRentExempt: number,\n    tokenProgramId: PublicKey,\n    solMint: PublicKey,\n  ) {\n    const account = new Account();\n\n    this.instructions.push(\n      ...createWSOLAccountInstructions(\n        account.publicKey,\n        owner,\n        tokenProgramId,\n        solMint,\n        amount.toNumber(),\n        accountRentExempt,\n      ),\n    );\n\n    this.cleanupInstructions.push(\n      Token.createCloseAccountInstruction(tokenProgramId, account.publicKey, owner, owner, []),\n    );\n\n    this.signers.push(account);\n\n    return account;\n  }\n\n  async createAssociatedTokenAccount(\n    owner: PublicKey,\n    tokenMint: PublicKey,\n    tokenProgramId: PublicKey,\n  ) {\n    const [instruction, address] = await createAssociatedTokenAccountIx(\n      owner,\n      owner,\n      tokenMint,\n      tokenProgramId,\n    );\n\n    this.instructions.push(instruction);\n\n    return address;\n  }\n\n  createApproveInstruction(\n    userTokenPublicKey: PublicKey,\n    authority: Signer,\n    owner: PublicKey,\n    tokenProgramId: PublicKey,\n    amount: u64,\n  ) {\n    this.instructions.push(\n      Token.createApproveInstruction(\n        tokenProgramId,\n        userTokenPublicKey,\n        authority.publicKey,\n        owner,\n        [],\n        amount,\n      ),\n    );\n  }\n\n  async build(connection: Connection, owner: PublicKey) {\n    const transaction = new Transaction();\n    transaction.add(...this.instructions.concat(this.cleanupInstructions));\n\n    // Transaction must specify `recentBlockhash` to prevent replay attacks\n    transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;\n\n    // Generate all required signatures; add owner's signature later\n    transaction.setSigners(\n      owner,\n      ...this.signers.map((s) => s.publicKey),\n      ...this.keypairSigners.map((s) => s.publicKey),\n    );\n    if (this.signers.length > 0) {\n      transaction.partialSign(...this.signers);\n    }\n\n    if (this.keypairSigners.length > 0) {\n      transaction.partialSign(...this.keypairSigners);\n    }\n\n    return transaction;\n  }\n}\n","import { ZERO } from '@orca-so/sdk';\nimport { AccountLayout, u64 } from '@solana/spl-token';\nimport { Connection, PublicKey, Transaction } from '@solana/web3.js';\nimport BigDecimal from 'decimal.js';\n\nimport { Wallet } from 'api/wallet/Wallet';\n\nimport { ProgramIds, Route } from '../config';\nimport { ZERO_DECIMAL } from '../constants';\nimport { TokenConfigs } from '../orca-commons';\nimport { TradeablePoolsMap } from '../pools';\nimport { UserTokenAccountMap } from '../user';\nimport { getSignature, sendAndConfirm, sendAndConfirmFast } from '../utils/transactions';\nimport TransactionBuilder from '../utils/web3/TransactionBuilder';\nimport SlippageTolerance from './SlippageTolerance';\nimport TradeablePoolInterface, { OutputTooHighError } from './TradeablePoolInterface';\n\ntype TradeParameters = {\n  inputTokenName: string;\n  outputTokenName: string;\n  slippageTolerance: SlippageTolerance;\n  routes: Route[];\n  amount: u64;\n  isInputAmount: boolean;\n  outputTooHigh: boolean;\n  tokenConfigs: TokenConfigs;\n  pools?: TradeablePoolsMap;\n  derivedFields?: DerivedFields;\n};\n\ntype DerivedFields = {\n  otherAmount: u64;\n  baseOutputAmount: u64;\n  minimumOutputAmount: u64;\n  exchangeRate: BigDecimal;\n  priceImpact: BigDecimal;\n  fees: u64[]; // fees is the amount paid to LPs, denominated in the swap's output token\n  selectedRoute: Route;\n  doubleHopFields: DoubleHopFields | null;\n};\n\ntype DoubleHopFields = {\n  intermediateTokenName: string;\n  intermediateOutputAmount: u64;\n  minimumIntermediateOutputAmount: u64;\n};\n\n// Trade is an immutable struct that stores metadata about the current trade.\n// This class must remain immutable in order to be used correctly\n// with React's `useState` hook.\nexport default class Trade {\n  inputTokenName: string;\n  outputTokenName: string;\n  slippageTolerance: SlippageTolerance;\n  routes: Route[];\n  amount: u64;\n  isInputAmount: boolean;\n  outputTooHigh: boolean;\n  tokenConfigs: TokenConfigs;\n  pools: TradeablePoolsMap | undefined;\n  derivedFields: DerivedFields | undefined;\n\n  constructor(parameters: TradeParameters) {\n    this.inputTokenName = parameters.inputTokenName;\n    this.outputTokenName = parameters.outputTokenName;\n    this.slippageTolerance = parameters.slippageTolerance;\n    this.routes = parameters.routes;\n    this.amount = parameters.amount;\n    this.isInputAmount = parameters.isInputAmount;\n    this.outputTooHigh = parameters.outputTooHigh;\n    this.derivedFields = parameters.derivedFields;\n    this.tokenConfigs = parameters.tokenConfigs;\n    this.pools = parameters.pools;\n    Object.freeze(this);\n  }\n\n  getInputAmount(): u64 {\n    if (this.isInputAmount) {\n      return this.amount;\n    } else if (this.derivedFields) {\n      return this.derivedFields.otherAmount;\n    } else {\n      return ZERO;\n    }\n  }\n\n  getOutputAmount(): u64 {\n    if (!this.isInputAmount) {\n      return this.amount;\n    } else if (this.derivedFields) {\n      return this.derivedFields.otherAmount;\n    } else {\n      return ZERO;\n    }\n  }\n\n  getBaseOutputAmount() {\n    return this.derivedFields?.baseOutputAmount || ZERO;\n  }\n\n  getMinimumOutputAmount() {\n    return this.derivedFields?.minimumOutputAmount || ZERO;\n  }\n\n  getExchangeRate() {\n    return this.derivedFields?.exchangeRate || ZERO_DECIMAL;\n  }\n\n  getPriceImpact() {\n    return this.derivedFields?.priceImpact || ZERO_DECIMAL;\n  }\n\n  getFees(): u64[] {\n    return this.derivedFields?.fees || [ZERO];\n  }\n\n  getIntermediateTokenName() {\n    return this.derivedFields?.doubleHopFields?.intermediateTokenName;\n  }\n\n  getPoolFromSelectedRoute(poolIndex: number): TradeablePoolInterface | undefined {\n    const poolId = this.derivedFields?.selectedRoute[poolIndex];\n    return poolId ? this.pools?.[poolId] : undefined;\n  }\n\n  isPriceImpactHigh() {\n    const priceImpactThreshold = new BigDecimal(1);\n    return this.getPriceImpact().greaterThanOrEqualTo(priceImpactThreshold);\n  }\n\n  updatePools(pools: TradeablePoolsMap) {\n    return deriveTrade({ ...this, pools });\n  }\n\n  updateInputToken(inputTokenName: string, routes: Route[]): Trade {\n    return deriveTrade({\n      ...this,\n      inputTokenName,\n      routes,\n      amount: this.isInputAmount ? ZERO : this.amount,\n      pools: null,\n    });\n  }\n\n  updateOutputToken(outputTokenName: string, routes: Route[]): Trade {\n    return deriveTrade({\n      ...this,\n      outputTokenName,\n      routes,\n      amount: this.isInputAmount ? this.amount : ZERO,\n      pools: null,\n    });\n  }\n\n  switchTokens(): Trade {\n    return deriveTrade({\n      ...this,\n      inputTokenName: this.outputTokenName,\n      outputTokenName: this.inputTokenName,\n      isInputAmount: !this.isInputAmount,\n    });\n  }\n\n  clearAmounts(): Trade {\n    return deriveTrade({ ...this, amount: ZERO });\n  }\n\n  updateInputAmount(inputAmount: u64): Trade {\n    return deriveTrade({ ...this, amount: inputAmount, isInputAmount: true });\n  }\n\n  updateOutputAmount(outputAmount: u64): Trade {\n    return deriveTrade({ ...this, amount: outputAmount, isInputAmount: false });\n  }\n\n  updateSlippageTolerance(slippageTolerance: SlippageTolerance): Trade {\n    return deriveTrade({ ...this, slippageTolerance });\n  }\n\n  getTokenNamesToSetup(userStandardTokenAccounts: UserTokenAccountMap): string[] {\n    const tokenNames = [];\n\n    const intermediateTokenName = this.getIntermediateTokenName();\n    if (\n      intermediateTokenName &&\n      intermediateTokenName !== 'SOL' &&\n      !userStandardTokenAccounts[intermediateTokenName]\n    ) {\n      tokenNames.push(intermediateTokenName);\n    }\n\n    if (this.outputTokenName !== 'SOL' && !userStandardTokenAccounts[this.outputTokenName]) {\n      tokenNames.push(this.outputTokenName);\n    }\n\n    return tokenNames;\n  }\n\n  async prepareExchangeTransactions(\n    connection: Connection,\n    tokenConfigs: TokenConfigs,\n    programIds: ProgramIds,\n    wallet: Wallet,\n    inputUserTokenPublicKey: PublicKey,\n    intermediateUserTokenPublicKey: PublicKey | undefined,\n    outputUserTokenPublicKey: PublicKey | undefined,\n  ): Promise<{\n    setupTransaction: Transaction | undefined;\n    swapTransaction: Transaction;\n  }> {\n    if (!this.pools || !this.derivedFields) {\n      throw new Error('Can not initiate an exchange before retrieving the loader');\n    }\n\n    const setupTransactionBuilder = new TransactionBuilder();\n\n    const intermediateTokenName = this.getIntermediateTokenName();\n    if (\n      intermediateTokenName &&\n      intermediateTokenName !== 'SOL' &&\n      !intermediateUserTokenPublicKey\n    ) {\n      intermediateUserTokenPublicKey = await setupTransactionBuilder.createAssociatedTokenAccount(\n        wallet.publicKey,\n        tokenConfigs[intermediateTokenName].mint,\n        programIds.token,\n      );\n    }\n\n    if (this.outputTokenName !== 'SOL' && !outputUserTokenPublicKey) {\n      outputUserTokenPublicKey = await setupTransactionBuilder.createAssociatedTokenAccount(\n        wallet.publicKey,\n        tokenConfigs[this.outputTokenName].mint,\n        programIds.token,\n      );\n    }\n\n    const swapTransactionBuilder = new TransactionBuilder();\n\n    const accountRentExempt = await connection.getMinimumBalanceForRentExemption(\n      AccountLayout.span,\n    );\n\n    const doubleHopFields = this.derivedFields.doubleHopFields;\n    if (!doubleHopFields) {\n      const pool = this.pools[this.derivedFields.selectedRoute[0]];\n\n      await pool.constructExchange(\n        wallet,\n        tokenConfigs,\n        programIds,\n        this.inputTokenName,\n        this.outputTokenName,\n        this.getInputAmount(),\n        this.derivedFields.minimumOutputAmount,\n        accountRentExempt,\n        swapTransactionBuilder,\n        this.inputTokenName === 'SOL' ? undefined : inputUserTokenPublicKey,\n        outputUserTokenPublicKey,\n      );\n\n      // outputUserTokenPublicKey = result.outputUserTokenPublicKey;\n    } else {\n      const pool0 = this.pools[this.derivedFields.selectedRoute[0]];\n\n      const result0 = await pool0.constructExchange(\n        wallet,\n        tokenConfigs,\n        programIds,\n        this.inputTokenName,\n        doubleHopFields.intermediateTokenName,\n        this.getInputAmount(),\n        doubleHopFields.minimumIntermediateOutputAmount,\n        accountRentExempt,\n        swapTransactionBuilder,\n        this.inputTokenName === 'SOL' ? undefined : inputUserTokenPublicKey,\n        intermediateUserTokenPublicKey,\n      );\n\n      intermediateUserTokenPublicKey = result0.outputUserTokenPublicKey;\n\n      const pool1 = this.pools[this.derivedFields.selectedRoute[1]];\n      await pool1.constructExchange(\n        wallet,\n        tokenConfigs,\n        programIds,\n        doubleHopFields.intermediateTokenName,\n        this.outputTokenName,\n        doubleHopFields.intermediateOutputAmount,\n        this.derivedFields.minimumOutputAmount,\n        accountRentExempt,\n        swapTransactionBuilder,\n        intermediateUserTokenPublicKey,\n        outputUserTokenPublicKey,\n      );\n\n      // outputUserTokenPublicKey = result1.outputUserTokenPublicKey;\n    }\n\n    let setupTransaction = undefined;\n    if (setupTransactionBuilder.instructions.length) {\n      setupTransaction = await setupTransactionBuilder.build(connection, wallet.publicKey);\n    }\n\n    const swapTransaction = await swapTransactionBuilder.build(connection, wallet.publicKey);\n\n    return {\n      setupTransaction,\n      swapTransaction,\n    };\n  }\n\n  async confirmExchange(\n    connection: Connection,\n    tokenConfigs: TokenConfigs,\n    programIds: ProgramIds,\n    wallet: Wallet,\n    inputUserTokenPublicKey: PublicKey,\n    intermediateUserTokenPublicKey: PublicKey | undefined,\n    outputUserTokenPublicKey: PublicKey | undefined,\n  ): Promise<{\n    txSignatureSetup: string | undefined;\n    executeSetup: (() => Promise<null>) | undefined;\n    txSignatureSwap: string;\n    executeSwap: () => Promise<null>;\n  }> {\n    const { setupTransaction, swapTransaction } = await this.prepareExchangeTransactions(\n      connection,\n      tokenConfigs,\n      programIds,\n      wallet,\n      inputUserTokenPublicKey,\n      intermediateUserTokenPublicKey,\n      outputUserTokenPublicKey,\n    );\n\n    const txs: Transaction[] = [];\n    if (setupTransaction) {\n      txs.push(setupTransaction);\n    }\n    txs.push(swapTransaction);\n\n    const signedTxs = await wallet.signAllTransactions(txs);\n\n    let signedSetupTx, signedSwapTx;\n    if (signedTxs.length === 2) {\n      [signedSetupTx, signedSwapTx] = signedTxs;\n    } else {\n      [signedSwapTx] = signedTxs;\n    }\n\n    return {\n      txSignatureSetup: signedSetupTx ? getSignature(signedSetupTx) : undefined,\n      executeSetup: signedSetupTx ? sendAndConfirm(connection, signedSetupTx) : undefined,\n      txSignatureSwap: getSignature(signedSwapTx),\n      executeSwap: sendAndConfirmFast(connection, signedSwapTx),\n    };\n  }\n}\n\nfunction getBaseOutputAmount(\n  route: Route,\n  pools: TradeablePoolsMap,\n  inputAmount: u64,\n  inputTokenName: string,\n) {\n  const pool0 = pools[route[0]];\n  const outputAmount = pool0.getBaseOutputAmount(inputAmount, inputTokenName);\n\n  if (route.length === 1) {\n    return outputAmount;\n  }\n\n  const intermediateInputTokenName =\n    pool0.getTokenAName() === inputTokenName ? pool0.getTokenBName() : pool0.getTokenAName();\n\n  const pool1 = pools[route[1]];\n\n  return pool1.getBaseOutputAmount(outputAmount, intermediateInputTokenName);\n}\n\nfunction getMinimumOutputAmount(\n  route: Route,\n  pools: TradeablePoolsMap,\n  inputAmount: u64,\n  inputTokenName: string,\n  slippageTolerance: SlippageTolerance,\n) {\n  const pool0 = pools[route[0]];\n  const minimumOutputAmount = pool0.getMinimumAmountOut(\n    inputAmount,\n    inputTokenName,\n    slippageTolerance,\n  );\n\n  if (route.length === 1) {\n    return minimumOutputAmount;\n  }\n\n  const intermediateInputTokenName =\n    pool0.getTokenAName() === inputTokenName ? pool0.getTokenBName() : pool0.getTokenAName();\n  const intermediateInputAmount = pool0.getOutputAmount(inputAmount, inputTokenName);\n\n  const pool1 = pools[route[1]];\n\n  return pool1.getMinimumAmountOut(\n    intermediateInputAmount,\n    intermediateInputTokenName,\n    slippageTolerance,\n  );\n}\n\nfunction getDoubleHopFields(\n  route: Route,\n  pools: TradeablePoolsMap,\n  inputAmount: u64,\n  inputTokenName: string,\n  slippageTolerance: SlippageTolerance,\n): DoubleHopFields | null {\n  if (route.length === 1) {\n    return null;\n  }\n\n  const pool0 = pools[route[0]];\n\n  return {\n    intermediateTokenName:\n      pool0.getTokenAName() === inputTokenName ? pool0.getTokenBName() : pool0.getTokenAName(),\n    intermediateOutputAmount: pool0.getOutputAmount(inputAmount, inputTokenName),\n    minimumIntermediateOutputAmount: pool0.getMinimumAmountOut(\n      inputAmount,\n      inputTokenName,\n      slippageTolerance,\n    ),\n  };\n}\n\ntype RouteExecutionFromInput = {\n  route: Route;\n  outputAmount: u64;\n};\n\nfunction getRouteExecutionFromInput(\n  route: Route,\n  pools: TradeablePoolsMap,\n  inputAmount: u64,\n  inputTokenName: string,\n): RouteExecutionFromInput {\n  const pool0 = pools[route[0]];\n  let outputAmount = pool0.getOutputAmount(inputAmount, inputTokenName);\n\n  if (route.length === 1) {\n    return {\n      route,\n      outputAmount,\n    };\n  }\n\n  const pool1 = pools[route[1]];\n\n  const intermediateTokenName =\n    pool0.getTokenAName() === inputTokenName ? pool0.getTokenBName() : pool0.getTokenAName();\n\n  return {\n    route,\n    outputAmount: pool1.getOutputAmount(outputAmount, intermediateTokenName),\n  };\n}\n\nfunction selectRouteFromInput(\n  routes: Route[],\n  pools: TradeablePoolsMap,\n  inputAmount: u64,\n  inputTokenName: string,\n): RouteExecutionFromInput {\n  const init: RouteExecutionFromInput = {\n    route: routes[0],\n    outputAmount: ZERO,\n  };\n\n  return routes.reduce((bestRoute, route) => {\n    const routeExecution = getRouteExecutionFromInput(route, pools, inputAmount, inputTokenName);\n\n    return bestRoute.outputAmount.lt(routeExecution.outputAmount) ? routeExecution : bestRoute;\n  }, init);\n}\n\nfunction orderRoutes(pools: TradeablePoolsMap, routes: Route[], inputTokenName: string): Route[] {\n  return routes.map((route) => {\n    if (route.length === 1) {\n      return route;\n    }\n\n    const route0Pool = pools[route[0]];\n    if (\n      route0Pool.getTokenAName() === inputTokenName ||\n      route0Pool.getTokenBName() === inputTokenName\n    ) {\n      return route;\n    }\n\n    return route.slice().reverse();\n  });\n}\n\ntype RouteExecutionFromOutput = {\n  route: Route;\n  inputAmount: u64;\n};\n\nfunction getRouteExecutionFromOutput(\n  route: Route,\n  pools: TradeablePoolsMap,\n  outputTokenName: string,\n  outputAmount: u64,\n): RouteExecutionFromOutput {\n  const route0 = route[route.length - 1];\n  const pool0 = pools[route0];\n\n  const intermediateTokenName =\n    pool0.getTokenAName() === outputTokenName ? pool0.getTokenBName() : pool0.getTokenAName();\n\n  const intermediateAmount = pool0.getInputAmount(outputAmount, outputTokenName);\n\n  if (route.length === 1) {\n    return {\n      route,\n      inputAmount: intermediateAmount,\n    };\n  }\n\n  const pool1 = pools[route[0]];\n\n  const inputAmount = pool1.getInputAmount(intermediateAmount, intermediateTokenName);\n\n  return {\n    route,\n    inputAmount,\n  };\n}\n\nfunction selectRouteFromOutput(\n  routes: Route[],\n  pools: TradeablePoolsMap,\n  outputTokenName: string,\n  outputAmount: u64,\n): RouteExecutionFromOutput {\n  const init: RouteExecutionFromOutput = {\n    route: routes[0],\n    inputAmount: ZERO,\n  };\n\n  return routes.reduce((bestRoute, route) => {\n    let routeExecution;\n    try {\n      routeExecution = getRouteExecutionFromOutput(route, pools, outputTokenName, outputAmount);\n    } catch (e) {\n      if (e instanceof OutputTooHighError) {\n        return bestRoute;\n      }\n      throw e;\n    }\n\n    // Otherwise, choose the route with a lower inputAmount\n    return bestRoute.inputAmount.eq(ZERO) || bestRoute.inputAmount.gt(routeExecution.inputAmount)\n      ? routeExecution\n      : bestRoute;\n  }, init);\n}\n\nfunction deriveTrade(parameters: TradeParameters): Trade {\n  if (\n    !parameters.routes.length ||\n    !parameters.pools ||\n    !Object.keys(parameters.pools).length ||\n    parameters.amount.eq(ZERO)\n  ) {\n    return new Trade({\n      ...parameters,\n      derivedFields: undefined,\n    });\n  }\n\n  const pools = parameters.pools;\n\n  // Reverse order of routes if user is trading in the other direction\n  const routes = orderRoutes(pools, parameters.routes, parameters.inputTokenName);\n\n  let route: Route, inputAmount: u64, outputAmount: u64, otherAmount: u64;\n  if (parameters.isInputAmount) {\n    ({ route, outputAmount: otherAmount } = selectRouteFromInput(\n      routes,\n      pools,\n      parameters.amount,\n      parameters.inputTokenName,\n    ));\n\n    inputAmount = parameters.amount;\n    outputAmount = otherAmount;\n  } else {\n    ({ route, inputAmount: otherAmount } = selectRouteFromOutput(\n      routes,\n      pools,\n      parameters.outputTokenName,\n      parameters.amount,\n    ));\n\n    if (otherAmount === ZERO) {\n      return new Trade({\n        ...parameters,\n        outputTooHigh: true,\n        derivedFields: undefined,\n      });\n    }\n\n    outputAmount = parameters.amount;\n    inputAmount = otherAmount;\n  }\n\n  const minimumOutputAmount = getMinimumOutputAmount(\n    route,\n    pools,\n    inputAmount,\n    parameters.inputTokenName,\n    parameters.slippageTolerance,\n  );\n\n  const inputDecimal = new BigDecimal(inputAmount.toString()).div(\n    new BigDecimal(10).pow(parameters.tokenConfigs[parameters.inputTokenName].decimals),\n  );\n  const outputDecimal = new BigDecimal(outputAmount.toString()).div(\n    new BigDecimal(10).pow(parameters.tokenConfigs[parameters.outputTokenName].decimals),\n  );\n  const exchangeRate = outputDecimal.dividedBy(inputDecimal);\n\n  const baseOutputAmount = getBaseOutputAmount(\n    route,\n    pools,\n    inputAmount,\n    parameters.inputTokenName,\n  );\n  const baseOutputDecimal = new BigDecimal(baseOutputAmount.toString());\n  const priceImpact = baseOutputDecimal\n    .minus(outputAmount.toString())\n    .dividedBy(baseOutputDecimal)\n    .mul(new BigDecimal(100));\n\n  const doubleHopFields = getDoubleHopFields(\n    route,\n    pools,\n    inputAmount,\n    parameters.inputTokenName,\n    parameters.slippageTolerance,\n  );\n  // TODO: Check that this is correct\n  const fees = route.map((route, idx) => {\n    const pool = pools[route];\n    if (idx === 0) {\n      return pool.calculateFees(inputAmount, parameters.inputTokenName);\n    } else if (doubleHopFields) {\n      return pool.calculateFees(\n        doubleHopFields.intermediateOutputAmount,\n        doubleHopFields.intermediateTokenName,\n      );\n    }\n\n    throw new Error('double hop fields not found');\n  });\n\n  return new Trade({\n    ...parameters,\n    outputTooHigh: false,\n    derivedFields: {\n      otherAmount,\n      selectedRoute: route,\n      minimumOutputAmount,\n      baseOutputAmount,\n      exchangeRate,\n      priceImpact,\n      fees,\n      doubleHopFields,\n    },\n  });\n}\n","import { ZERO } from '@orca-so/sdk';\nimport { AccountInfo, Token, u64 } from '@solana/spl-token';\nimport { Account, Connection, PublicKey } from '@solana/web3.js';\n\nexport default class TokenAccount {\n  connection: Connection;\n  account: PublicKey;\n  accountInfo: AccountInfo;\n\n  constructor(connection: Connection, account: PublicKey, accountInfo: AccountInfo) {\n    this.connection = connection;\n    this.account = account;\n    this.accountInfo = accountInfo;\n  }\n\n  getAmount(): u64 {\n    return this.accountInfo.amount;\n  }\n\n  static async fetch(\n    connection: Connection,\n    mint: PublicKey,\n    tokenAccount: PublicKey,\n    tokenProgramId: PublicKey,\n  ) {\n    const token = new Token(connection, mint, tokenProgramId, new Account());\n    const accountInfo = await token.getAccountInfo(tokenAccount);\n\n    return new TokenAccount(connection, tokenAccount, accountInfo);\n  }\n\n  static createWrappedSolAccount(\n    connection: Connection,\n    owner: PublicKey,\n    solMint: PublicKey,\n    amount: u64,\n  ) {\n    const dummyAccount = new Account();\n    return new TokenAccount(connection, dummyAccount.publicKey, {\n      mint: solMint,\n      address: dummyAccount.publicKey,\n      owner,\n      amount,\n      delegate: null,\n      delegatedAmount: ZERO,\n      isInitialized: false,\n      isFrozen: false,\n      isNative: false,\n      rentExemptReserve: null,\n      closeAuthority: null,\n    });\n  }\n}\n","import { RpcResponseAndContext } from '@solana/web3.js';\n\nimport { SetSlot } from 'app/contexts/solana';\n\n/**\n * Retry an async function that returns a RpcResponseAndContext up to\n * 3 times if it returns out-of-date data (as measured by the latest\n * slot number saved in the SolanaContext).\n * @param fn The function to retry\n * @param slot The latest slot number stored in context\n * @param setSlot A function to update the slot number stored in context\n * @param maxRetries The maximum number of times to retry\n * @returns\n */\nexport async function retryRpcResponseAndContext<T>(\n  fn: () => Promise<RpcResponseAndContext<T>>,\n  slot: number,\n  setSlot: SetSlot,\n  maxRetries: number = 3,\n): Promise<RpcResponseAndContext<T>> {\n  for (let retries = 0; retries < maxRetries; retries++) {\n    const response = await fn();\n    let { slot: responseSlot } = response.context;\n\n    // Discard responses that have a response slot that is lower than the current slot\n    if (responseSlot > slot) {\n      setSlot(responseSlot);\n      return response;\n    } else {\n      console.error(\n        `The response is out-of-date (${slot - responseSlot} slots behind). Fetching again...`,\n      );\n    }\n  }\n\n  throw new Error('The request timed out. Try refreshing the page and try again.');\n}\n","import { u64 } from '@solana/spl-token';\n\n// @solana/spl-token v0.0.13 has a bug where\n// u64.fromBuffer returns `BN` rather than `u64`\nexport function u64FromBuffer(buffer: Buffer): u64 {\n  return new u64(u64.fromBuffer(buffer).toString());\n}\n","import { deriveAssociatedTokenAddress, ZERO } from '@orca-so/sdk';\nimport { AccountLayout, u64 } from '@solana/spl-token';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\n\nimport { SetSlot } from 'app/contexts/solana';\n\nimport { MintToTokenName } from '../config';\nimport TokenAccount from '../models/TokenAccount';\nimport { UserTokenAccountMap } from '../user';\nimport { retryRpcResponseAndContext } from './api';\nimport { u64FromBuffer } from './u64';\n\nexport async function isNonATA(\n  candidateKey: PublicKey,\n  destPubKey: PublicKey,\n  tokenMintPubKey: PublicKey,\n): Promise<boolean> {\n  return !(await deriveAssociatedTokenAddress(destPubKey, tokenMintPubKey)).equals(candidateKey);\n}\n\n// copy past from here: https://github.com/solana-labs/oyster-lending/blob/9677c6ffedb70ccd026d7e7bf6cecdb632c3d1fe/src/contexts/accounts.tsx#L667\nconst deserializeAccount = (data: Buffer) => {\n  const accountInfo = AccountLayout.decode(data);\n  accountInfo.mint = new PublicKey(accountInfo.mint);\n  accountInfo.owner = new PublicKey(accountInfo.owner);\n  accountInfo.amount = u64FromBuffer(accountInfo.amount);\n\n  if (accountInfo.delegateOption === 0) {\n    accountInfo.delegate = null;\n    accountInfo.delegatedAmount = new u64(0);\n  } else {\n    accountInfo.delegate = new PublicKey(accountInfo.delegate);\n    accountInfo.delegatedAmount = u64FromBuffer(accountInfo.delegatedAmount);\n  }\n\n  accountInfo.isInitialized = accountInfo.state !== 0;\n  accountInfo.isFrozen = accountInfo.state === 2;\n\n  if (accountInfo.isNativeOption === 1) {\n    accountInfo.rentExemptReserve = u64FromBuffer(accountInfo.isNative);\n    accountInfo.isNative = true;\n  } else {\n    accountInfo.rentExemptReserve = null;\n    accountInfo.isNative = false;\n  }\n\n  if (accountInfo.closeAuthorityOption === 0) {\n    accountInfo.closeAuthority = null;\n  } else {\n    accountInfo.closeAuthority = new PublicKey(accountInfo.closeAuthority);\n  }\n\n  return accountInfo;\n};\n\ntype LoadTokenAccountsReturnValue = {\n  tokenAccounts: UserTokenAccountMap;\n  hasNonATAs: boolean;\n};\n\nexport async function loadTokenAccounts(\n  connection: Connection,\n  slot: number,\n  setSlot: SetSlot,\n  user: PublicKey,\n  tokenProgramId: PublicKey,\n  solMint: PublicKey,\n  mintToTokenName: MintToTokenName,\n): Promise<LoadTokenAccountsReturnValue> {\n  const map: UserTokenAccountMap = {};\n  let hasNonATAs = false;\n\n  const fetchingUserAccount = retryRpcResponseAndContext(\n    () => connection.getAccountInfoAndContext(user),\n    slot,\n    setSlot,\n  ).then((response) => {\n    const accountInfo = response.value;\n\n    // If the user's account hasn't been initialized on the blockchain,\n    // set balance to 0.\n    const lamports = new u64(accountInfo ? accountInfo.lamports : 0);\n\n    // TODO: Fix so that token.account is the SOL address\n    map['SOL'] = TokenAccount.createWrappedSolAccount(connection, user, solMint, new u64(lamports));\n  });\n\n  const fetchingTokenAccounts = retryRpcResponseAndContext(\n    () =>\n      connection.getTokenAccountsByOwner(user, {\n        programId: tokenProgramId,\n      }),\n    slot,\n    setSlot,\n  )\n    .then((response) => {\n      // Asynchronously check if the token address is an ATA\n      return Promise.all(\n        response.value.map(\n          async (publicKeyAndAccount: { pubkey: PublicKey; account: AccountInfo<any> }) => {\n            const { pubkey, account } = publicKeyAndAccount;\n            const accountInfo = deserializeAccount(account.data);\n\n            return {\n              tokenAddress: pubkey,\n              accountInfo,\n              isNonATA: await isNonATA(pubkey, user, accountInfo.mint),\n            };\n          },\n        ),\n      );\n    })\n    .then((accounts) => {\n      accounts.forEach(({ tokenAddress, accountInfo, isNonATA }) => {\n        const tokenAccount = new TokenAccount(connection, tokenAddress, accountInfo);\n\n        const mintAddress = accountInfo.mint.toBase58();\n        const tokenName = mintToTokenName[mintAddress] || mintAddress;\n        if (!tokenName || tokenName === 'SOL') {\n          return;\n        }\n\n        if (isNonATA && !tokenAccount.getAmount().eq(ZERO)) {\n          hasNonATAs = true;\n        }\n\n        if (map[tokenName] && isNonATA) {\n          return;\n        }\n\n        map[tokenName] = tokenAccount;\n      });\n    });\n\n  await Promise.all([fetchingUserAccount, fetchingTokenAccounts]);\n\n  return { tokenAccounts: map, hasNonATAs };\n}\n\n// returns min sol balance required for a swap\n//   returns 0.00004 SOL for 1-step swaps\n//   returns 0.003 SOL for 2-step swaps\nexport function minSolBalanceForSwap(decimals: number, isTwoStep: boolean) {\n  if (isTwoStep) {\n    return new u64(10).pow(new u64(decimals - 3)).mul(new u64(3));\n  }\n\n  return new u64(10).pow(new u64(decimals - 5)).mul(new u64(4));\n}\n","import { useCallback, useEffect, useMemo, useReducer } from 'react';\n\nexport enum Keys {\n  // eslint-disable-next-line\n  SLIPPAGE_TOLERANCE = 'SLIPPAGE_TOLERANCE',\n}\n\nconst localStorageListeners: {\n  [key: string]: React.DispatchWithoutAction[];\n} = {};\n\nexport function useLocalStorageString(\n  key: string,\n  defaultState: string | null = null,\n): [string | null, (newState: string | null) => void] {\n  const state = localStorage.getItem(key) || defaultState;\n  const [, notify] = useReducer((i) => i + 1, 0);\n\n  useEffect(() => {\n    if (!localStorageListeners[key]) {\n      localStorageListeners[key] = [];\n    }\n\n    localStorageListeners[key].push(notify);\n\n    return () => {\n      localStorageListeners[key] = localStorageListeners[key].filter(\n        (listener) => listener !== notify,\n      );\n    };\n  }, [key]);\n\n  const setState = useCallback<(newState: string | null) => void>(\n    (newState) => {\n      if (state === newState) {\n        return;\n      } else if (newState === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, newState);\n      }\n      localStorageListeners[key].forEach((listener) => listener());\n    },\n    [state, key],\n  );\n\n  return [state, setState];\n}\n\nexport function useLocalStorageBoolean(\n  key: string,\n  defaultState: boolean = true,\n): [boolean, (newState: boolean) => void] {\n  let [stringState, setStringState] = useLocalStorageString(key, JSON.stringify(defaultState));\n\n  return [\n    stringState === 'true' ? true : false,\n    (newState) => setStringState(JSON.stringify(newState)),\n  ];\n}\n\nexport function useLocalStorage<T = any>(\n  key: string,\n  defaultState: T | null = null,\n): [T, (newState: T) => void] {\n  let [stringState, setStringState] = useLocalStorageString(key, JSON.stringify(defaultState));\n  return [\n    useMemo(() => stringState && JSON.parse(stringState), [stringState]),\n    (newState) => setStringState(JSON.stringify(newState)),\n  ];\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { ZERO } from '@orca-so/sdk';\nimport { u64 } from '@solana/spl-token';\nimport { createContainer } from 'unstated-next';\n\nimport { useSolana } from 'app/contexts/solana';\nimport { useConfig, usePools, usePrice, UserTokenAccountMap, useUser } from 'app/contexts/swap';\nimport SlippageTolerance from 'app/contexts/swap/models/SlippageTolerance';\nimport Trade from 'app/contexts/swap/models/Trade';\nimport { getMaxAge } from 'app/contexts/swap/utils/AsyncCache';\nimport { getTradeId } from 'app/contexts/swap/utils/pools';\nimport { minSolBalanceForSwap } from 'app/contexts/swap/utils/tokenAccounts';\nimport { Keys, useLocalStorage } from 'utils/hooks/useLocalStorage';\nimport { swapNotification } from 'utils/transactionNotifications';\n\nexport const defaultSelectedTokens = {\n  input: 'USDC',\n  output: 'SOL',\n};\n\nconst DEFAULT_SLIPPAGE_TOLERANCE_STATE = { numerator: '10', denominator: '1000' };\n\nexport enum ButtonState {\n  // eslint-disable-next-line no-unused-vars\n  ConnectWallet,\n  // eslint-disable-next-line no-unused-vars\n  LoadingUserData,\n  // eslint-disable-next-line no-unused-vars\n  RouteDoesNotExist,\n  // eslint-disable-next-line no-unused-vars\n  Exchange,\n  // eslint-disable-next-line no-unused-vars\n  ConfirmWallet,\n  // eslint-disable-next-line no-unused-vars\n  SendingTransaction,\n  // eslint-disable-next-line no-unused-vars\n  ZeroInputValue,\n  // eslint-disable-next-line no-unused-vars\n  InputTokenAccountDoesNotExist,\n  // eslint-disable-next-line no-unused-vars\n  InsufficientBalance,\n  // eslint-disable-next-line no-unused-vars\n  OutputTooHigh,\n  // eslint-disable-next-line no-unused-vars\n  NotEnoughSOL,\n  // eslint-disable-next-line no-unused-vars\n  HighPriceImpact,\n  // eslint-disable-next-line no-unused-vars\n  Retry,\n}\n\nexport interface UseSwap {\n  trade: Trade;\n\n  // Mint being traded from. The user must own these tokens.\n  setInputTokenName: (m: string) => void;\n\n  // Mint being traded to. The user will receive these tokens after the swap.\n  setOutputTokenName: (m: string) => void;\n\n  // Amount used for the swap.\n  setInputAmount: (a: u64) => void;\n\n  // *Expected* amount received from the swap.\n  setOutputAmount: (a: u64) => void;\n\n  // Function to flip what we consider to be the \"to\" and \"from\" mints.\n  switchTokens: () => void;\n\n  slippageTolerance: SlippageTolerance;\n  setSlippageTolerance: (tolerance: SlippageTolerance) => void;\n\n  // referral?: PublicKey;\n\n  asyncStandardTokenAccounts: UserTokenAccountMap | null;\n  inputTokenAmount: u64 | undefined;\n  inputTokenPrice: number | undefined;\n  outputTokenPrice: number | undefined;\n  intermediateTokenName: string | undefined;\n  intermediateTokenPrice: number | undefined;\n  buttonState: ButtonState;\n  onSwap: () => Promise<void>;\n}\n\nexport type UseSwapArgs = {\n  inputTokenName?: string;\n  outputTokenName?: string;\n  // fromAmount?: number;\n  // toAmount?: number;\n  // referral?: PublicKey;\n};\n\nconst useSwapInternal = (props: UseSwapArgs = {}): UseSwap => {\n  const { wallet, connection } = useSolana();\n  const { programIds, tokenConfigs, routeConfigs } = useConfig();\n  const [inputTokenName, _setInputTokenName] = useState(props.inputTokenName ?? 'SOL');\n  const [outputTokenName, _setOutputTokenName] = useState(props.outputTokenName ?? 'USDC');\n  const [slippageToleranceState, setSlippageToleranceState] = useLocalStorage<{\n    numerator: string;\n    denominator: string;\n  }>(Keys.SLIPPAGE_TOLERANCE, DEFAULT_SLIPPAGE_TOLERANCE_STATE);\n  const [buttonState, setButtonState] = useState(ButtonState.ConnectWallet);\n  // const [isFairnessIndicatorCollapsed, setIsFairnessIndicatorCollapsed] = useState(true);\n\n  const slippageTolerance = useMemo(() => {\n    return new SlippageTolerance(\n      new u64(slippageToleranceState.numerator),\n      new u64(slippageToleranceState.denominator),\n    );\n  }, [slippageToleranceState.numerator, slippageToleranceState.denominator]);\n\n  const setSlippageTolerance = useCallback(\n    (tolerance: SlippageTolerance) => {\n      setSlippageToleranceState({\n        numerator: tolerance.numerator.toString(),\n        denominator: tolerance.denominator.toString(),\n      });\n    },\n    [setSlippageToleranceState],\n  );\n\n  const [trade, setTrade] = useState<Trade>(\n    () =>\n      new Trade({\n        inputTokenName,\n        outputTokenName,\n        amount: ZERO,\n        isInputAmount: true,\n        outputTooHigh: false,\n        slippageTolerance,\n        tokenConfigs,\n        routes: routeConfigs[getTradeId(inputTokenName, outputTokenName)],\n      }),\n  );\n\n  const tradeId = getTradeId(trade.inputTokenName, trade.outputTokenName);\n  const intermediateTokenName = trade.getIntermediateTokenName();\n\n  const [isRefreshRateIncreased, setIsRefreshRateIncreased] = useState(false);\n  const maxAge = getMaxAge(isRefreshRateIncreased);\n\n  const { useAsyncBatchedPools, fetchPool } = usePools();\n  const poolIds = routeConfigs[tradeId]\n    .flat()\n    .filter((poolId, idx, list) => list.indexOf(poolId) === idx);\n  const asyncPools = useAsyncBatchedPools(poolIds, maxAge);\n\n  const { useAsyncStandardTokenAccounts, refreshStandardTokenAccounts } = useUser();\n  const asyncStandardTokenAccounts = useAsyncStandardTokenAccounts(maxAge);\n  const inputUserTokenAccount = asyncStandardTokenAccounts.value?.[trade.inputTokenName];\n  const outputUserTokenAccount = asyncStandardTokenAccounts.value?.[trade.outputTokenName];\n  const solUserTokenAccount = asyncStandardTokenAccounts.value?.['SOL'];\n\n  const { useAsyncMergedPrices } = usePrice();\n  const asyncPrices = useAsyncMergedPrices();\n  const inputTokenPrice = asyncPrices.value?.[trade.inputTokenName];\n  const outputTokenPrice = asyncPrices.value?.[trade.outputTokenName];\n  const intermediateTokenPrice = intermediateTokenName\n    ? asyncPrices.value?.[intermediateTokenName]\n    : undefined;\n\n  const minSolBalanceRequired = minSolBalanceForSwap(\n    tokenConfigs['SOL'].decimals,\n    !!asyncStandardTokenAccounts.value,\n  );\n\n  const setInputTokenName = useCallback(\n    (tokenName: string) => {\n      const routes = routeConfigs[getTradeId(tokenName, trade.outputTokenName)];\n      _setInputTokenName(tokenName);\n      setTrade(trade.updateInputToken(tokenName, routes));\n    },\n    [routeConfigs, trade],\n  );\n\n  const setOutputTokenName = useCallback(\n    (tokenName: string) => {\n      const routes = routeConfigs[getTradeId(trade.inputTokenName, tokenName)];\n      _setOutputTokenName(tokenName);\n      setTrade(trade.updateOutputToken(tokenName, routes));\n    },\n    [routeConfigs, trade],\n  );\n\n  const setInputAmount = useCallback(\n    (amount: u64) => {\n      setTrade(trade.updateInputAmount(amount));\n    },\n    [trade],\n  );\n\n  const setOutputAmount = useCallback(\n    (amount: u64) => {\n      setTrade(trade.updateOutputAmount(amount));\n    },\n    [trade],\n  );\n\n  const switchTokens = useCallback(() => {\n    _setInputTokenName(trade.outputTokenName);\n    _setOutputTokenName(trade.inputTokenName);\n    setTrade(trade.switchTokens());\n  }, [trade]);\n\n  // Update trade instance when pool data becomes available\n  useEffect(() => {\n    if (!trade.pools && asyncPools.value) {\n      setTrade(trade.updatePools(asyncPools.value));\n    }\n  }, [trade, asyncPools.value]);\n\n  // Update trade instance when pool data refreshes\n  useEffect(() => {\n    if (asyncPools.value) {\n      setTrade((trade) => trade.updatePools(asyncPools.value));\n    }\n  }, [asyncPools]);\n\n  useEffect(() => {\n    setTrade((trade) => trade.updateSlippageTolerance(slippageTolerance));\n  }, [slippageTolerance]);\n\n  useEffect(() => {\n    if (\n      buttonState === ButtonState.ConfirmWallet ||\n      buttonState === ButtonState.SendingTransaction\n    ) {\n      return;\n    }\n\n    if (!trade.routes.length) {\n      setButtonState(ButtonState.RouteDoesNotExist);\n    } else if (!wallet) {\n      setButtonState(ButtonState.ConnectWallet);\n    } else if (!asyncStandardTokenAccounts.value || !asyncPools.value) {\n      setButtonState(ButtonState.LoadingUserData);\n    } else {\n      const inputAmount = trade.getInputAmount();\n\n      let solRemainingForFees = solUserTokenAccount?.getAmount() || ZERO;\n      if (inputTokenName === 'SOL') {\n        solRemainingForFees = solRemainingForFees.lt(inputAmount)\n          ? ZERO\n          : solRemainingForFees.sub(inputAmount);\n      }\n\n      if (inputAmount.eq(ZERO)) {\n        setButtonState(ButtonState.ZeroInputValue);\n      } else if (solRemainingForFees.lt(minSolBalanceRequired)) {\n        setButtonState(ButtonState.NotEnoughSOL);\n      } else if (!inputUserTokenAccount || inputUserTokenAccount.getAmount().lt(inputAmount)) {\n        setButtonState(ButtonState.InsufficientBalance);\n      } else {\n        if (trade.isPriceImpactHigh()) {\n          setButtonState(ButtonState.HighPriceImpact);\n        } else {\n          setButtonState(ButtonState.Exchange);\n        }\n      }\n    }\n  }, [\n    wallet,\n    inputTokenName,\n    tokenConfigs,\n    asyncPools,\n    buttonState,\n    asyncStandardTokenAccounts,\n    inputUserTokenAccount,\n    trade,\n    outputUserTokenAccount,\n    solUserTokenAccount,\n    minSolBalanceRequired,\n  ]);\n\n  useEffect(() => {\n    setIsRefreshRateIncreased(\n      buttonState === ButtonState.Exchange || buttonState === ButtonState.HighPriceImpact,\n    );\n  }, [buttonState]);\n\n  const inputTokenAmount = inputUserTokenAccount?.accountInfo.amount;\n\n  const onSwap = useCallback(async () => {\n    // setErrorMessage('');\n\n    if (!asyncPools.value) {\n      throw new Error('Pools have not loaded yet');\n    }\n\n    if (!asyncStandardTokenAccounts.value || !inputUserTokenAccount) {\n      throw new Error('UserTokenAccounts has not loaded yet');\n    }\n\n    const inputAmount = trade.getInputAmount();\n    const outputAmount = trade.getOutputAmount();\n\n    if (inputAmount.eq(ZERO) || outputAmount.eq(ZERO)) {\n      throw new Error('Input amount has not been set');\n    }\n\n    if (!trade.derivedFields) {\n      throw new Error('Derived fields not set');\n    }\n\n    if (!wallet) {\n      throw new Error('Wallet not set');\n    }\n\n    const inputUserTokenPublicKey = inputUserTokenAccount.account;\n\n    setButtonState(() => ButtonState.ConfirmWallet);\n\n    const intermediateTokenPublicKey = intermediateTokenName\n      ? asyncStandardTokenAccounts.value[intermediateTokenName]\n      : undefined;\n\n    const notificationParams = {\n      text: `${inputTokenName} to ${outputTokenName}`,\n      symbol: inputTokenName,\n      symbolB: outputTokenName,\n    };\n\n    swapNotification({\n      header: 'Swap processing...',\n      status: 'processing',\n      ...notificationParams,\n    });\n\n    let executeSetup, executeSwap;\n    try {\n      ({ executeSetup, executeSwap } = await trade.confirmExchange(\n        connection,\n        tokenConfigs,\n        programIds,\n        wallet,\n        inputUserTokenPublicKey,\n        intermediateTokenPublicKey?.account,\n        outputUserTokenAccount?.account,\n      ));\n      // setSolanaExplorerLink(getExplorerUrl('tx', txSignature, cluster));\n    } catch (e) {\n      console.error(e);\n      // setErrorMessage(walletConfirmationFailure);\n      setButtonState(() => ButtonState.Exchange);\n\n      swapNotification({\n        header: 'Swap didnt complete!',\n        status: 'error',\n        ...notificationParams,\n        text: 'Click approve in your wallet to continue.',\n      });\n\n      return;\n    }\n\n    setButtonState(() => ButtonState.SendingTransaction);\n\n    if (executeSetup) {\n      try {\n        await executeSetup();\n      } catch (e) {\n        console.error(e);\n        // setErrorMessage('Something went wrong during setup. Please try again.');\n        setButtonState(ButtonState.Retry);\n        return;\n      }\n    }\n\n    // // Hack: Pause for 10 seconds to increase the probability\n    // // that we fetch the new token account even if the RPC server\n    // // is unstable.\n    // await new Promise((resolve) => setTimeout(resolve, 10_000));\n\n    function getFailedTransactionErrorMessage(rawMessage: string) {\n      if (rawMessage.includes('Transaction too large')) {\n        return 'Transaction failed. Please try again.';\n      } else if (rawMessage.includes('custom program error: 0x10')) {\n        return 'The price moved more than your slippage tolerance setting. You can increase your tolerance or simply try again.';\n      } else if (rawMessage.includes('Blockhash not found')) {\n        return 'Transaction timed out. Please try again.';\n      } else {\n        return 'Oops, something went wrong. Please try again!';\n      }\n    }\n\n    try {\n      await executeSwap();\n\n      swapNotification({\n        header: 'Swapped successfuly!',\n        status: 'success',\n        ...notificationParams,\n      });\n    } catch (e) {\n      console.error(e);\n      const error = getFailedTransactionErrorMessage(e.message);\n      // setErrorMessage(error);\n      setButtonState(() => ButtonState.Retry);\n\n      swapNotification({\n        header: 'Swap didnt complete!',\n        status: 'error',\n        ...notificationParams,\n        text: error,\n      });\n      return;\n    }\n\n    try {\n      const fetchingUserTokenAccounts = refreshStandardTokenAccounts();\n      await Promise.all(trade.derivedFields.selectedRoute.map((poolId) => fetchPool(poolId)));\n      await fetchingUserTokenAccounts;\n    } catch (e) {\n      console.error(e);\n    }\n\n    setTrade(trade.clearAmounts());\n    setButtonState(ButtonState.Exchange);\n    // setSolanaExplorerLink('');\n\n    // const snackbarKey = enqueueSnackbar(\n    //   <ExchangeNotification\n    //     closeSnackbar={() => closeSnackbar(snackbarKey)}\n    //     txid={txSignature}\n    //     inputTokenAmount={inputAmount}\n    //     inputTokenName={trade.inputTokenName}\n    //     outputTokenAmount={outputAmount}\n    //     outputTokenName={trade.outputTokenName}\n    //     inputDecimals={tokenConfigs[trade.inputTokenName].decimals}\n    //     outputDecimals={tokenConfigs[trade.outputTokenName].decimals}\n    //   />,\n    // );\n  }, [\n    asyncPools.value,\n    asyncStandardTokenAccounts.value,\n    connection,\n    fetchPool,\n    inputTokenName,\n    inputUserTokenAccount,\n    intermediateTokenName,\n    outputTokenName,\n    outputUserTokenAccount?.account,\n    programIds,\n    refreshStandardTokenAccounts,\n    tokenConfigs,\n    trade,\n    wallet,\n  ]);\n\n  return {\n    trade,\n    setInputTokenName,\n    setOutputTokenName,\n    setInputAmount,\n    setOutputAmount,\n    switchTokens,\n    slippageTolerance,\n    setSlippageTolerance,\n    // referral,\n    asyncStandardTokenAccounts: asyncStandardTokenAccounts?.value,\n    inputTokenAmount,\n    inputTokenPrice,\n    outputTokenPrice,\n    intermediateTokenName,\n    intermediateTokenPrice,\n    buttonState,\n    onSwap,\n  };\n};\n\nexport const { Provider: SwapProvider, useContainer: useSwap } = createContainer(useSwapInternal);\n","import { useState } from 'react';\n\nimport { PublicKey } from '@solana/web3.js';\nimport { createContainer } from 'unstated-next';\n\nimport { useSolana } from 'app/contexts/solana';\n\nimport { useConfig, useProgramIds } from '../config';\nimport TokenAccount from '../models/TokenAccount';\nimport { TokenConfigs } from '../orca-commons';\nimport AsyncCache, {\n  AsyncResult,\n  AsyncSuccess,\n  createAsyncSuccess,\n  DEFAULT_MAX_AGE,\n} from '../utils/AsyncCache';\nimport { loadTokenAccounts } from '../utils/tokenAccounts';\n\nexport type UserTokenAccountMap = {\n  // If the account is for a standard token, pool token, or collectible,\n  //   the key is the token symbol, e.g. ETH, USDC, ORCA, etc.\n  // If the account is for a farm token, the key is the mint address.\n  // This should be refactored so all keys are mint addresses.\n  [key: string]: TokenAccount;\n};\n\nexport type CacheValue = {\n  standardTokenAccounts: AsyncSuccess<UserTokenAccountMap>;\n};\n\nconst cache = new AsyncCache<CacheValue>();\n\nfunction getCacheKey(publicKey: PublicKey) {\n  return 'fetch' + publicKey.toBase58();\n}\n\nconst NOT_CONNECTED_CACHE_KEY = 'notConnected';\n\nexport interface UseUser {\n  useAsyncStandardTokenAccounts: (maxAge?: number) => AsyncResult<UserTokenAccountMap>;\n  getAsyncUserTokenAccountsLastUpdated(): number | undefined;\n  refreshStandardTokenAccounts(): Promise<UserTokenAccountMap | undefined>;\n  accountHasNonATAs: boolean;\n}\n\nexport const useUserInternal = (): UseUser => {\n  const { connection, wallet, slot, setSlot } = useSolana();\n  const { tokenConfigs, mintToTokenName } = useConfig();\n  const { token: tokenProgramId } = useProgramIds();\n  const [accountHasNonATAs, setAccountHasNonATAs] = useState(false);\n\n  function getAsyncUserTokenAccountsLastUpdated(): number | undefined {\n    const cacheKey = wallet ? getCacheKey(wallet.publicKey) : NOT_CONNECTED_CACHE_KEY;\n\n    return cache.getLastUpdate(cacheKey);\n  }\n\n  function useAsyncUserTokenAccounts(maxAge: number) {\n    let cacheKey, poll;\n\n    if (wallet) {\n      cacheKey = getCacheKey(wallet.publicKey);\n      poll = true;\n    } else {\n      cacheKey = NOT_CONNECTED_CACHE_KEY;\n      poll = false;\n    }\n\n    return cache.useAsync(cacheKey, asyncTokenAccountsFn, maxAge, poll);\n  }\n\n  const asyncTokenAccountsFn = async (): Promise<CacheValue> => {\n    if (!wallet) {\n      return {\n        standardTokenAccounts: createAsyncSuccess({}),\n      };\n    }\n\n    const { tokenAccounts, hasNonATAs } = await loadTokenAccounts(\n      connection,\n      slot,\n      setSlot,\n      wallet.publicKey,\n      tokenProgramId,\n      tokenConfigs['SOL'].mint,\n      mintToTokenName,\n    );\n\n    setAccountHasNonATAs(hasNonATAs);\n\n    function filterTokenAccountsByType(configs: TokenConfigs): UserTokenAccountMap {\n      return Object.fromEntries(\n        Object.entries(tokenAccounts).filter(([tokenName, _]) => configs.hasOwnProperty(tokenName)),\n      );\n    }\n\n    const standardTokenAccounts = filterTokenAccountsByType(tokenConfigs);\n\n    return {\n      standardTokenAccounts: createAsyncSuccess(standardTokenAccounts),\n    };\n  };\n\n  function useAsyncStandardTokenAccounts(maxAge = DEFAULT_MAX_AGE) {\n    const asyncResult = useAsyncUserTokenAccounts(maxAge);\n\n    if (!asyncResult.value) {\n      return asyncResult;\n    }\n\n    return asyncResult.value.standardTokenAccounts;\n  }\n\n  async function refreshStandardTokenAccounts(): Promise<UserTokenAccountMap | undefined> {\n    const cacheKey = wallet ? getCacheKey(wallet.publicKey) : NOT_CONNECTED_CACHE_KEY;\n    const result = await cache.refreshCache(cacheKey);\n\n    return result?.standardTokenAccounts.value;\n  }\n\n  return {\n    getAsyncUserTokenAccountsLastUpdated,\n    useAsyncStandardTokenAccounts,\n    refreshStandardTokenAccounts,\n    accountHasNonATAs,\n  };\n};\n\nexport const { Provider: UserProvider, useContainer: useUser } = createContainer(useUserInternal);\n","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport Decimal from 'decimal.js';\n\nimport { useSwap } from 'app/contexts/swap';\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 68px;\n  padding: 26px 20px;\n\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n`;\n\nexport const Left = styled.div`\n  display: flex;\n  flex-grow: 1;\n`;\n\nexport const Right = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Rate = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-right: -8px;\n\n  color: #000;\n`;\n\nconst ChangeRateWrapper = styled.div`\n  margin-left: 12px;\n\n  cursor: pointer;\n`;\n\nconst ChangeRateIcon = styled(Icon)`\n  display: flex;\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nexport const CurrentPrice: FC = () => {\n  const { trade } = useSwap();\n  const [isReverse, setIsReverse] = useState(false);\n\n  const handleChangeRateClick = () => {\n    setIsReverse((state) => !state);\n  };\n\n  function formatExchangeRate(): string {\n    const one = new Decimal(1);\n    return (isReverse ? one.div(trade.getExchangeRate()) : trade.getExchangeRate())\n      .toSignificantDigits(6)\n      .toString();\n  }\n\n  if (trade.getExchangeRate().eq(0)) {\n    return null;\n  }\n\n  return (\n    <Wrapper>\n      <Left>Current price</Left>\n      <Right>\n        <Rate>\n          1 {isReverse ? trade.outputTokenName : trade.inputTokenName} = {formatExchangeRate()}{' '}\n          {isReverse ? trade.inputTokenName : trade.outputTokenName}\n          <ChangeRateWrapper onClick={handleChangeRateClick}>\n            <ChangeRateIcon name=\"swap\" />\n          </ChangeRateWrapper>\n        </Rate>\n      </Right>\n    </Wrapper>\n  );\n};\n","import { styled } from '@linaria/react';\n\nexport const Line = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding: 12px 20px;\n\n  &.topBorder {\n    border-top: 1px solid #f6f6f8;\n  }\n`;\n\nexport const Label = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n`;\n\nexport const Value = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-top: 4px;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n","import React, { FC } from 'react';\nimport { UseAsyncReturn } from 'react-async-hook';\n\nimport { LoaderBlock } from 'components/common/LoaderBlock';\nimport { Accordion } from 'components/ui';\n\ninterface Props {\n  totalFee: UseAsyncReturn<string, any>;\n}\n\nexport const FeesAccordion: FC<Props> = ({ totalFee, children }) => {\n  return (\n    <Accordion\n      title=\"Swap fees\"\n      right={totalFee.loading ? <LoaderBlock /> : totalFee.result}\n      hideRightIfOpen\n      noContentPadding>\n      {children}\n    </Accordion>\n  );\n};\n","import React, { FC, useMemo } from 'react';\nimport { useAsync } from 'react-async-hook';\n\nimport { styled } from '@linaria/react';\nimport { LAMPORTS_PER_SOL } from '@solana/web3.js';\n\nimport { useSolana } from 'app/contexts/solana';\nimport { useConfig, usePrice, useSwap } from 'app/contexts/swap';\nimport { formatBigNumber, formatNumberToUSD } from 'app/contexts/swap/utils/format';\nimport { LoaderBlock } from 'components/common/LoaderBlock';\n\nimport { Label, Line, Value } from './common/styled';\nimport { FeesAccordion } from './FeesAccordion';\n\n// TODO: is it right?\nconst ATA_ACCOUNT_CREATION_FEE = 0.00203928;\n\n// const Small = styled.div`\n//   color: #b9bbcd;\n//   font-size: 14px;\n// `;\n\nconst LoaderBlockStyled = styled(LoaderBlock)`\n  height: 24px;\n`;\n\nexport const FeesOriginal: FC = () => {\n  const { wallet, connection } = useSolana();\n  const { programIds, tokenConfigs } = useConfig();\n  const { trade, intermediateTokenName, asyncStandardTokenAccounts } = useSwap();\n  const { useAsyncMergedPrices } = usePrice();\n  const asyncPrices = useAsyncMergedPrices();\n\n  const tokenNames = useMemo(() => {\n    if (!asyncStandardTokenAccounts) {\n      return [];\n    }\n\n    return trade.getTokenNamesToSetup(asyncStandardTokenAccounts);\n  }, [trade, asyncStandardTokenAccounts]);\n\n  const feePools = useMemo(() => {\n    if (!intermediateTokenName) {\n      return [\n        [\n          formatBigNumber(trade.getFees()[0], tokenConfigs[trade.outputTokenName].decimals),\n          trade.outputTokenName,\n        ],\n      ];\n    } else if (trade.derivedFields?.doubleHopFields) {\n      const fees = trade.getFees();\n      return [\n        [\n          formatBigNumber(fees[0], tokenConfigs[intermediateTokenName].decimals, 3),\n          intermediateTokenName,\n        ],\n        [\n          formatBigNumber(fees[1], tokenConfigs[trade.outputTokenName].decimals, 3),\n          trade.outputTokenName,\n        ],\n      ];\n    } else {\n      return [];\n    }\n  }, [intermediateTokenName, tokenConfigs, trade]);\n\n  // const feePercentages = useMemo(() => {\n  //   const pool1 = trade.getPoolFromSelectedRoute(0);\n  //   const pool2 = trade.getPoolFromSelectedRoute(1);\n  //   if (!intermediateTokenName && pool1) {\n  //     if (outputTokenPrice) {\n  //       return (\n  //         pool1.getFeePercentage() +\n  //         '% (' +\n  //         formatNumberToUSD(\n  //           getUSDValue(\n  //             trade.getFees()[0],\n  //             tokenConfigs[trade.outputTokenName].decimals,\n  //             outputTokenPrice,\n  //           ),\n  //         ) +\n  //         ')'\n  //       );\n  //     } else {\n  //       return pool1.getFeePercentage() + '%';\n  //     }\n  //   } else if (intermediateTokenName && intermediateTokenPrice && pool1 && pool2) {\n  //     const fees = trade.getFees();\n  //     const totalFeePercentage = pool1.getFeePercentage() + pool2.getFeePercentage();\n  //     if (intermediateTokenPrice && outputTokenPrice) {\n  //       return (\n  //         totalFeePercentage +\n  //         '% (' +\n  //         formatNumberToUSD(\n  //           getUSDValue(\n  //             fees[0],\n  //             tokenConfigs[intermediateTokenName].decimals,\n  //             intermediateTokenPrice,\n  //           ) +\n  //             getUSDValue(fees[1], tokenConfigs[trade.outputTokenName].decimals, outputTokenPrice),\n  //         ) +\n  //         `) - ${pool1.getFeePercentage()}% + ${pool2.getFeePercentage()}%`\n  //       );\n  //     } else {\n  //       return totalFeePercentage + '%';\n  //     }\n  //   } else {\n  //     return null;\n  //   }\n  // }, [intermediateTokenName, intermediateTokenPrice, outputTokenPrice, tokenConfigs, trade]);\n\n  const transactionFee = useAsync(async () => {\n    const { feeCalculator } = await connection.getRecentBlockhash();\n\n    const inputUserTokenPublicKey = asyncStandardTokenAccounts?.[trade.inputTokenName];\n    const intermediateTokenPublicKey = intermediateTokenName\n      ? asyncStandardTokenAccounts?.[intermediateTokenName]\n      : undefined;\n    const outputUserTokenAccount = asyncStandardTokenAccounts?.[trade.outputTokenName];\n\n    let { setupTransaction, swapTransaction } = await trade.prepareExchangeTransactions(\n      connection,\n      tokenConfigs,\n      programIds,\n      wallet,\n      inputUserTokenPublicKey?.account,\n      intermediateTokenPublicKey?.account,\n      outputUserTokenAccount?.account,\n    );\n\n    let setupFee;\n    if (setupTransaction) {\n      setupFee =\n        (setupTransaction.signatures.length * feeCalculator.lamportsPerSignature) /\n        LAMPORTS_PER_SOL;\n    }\n\n    let swapFee =\n      (swapTransaction.signatures.length * feeCalculator.lamportsPerSignature) / LAMPORTS_PER_SOL;\n\n    return { setupFee, swapFee };\n  }, [connection, tokenNames, programIds, tokenConfigs, trade, wallet]);\n\n  const totalFee = useAsync(async () => {\n    let totalFeeUSD = 0;\n    const priceSOL = asyncPrices.value?.['SOL'];\n\n    const accountsCreationFeeSOL = tokenNames.length * ATA_ACCOUNT_CREATION_FEE;\n\n    const feePoolsFeeUSD = feePools.reduce((sum, fee) => {\n      const amount = fee[0];\n      const tokenName = fee[1];\n      const price = asyncPrices.value?.[tokenName];\n\n      if (price) {\n        sum += Number(amount) * price;\n      }\n\n      return sum;\n    }, 0);\n    totalFeeUSD += feePoolsFeeUSD;\n\n    if (priceSOL) {\n      const accountsCreationFeeUSD = accountsCreationFeeSOL * priceSOL;\n\n      let transactionSetupFeeUSD = 0;\n      if (transactionFee.result?.setupFee) {\n        transactionSetupFeeUSD = transactionFee.result.setupFee * priceSOL;\n      }\n\n      let transactionSwapFeeUSD = 0;\n      if (transactionFee.result?.swapFee) {\n        transactionSwapFeeUSD = transactionFee.result.swapFee * priceSOL;\n      }\n\n      totalFeeUSD += accountsCreationFeeUSD + transactionSetupFeeUSD + transactionSwapFeeUSD;\n    }\n\n    return formatNumberToUSD(totalFeeUSD);\n  }, [tokenNames, transactionFee.result, feePools, asyncPrices.value]);\n\n  const renderTransactionFee = () => {\n    if (transactionFee.loading) {\n      return <LoaderBlockStyled size=\"16\" />;\n    }\n\n    if (transactionFee.result) {\n      return (\n        <>\n          {transactionFee.result.setupFee &&\n            `${transactionFee.result.setupFee} SOL (Create token accounts) + `}\n          {transactionFee.result.swapFee && `${transactionFee.result.swapFee} SOL (Swap)`}\n        </>\n      );\n    }\n\n    return \"Can't calculate\";\n  };\n\n  return (\n    <FeesAccordion totalFee={totalFee}>\n      {tokenNames.map((tokenName) => (\n        <Line key={tokenName}>\n          <Label>{tokenName} Account creation</Label>\n          <Value>{ATA_ACCOUNT_CREATION_FEE} SOL</Value>\n        </Line>\n      ))}\n      <Line>\n        <Label>Liquidity provider fees</Label>\n        <Value>\n          <div>{feePools.map((fee) => fee.join(' ')).join(' + ')}</div>\n          {/*<Small>{feePercentages}</Small>*/}\n        </Value>\n      </Line>\n      <Line>\n        <Label>Transaction fee</Label>\n        <Value>{renderTransactionFee()}</Value>\n      </Line>\n      <Line className=\"topBorder\">\n        <Label>Total fee</Label>\n        <Value>{totalFee.loading ? <LoaderBlockStyled size=\"16\" /> : totalFee.result}</Value>\n      </Line>\n    </FeesAccordion>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { useSwap } from 'app/contexts/swap';\n\nimport { FeesOriginal } from './FeesOriginal';\n\nexport const Fees: FC = () => {\n  const { trade } = useSwap();\n\n  if (!trade.derivedFields) {\n    return null;\n  }\n\n  const isSol = trade.inputTokenName === 'SOL';\n\n  return isSol ? <FeesOriginal /> : <FeesOriginal />;\n};\n","export default __webpack_public_path__ + \"static/media/orca_logo.e3efb858.svg\";","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { useSwap } from 'app/contexts/swap';\nimport { Icon } from 'components/ui';\n\nconst ReverseWrapper = styled.div`\n  position: absolute;\n  top: -24px;\n  right: 32px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n\n  background: #5887ff;\n  border-radius: 12px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);\n  cursor: pointer;\n`;\n\nconst ReverseIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #fff;\n`;\n\nexport const Reverse: FC = () => {\n  const { switchTokens } = useSwap();\n\n  const handleReverseClick = () => {\n    switchTokens();\n  };\n\n  return (\n    <ReverseWrapper onClick={handleReverseClick}>\n      <ReverseIcon name=\"swap\" />\n    </ReverseWrapper>\n  );\n};\n","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { useSwap } from 'app/contexts/swap';\nimport SlippageTolerance from 'app/contexts/swap/models/SlippageTolerance';\nimport { Accordion, Button, Input } from 'components/ui';\n\nconst Title = styled.div`\n  display: flex;\n  flex: 1;\n  align-content: space-between;\n`;\n\nconst Left = styled.div`\n  flex: 1;\n`;\n\nconst Right = styled.div`\n  margin-right: 12px;\n`;\n\nconst OptionsWrapper = styled.div`\n  display: flex;\n  margin-top: 20px;\n\n  & > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst CustomButton = styled(Button)`\n  font-size: 14px;\n  line-height: 14px;\n`;\n\nconst OptionButton = styled(Button)`\n  min-width: 52px;\n  padding: 8px;\n\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n\n  border: 1px solid transparent;\n\n  &:hover {\n    color: #5887ff;\n\n    background: #eff3ff;\n    border-color: transparent;\n  }\n\n  &.active {\n    color: #5887ff;\n\n    background: #fff;\n    border-color: #5887ff;\n  }\n`;\n\nconst CustomWrapper = styled.div`\n  margin-top: 20px;\n`;\n\nconst CustomLabel = styled.label`\n  display: flex;\n  margin-bottom: 8px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n`;\n\nconst SLIPPAGES = ['0.1', '0.5', '1', '5'];\n\nexport const Slippage: FC = () => {\n  const { slippageTolerance, setSlippageTolerance } = useSwap();\n  const [isCustomShow, setIsCustomShow] = useState(false);\n  const [localSlippage, setLocalSlippage] = useState<string>(\n    !SLIPPAGES.some((slippage) => {\n      return SlippageTolerance.fromString(slippage).eq(slippageTolerance);\n    })\n      ? slippageTolerance.toString()\n      : '',\n  );\n\n  const clearSlippage = (nextSlippage: string) => {\n    let cleanSlippage = nextSlippage.replace(/,/g, '.'); // , to .\n\n    // // ability to enter dot\n    if (cleanSlippage === '.') {\n      cleanSlippage = '0.';\n    } else {\n      cleanSlippage = cleanSlippage\n        .replace(/(\\D*)(\\d*(\\.\\d{0,4})?)(.*)/, '$2')\n        .replace(/^0(\\d+)/, '$1');\n    }\n\n    return cleanSlippage;\n  };\n\n  const handleSlippageClick = (newSlippage: string) => () => {\n    setSlippageTolerance(SlippageTolerance.fromString(newSlippage));\n  };\n\n  const handleSlippageChange = (newSlippage: string) => {\n    const cleanSlippage = clearSlippage(newSlippage);\n    // if slippage correct\n    if (newSlippage && Number(localSlippage) && cleanSlippage === newSlippage) {\n      setSlippageTolerance(SlippageTolerance.fromString(cleanSlippage));\n    }\n\n    setLocalSlippage(cleanSlippage);\n  };\n\n  const handleSlippageBlur = () => {\n    if (!Number(localSlippage)) {\n      return;\n    }\n\n    setSlippageTolerance(SlippageTolerance.fromString(localSlippage));\n  };\n\n  const handleToggleCustomShow = () => {\n    setIsCustomShow((state) => !state);\n  };\n\n  return (\n    <Accordion\n      title={\n        <Title>\n          <Left>Max price slippage</Left> <Right>{slippageTolerance.toString()} %</Right>\n        </Title>\n      }>\n      <div>\n        Slippage refers to the difference between the expected price of a trade and the price at\n        which the trade is executed. Slippage can occur at any time but is most prevalent during\n        periods of higher volatility when market orders are used.\n      </div>\n      <OptionsWrapper>\n        {SLIPPAGES.map((value) => (\n          <OptionButton\n            key={value}\n            lightGray\n            small\n            className={classNames({ active: slippageTolerance.stringEq(value) })}\n            onClick={handleSlippageClick(value)}>\n            {value}%\n          </OptionButton>\n        ))}\n        <CustomButton hollow small onClick={handleToggleCustomShow}>\n          Custom\n        </CustomButton>\n      </OptionsWrapper>\n      {isCustomShow ? (\n        <CustomWrapper>\n          <CustomLabel htmlFor=\"slippage\">Custom</CustomLabel>\n          <Input\n            id=\"slippage\"\n            value={localSlippage}\n            suffix=\"%\"\n            onChange={handleSlippageChange}\n            onBlur={handleSlippageBlur}\n            showClear\n          />\n        </CustomWrapper>\n      ) : undefined}\n    </Accordion>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { ButtonState, useSwap } from 'app/contexts/swap';\nimport { Button } from 'components/ui';\n\nexport const SwapButtonOriginal: FC = () => {\n  const { buttonState, trade, onSwap } = useSwap();\n\n  switch (buttonState) {\n    case ButtonState.ConnectWallet:\n      return (\n        <Button primary big full onClick={() => {}}>\n          Connect wallet\n        </Button>\n      );\n    case ButtonState.Exchange:\n      return (\n        <Button primary big full onClick={onSwap}>\n          Swap\n        </Button>\n      );\n    case ButtonState.Retry:\n      return (\n        <Button primary big full onClick={onSwap}>\n          Retry\n        </Button>\n      );\n    case ButtonState.HighPriceImpact:\n      return (\n        <Button primary big full onClick={onSwap}>\n          Swap Anyway\n        </Button>\n      );\n    case ButtonState.RouteDoesNotExist:\n      return (\n        <Button primary big full disabled>\n          Trading pair not supported\n        </Button>\n      );\n    case ButtonState.InputTokenAccountDoesNotExist:\n      return (\n        <Button primary big full disabled>\n          You don&apos;t own any {trade.inputTokenName}\n        </Button>\n      );\n    case ButtonState.ZeroInputValue:\n      return (\n        <Button primary big full disabled>\n          Swap\n        </Button>\n      );\n    case ButtonState.NotEnoughSOL:\n      return (\n        <Button primary big full disabled>\n          Not enough SOL\n        </Button>\n      );\n    case ButtonState.InsufficientBalance:\n      return (\n        <Button primary big full disabled>\n          Not enough {trade.inputTokenName}\n        </Button>\n      );\n    case ButtonState.ConfirmWallet:\n      return (\n        <Button primary big full disabled>\n          Approve in wallet...\n        </Button>\n      );\n    case ButtonState.SendingTransaction:\n      return (\n        <Button primary big full disabled>\n          Confirming...\n        </Button>\n      );\n    case ButtonState.LoadingUserData:\n      return (\n        <Button primary big full disabled>\n          Connecting wallet...\n        </Button>\n      );\n    default:\n      return null;\n  }\n};\n","import React, { FC } from 'react';\n\nimport { useSwap } from 'app/contexts/swap';\n\n// import { SwapButtonFeeRelayer } from './SwapButtonFeeRelayer';\nimport { SwapButtonOriginal } from './SwapButtonOriginal';\n\nexport const SwapButton: FC = () => {\n  const { trade } = useSwap();\n\n  const isSol = trade.inputTokenName === 'SOL';\n\n  if (isSol) {\n    return <SwapButtonOriginal />;\n  }\n\n  return <SwapButtonOriginal />;\n  // return <SwapButtonFeeRelayer />;\n};\n","import React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport { CSSProperties } from '@linaria/core';\nimport { styled } from '@linaria/react';\nimport { ZERO } from '@orca-so/sdk';\nimport { u64 } from '@solana/spl-token';\n\nimport { useConfig, usePrice } from 'app/contexts/swap';\nimport { formatNumberToUSD, getUSDValue } from 'app/contexts/swap/utils/format';\n\nconst Wrapper = styled.div``;\n\ntype Props = {\n  amount?: u64;\n  tokenName?: string;\n  style?: CSSProperties;\n  className?: string;\n};\n\nexport const AmountUSD: FunctionComponent<Props> = ({\n  amount = new u64(0),\n  tokenName = '',\n  ...props\n}) => {\n  const { tokenConfigs } = useConfig();\n  const [usdValue, setUSDValue] = useState('');\n\n  const { useAsyncMergedPrices } = usePrice();\n  const asyncPrices = useAsyncMergedPrices();\n  const price = asyncPrices.value?.[tokenName];\n\n  useEffect(() => {\n    if (amount.eq(ZERO) || !price) {\n      setUSDValue('');\n      return;\n    }\n\n    setUSDValue(formatNumberToUSD(getUSDValue(amount, tokenConfigs[tokenName].decimals, price)));\n  }, [tokenName, price, amount, tokenConfigs]);\n\n  return (\n    <Wrapper title=\"Amount in USD\" {...props}>\n      {usdValue}\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { useConfig } from 'app/contexts/swap';\nimport TokenAccount from 'app/contexts/swap/models/TokenAccount';\nimport { getNumber } from 'app/contexts/swap/utils/format';\nimport { useTokenMap } from 'app/contexts/swapSerum/tokenList';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { shortAddress } from 'utils/tokens';\n\nimport { AmountUSD } from '../../AmountUSD';\n\nconst Wrapper = styled.div`\n  padding: 10px 20px;\n\n  cursor: pointer;\n`;\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 44px;\n`;\n\nconst Info = styled.div`\n  flex: 1;\n  margin-left: 20px;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 140%;\n`;\n\nconst TokenSymbol = styled.div`\n  max-width: 300px;\n\n  overflow: hidden;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\ntype Props = {\n  tokenAccount: TokenAccount;\n  onClick?: (tokenAccount: TokenAccount) => void;\n  className?: string;\n};\n\nexport const TokenAccountRow: FC<Props> = ({ tokenAccount, onClick, className }) => {\n  const { mintToTokenName, tokenConfigs } = useConfig();\n  const tokenMap = useTokenMap();\n\n  const mintAddress = tokenAccount.accountInfo.mint.toBase58();\n  const tokenName = mintToTokenName[mintAddress];\n  const tokenNameFull = tokenMap.get(tokenConfigs[tokenName].mint.toBase58())?.name;\n\n  const handleClick = () => {\n    if (onClick) {\n      onClick(tokenAccount);\n    }\n  };\n\n  return (\n    <Wrapper onClick={handleClick} className={className}>\n      <ItemWrapper>\n        <TokenAvatar symbol={tokenName} address={mintAddress} size={44} />\n        <Info>\n          <Top>\n            <TokenSymbol title={mintAddress}>{tokenName || shortAddress(mintAddress)}</TokenSymbol>\n            <AmountUSD tokenName={tokenName} amount={tokenAccount.getAmount()} />\n          </Top>\n          <Bottom>\n            <div>\n              {tokenName === 'SOL'\n                ? shortAddress(tokenAccount.accountInfo.owner.toBase58())\n                : tokenNameFull}\n            </div>\n            <div>\n              {getNumber(tokenAccount.getAmount(), tokenConfigs[tokenName].decimals)} {tokenName}\n            </div>\n          </Bottom>\n        </Info>\n      </ItemWrapper>\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { useConfig } from 'app/contexts/swap';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { shortAddress } from 'utils/tokens';\n\nconst Wrapper = styled.div`\n  padding: 10px 20px;\n\n  cursor: pointer;\n`;\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 44px;\n`;\n\nconst Info = styled.div`\n  flex: 1;\n  margin-left: 20px;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 140%;\n`;\n\nconst TokenSymbol = styled.div`\n  max-width: 300px;\n\n  overflow: hidden;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\ntype Props = {\n  tokenName: string;\n  onClick: (tokenName: string) => void;\n};\n\nexport const TokenRow: FunctionComponent<Props> = ({ tokenName, onClick }) => {\n  const { tokenConfigs } = useConfig();\n  const tokenInfo = tokenConfigs[tokenName];\n  // const tokenAccount = useOwnedTokenAccount(new PublicKey(mint));\n\n  // const balance =\n  //   tokenAccount && tokenInfo && tokenAccount.account.amount.toNumber() / 10 ** tokenInfo.decimals;\n\n  const handleClick = () => {\n    onClick(tokenName);\n  };\n\n  return (\n    <Wrapper onClick={handleClick}>\n      <ItemWrapper>\n        <TokenAvatar symbol={tokenName} address={tokenInfo?.mint.toString()} size={44} />\n        <Info>\n          <Top>\n            <TokenSymbol title={tokenInfo?.mint.toString()}>\n              {tokenName || shortAddress(tokenInfo?.mint.toString())}\n            </TokenSymbol>\n            {/*{tokenAccount ? (*/}\n            {/*  <AmountUSD symbol={tokenInfo?.symbol} value={new Decimal(balance || 0)} />*/}\n            {/*) : undefined}*/}\n          </Top>\n          <Bottom>\n            <div>{tokenInfo?.name}</div>\n            {/*{tokenAccount ? (*/}\n            {/*  <div>*/}\n            {/*    {balance} {tokenInfo?.symbol}*/}\n            {/*  </div>*/}\n            {/*) : undefined}*/}\n          </Bottom>\n        </Info>\n      </ItemWrapper>\n    </Wrapper>\n  );\n};\n","import React, { FC, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { u64 } from '@solana/spl-token';\nimport classNames from 'classnames';\nimport throttle from 'lodash.throttle';\nimport { isNil } from 'ramda';\n\nimport { useConfig, usePrice, UserTokenAccountMap, useSwap } from 'app/contexts/swap';\nimport TokenAccount from 'app/contexts/swap/models/TokenAccount';\nimport Trade from 'app/contexts/swap/models/Trade';\nimport { formatBigNumber, getUSDValue, parseString } from 'app/contexts/swap/utils/format';\nimport { Empty } from 'components/common/Empty';\nimport { SlideContainer } from 'components/common/SlideContainer';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { Icon } from 'components/ui';\nimport { SearchInput } from 'components/ui/SearchInput';\nimport { usePreviousValueHook } from 'utils/hooks/usePreviousValueHook';\nimport { shortAddress } from 'utils/tokens';\n\nimport { AmountUSD } from '../AmountUSD/AmountUSD';\nimport { TokenAccountRow } from './TokenAccountRow';\nimport { TokenRow } from './TokenRow';\n\nconst Wrapper = styled.div``;\n\nconst TopWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst FromTitle = styled.div`\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst AllBalance = styled.div`\n  color: #5887ff;\n\n  cursor: pointer;\n\n  &.disabled {\n    cursor: auto;\n\n    pointer-events: none;\n  }\n\n  &.error {\n    color: #f43d3d;\n  }\n`;\n\nconst MainWrapper = styled.div`\n  display: flex;\n\n  margin-top: 8px;\n`;\n\nconst WalletIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nconst TokenAvatarWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 44px;\n  height: 44px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n\n  &.isOpen {\n    background: #5887ff;\n\n    ${WalletIcon} {\n      color: #fff;\n    }\n  }\n`;\n\nconst InfoWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  min-width: 0;\n\n  margin-left: 20px;\n`;\n\nconst SpecifyTokenWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 44px;\n`;\n\nconst TokenName = styled.div`\n  max-width: 200px;\n  overflow: hidden;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 140%;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst EmptyName = styled.div`\n  color: #a3a5ba;\n`;\n\nconst ChevronWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  margin-left: 26px;\n`;\n\nconst ChevronIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #000;\n`;\n\nconst TokenWrapper = styled.div`\n  display: flex;\n  min-width: 0;\n\n  cursor: pointer;\n\n  &.isOpen {\n    ${TokenName}, ${ChevronIcon} {\n      color: #5887ff;\n    }\n  }\n`;\n\nconst AmountInput = styled.input`\n  max-width: 200px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 120%;\n  text-align: right;\n\n  background: transparent;\n  border: 0;\n\n  outline: none;\n\n  appearance: none;\n\n  &::placeholder {\n    color: #a3a5ba;\n  }\n\n  &.error {\n    color: #f43d3d;\n  }\n`;\n\nconst BalanceWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst BalanceText = styled.div`\n  display: flex;\n`;\n\nconst AmountUSDStyled = styled(AmountUSD)`\n  margin-left: 3px;\n`;\n\nconst DropDownListContainer = styled.div`\n  position: absolute;\n  right: 0;\n  left: 0;\n  z-index: 1;\n\n  margin-top: 8px;\n  overflow: hidden;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 10px 32px rgba(0, 0, 0, 0.1);\n`;\n\nconst DropDownHeader = styled.div`\n  padding: 0 20px;\n\n  border-radius: 0 0 12px 12px;\n  box-shadow: none;\n  backdrop-filter: blur(15px);\n`;\n\nconst Title = styled.div`\n  padding: 12px 0;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst FiltersWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  height: 66px;\n\n  & > :not(:last-child) {\n    margin-right: 12px;\n  }\n`;\n\n//\n// Uncomment in the future\n//\n// const FilterName = styled.div`\n//   display: flex;\n//   align-items: center;\n//   height: 34px;\n//   padding: 0 12px;\n//\n//   color: #a3a5ba;\n//   font-weight: 600;\n//   font-size: 13px;\n//   line-height: 140%;\n//   white-space: nowrap;\n//\n//   background: rgba(163, 165, 186, 0.1);\n//   border-radius: 12px;\n//\n//   cursor: pointer;\n//\n//   &.active {\n//     color: #fff;\n//\n//     background: #5887ff;\n//   }\n// `;\n//\n// const SearchCircle = styled.div`\n//   display: flex;\n//   flex-shrink: 0;\n//   align-items: center;\n//   justify-content: center;\n//   width: 34px;\n//   height: 34px;\n//\n//   background: #f6f6f8;\n//   border-radius: 12px;\n//   cursor: pointer;\n// `;\n//\n// const SearchIcon = styled(Icon)`\n//   width: 24px;\n//   height: 24px;\n//\n//   color: #a3a5ba;\n// `;\n\nconst DropDownList = styled.div`\n  max-height: 400px;\n  padding-bottom: 14px;\n  overflow-y: auto;\n`;\n\nconst TitleTokens = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0 20px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst YourTokens = styled(TitleTokens)`\n  height: 32px;\n`;\n\nconst AllTokens = styled(TitleTokens)`\n  height: 44px;\n`;\n\nconst SCROLL_THRESHOLD = 15;\n\nfunction matchesFilter(str: string, filter: string) {\n  return str.toLowerCase().indexOf(filter.toLowerCase().trim()) >= 0;\n}\n\ninterface Props {\n  trade: Trade;\n  isInput?: boolean;\n  tokenName: string;\n  setTokenName: (m: string) => void;\n  pairTokenName: string;\n  amount: u64;\n  setAmount: (a: u64) => void;\n  maxAmount?: u64 | undefined;\n  disabled?: boolean;\n  disabledInput?: boolean;\n  className?: string;\n}\n\nexport const SwapTokenForm: FC<Props> = ({\n  trade,\n  isInput,\n  tokenName,\n  setTokenName,\n  pairTokenName,\n  amount,\n  setAmount,\n  maxAmount,\n  disabled,\n  disabledInput,\n  className,\n}) => {\n  const selectorRef = useRef<HTMLDivElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const listRef = useRef<HTMLDivElement>(null);\n\n  const { tokenConfigs, mintToTokenName } = useConfig();\n  const { asyncStandardTokenAccounts } = useSwap();\n  const [isOpen, setIsOpen] = useState(false);\n  const [amountString, setAmountString] = useState(String(amount));\n  const [filter, setFilter] = useState('');\n  const [scrollTop, setScrollTop] = useState(0);\n  const previousTrade = usePreviousValueHook(trade);\n\n  const { useAsyncMergedPrices } = usePrice();\n  const asyncPrices = useAsyncMergedPrices();\n\n  const hasAsyncStandardTokenAccounts = !!asyncStandardTokenAccounts;\n\n  const tokenInfo = tokenConfigs[tokenName];\n\n  // Update the input value if the trade object provides a new amount\n  useEffect(() => {\n    if (trade === previousTrade) {\n      return;\n    }\n\n    const decimals = tokenConfigs[tokenName].decimals;\n    if (parseString(amountString, decimals).eq(amount)) {\n      return;\n    }\n\n    setAmountString(formatBigNumber(amount, decimals));\n  }, [trade, previousTrade, amount, amountString, tokenConfigs, tokenName]);\n\n  const boxShadow = useMemo(() => {\n    return `0 5px 10px rgba(56, 60, 71, ${\n      scrollTop >= SCROLL_THRESHOLD ? '0.05' : 0.003 * scrollTop\n    }`;\n  }, [scrollTop]);\n\n  const handleAwayClick = (e: MouseEvent) => {\n    if (\n      !selectorRef.current?.contains(e.target as HTMLDivElement) &&\n      !dropdownRef.current?.contains(e.target as HTMLDivElement)\n    ) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', handleAwayClick);\n\n    return () => {\n      window.removeEventListener('click', handleAwayClick);\n    };\n  }, []);\n\n  const handleScroll = throttle(() => {\n    if (!listRef.current) {\n      return;\n    }\n\n    if (listRef.current.scrollTop <= SCROLL_THRESHOLD) {\n      setScrollTop(listRef.current.scrollTop);\n    } else {\n      setScrollTop(SCROLL_THRESHOLD);\n    }\n  }, 100);\n\n  useEffect(() => {\n    const element = listRef.current;\n\n    if (!element) {\n      return;\n    }\n\n    element.addEventListener('scroll', handleScroll);\n\n    return () => {\n      if (!element) {\n        return;\n      }\n\n      element.removeEventListener('scroll', handleScroll);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen, listRef.current]);\n\n  const handleSelectorClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleAmountFocus = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let nextAmount = e.target.value;\n\n    if (Number(nextAmount) === 0) {\n      nextAmount = '';\n      setAmountString(nextAmount);\n      setAmount(new u64(0));\n    }\n  };\n\n  const handleAmountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let nextAmount = e.target.value\n      .replace(',', '.')\n      .replace(/[^\\d.,]/g, '')\n      .replace(/^0(\\d+)/g, '$1')\n      .replace(/^(\\d*\\.?)|(\\d*)\\.?/g, '$1$2');\n\n    if (nextAmount === '.') {\n      nextAmount = '0.';\n    }\n\n    setAmountString(nextAmount);\n\n    if (!isNil(Number(nextAmount))) {\n      const tokenConfig = tokenConfigs[tokenName];\n      const maxDecimals = tokenConfig.decimals;\n      setAmount(parseString(nextAmount, maxDecimals));\n    }\n  };\n\n  const handleFilterChange = (value: string) => {\n    const nextFilter = value.trim();\n\n    setFilter(nextFilter);\n  };\n\n  const handleTokenAccountClick = (nextTokenAccount: TokenAccount) => {\n    setIsOpen(false);\n\n    const mintAddress = nextTokenAccount.accountInfo.mint.toBase58();\n    const tokenName = mintToTokenName[mintAddress];\n    setTokenName(tokenName);\n  };\n\n  const handleTokenClick = (tokenName: string) => {\n    setIsOpen(false);\n    setTokenName(tokenName);\n  };\n\n  const filteredTokenAccounts = useMemo((): TokenAccount[] => {\n    if (!asyncStandardTokenAccounts) {\n      return [];\n    }\n\n    const tokenAccounts = Object.entries(asyncStandardTokenAccounts).reduce(\n      (tokenAccountMap, [tokenName, tokenAccount]) => {\n        tokenAccountMap[tokenName] = tokenAccount;\n        return tokenAccountMap;\n      },\n      {} as UserTokenAccountMap,\n    );\n\n    // Token with balance in from selector\n    let filteredWithBalance = Object.values(asyncStandardTokenAccounts);\n    if (isInput) {\n      filteredWithBalance = Object.entries(tokenAccounts)\n        .filter(([_, tokenAccount]) => tokenAccount.getAmount().gtn(0))\n        .map(([_, tokenAccount]) => tokenAccount);\n    }\n\n    return filteredWithBalance\n      .filter((account) => {\n        const mintAddress = account.accountInfo.mint.toBase58();\n        const tokenSymbol = mintToTokenName[mintAddress];\n\n        if (tokenSymbol === pairTokenName || tokenSymbol === tokenName) {\n          return false;\n        }\n\n        if (filter === '') {\n          return true;\n        }\n\n        return (\n          matchesFilter(tokenSymbol, filter) ||\n          matchesFilter(tokenConfigs[tokenSymbol].name, filter)\n        );\n      })\n      .sort((a, b) => b.getAmount().cmp(a.getAmount()))\n      .sort((a, b) => {\n        const mintAddressA = a.accountInfo.mint.toBase58();\n        const tokenSymbolA = mintToTokenName[mintAddressA];\n\n        const mintAddressB = b.accountInfo.mint.toBase58();\n        const tokenSymbolB = mintToTokenName[mintAddressB];\n\n        // const aUSD = toDecimal(a.getAmount())\n        //   .div(10 ** tokenConfigs[tokenSymbolA].decimals)\n        //   .toDecimalPlaces(tokenConfigs[tokenSymbolA].decimals);\n        //\n        // const bUSD = toDecimal(b.getAmount())\n        //   .div(10 ** tokenConfigs[tokenSymbolB].decimals)\n        //   .toDecimalPlaces(tokenConfigs[tokenSymbolB].decimals);\n        // return aUSD.cmp(bUSD);\n\n        const aUSD = getUSDValue(\n          a.getAmount(),\n          tokenConfigs[tokenSymbolA].decimals,\n          asyncPrices.value?.[tokenSymbolA] || 0,\n        );\n        const bUSD = getUSDValue(\n          b.getAmount(),\n          tokenConfigs[tokenSymbolB].decimals,\n          asyncPrices.value?.[tokenSymbolB] || 0,\n        );\n\n        return bUSD < aUSD ? -1 : a === b ? 0 : 1;\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    asyncPrices.value,\n    hasAsyncStandardTokenAccounts,\n    filter,\n    isInput,\n    mintToTokenName,\n    pairTokenName,\n    tokenConfigs,\n    tokenName,\n  ]);\n\n  const filteredTokens = useMemo(\n    () =>\n      Object.entries(tokenConfigs)\n        .filter(([tokenSymbol]) => tokenSymbol !== pairTokenName && tokenSymbol !== tokenName)\n        .filter(\n          // Exclude liquidity tokens\n          ([tokenSymbol]) => !tokenSymbol.includes('/'),\n        )\n        .filter(([tokenSymbol]) => {\n          if (filter === '') {\n            return true;\n          }\n\n          return (\n            matchesFilter(tokenSymbol, filter) ||\n            matchesFilter(tokenConfigs[tokenSymbol].name, filter)\n          );\n        })\n        .filter(([_, config]) => {\n          return !filteredTokenAccounts.find((tokenAccount) =>\n            tokenAccount.accountInfo.mint.equals(config.mint),\n          );\n        })\n        .map(([tokenSymbol]) => tokenSymbol),\n    [tokenConfigs, pairTokenName, tokenName, filter, filteredTokenAccounts],\n  );\n\n  return (\n    <Wrapper className={className}>\n      <TopWrapper>\n        <FromTitle>{isInput ? 'From' : 'To'}</FromTitle>\n      </TopWrapper>\n      <MainWrapper>\n        <TokenAvatarWrapper className={classNames({ isOpen: isOpen && !tokenName })}>\n          {tokenName ? (\n            <TokenAvatar address={tokenInfo?.mint.toString()} size={44} />\n          ) : (\n            <WalletIcon name=\"wallet\" />\n          )}\n        </TokenAvatarWrapper>\n        <InfoWrapper>\n          <SpecifyTokenWrapper>\n            <TokenWrapper\n              ref={selectorRef}\n              onClick={handleSelectorClick}\n              className={classNames({ isOpen })}>\n              <TokenName title={tokenInfo?.mint.toString()}>\n                {tokenName || shortAddress(tokenInfo?.mint.toString()) || <EmptyName></EmptyName>}\n              </TokenName>\n              <ChevronWrapper>\n                <ChevronIcon name=\"arrow-triangle\" />\n              </ChevronWrapper>\n            </TokenWrapper>\n            <AmountInput\n              placeholder={Number(0).toFixed(tokenInfo?.decimals || 0)}\n              value={amountString === '0' && !isInput ? '' : amountString}\n              onFocus={handleAmountFocus}\n              onChange={handleAmountChange}\n              disabled={disabled || disabledInput}\n            />\n          </SpecifyTokenWrapper>\n          <BalanceWrapper>\n            <BalanceText>\n              {\n                isInput && maxAmount ? (\n                  <AllBalance\n                    onClick={() => setAmount(maxAmount)}\n                    className={classNames({ disabled, error: !maxAmount })}>\n                    Available: {formatBigNumber(maxAmount, tokenConfigs[tokenName].decimals)}\n                  </AllBalance>\n                ) : undefined\n                // (\n                //   <>\n                //     Balance:{' '}\n                //     {formatBigNumber(maxAmount || new u64(0), tokenConfigs[tokenName].decimals)}\n                //   </>\n                // )\n              }\n            </BalanceText>\n            {!amount.eqn(0) ? (\n              <BalanceText>\n                 <AmountUSDStyled amount={amount} tokenName={tokenName} />\n              </BalanceText>\n            ) : undefined}\n          </BalanceWrapper>\n        </InfoWrapper>\n      </MainWrapper>\n      {isOpen ? (\n        <DropDownListContainer ref={dropdownRef}>\n          <DropDownHeader\n            style={{\n              boxShadow,\n            }}>\n            <Title>Select token</Title>\n            <SlideContainer>\n              <FiltersWrapper>\n                <SearchInput\n                  placeholder=\"Search for token\"\n                  value={filter}\n                  onChange={handleFilterChange}\n                />\n              </FiltersWrapper>\n            </SlideContainer>\n          </DropDownHeader>\n          <DropDownList ref={listRef}>\n            {filteredTokenAccounts?.length ? (\n              <>\n                <YourTokens>Your tokens</YourTokens>\n                {filteredTokenAccounts.map((account) => (\n                  <TokenAccountRow\n                    key={account.account.toBase58()}\n                    tokenAccount={account}\n                    onClick={handleTokenAccountClick}\n                  />\n                ))}\n              </>\n            ) : undefined}\n            {!isInput && filteredTokens?.length ? (\n              <>\n                <AllTokens>All tokens</AllTokens>\n                {filteredTokens.map((token) => (\n                  <TokenRow key={token} tokenName={token} onClick={handleTokenClick} />\n                ))}\n              </>\n            ) : undefined}\n            {!filteredTokenAccounts?.length && !filteredTokens?.length ? (\n              <Empty type=\"search\" />\n            ) : undefined}\n          </DropDownList>\n        </DropDownListContainer>\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","import { useEffect, useRef } from 'react';\n\n// Get the previous value of a prop/state\nexport function usePreviousValueHook<T>(value: T): T {\n  const ref = useRef<T>(value);\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n","import React, { FC } from 'react';\n\nimport { useSwap } from 'app/contexts/swap';\n\nimport { SwapTokenForm } from '../SwapTokenForm';\n\ninterface Props {\n  className?: string;\n}\n\nexport const SwapFromForm: FC<Props> = ({ className }) => {\n  const { trade, setInputTokenName, setInputAmount, inputTokenAmount } = useSwap();\n\n  return (\n    <SwapTokenForm\n      trade={trade}\n      isInput\n      tokenName={trade.inputTokenName}\n      setTokenName={setInputTokenName}\n      pairTokenName={trade.outputTokenName}\n      amount={trade.getInputAmount()}\n      setAmount={setInputAmount}\n      maxAmount={inputTokenAmount}\n      className={className}\n    />\n  );\n};\n","import React, { FC } from 'react';\n\nimport { useSwap } from 'app/contexts/swap';\n\nimport { SwapTokenForm } from '../SwapTokenForm';\n\ninterface Props {\n  className?: string;\n}\n\nexport const SwapToForm: FC<Props> = ({ className }) => {\n  const { trade, setOutputTokenName, setOutputAmount } = useSwap();\n\n  return (\n    <SwapTokenForm\n      trade={trade}\n      tokenName={trade.outputTokenName}\n      setTokenName={setOutputTokenName}\n      pairTokenName={trade.inputTokenName}\n      amount={trade.getOutputAmount()}\n      setAmount={setOutputAmount}\n      className={className}\n    />\n  );\n};\n","import React, { FC, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport { rgba } from 'polished';\n\nimport { useSwap } from 'app/contexts/swap';\nimport { Hint } from 'components/common/Hint';\n\nimport { WrapperWidgetPage } from '../../../common/SendSwapWidget/common/styled';\nimport { CurrentPrice } from './CurrentPrice';\nimport { Fees } from './Fees';\nimport orcaLogo from './orca_logo.svg';\n// import { PriceImpact } from './PriceImpact';\n// import { Properties } from './Properties';\nimport { Reverse } from './Reverse';\nimport { Slippage } from './Slippage';\nimport { SwapButton } from './SwapButton';\nimport { SwapFromForm } from './SwapFromForm';\nimport { SwapToForm } from './SwapToForm';\n\n// const ActionsWrapper = styled.div`\n//   display: flex;\n//\n//   &:not(:last-child) {\n//     margin-right: 10px;\n//   }\n// `;\n\nconst Wrapper = styled.div`\n  padding: 24px 20px;\n`;\n\nconst FromSwapWrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  flex-direction: column; /* to don't collapse margins of children */\n\n  margin-bottom: 8px;\n  padding: 16px 20px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst ToSwapWrapper = styled(FromSwapWrapper)``;\n\nconst Lines = styled.div`\n  display: grid;\n  grid-gap: 8px;\n  margin-top: 32px;\n`;\n\nconst BottomWrapper = styled.div`\n  padding: 32px 0 0;\n`;\n\nconst PoweredByBannerWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n\n  border-top: 1px solid ${rgba('#000', 0.05)};\n`;\n\nconst PoweredBy = styled.div`\n  margin-right: 10px;\n\n  color: #a3a5ba;\n\n  font-weight: 600;\n  font-size: 14px;\n`;\n\nexport const SwapWidget: FC = () => {\n  const { symbol } = useParams<{ symbol?: string }>();\n  const { setInputTokenName } = useSwap();\n\n  useEffect(() => {\n    if (symbol) {\n      setInputTokenName(symbol);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [symbol]);\n\n  // useEffect(() => {\n  //   if (trade.outputTooHigh) {\n  //     setErrorMessage('The amount you entered is too high. Please try a smaller amount.');\n  //   }\n  // }, [trade]);\n\n  // const highPriceDescription =\n  //   \"Your trade is large compared to the size of the pool. If you're unsure what to do, read more about price impact <ExternalLinkWrapper href='https://docs.orca.so/#what-is-price-impact'>here</ExternalLinkWrapper>.\";\n  // const walletConfirmationFailure = 'Click approve in your wallet to continue.';\n  // const ExternalLinkWrapper = reactComponentWrapper(ExternalLink);\n\n  return (\n    <div>\n      <WrapperWidgetPage\n        title=\"Swap\"\n        icon=\"swap\"\n        // action={\n        //   <ActionsWrapper>\n        //     <SettingsAction />\n        //   </ActionsWrapper>\n        // }\n      >\n        <Wrapper>\n          <FromSwapWrapper>\n            <SwapFromForm />\n          </FromSwapWrapper>\n          <ToSwapWrapper>\n            <Reverse />\n            <SwapToForm />\n          </ToSwapWrapper>\n          <Lines>\n            <CurrentPrice />\n            {/*/!*<PriceImpact />*!/*/}\n            <Slippage />\n            <Fees />\n          </Lines>\n          <BottomWrapper>\n            <SwapButton />\n          </BottomWrapper>\n        </Wrapper>\n        <PoweredByBannerWrapper>\n          <PoweredBy>Powered by </PoweredBy>\n          <a href=\"https://www.orca.so/\" target=\"_blank\" rel=\"noopener noreferrer noindex\">\n            <img src={orcaLogo} alt=\"Orca\" />\n          </a>\n        </PoweredByBannerWrapper>\n      </WrapperWidgetPage>\n      <Hint />\n    </div>\n  );\n};\n","import React, { FunctionComponent, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { Layout } from 'components/common/Layout';\nimport { SwapWidget } from 'components/pages/swap/SwapWidget';\nimport { trackEvent } from 'utils/analytics';\n\nexport const Swap: FunctionComponent = () => {\n  const location = useLocation<{ fromPage: string }>();\n\n  useEffect(() => {\n    trackEvent('swap_open', { fromPage: location.state.fromPage });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <Layout rightColumn={<SwapWidget />} />;\n};\n","import React, { FunctionComponent, useEffect, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { rgba } from 'polished';\nimport QRCode from 'qrcode.react';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { Card } from 'components/common/Card';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Button, Icon } from 'components/ui';\nimport { trackEvent } from 'utils/analytics';\nimport { askClipboardWritePermission, setToClipboard } from 'utils/clipboard';\nimport { getExplorerUrl } from 'utils/connection';\n\nconst WrapperCard = styled(Card)`\n  flex: 1;\n  padding: 0;\n`;\n\nconst HeaderWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 64px;\n  padding: 0 8px 0 20px;\n`;\n\nconst TokenWrapper = styled.div`\n  flex: 1;\n  margin-right: 7px;\n`;\n\nconst CopiedText = styled.div`\n  color: #2db533;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n`;\n\nconst TokenName = styled.div`\n  color: #000;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n`;\n\nconst TokenAddress = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n\n  cursor: pointer;\n`;\n\nconst ExpandWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 48px;\n  height: 48px;\n\n  border-radius: 12px;\n\n  cursor: pointer;\n\n  &:hover {\n    background: #f6f6f8;\n  }\n`;\n\nconst ExpandIcon = styled(Icon)`\n  width: 32px;\n  height: 32px;\n\n  color: #5887ff;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  border-top: 1px solid ${rgba('#000', 0.05)};\n`;\n\nconst Text = styled.div`\n  margin-top: 20px;\n\n  color: #202020;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst QRCodeWrapper = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  margin: 20px 0;\n  padding: 17px;\n\n  border-radius: 12px;\n\n  &.isImageCopyAvailable:hover {\n    background: #f6f6f8;\n    cursor: pointer;\n  }\n`;\n\nconst QRCopiedWrapper = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: 10px;\n  left: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst QRCopied = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  height: 29px;\n  padding: 0 11px;\n\n  color: #5887ff;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n`;\n\nconst Details = styled.div`\n  border-top: 1px solid ${rgba('#000', 0.05)};\n`;\n\nconst DetailRow = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  padding: 20px;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ${rgba('#000', 0.05)};\n  }\n`;\n\nconst FieldGroup = styled.div``;\n\nconst FieldTitle = styled.div`\n  color: #000;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 16px;\n`;\n\nconst FieldValue = styled.div`\n  margin-top: 4px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 13px;\n  line-height: 16px;\n\n  cursor: pointer;\n\n  &:hover {\n    color: #5887ff;\n  }\n`;\n\nexport const ShareIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nexport const ShareWrapper = styled.div`\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  margin-left: 20px;\n\n  background: rgba(163, 165, 186, 0.1);\n  border-radius: 8px;\n  cursor: pointer;\n\n  &:hover {\n    background: #eff3ff;\n\n    ${ShareIcon} {\n      color: #5887ff;\n    }\n  }\n`;\n\nconst Footer = styled.div`\n  padding: 20px;\n\n  color: #a3a5ba;\n  font-size: 14px;\n  line-height: 21px;\n  text-align: center;\n\n  border-top: 1px solid ${rgba('#000', 0.05)};\n`;\n\ntype Props = {\n  publicKey: string;\n  className?: string;\n};\n\nexport const QRAddressWidgetOrigin: FunctionComponent<Props> = ({ publicKey, className }) => {\n  const [copied, setCopied] = useState(false);\n  const [isExpand, setIsExpand] = useState(false);\n  const [isShowDetails, setIsShowDetails] = useState(false);\n  const [isImageCopyAvailable, setIsImageCopyAvailable] = useState(false);\n  const [isImageCopied, setIsImageCopied] = useState(false);\n  const cluster = useSelector((state) => state.wallet.network.cluster);\n  const solPublicKey = useSelector((state) => state.wallet.publicKey);\n\n  const tokenAccounts = useSelector((state) => state.wallet.tokenAccounts);\n  const tokenAccount = useMemo(() => {\n    const foundToken = tokenAccounts.find((account) => account.address === publicKey);\n    return foundToken && TokenAccount.from(foundToken);\n  }, [tokenAccounts, publicKey]);\n  const solAccount = useMemo(() => {\n    const foundToken = tokenAccounts.find((account) => account.address === solPublicKey);\n    return foundToken && TokenAccount.from(foundToken);\n  }, [tokenAccounts, solPublicKey]);\n\n  useEffect(() => {\n    askClipboardWritePermission()\n      .then((state) => setIsImageCopyAvailable(state))\n      .catch(() => setIsImageCopyAvailable(false));\n  }, []);\n\n  if (!tokenAccount) {\n    return null;\n  }\n\n  const handleExpandClick = () => {\n    setIsExpand(!isExpand);\n\n    if (!isExpand) {\n      trackEvent('wallet_qr_click');\n    }\n  };\n\n  const handleCopyClick = (type: 'sol' | 'token' | 'mint', address: string) => () => {\n    try {\n      void navigator.clipboard.writeText(address);\n      setCopied(true);\n      ToastManager.info(`Address Copied!`);\n\n      if (type === 'sol') {\n        trackEvent('wallet_sol_address_copy');\n      } else if (type === 'token') {\n        trackEvent('wallet_token_address_copy');\n      } else if (type === 'mint') {\n        trackEvent('wallet_mint_address_copy');\n      }\n\n      // fade copied after some seconds\n      setTimeout(() => {\n        setCopied(false);\n      }, 2000);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleImageCopyClick = () => {\n    const qrElement = document.querySelector<HTMLCanvasElement>('#qrcode');\n    if (!qrElement) {\n      return;\n    }\n\n    try {\n      qrElement.toBlob((blob: Blob | null) => setToClipboard(blob));\n      setIsImageCopied(true);\n\n      // fade copied after some seconds\n      setTimeout(() => {\n        setIsImageCopied(false);\n      }, 2000);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleToggleAddressDetailsClick = () => {\n    setIsShowDetails((state) => !state);\n  };\n\n  if (!solAccount) {\n    return null;\n  }\n\n  return (\n    <WrapperCard className={className} withShadow>\n      <HeaderWrapper>\n        <TokenWrapper>\n          {copied ? (\n            <CopiedText>Wallet Address Copied!</CopiedText>\n          ) : (\n            <TokenName>Wallet Address</TokenName>\n          )}\n          <TokenAddress onClick={handleCopyClick('sol', solAccount.address.toBase58())}>\n            {solAccount.address.toBase58()}\n          </TokenAddress>\n        </TokenWrapper>\n        <ExpandWrapper onClick={handleExpandClick}>\n          <ExpandIcon name=\"qr\" />\n        </ExpandWrapper>\n      </HeaderWrapper>\n      {isExpand ? (\n        <>\n          <Content>\n            <Text>Scan or copy QR code</Text>\n            <QRCodeWrapper\n              className={classNames({ isImageCopyAvailable })}\n              onClick={isImageCopyAvailable ? handleImageCopyClick : undefined}>\n              {isImageCopied ? (\n                <QRCopiedWrapper>\n                  <QRCopied>Copied</QRCopied>\n                </QRCopiedWrapper>\n              ) : undefined}\n              <QRCode id=\"qrcode\" value={solAccount.address.toBase58()} size={150} />\n            </QRCodeWrapper>\n          </Content>\n          {isShowDetails ? (\n            <Details>\n              <DetailRow>\n                <FieldGroup>\n                  <FieldTitle>Direct {tokenAccount.mint.symbol} Address</FieldTitle>\n                  <FieldValue onClick={handleCopyClick('token', tokenAccount.address.toBase58())}>\n                    {tokenAccount.address.toBase58()}\n                  </FieldValue>\n                </FieldGroup>\n                <a\n                  href={getExplorerUrl('address', tokenAccount.address.toBase58(), cluster)}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer noindex\"\n                  className=\"button\">\n                  <ShareWrapper>\n                    <ShareIcon name=\"external-link\" />\n                  </ShareWrapper>\n                </a>\n              </DetailRow>\n              <DetailRow>\n                <FieldGroup>\n                  <FieldTitle>{tokenAccount.mint.symbol} Mint Address</FieldTitle>\n                  <FieldValue\n                    onClick={handleCopyClick('mint', tokenAccount.mint.address.toBase58())}>\n                    {tokenAccount.mint.address.toBase58()}\n                  </FieldValue>\n                </FieldGroup>\n                <a\n                  href={getExplorerUrl('address', tokenAccount.mint.address.toBase58(), cluster)}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer noindex\"\n                  className=\"button\">\n                  <ShareWrapper>\n                    <ShareIcon name=\"external-link\" />\n                  </ShareWrapper>\n                </a>\n              </DetailRow>\n            </Details>\n          ) : undefined}\n          <Footer>\n            <Button lightGray onClick={handleToggleAddressDetailsClick}>\n              {isShowDetails ? 'Hide address details' : 'Show address details'}\n            </Button>\n          </Footer>\n        </>\n      ) : undefined}\n    </WrapperCard>\n  );\n};\n\nexport const QRAddressWidget = React.memo(QRAddressWidgetOrigin);\n","import React, { FunctionComponent, useEffect, useMemo, useState } from 'react';\nimport ReactHighcharts from 'react-highcharts';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport web3 from '@solana/web3.js';\nimport classNames from 'classnames';\n\nimport { CandleLimitType } from 'api/rate/CandleRate';\n// import dayjs from 'dayjs';\n// import { rgba } from 'polished';\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { changeCandlesType, getRatesCandle } from 'store/slices/rate/RateSlice';\n\n// import { calculateInterval, calculateStart } from 'utils/charts';\nimport { getConfig } from './utils';\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nconst ChartWrapper = styled.div`\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n`;\n\nconst BottomWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  height: 54px;\n`;\n\nconst FilterButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 51px;\n  height: 34px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 13px;\n  line-height: 20px;\n\n  background: transparent;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n\n  appearance: none;\n\n  &:not(:last-child) {\n    margin-right: 20px;\n  }\n\n  &.active {\n    color: #000;\n\n    background: #f6f6f8;\n    border-radius: 12px;\n  }\n`;\n\n// const TopWrapper = styled.div`\n//   padding: 0 16px 20px;\n// `;\n\n// const BalanceValue = styled.div`\n//   color: #000;\n//   font-weight: 500;\n//   font-size: 22px;\n//   line-height: 26px;\n// `;\n\n// const DeltaValue = styled.div`\n//   margin-top: 9px;\n//\n//   color: ${rgba('#000', 0.5)};\n//   font-size: 14px;\n//   line-height: 17px;\n// `;\n\ntype Props = {\n  publicKey: web3.PublicKey;\n};\n\nexport const Chart: FunctionComponent<Props> = ({ publicKey }) => {\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const type = useSelector((state) => state.rate.candlesType);\n  const tokenAccounts = useSelector((state) => state.wallet.tokenAccounts);\n  const tokenAccount = useMemo(() => {\n    const foundToken = tokenAccounts.find((account) => account.address === publicKey.toBase58());\n    return foundToken && TokenAccount.from(foundToken);\n  }, [tokenAccounts, publicKey]);\n  const rates = useSelector((state) =>\n    tokenAccount?.mint.symbol ? state.rate.candles[tokenAccount?.mint.symbol] : undefined,\n  );\n\n  const loadCandles = async (nextType: CandleLimitType) => {\n    if (isLoading || !tokenAccount?.mint.symbol) {\n      return;\n    }\n\n    setIsLoading(true);\n    await dispatch(getRatesCandle({ symbol: tokenAccount.mint.symbol, type: nextType }));\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    void loadCandles(type);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tokenAccount?.mint.symbol, type]);\n\n  if (!tokenAccount || !rates || rates.length === 0) {\n    return null;\n  }\n\n  const handleFilterClick = (nextType: CandleLimitType) => () => {\n    dispatch(changeCandlesType(nextType));\n  };\n\n  const data = rates.map((rate) => [rate.startTime, rate.price]);\n  const config = getConfig(data);\n\n  // const diff = rates[rates.length - 1].price - rates[rates.length - 2].price;\n  // const sum = rates[rates.length - 1].price + rates[rates.length - 2].price;\n  // const percentage = 100 * (diff / (sum / 2));\n\n  return (\n    <Wrapper>\n      {/* <TopWrapper> */}\n      {/* <BalanceValue> */}\n      {/*  {tokenAccount.mint.toMajorDenomination(tokenAccount.balance)} {tokenAccount.mint.symbol} */}\n      {/* </BalanceValue> */}\n      {/* <DeltaValue> */}\n      {/*  {diff.toFixed(2)} USD ({percentage.toFixed(2)}%){' '} */}\n      {/*  {dayjs.unix(rates[rates.length - 1].startTime).format('LL')} */}\n      {/* </DeltaValue> */}\n      {/* </TopWrapper> */}\n      <ChartWrapper>\n        <ReactHighcharts config={config} isPureConfig />\n      </ChartWrapper>\n      <BottomWrapper>\n        <FilterButton\n          className={classNames({ active: type === 'last1h' })}\n          onClick={handleFilterClick('last1h')}>\n          1H\n        </FilterButton>\n        <FilterButton\n          className={classNames({ active: type === 'last4h' })}\n          onClick={handleFilterClick('last4h')}>\n          4H\n        </FilterButton>\n        <FilterButton\n          className={classNames({ active: type === 'day' })}\n          onClick={handleFilterClick('day')}>\n          1D\n        </FilterButton>\n        <FilterButton\n          className={classNames({ active: type === 'week' })}\n          onClick={handleFilterClick('week')}>\n          1W\n        </FilterButton>\n        <FilterButton\n          className={classNames({ active: type === 'month' })}\n          onClick={handleFilterClick('month')}>\n          1M\n        </FilterButton>\n      </BottomWrapper>\n    </Wrapper>\n  );\n};\n","import Highcharts from 'highcharts';\n\nexport const getConfig = (data: number[][]): Highcharts.Options => ({\n  chart: {\n    height: 180,\n    type: 'area',\n    spacing: [5, 0, 0, 0],\n  },\n  title: {\n    text: undefined,\n  },\n  yAxis: {\n    visible: false,\n    minPadding: 0,\n    maxPadding: 0,\n    gridLineColor: 'transparent',\n  },\n  xAxis: {\n    visible: false,\n    minPadding: 0,\n    maxPadding: 0,\n    type: 'datetime',\n    gridLineColor: 'transparent',\n    tickWidth: 0,\n    lineWidth: 0,\n    dateTimeLabelFormats: {\n      millisecond: '%H:%M:%S.%L',\n      second: '%H:%M:%S',\n      minute: '%H:%M',\n      hour: '%H:%M',\n      day: '%e %b',\n      week: '%e %b',\n      month: \"%b '%y\",\n      year: '%Y',\n    },\n  },\n  plotOptions: {\n    series: {\n      // pointStart: start,\n      // pointInterval: interval,\n      animation: false,\n    },\n    area: {\n      fillColor: {\n        linearGradient: {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 1,\n        },\n        stops: [\n          [0, new Highcharts.Color('#CEDCFF').get('rgb') as string],\n          [1, new Highcharts.Color('#E6EDFF').get('rgba') as string],\n        ],\n      },\n      lineWidth: 1,\n      color: '#5887FF',\n      states: {\n        hover: {\n          lineWidth: 1,\n        },\n      },\n      marker: {\n        radius: 0,\n      },\n      threshold: null,\n      dataGrouping: { enabled: false },\n    },\n    line: {\n      marker: {\n        enabled: false,\n      },\n    },\n  },\n  tooltip: {\n    borderColor: 'transparent',\n    borderWidth: 0,\n    borderRadius: 4,\n    valueDecimals: 2,\n    backgroundColor: '#C4C4C4',\n    shadow: false,\n    padding: 4,\n    style: {\n      color: 'white',\n    },\n    xDateFormat: '%b %d, %Y',\n    useHTML: true,\n    pointFormatter() {\n      // return fiatToString({ value: this.y, decimals, unit: currency });\n      return this.y?.toString() || '';\n    },\n  },\n  credits: {\n    enabled: false,\n  },\n  legend: {\n    enabled: false,\n  },\n  series: [\n    {\n      type: 'area',\n      name: 'Price',\n      data,\n    },\n  ],\n});\n","import React, { FunctionComponent, useEffect, useMemo, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport { SystemProgram } from '@solana/web3.js';\nimport classNames from 'classnames';\nimport throttle from 'lodash.throttle';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { useConfig } from 'app/contexts/swap';\nimport { AmountUSD } from 'components/common/AmountUSD';\nimport { COLUMN_RIGHT_WIDTH } from 'components/common/Layout/constants';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { Widget } from 'components/common/Widget';\nimport { Button, Icon } from 'components/ui';\nimport { rateSelector } from 'store/selectors/rates';\nimport { getRatesCandle } from 'store/slices/rate/RateSlice';\nimport { airdrop } from 'store/slices/wallet/WalletSlice';\nimport { trackEvent } from 'utils/analytics';\nimport { shortAddress } from 'utils/tokens';\n\nimport { Chart } from './Chart';\n\nconst WrapperWidget = styled(Widget)``;\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst TokenInfo = styled.div`\n  max-width: 230px;\n  margin-left: 16px;\n  overflow: hidden;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst TokenSymbol = styled.div`\n  color: #000;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 100%;\n`;\n\nconst TokenName = styled.div`\n  margin-top: 4px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst Buttons = styled.div`\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 16px;\n`;\n\nconst ButtonStyled = styled(Button)`\n  width: 36px;\n  padding: 0;\n\n  box-shadow: 0 4px 12px rgba(88, 135, 255, 0.25);\n`;\n\nconst PlusIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #fff;\n`;\n\nconst PriceWrapped = styled.div`\n  padding: 16px 20px;\n\n  &.isSticky {\n    padding: 0 16px;\n  }\n`;\n\nconst ValueCurrency = styled.div`\n  color: #000;\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 120%;\n\n  &.isSticky {\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 120%;\n  }\n`;\n\nconst BottomWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n\n  &:not(:first-child) {\n    margin-top: 4px;\n  }\n\n  &.isSticky {\n    margin-top: 0;\n\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 120%;\n  }\n`;\n\nconst ValueOriginal = styled.div``;\n\nconst ValueDelta = styled.div`\n  display: flex;\n`;\n\n// const ValueGreen = styled.div`\n//   margin-left: 20px;\n//\n//   color: #2db533;\n// `;\n\nconst WrapperFixed = styled.div`\n  position: fixed;\n  top: 64px;\n  z-index: 2;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  width: ${COLUMN_RIGHT_WIDTH}px;\n  height: 72px;\n  padding: 0 20px;\n\n  background: #fff;\n  border-radius: 0 0 12px 12px;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n`;\n\nconst FixedInfoWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst TokenSettings = styled.div`\n  margin-left: 10px;\n`;\n\nconst TokenSettingsButton = styled(Button)`\n  width: 36px;\n  padding: 0;\n`;\n\nconst TokenSettingsIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #a3a5ba;\n`;\n\ntype Props = {\n  publicKey: string;\n};\n\nexport const TopWidgetOrigin: FunctionComponent<Props> = ({ publicKey }) => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const { tokenConfigs } = useConfig();\n  const widgetRef = useRef<HTMLDivElement>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isShowFixed, setIsShowFixed] = useState(false);\n  const type = useSelector((state) => state.rate.candlesType);\n  const cluster = useSelector((state) => state.wallet.network.cluster);\n  const tokenAccounts = useSelector((state) =>\n    state.wallet.tokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n  const tokenAccount = useMemo(\n    () => tokenAccounts.find((account) => account.address.toBase58() === publicKey),\n    [tokenAccounts, publicKey],\n  );\n  const rate = useSelector(rateSelector(tokenAccount?.mint.symbol));\n  const rates = useSelector((state) =>\n    tokenAccount?.mint.symbol ? state.rate.candles[tokenAccount?.mint.symbol] : undefined,\n  );\n  const isMainnet = cluster === 'mainnet-beta';\n\n  useEffect(() => {\n    const loadCandles = async () => {\n      if (isLoading || !tokenAccount?.mint.symbol || rates) {\n        return;\n      }\n\n      setIsLoading(true);\n      await dispatch(getRatesCandle({ symbol: tokenAccount.mint.symbol, type: 'month' }));\n      setIsLoading(false);\n    };\n\n    void loadCandles();\n  }, [dispatch, isLoading, rates, tokenAccount?.mint.symbol]);\n\n  const handleScroll = throttle(() => {\n    if (!widgetRef.current) {\n      return;\n    }\n\n    const { bottom } = widgetRef.current.getBoundingClientRect();\n\n    if (bottom <= 150) {\n      setIsShowFixed(true);\n    } else {\n      setIsShowFixed(false);\n    }\n  }, 100);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const delta = useMemo(() => {\n    if (!rates || rates.length === 0) {\n      return null;\n    }\n\n    const diff = rates[rates.length - 1].price - rates[rates.length - 2].price;\n    const sum = rates[rates.length - 1].price + rates[rates.length - 2].price;\n    const percentage = 100 * (diff / (sum / 2));\n\n    return { diff, percentage };\n  }, [rates]);\n\n  const handleAirdropClick = () => {\n    void dispatch(airdrop());\n  };\n\n  const renderButtons = () => {\n    return (\n      <Buttons>\n        {/* <Link to={`/send/${publicKey.toBase58()}`} className=\"button\"> */}\n        {/*  <ButtonStyled primary small> */}\n        {/*    <PlusIcon name=\"plus\" /> */}\n        {/*  </ButtonStyled> */}\n        {/* </Link> */}\n        <Link\n          to={{ pathname: `/send/${publicKey}`, state: { fromPage: location.pathname } }}\n          title=\"Send\"\n          onClick={() => trackEvent('wallet_send_click')}\n          className=\"button\">\n          <ButtonStyled primary small>\n            <PlusIcon name=\"top\" />\n          </ButtonStyled>\n        </Link>\n        {tokenAccount?.mint.symbol && tokenConfigs[tokenAccount?.mint.symbol] ? (\n          <Link\n            to={{\n              pathname: `/swap/${tokenAccount?.mint.symbol}`,\n              state: { fromPage: location.pathname },\n            }}\n            title=\"Swap\"\n            onClick={() => trackEvent('wallet_swap_click')}\n            className=\"button\">\n            <ButtonStyled primary small>\n              <PlusIcon name=\"swap\" />\n            </ButtonStyled>\n          </Link>\n        ) : undefined}\n        {!isMainnet && tokenAccount?.mint.symbol === 'SOL' ? (\n          <ButtonStyled primary small title=\"Airdrop\" onClick={handleAirdropClick}>\n            <PlusIcon name=\"plug\" />\n          </ButtonStyled>\n        ) : undefined}\n      </Buttons>\n    );\n  };\n\n  const renderDelta = (isSticky?: boolean) => {\n    if (isSticky || !delta) {\n      return null;\n    }\n\n    let period = '';\n\n    // eslint-disable-next-line default-case\n    switch (type) {\n      case 'last1h':\n      case 'last4h':\n        period = '1 minute';\n        break;\n      case 'day':\n        period = '1 hour';\n        break;\n      case 'week':\n      case 'month':\n        period = '24 hrs';\n        break;\n    }\n\n    return (\n      <ValueDelta>\n        {delta.diff.toFixed(2)} USD ({delta.percentage.toFixed(2)}%) {period}\n      </ValueDelta>\n    );\n  };\n\n  const renderContent = (isSticky?: boolean) => {\n    if (!tokenAccount) {\n      return;\n    }\n\n    return (\n      <PriceWrapped className={classNames({ isSticky })}>\n        {rate ? (\n          <ValueCurrency className={classNames({ isSticky })}>\n            <AmountUSD\n              value={tokenAccount.mint.toMajorDenomination(tokenAccount.balance)}\n              symbol={tokenAccount.mint.symbol}\n            />\n          </ValueCurrency>\n        ) : undefined}\n        <BottomWrapper className={classNames({ isSticky })}>\n          <ValueOriginal>\n            {tokenAccount.mint.toMajorDenomination(tokenAccount.balance).toString()}{' '}\n            {tokenAccount.mint.symbol}\n          </ValueOriginal>\n          {renderDelta(isSticky)}\n        </BottomWrapper>\n      </PriceWrapped>\n    );\n  };\n\n  return (\n    <>\n      <WrapperWidget\n        ref={widgetRef}\n        title={\n          tokenAccount ? (\n            <Header>\n              <TokenAvatar\n                symbol={tokenAccount?.mint.symbol}\n                address={tokenAccount?.mint.address.toBase58()}\n                size=\"44\"\n              />\n              <TokenInfo>\n                <TokenSymbol>{tokenAccount?.mint.symbol}</TokenSymbol>\n                <TokenName title={tokenAccount.address.toBase58()}>\n                  {tokenAccount?.mint.name || shortAddress(tokenAccount.address.toBase58())}\n                </TokenName>\n              </TokenInfo>\n              {tokenAccount?.mint.address.equals(SystemProgram.programId) ? undefined : (\n                <TokenSettings>\n                  <Link\n                    to={{\n                      pathname: `/wallet/${publicKey}/settings`,\n                      state: { fromPage: location.pathname },\n                    }}\n                    title=\"Settings\"\n                    className=\"button\">\n                    <TokenSettingsButton small>\n                      <TokenSettingsIcon name=\"gear\" />\n                    </TokenSettingsButton>\n                  </Link>\n                </TokenSettings>\n              )}\n            </Header>\n          ) : undefined\n        }\n        action={renderButtons()}>\n        {renderContent()}\n        {tokenAccount ? <Chart publicKey={tokenAccount.address} /> : undefined}\n      </WrapperWidget>\n      {isShowFixed ? (\n        <WrapperFixed>\n          <FixedInfoWrapper>\n            <TokenAvatar\n              symbol={tokenAccount?.mint.symbol}\n              address={tokenAccount?.mint.address.toBase58()}\n              size={36}\n            />\n            {renderContent(true)}\n          </FixedInfoWrapper>\n          {renderButtons()}\n        </WrapperFixed>\n      ) : undefined}\n    </>\n  );\n};\n\nexport const TopWidget = React.memo(TopWidgetOrigin);\n","import React, { Component, createRef } from 'react';\n\nimport { styled } from '@linaria/react';\nimport throttle from 'lodash.throttle';\nimport omit from 'ramda/src/omit';\n\nconst Wrapper = styled.div``;\n\ntype Props = {\n  disabled: boolean;\n  onNeedLoadMore: () => Promise<never> | void;\n};\n\nexport class InfinityScrollHelper extends Component<Props> {\n  static defaultProps = {\n    disabled: false,\n  };\n\n  delayedCheck = 0;\n\n  wrapperRef = createRef<HTMLDivElement>();\n\n  checkLoadMore = throttle(async (): Promise<undefined> => {\n    const { disabled, onNeedLoadMore } = this.props;\n\n    if (disabled || !this.wrapperRef.current) {\n      return;\n    }\n\n    const wrapper = this.wrapperRef.current;\n    const { bottom } = wrapper.getBoundingClientRect();\n\n    if (window.innerHeight * 1.5 > bottom) {\n      await onNeedLoadMore();\n      void this.checkLoadMore();\n    }\n  }, 500);\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.checkLoadMore);\n    window.addEventListener('resize', this.checkLoadMore);\n\n    this.delayedCheck = window.setTimeout(() => {\n      void this.checkLoadMore();\n    }, 0);\n  }\n\n  componentDidUpdate() {\n    void this.checkLoadMore();\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.delayedCheck);\n    this.checkLoadMore.cancel();\n\n    window.removeEventListener('scroll', this.checkLoadMore);\n    window.removeEventListener('resize', this.checkLoadMore);\n  }\n\n  render() {\n    return <Wrapper {...omit(['onNeedLoadMore', 'disabled'], this.props)} ref={this.wrapperRef} />;\n  }\n}\n","import React, { FunctionComponent } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { rgba } from 'polished';\n\nimport { Transaction } from 'api/transaction/Transaction';\nimport { AmountUSD } from 'components/common/AmountUSD';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { Icon } from 'components/ui';\nimport { openModal } from 'store/actions/modals';\nimport { SHOW_MODAL_TRANSACTION_DETAILS } from 'store/constants/modalTypes';\nimport { trackEvent } from 'utils/analytics';\nimport { shortAddress } from 'utils/tokens';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  padding: 10px 0;\n\n  &:not(:last-child) {\n    &::after {\n      position: absolute;\n      right: 10px;\n      bottom: 0;\n      left: 10px;\n\n      border-bottom: 1px solid ${rgba(0, 0, 0, 0.05)};\n\n      content: '';\n    }\n  }\n`;\n\nconst BaseWrapper = styled.div`\n  width: 48px;\n  height: 48px;\n  margin-right: 12px;\n`;\n\nconst TransactionIconWrapper = styled(BaseWrapper)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst TransactionIcon = styled(Icon)`\n  width: 25px;\n  height: 25px;\n\n  color: #a3a5ba;\n`;\n\nconst SwapAvatarsWrapper = styled(BaseWrapper)`\n  position: relative;\n\n  & > :nth-child(1) {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  & > :nth-child(2) {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n  }\n`;\n\nconst Content = styled.div`\n  flex: 1;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst Type = styled.div`\n  text-transform: capitalize;\n`;\n\nconst Right = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Amount = styled.div`\n  &.isReceiver {\n    color: #2db533;\n  }\n`;\n\nconst StatusWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst WarningIcon = styled(Icon)`\n  width: 16px;\n  height: 16px;\n  margin-left: 9px;\n\n  color: #f43d3d;\n`;\n\nconst ClockIcon = styled(Icon)`\n  width: 15px;\n  height: 15px;\n  margin-left: 9px;\n\n  color: #ffa631;\n`;\n\nconst Main = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 10px;\n\n  cursor: pointer;\n\n  &:hover {\n    background: #f6f6f8;\n    border-radius: 12px;\n\n    ${TransactionIconWrapper} {\n      background: #fff;\n    }\n\n    ${Type} {\n      color: #5887ff;\n    }\n  }\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 5px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 16px;\n`;\n\nconst LinkStyled = styled(Link)`\n  color: #a3a5ba;\n  text-decoration: none;\n`;\n\ntype Props = {\n  transaction: Transaction;\n  source: string;\n};\n\nexport const TransactionRow: FunctionComponent<Props> = ({ transaction, source }) => {\n  const dispatch = useDispatch();\n  // const publicKey = useSelector((state) => state.wallet.publicKey);\n  const details = transaction.details(\n    // transaction.short.destinationTokenAccount?.owner.toBase58() === publicKey ||\n    transaction.short.destination?.toBase58() === source,\n  );\n\n  const handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (['A', 'IMG'].includes((e.target as HTMLElement).tagName)) {\n      return;\n    }\n\n    trackEvent('wallet_transaction_details_open');\n\n    void dispatch(\n      openModal({\n        modalType: SHOW_MODAL_TRANSACTION_DETAILS,\n        props: { signature: transaction.signature, source },\n      }),\n    );\n  };\n\n  const renderBottomLeft = () => {\n    if (details.type === 'swap' && details.sourceToken && details.destinationToken) {\n      return (\n        <>\n          <LinkStyled to={details.source && `/wallet/${details.source.toBase58()}`}>\n            {details.sourceToken.symbol}\n          </LinkStyled>{' '}\n          to{' '}\n          <LinkStyled to={details.destination && `/wallet/${details.destination.toBase58()}`}>\n            {details.destinationToken.symbol}\n          </LinkStyled>\n        </>\n      );\n    }\n\n    if (details.type === 'transfer' || details.type === 'transferChecked') {\n      const address = details.destination?.toBase58();\n      if (address) {\n        return `To ${shortAddress(address)}`;\n      }\n    }\n\n    if (details.type === 'receive') {\n      const address = details.source?.toBase58();\n      if (address) {\n        return `From ${shortAddress(address)}`;\n      }\n    }\n\n    if (details.typeOriginal === 'createAccount') {\n      const symbol = details.destinationToken?.symbol;\n      if (symbol) {\n        return `${symbol} Created`;\n      }\n    }\n\n    if (details.typeOriginal === 'closeAccount') {\n      const symbol = details.sourceToken?.symbol;\n      if (symbol) {\n        return `${symbol} Closed`;\n      }\n    }\n\n    return <div title={transaction.signature}>{shortAddress(transaction.signature)}</div>;\n  };\n\n  return (\n    <Wrapper>\n      <Main onClick={handleClick}>\n        {details.type === 'swap' ? (\n          <SwapAvatarsWrapper>\n            <TokenAvatar\n              symbol={details.sourceToken?.symbol}\n              address={details.sourceToken?.address.toBase58()}\n              size={32}\n            />\n            <TokenAvatar\n              symbol={details.destinationToken?.symbol}\n              address={details.destinationToken?.address.toBase58()}\n              size={32}\n            />\n          </SwapAvatarsWrapper>\n        ) : (\n          <TransactionIconWrapper>\n            {details.icon ? <TransactionIcon name={details.icon} /> : undefined}\n          </TransactionIconWrapper>\n        )}\n        <Content>\n          <Top>\n            <Type>{details.type}</Type>\n            <Right>\n              {details.token ? (\n                <Amount className={classNames({ isReceiver: details.isReceiver })}>\n                  <AmountUSD\n                    prefix={details.isReceiver ? '+' : '-'}\n                    value={details.amount}\n                    symbol={details.token.symbol}\n                  />\n                </Amount>\n              ) : undefined}\n              {transaction.meta?.err ? (\n                <StatusWrapper title=\"Transaction failed\">\n                  <WarningIcon name=\"warning\" />\n                </StatusWrapper>\n              ) : undefined}\n              {!transaction.slot ? (\n                <StatusWrapper title=\"Transaction processing\">\n                  <ClockIcon name=\"clock\" />\n                </StatusWrapper>\n              ) : undefined}\n            </Right>\n          </Top>\n          <Bottom>\n            <div>{renderBottomLeft()}</div>\n            <div>\n              {details.typeOriginal ? (\n                <>\n                  {details.isReceiver ? '+' : '-'} {details.amount.toNumber()}{' '}\n                  {details.token?.symbol}\n                </>\n              ) : (\n                <>#{transaction.slot}</>\n              )}\n            </div>\n          </Bottom>\n        </Content>\n      </Main>\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport { TransactionSignature } from '@solana/web3.js';\nimport dayjs from 'dayjs';\n\nimport { Transaction } from 'api/transaction/Transaction';\n\nimport { TransactionRow } from '../TransactionRow';\n\nconst Wrapper = styled.div`\n  margin: 0 10px;\n`;\n\nconst Group = styled.div`\n  margin-top: 10px;\n\n  &:first-child {\n    margin-top: 20px;\n  }\n`;\n\nconst TitleDate = styled.div`\n  margin: 0 10px;\n\n  color: #a3a5ba;\n  font-size: 14px;\n  line-height: 16px;\n`;\n\ntype Dates = {\n  today: string;\n  yesterday: string;\n};\n\nconst renderDate = (currentDate: string | null, dates: Dates) => {\n  let dateHeader = null;\n\n  switch (currentDate) {\n    case dates.today:\n      dateHeader = 'Today';\n      break;\n    case dates.yesterday:\n      dateHeader = 'Yesterday';\n      break;\n    default:\n      dateHeader = currentDate ? dayjs(currentDate).format('LL') : null;\n  }\n\n  if (!dateHeader) {\n    return null;\n  }\n\n  return <TitleDate>{dateHeader}</TitleDate>;\n};\n\ntype Props = {\n  order?: TransactionSignature[];\n  source: string;\n};\n\nexport const TransactionList: FunctionComponent<Props> = ({ order, source }) => {\n  const transactions = useSelector((state) => state.transaction.items);\n\n  const groupedTransactions = useMemo(() => {\n    if (!order) {\n      return [];\n    }\n\n    const txs: { date: string | null; items: Transaction[] }[] = [];\n    let group: Transaction[] = [];\n    let lastDate: string | null = null;\n\n    order.forEach((signature, index) => {\n      const transaction = transactions[signature]\n        ? Transaction.from(transactions[signature])\n        : undefined;\n\n      if (!transaction) {\n        return;\n      }\n\n      const currentDate = transaction.timestamp\n        ? new Date(transaction.timestamp * 1000).toDateString()\n        : null;\n\n      if (currentDate !== lastDate && group.length > 0) {\n        txs.push({\n          date: lastDate,\n          items: group,\n        });\n        group = [transaction];\n      } else if (order.length === index + 1) {\n        group.push(transaction);\n        txs.push({\n          date: currentDate,\n          items: group,\n        });\n      } else {\n        group.push(transaction);\n      }\n\n      lastDate = currentDate;\n    });\n\n    return txs;\n\n    // TODO: right transactions dep\n  }, [order, transactions]);\n\n  if (!groupedTransactions) {\n    return null;\n  }\n\n  const nowDate = new Date();\n  const yesterdayDate = new Date(nowDate);\n  yesterdayDate.setDate(yesterdayDate.getDate() - 1);\n\n  const dates: Dates = {\n    today: nowDate.toDateString(),\n    yesterday: yesterdayDate.toDateString(),\n  };\n\n  return (\n    <Wrapper>\n      {groupedTransactions.map((group) => (\n        <Group key={group.date}>\n          {renderDate(group.date, dates)}\n          {group.items.map((transaction) => (\n            <TransactionRow key={transaction.signature} transaction={transaction} source={source} />\n          ))}\n        </Group>\n      ))}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { ConfirmedSignaturesForAddress2Options, PublicKey } from '@solana/web3.js';\nimport { last } from 'ramda';\n\nimport { Empty } from 'components/common/Empty';\nimport { InfinityScrollHelper } from 'components/common/InfinityScrollHelper';\nimport { LoaderBlock } from 'components/common/LoaderBlock';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { Widget } from 'components/common/Widget';\nimport { TransactionList } from 'components/pages/wallet/ActivityWidget/TransactionList';\nimport {\n  getTransactions,\n  setCurrentHistoryPubkey,\n  updateTransactions,\n} from 'store/slices/transaction/TransactionSlice';\nimport { trackEvent } from 'utils/analytics';\n\nconst WrapperWidget = styled(Widget)``;\n\nconst LIMIT = 10;\n\ntype Props = {\n  publicKey: string;\n};\n\nexport const ActivityWidget: FunctionComponent<Props> = ({ publicKey }) => {\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isEnd, setIsEnd] = useState(false);\n  const order = useSelector((state) => state.transaction.order[publicKey]);\n  const isNeedUpdateTransactions = useSelector(\n    (state) => state.transaction.isNeedUpdateTransactions,\n  );\n\n  useEffect(() => {\n    if (order?.length) {\n      trackEvent('wallet_activity_scroll', { pageNum: Math.floor(order.length / LIMIT) });\n    }\n  }, [order]);\n\n  const fetchData = async (isPaging?: boolean) => {\n    setIsLoading(true);\n    try {\n      const options: ConfirmedSignaturesForAddress2Options = {\n        limit: LIMIT,\n      };\n\n      if (isPaging) {\n        options.before = order ? last(order) : undefined;\n      }\n\n      const result = unwrapResult(\n        await dispatch(getTransactions({ publicKey: new PublicKey(publicKey), options })),\n      );\n\n      if (result.length === 0) {\n        setIsEnd(true);\n      }\n    } catch (error) {\n      ToastManager.error((error as Error).message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    void fetchData();\n    dispatch(setCurrentHistoryPubkey(publicKey));\n\n    return function cleanup() {\n      dispatch(setCurrentHistoryPubkey(null));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, publicKey]);\n\n  useEffect(() => {\n    if (isNeedUpdateTransactions) {\n      void fetchData();\n      dispatch(updateTransactions(false));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isNeedUpdateTransactions]);\n\n  const handleNeedLoadMore = () => {\n    void fetchData(true);\n  };\n\n  return (\n    <WrapperWidget title=\"Activity\">\n      <InfinityScrollHelper disabled={isLoading || isEnd} onNeedLoadMore={handleNeedLoadMore}>\n        <TransactionList order={order} source={publicKey} />\n        {isLoading ? <LoaderBlock /> : undefined}\n        {!isLoading && !order?.length ? (\n          <Empty\n            type=\"activity\"\n            title=\"No transactions yet\"\n            desc=\"You didnt make any transactions yet\"\n          />\n        ) : undefined}\n      </InfinityScrollHelper>\n    </WrapperWidget>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport { styled } from '@linaria/react';\nimport * as web3 from '@solana/web3.js';\nimport { Feature } from 'flagged';\nimport { rgba } from 'polished';\n\nimport { Widget } from 'components/common/Widget';\nimport { Button, Icon, Switch } from 'components/ui';\nimport { FEATURE_SETTINGS_CLOSE_ACCOUNT } from 'config/featureFlags';\nimport { openModal } from 'store/actions/modals';\nimport { SHOW_MODAL_CLOSE_TOKEN_ACCOUNT } from 'store/constants/modalTypes';\nimport { RootState } from 'store/rootReducer';\nimport { updateHiddenTokens } from 'store/slices/wallet/WalletSlice';\nimport {\n  hideUnhideToken,\n  hideUnhideZeroBalanceToken,\n  loadHiddenTokens,\n  removeHiddenToken,\n  removeZeroBalanceToken,\n} from 'utils/settings';\n\nconst WrapperWidget = styled(Widget)``;\n\nconst TitleWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst TokenSettingsIconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  margin-right: 20px;\n  padding: 8px;\n\n  background-color: #5887ff;\n\n  border-radius: 12px;\n`;\n\nconst TokenSettingsIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #fff;\n`;\n\nconst Settings = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  padding: 16px 20px 0;\n`;\n\nconst SettingItem = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  padding: 20px 0;\n\n  &:not(:last-child) {\n    border-bottom: 1px solid ${rgba('#000', 0.05)};\n  }\n`;\n\nconst ButtonStyled = styled(Button)`\n  width: fit-content;\n  padding: 0;\n\n  &:disabled {\n    color: #a3a5ba;\n\n    background: #fff !important;\n  }\n`;\n\nconst IconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n\n  margin-right: 20px;\n  padding: 8px;\n\n  background: #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst StyledIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #a3a5ba;\n`;\n\nconst Text = styled.div`\n  flex-grow: 1;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst Warning = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst WarningIcon = styled(Icon)`\n  margin-left: 10px;\n  width: 18px;\n  height: 18px;\n\n  color: #ffa631;\n`;\n\ntype Props = {\n  publicKey: web3.PublicKey;\n  tokenName: string;\n  isZeroBalance: boolean;\n};\n\nexport const TokenSettingsWidget: FunctionComponent<Props> = ({\n  publicKey,\n  tokenName,\n  isZeroBalance,\n}) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const { isZeroBalancesHidden } = useSelector((state: RootState) => state.wallet.settings);\n  const zeroBalanceTokens = useSelector((state: RootState) => state.wallet.zeroBalanceTokens) || [];\n\n  const hiddenTokens = loadHiddenTokens();\n  const isHidden =\n    (isZeroBalancesHidden && isZeroBalance && !zeroBalanceTokens.includes(publicKey.toBase58())) ||\n    hiddenTokens.has(publicKey.toBase58());\n\n  const handleCloseTokenAccountClick = () => {\n    void dispatch(\n      openModal({\n        modalType: SHOW_MODAL_CLOSE_TOKEN_ACCOUNT,\n        props: { publicKey, tokenName, history },\n      }),\n    );\n  };\n\n  const handleHideTokenClick = (pubKey: web3.PublicKey) => () => {\n    const tokenAddress = pubKey.toBase58();\n    if (isZeroBalancesHidden && isZeroBalance) {\n      hideUnhideZeroBalanceToken(tokenAddress);\n      removeHiddenToken(tokenAddress);\n    } else {\n      hideUnhideToken(tokenAddress);\n      removeZeroBalanceToken(tokenAddress);\n    }\n\n    dispatch(updateHiddenTokens());\n  };\n\n  const renderSettings = () => {\n    return (\n      <>\n        <SettingItem>\n          <IconWrapper>\n            <StyledIcon name=\"eye-hide\" />\n          </IconWrapper>\n          <Text>Hide in token list</Text>\n          <Switch checked={isHidden} onChange={handleHideTokenClick(publicKey)} />\n        </SettingItem>\n        <Feature name={FEATURE_SETTINGS_CLOSE_ACCOUNT}>\n          <SettingItem>\n            <ButtonStyled\n              disabled={!isZeroBalance}\n              small\n              title=\"Close token account\"\n              onClick={handleCloseTokenAccountClick}>\n              <IconWrapper>\n                <StyledIcon name=\"bucket\" />\n              </IconWrapper>\n              Close token account\n            </ButtonStyled>\n            {!isZeroBalance ? (\n              <Warning>\n                <Text>Token account should be zero</Text>\n                <WarningIcon name=\"warning\" />\n              </Warning>\n            ) : undefined}\n          </SettingItem>\n        </Feature>\n      </>\n    );\n  };\n\n  return (\n    <WrapperWidget\n      title={\n        <TitleWrapper>\n          <TokenSettingsIconWrapper>\n            <TokenSettingsIcon name=\"gear\" />\n          </TokenSettingsIconWrapper>\n          Wallet settings\n        </TitleWrapper>\n      }>\n      <Settings>{renderSettings()}</Settings>\n    </WrapperWidget>\n  );\n};\n","import React, { FunctionComponent, useEffect, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport { useParams } from 'react-router-dom';\n\nimport { PublicKey } from '@solana/web3.js';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { Layout } from 'components/common/Layout';\nimport { QRAddressWidget } from 'components/common/QRAddressWidget';\nimport { ActivityWidget, TopWidget } from 'components/pages/wallet';\nimport { trackEvent } from 'utils/analytics';\nimport { shortAddress } from 'utils/tokens';\n\nexport const WalletOrigin: FunctionComponent = () => {\n  const location = useLocation();\n  const { publicKey } = useParams<{ publicKey: string }>();\n\n  const tokenAccounts = useSelector((state) =>\n    state.wallet.tokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n  const tokenPublicKey = useMemo(() => new PublicKey(publicKey), [publicKey]);\n  const tokenAccount = useMemo(\n    () => tokenAccounts.find((account) => account.address.equals(tokenPublicKey)),\n    [tokenAccounts, tokenPublicKey],\n  );\n\n  useEffect(() => {\n    if (tokenAccount?.mint.symbol) {\n      trackEvent('wallet_open', { tokenTicker: tokenAccount.mint.symbol });\n    }\n  }, [tokenAccount?.mint.symbol]);\n\n  return (\n    <Layout\n      breadcrumb={{\n        currentName: tokenAccount?.mint.symbol\n          ? `${tokenAccount.mint.symbol} Wallet`\n          : `${shortAddress(publicKey)} Wallet`,\n        backTo: {\n          pathname: `/wallets`,\n          state: { fromPage: location.pathname },\n        },\n      }}\n      rightColumn={\n        <>\n          <TopWidget publicKey={publicKey} />\n          <QRAddressWidget publicKey={publicKey} />\n          <ActivityWidget publicKey={publicKey} />\n        </>\n      }\n    />\n  );\n};\n\nexport const Wallet = React.memo(WalletOrigin);\n","// based on https://github.com/w8r/svg-arc-corners/blob/d0a6337d79bea629b53707b32529c7e23652ceba/index.js\n\nconst RAD_DEG = Math.PI / 180;\nconst PI2 = 2 * Math.PI;\n\n/**\n * @param  {Array.<Number>} center\n * @param  {Number} radius\n * @param  {Number} angle\n * @return {Array.<Number>}\n */\nconst pointOnArc = (center: number[], radius: number, angle: number) => {\n  const radians = (angle - 90) * RAD_DEG;\n\n  return [center[0] + radius * Math.cos(radians), center[1] + radius * Math.sin(radians)];\n};\n\n/**\n * @param  {Array.<Number>} center\n * @param  {Number}         outerRadius\n * @param  {Number}         lineWidth\n * @return {String}\n */\nconst drawCircle = (center: number[], outerRadius: number, lineWidth: number) => {\n  const innerRadius = outerRadius - lineWidth;\n  const [x, y] = center;\n\n  return [\n    'M',\n    x - outerRadius,\n    y,\n    'A',\n    outerRadius,\n    outerRadius,\n    0,\n    1,\n    0,\n    x + outerRadius,\n    y,\n    'A',\n    outerRadius,\n    outerRadius,\n    0,\n    1,\n    0,\n    x - outerRadius,\n    y,\n    'M',\n    x - innerRadius,\n    y,\n    'A',\n    innerRadius,\n    innerRadius,\n    0,\n    1,\n    0,\n    x + innerRadius,\n    y,\n    'A',\n    innerRadius,\n    innerRadius,\n    0,\n    1,\n    0,\n    x - innerRadius,\n    y,\n    'Z',\n  ];\n};\n\n/**\n * Generates arc path\n *\n * @param  {Array.<Number>} center\n * @param  {Number}         outerRadius\n * @param  {Number}         startDegree\n * @param  {Number}         endDegree\n * @param  {Number}         lineWidth\n * @param  {Number}         borderRadius Corner radius\n *\n * @return {String}\n */\nexport const arc = (\n  center: number[],\n  outerRadius: number,\n  startDegree: number,\n  endDegree: number,\n  lineWidth: number,\n  borderRadius: number,\n) => {\n  let points;\n  if (Math.abs(endDegree - startDegree) === 360) {\n    points = drawCircle(center, outerRadius, lineWidth);\n    return points.join(' ');\n  }\n\n  const innerRadius = outerRadius - lineWidth;\n  const circumference = Math.abs(endDegree - startDegree);\n  let borderRadiusPoint = Math.min(lineWidth / 2, borderRadius);\n\n  if (\n    360 * (borderRadiusPoint / (Math.PI * (outerRadius - lineWidth))) >\n    Math.abs(startDegree - endDegree)\n  ) {\n    borderRadiusPoint = (circumference / 360) * innerRadius * Math.PI;\n  }\n\n  // inner and outer radiuses\n  const innerRadius2 = innerRadius + borderRadiusPoint;\n  const outerRadius2 = outerRadius - borderRadiusPoint;\n\n  // butts corner points\n  const oStart = pointOnArc(center, outerRadius2, startDegree);\n  const oEnd = pointOnArc(center, outerRadius2, endDegree);\n\n  const iStart = pointOnArc(center, innerRadius2, startDegree);\n  const iEnd = pointOnArc(center, innerRadius2, endDegree);\n\n  const iSection = 360 * (borderRadiusPoint / (PI2 * innerRadius));\n  const oSection = 360 * (borderRadiusPoint / (PI2 * outerRadius));\n\n  // arcs endpoints\n  const iArcStart = pointOnArc(center, innerRadius, startDegree + iSection);\n  const iArcEnd = pointOnArc(center, innerRadius, endDegree - iSection);\n\n  const oArcStart = pointOnArc(center, outerRadius, startDegree + oSection);\n  const oArcEnd = pointOnArc(center, outerRadius, endDegree - oSection);\n\n  const arcSweep1 = circumference > 180 + 2 * oSection ? 1 : 0;\n  const arcSweep2 = circumference > 180 + 2 * iSection ? 1 : 0;\n\n  points = [\n    // begin path\n    'M',\n    oStart[0],\n    oStart[1],\n    // outer start corner\n    'A',\n    borderRadiusPoint,\n    borderRadiusPoint,\n    0,\n    0,\n    1,\n    oArcStart[0],\n    oArcStart[1],\n    // outer main arc\n    'A',\n    outerRadius,\n    outerRadius,\n    0,\n    arcSweep1,\n    1,\n    oArcEnd[0],\n    oArcEnd[1],\n    // outer end corner\n    'A',\n    borderRadiusPoint,\n    borderRadiusPoint,\n    0,\n    0,\n    1,\n    oEnd[0],\n    oEnd[1],\n    // end butt\n    'L',\n    iEnd[0],\n    iEnd[1],\n    // inner end corner\n    'A',\n    borderRadiusPoint,\n    borderRadiusPoint,\n    0,\n    0,\n    1,\n    iArcEnd[0],\n    iArcEnd[1],\n    // inner arc\n    'A',\n    innerRadius,\n    innerRadius,\n    0,\n    arcSweep2,\n    0,\n    iArcStart[0],\n    iArcStart[1],\n    // inner start corner\n    'A',\n    borderRadiusPoint,\n    borderRadiusPoint,\n    0,\n    0,\n    1,\n    iStart[0],\n    iStart[1],\n    'Z', // end path\n  ];\n\n  return points.join(' ');\n};\n","import React, { FunctionComponent, memo, useMemo, useState } from 'react';\nimport isEqual from 'react-fast-compare';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { CacheTTL } from 'lib/cachettl';\n\nimport { arc } from './utils';\n\nconst Wrapper = styled.div``;\n\nconst Tooltip = styled.div`\n  position: absolute;\n\n  display: none;\n  align-items: center;\n\n  height: 40px;\n  padding: 8px;\n\n  color: #fff;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n\n  background: rgba(0, 0, 0, 0.75);\n  border-radius: 12px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);\n\n  &.isShow {\n    display: flex;\n  }\n`;\n\nconst TokenAvatarStyled = styled(TokenAvatar)`\n  margin-right: 8px;\n`;\n\nexport type DonutChartData = {\n  symbol: string;\n  amount: number;\n  amountUSD: string;\n  color?: string;\n}[];\n\nconst colorsCache = new CacheTTL<string>();\n\nconst randomColor = () => `#${Math.floor(Math.random() * 16777215).toString(16)}`;\n\nconst valueToDeg = (value: number, total: number) => {\n  return value / (total / 360);\n};\n\ntype Props = {\n  data: DonutChartData;\n  size?: number;\n  lineWidth?: number;\n  offsetDegree?: number;\n  borderRadius?: number;\n  onSymbolChange: (symbol: string) => void;\n};\n\nconst DonutChartOrigin: FunctionComponent<Props> = ({\n  data,\n  size = 110,\n  lineWidth = 22,\n  offsetDegree = 5,\n  borderRadius = 4,\n  onSymbolChange,\n}) => {\n  const [isShow, setIsShow] = useState(false);\n  const [selectedSymbol, setSelectedSymbol] = useState('');\n  const [selectedAmountUSD, setSelectedAmountUSD] = useState('0');\n\n  const handleMouseMove = (symbol: string, amountUSD: string) => (\n    e: React.MouseEvent<SVGPathElement>,\n  ) => {\n    if (symbol !== selectedSymbol || !isShow) {\n      setIsShow(true);\n      setSelectedSymbol(symbol);\n      setSelectedAmountUSD(amountUSD);\n      onSymbolChange(symbol);\n    }\n\n    const tooltip = document.querySelector('#pie-chart-tooltip') as HTMLDivElement;\n    if (tooltip) {\n      tooltip.style.left = `${e.pageX - 100}px`;\n      tooltip.style.top = `${e.pageY - 50}px`;\n    }\n  };\n\n  const handleMouseOut = () => {\n    setIsShow(false);\n    onSymbolChange('');\n  };\n\n  const segments = useMemo(() => {\n    const total = data.reduce((p, c) => p + c.amount, 0);\n\n    let startAngle = 0;\n\n    return data.map((slice) => {\n      const { symbol, amount, amountUSD, color } = slice;\n\n      let fillColor = colorsCache.get(symbol);\n      if (!fillColor) {\n        fillColor = color || randomColor();\n      }\n      colorsCache.set(symbol, fillColor);\n\n      const sectorAngle = valueToDeg(amount, total);\n      const d = arc(\n        [size / 2, size / 2],\n        size / 2,\n        startAngle,\n        startAngle + sectorAngle - offsetDegree,\n        lineWidth,\n        borderRadius,\n      );\n\n      startAngle += sectorAngle;\n\n      return (\n        <path\n          key={startAngle}\n          d={d}\n          fill={fillColor}\n          onMouseMove={handleMouseMove(symbol, amountUSD)}\n          onMouseOut={handleMouseOut}\n        />\n      );\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [borderRadius, data, lineWidth, offsetDegree, size]);\n\n  return (\n    <Wrapper>\n      <svg viewBox={`0 0 ${size} ${size}`} width={size} height={size}>\n        {segments}\n      </svg>\n      <Tooltip id=\"pie-chart-tooltip\" className={classNames({ isShow })}>\n        <TokenAvatarStyled symbol={selectedSymbol} size={24} /> {selectedAmountUSD}\n      </Tooltip>\n    </Wrapper>\n  );\n};\n\nexport const DonutChart = memo(DonutChartOrigin, isEqual);\n","import React, { FunctionComponent, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { LoaderBlock } from 'components/common/LoaderBlock';\nimport { Widget } from 'components/common/Widget';\nimport { rateSelector } from 'store/selectors/rates';\n\nimport { DonutChart, DonutChartData } from '../DonutChart';\n\nconst CHART_SIZE = 110;\n\nconst WrapperWidget = styled(Widget)``;\n\nconst TotalWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 20px 20px 30px;\n`;\n\nconst PriceWrapper = styled.div`\n  font-weight: 600;\n`;\n\nconst TotalText = styled.div`\n  color: #000;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst Price = styled.div`\n  align-self: flex-end;\n  margin: 24px 0 4px;\n\n  color: #000;\n  font-size: 32px;\n  line-height: 120%;\n`;\n\nconst AllTokensText = styled.div`\n  color: #a3a5ba;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst ChartWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: ${CHART_SIZE}px;\n  height: ${CHART_SIZE}px;\n`;\n\ntype Props = {\n  onSymbolChange: (symbol: string) => void;\n};\n\nexport const TotalBalanceWidget: FunctionComponent<Props> = ({ onSymbolChange }) => {\n  const tokenAccounts = useSelector((state) =>\n    state.wallet.tokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n  const state = useSelector((currentState) => currentState);\n\n  const totalBalance = useMemo(\n    () =>\n      tokenAccounts.reduce((prev, tokenAccount) => {\n        const rate = rateSelector(tokenAccount.mint.symbol)(state);\n        if (rate) {\n          return tokenAccount.mint\n            .toMajorDenomination(tokenAccount.balance)\n            .times(rate)\n            .plus(prev)\n            .toNumber();\n        }\n\n        // Same as USD\n        if (tokenAccount.mint.symbol) {\n          return tokenAccount.mint.toMajorDenomination(tokenAccount.balance).plus(prev).toNumber();\n        }\n\n        return prev;\n      }, 0),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [tokenAccounts, state.rate.markets],\n  );\n\n  const hours = new Date().getHours();\n  const greeting = useMemo(() => {\n    let dayTime = '';\n    const data = [\n      [22, 'night'],\n      [18, 'evening'],\n      [12, 'afternoon'],\n      [5, 'morning'],\n      [0, 'night'],\n    ] as [number, string][];\n\n    for (const [hour, message] of data) {\n      if (hours >= hour) {\n        dayTime = message;\n        break;\n      }\n    }\n\n    return `Good ${dayTime}!`;\n  }, [hours]);\n\n  const donutData = useMemo(() => {\n    const data: DonutChartData = [];\n\n    tokenAccounts.forEach((tokenAccount) => {\n      if (!tokenAccount.mint.symbol || tokenAccount.balance.lte(0)) {\n        return;\n      }\n\n      const rate = rateSelector(tokenAccount.mint.symbol)(state);\n      if (!rate) {\n        return;\n      }\n\n      const balance = tokenAccount.mint\n        .toMajorDenomination(tokenAccount.balance)\n        .times(rate)\n        .toNumber();\n      const balanceUSD = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n      }).format(balance);\n\n      data.push({\n        symbol: tokenAccount.mint.symbol,\n        amount: balance,\n        amountUSD: balanceUSD,\n        color: tokenAccount.mint.color,\n      });\n    });\n\n    return data;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tokenAccounts]);\n\n  return (\n    <WrapperWidget title={`${greeting} `}>\n      <TotalWrapper>\n        <PriceWrapper>\n          <TotalText>Total balance</TotalText>\n          <Price>\n            {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(\n              totalBalance,\n            )}\n          </Price>\n          <AllTokensText>All tokens</AllTokensText>\n        </PriceWrapper>\n        <ChartWrapper>\n          {tokenAccounts.length === 0 ? (\n            <LoaderBlock />\n          ) : (\n            <DonutChart size={CHART_SIZE} data={donutData} onSymbolChange={onSymbolChange} />\n          )}\n        </ChartWrapper>\n      </TotalWrapper>\n    </WrapperWidget>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Icon } from 'components/ui';\n\nconst IconStyled = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  height: 44px;\n  padding: 8px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n\n  border-radius: 8px;\n  cursor: pointer;\n\n  &:hover {\n    color: #5887ff;\n\n    background: #f6f6f8;\n\n    ${IconStyled} {\n      color: #5887ff;\n    }\n  }\n`;\n\nconst IconWrapper = styled.div`\n  margin-right: 10px;\n`;\n\ntype Props = {\n  icon?: string;\n  onItemClick: () => void;\n  close?: () => void;\n};\n\nexport const MenuItem: FunctionComponent<Props> = ({\n  icon,\n  children,\n  onItemClick,\n  close = () => {},\n}) => {\n  const handleItemClick = () => {\n    onItemClick();\n    close();\n  };\n\n  return (\n    <Wrapper onClick={handleItemClick}>\n      {icon ? (\n        <IconWrapper>\n          <IconStyled name={icon} />\n        </IconWrapper>\n      ) : undefined}\n      {children}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { rgba } from 'polished';\n\nimport tokenList from 'api/token/token.config';\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { AmountUSD } from 'components/common/AmountUSD';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { Menu } from 'components/ui';\nimport { MenuItem } from 'components/ui/Menu/MenuItem';\nimport { updateHiddenTokens } from 'store/slices/wallet/WalletSlice';\nimport {\n  hideUnhideToken,\n  hideUnhideZeroBalanceToken,\n  removeHiddenToken,\n  removeZeroBalanceToken,\n} from 'utils/settings';\nimport { shortAddress } from 'utils/tokens';\n\nconst Content = styled.div`\n  position: relative;\n\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 20px;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 27px;\n`;\n\nconst TokenName = styled.div`\n  max-width: 300px;\n  overflow: hidden;\n\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst TokenAvatarStyled = styled(TokenAvatar)``;\n\nconst WrapperLink = styled(Link)`\n  display: flex;\n  align-items: center;\n  padding: 10px;\n\n  text-decoration: none;\n\n  border-radius: 12px;\n  cursor: pointer;\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 5px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\nconst MenuWrapper = styled.div`\n  position: absolute;\n\n  top: 30%;\n  right: -45px;\n\n  padding-left: 15px;\n\n  opacity: 0;\n`;\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  padding: 10px 0;\n\n  &.isHidden {\n    opacity: 0.5;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  &.isSelected {\n    ${WrapperLink} {\n      background: #eff3ff;\n    }\n  }\n\n  &:hover {\n    ${MenuWrapper} {\n      opacity: 1;\n    }\n\n    ${WrapperLink} {\n      background: #f6f6f8;\n    }\n\n    ${TokenAvatarStyled} {\n      background: #fff;\n    }\n\n    ${TokenName} {\n      color: #5887ff;\n    }\n  }\n\n  &:not(:last-child) {\n    &::after {\n      position: absolute;\n      right: 10px;\n      bottom: 0;\n      left: 10px;\n\n      border-bottom: 1px solid ${rgba(0, 0, 0, 0.05)};\n\n      content: '';\n    }\n  }\n`;\n\ntype Props = {\n  token: TokenAccount;\n  isSelected: boolean;\n  isZeroBalancesHidden?: boolean;\n  isHidden?: boolean;\n};\n\nexport const TokenRow: FunctionComponent<Props> = ({\n  token,\n  isSelected = false,\n  isZeroBalancesHidden = true,\n  isHidden = false,\n}) => {\n  const dispatch = useDispatch();\n  const cluster = useSelector((state) => state.wallet.network.cluster);\n  const handleMenuItemClick = () => {\n    const tokenAddress = token.address.toBase58();\n    if (isZeroBalancesHidden && token.balance.lte(0)) {\n      hideUnhideZeroBalanceToken(tokenAddress);\n      removeHiddenToken(tokenAddress);\n    } else {\n      hideUnhideToken(tokenAddress);\n      removeZeroBalanceToken(tokenAddress);\n    }\n\n    dispatch(updateHiddenTokens());\n  };\n\n  const isNotSOL = token.mint.symbol !== 'SOL';\n  const tokenInfo = tokenList\n    .filterByClusterSlug(cluster)\n    .getList()\n    .find((t) => t.symbol === token.mint.symbol || t.address === token.mint.address.toBase58());\n\n  return (\n    <Wrapper className={classNames({ isHidden, isSelected })}>\n      <WrapperLink to={`/wallet/${token.address.toBase58()}`}>\n        <TokenAvatarStyled\n          symbol={token.mint.symbol}\n          address={token.mint.address.toBase58()}\n          size={48}\n        />\n        <Content>\n          <Top>\n            <TokenName title={token.mint.address.toBase58()}>\n              {token.mint.symbol || shortAddress(token.mint.address.toBase58())}\n            </TokenName>\n            <AmountUSD\n              value={token.mint.toMajorDenomination(token.balance)}\n              symbol={token.mint.symbol}\n            />\n          </Top>\n          <Bottom>\n            <div title={token.address.toBase58()}>\n              {isNotSOL ? tokenInfo?.name : shortAddress(token.address.toBase58())}\n            </div>\n            <div>\n              {token.mint.toMajorDenomination(token.balance).toString()} {token.mint.symbol}\n            </div>\n          </Bottom>\n        </Content>\n      </WrapperLink>\n      {isNotSOL ? (\n        <MenuWrapper>\n          <Menu vertical>\n            <MenuItem onItemClick={handleMenuItemClick} icon={isHidden ? 'eye' : 'eye-hide'}>\n              {isHidden ? 'Show' : 'Hide'}\n            </MenuItem>\n          </Menu>\n        </MenuWrapper>\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { LoaderBlock } from 'components/common/LoaderBlock';\n\nimport { TokenRow } from '../TokenRow';\n\nconst Wrapper = styled.div`\n  margin: 0 10px;\n`;\n\nconst sortByUSDBalance = (rates: { [pair: string]: number }) => (\n  a: TokenAccount,\n  b: TokenAccount,\n) => {\n  if (a.mint.symbol === 'SOL' || b.mint.symbol === 'SOL') {\n    return a.mint.symbol === 'SOL' ? -1 : 1;\n  }\n\n  if (!a.mint.symbol || !b.mint.symbol) {\n    return !a.mint.symbol ? 1 : -1;\n  }\n\n  if (a.mint.symbol && b.mint.symbol) {\n    if (rates[a.mint.symbol] && rates[b.mint.symbol]) {\n      const aUSDBalance = a.balance.toNumber() * rates[a.mint.symbol];\n      const bUSDBalance = b.balance.toNumber() * rates[b.mint.symbol];\n\n      if (aUSDBalance !== bUSDBalance) {\n        return aUSDBalance > bUSDBalance ? -1 : 1;\n      }\n    }\n\n    if (rates[a.mint.symbol] && !rates[b.mint.symbol]) {\n      return -1;\n    }\n\n    if (!rates[a.mint.symbol] && rates[b.mint.symbol]) {\n      return 1;\n    }\n  }\n\n  const aBalance = a.mint.toMajorDenomination(a.balance);\n  const bBalance = b.mint.toMajorDenomination(b.balance);\n  if (!aBalance.eq(bBalance)) {\n    return aBalance.gt(bBalance) ? -1 : 1;\n  }\n\n  if (a.mint.symbol && b.mint.symbol && a.mint.symbol !== b.mint.symbol) {\n    return a.mint.symbol < b.mint.symbol ? -1 : 1;\n  }\n\n  return a.mint.address < b.mint.address ? -1 : 1;\n};\n\ntype Props = {\n  items: TokenAccount[];\n  selectedSymbol: string;\n  isZeroBalancesHidden?: boolean;\n  isHidden?: boolean;\n};\n\nexport const TokenList: FunctionComponent<Props> = ({\n  items = [],\n  selectedSymbol,\n  isZeroBalancesHidden = true,\n  isHidden = false,\n}) => {\n  const rates = useSelector((state) => state.rate.markets);\n\n  const tokens = useMemo(() => {\n    return items.sort(sortByUSDBalance(rates));\n  }, [items, rates]);\n\n  if (tokens.length === 0 && !isHidden) {\n    return <LoaderBlock />;\n  }\n\n  return (\n    <Wrapper>\n      {tokens.map((item) => (\n        <TokenRow\n          key={item.address.toBase58()}\n          token={item}\n          isSelected={item.mint.symbol === selectedSymbol}\n          isHidden={isHidden}\n          isZeroBalancesHidden={isZeroBalancesHidden}\n        />\n      ))}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { Feature } from 'flagged';\nimport { rgba } from 'polished';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { Widget } from 'components/common/Widget';\nimport { Button, Icon } from 'components/ui';\nimport { FEATURE_ADD_TOKEN_BUTTON } from 'config/featureFlags';\nimport { openModal } from 'store/actions/modals';\nimport { SHOW_MODAL_ADD_COIN } from 'store/constants/modalTypes';\n\nimport { TokenList } from './TokenList';\n\nconst WrapperWidget = styled(Widget)``;\n\nconst AddButton = styled(Button)`\n  color: #5887ff !important;\n\n  &:hover {\n    background: #eff3ff !important;\n  }\n`;\n\nconst IconPlus = styled(Icon)`\n  width: 20px;\n  height: 20px;\n  margin-right: 8px;\n`;\n\nconst HiddenTokens = styled.div`\n  position: relative;\n\n  display: flex;\n  align-items: center;\n\n  padding: 20px;\n\n  cursor: pointer;\n\n  &::before {\n    position: absolute;\n    top: 0;\n    right: 10px;\n    left: 10px;\n\n    border-bottom: 1px solid ${rgba(0, 0, 0, 0.05)};\n\n    content: '';\n  }\n\n  &.isOpen {\n    &::after {\n      position: absolute;\n      right: 10px;\n      bottom: 0;\n      left: 10px;\n\n      border-bottom: 1px solid ${rgba(0, 0, 0, 0.05)};\n\n      content: '';\n    }\n  }\n`;\n\nconst HideIconWrapper = styled.div`\n  height: 24px;\n  padding: 0 15px;\n`;\n\nconst IconHide = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  &.isOpen {\n    height: 18px;\n  }\n\n  color: #a3a5ba;\n`;\n\nconst Text = styled.div`\n  flex-grow: 1;\n\n  color: #a3a5ba;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst ChevronIcon = styled(Icon)`\n  width: 16px;\n  height: 16px;\n\n  color: #a3a5ba;\n`;\n\nconst ChevronWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 24px;\n  height: 24px;\n\n  transform: rotate(270deg);\n  cursor: pointer;\n\n  &.isOpen {\n    transform: rotate(0deg);\n  }\n`;\n\ntype Props = {\n  selectedSymbol: string;\n};\n\nexport const TokensWidget: FunctionComponent<Props> = ({ selectedSymbol }) => {\n  const dispatch = useDispatch();\n  const [isOpen, setIsOpen] = useState(false);\n  const tokenAccounts = useSelector((state) =>\n    state.wallet.tokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n\n  const hiddenTokens = useSelector((state) => state.wallet.hiddenTokens || []);\n  const zeroBalanceTokens = useSelector((state) => state.wallet.zeroBalanceTokens || []);\n  const { isZeroBalancesHidden } = useSelector((state) => state.wallet.settings);\n\n  const [tokens, hiddenTokensList] = useMemo(() => {\n    const newTokens = [];\n    const newHiddenTokensList = [];\n\n    for (const token of tokenAccounts) {\n      if (\n        hiddenTokens.includes(token.address.toBase58()) ||\n        (isZeroBalancesHidden &&\n          token.balance.lte(0) &&\n          !zeroBalanceTokens.includes(token.address.toBase58()) &&\n          (token.mint.symbol !== 'SOL' || token.isDerivable))\n      ) {\n        newHiddenTokensList.push(token);\n      } else {\n        newTokens.push(token);\n      }\n    }\n\n    return [newTokens, newHiddenTokensList];\n  }, [tokenAccounts, isZeroBalancesHidden, zeroBalanceTokens, hiddenTokens]);\n\n  const handleAddCoinClick = () => {\n    void dispatch(openModal({ modalType: SHOW_MODAL_ADD_COIN }));\n  };\n\n  const handleChevronClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <WrapperWidget\n      title=\"Wallets\"\n      action={\n        <Feature name={FEATURE_ADD_TOKEN_BUTTON}>\n          <AddButton lightGray small onClick={handleAddCoinClick}>\n            <IconPlus name=\"plus\" /> Add Token\n          </AddButton>\n        </Feature>\n      }>\n      <TokenList\n        items={tokens}\n        selectedSymbol={selectedSymbol}\n        isZeroBalancesHidden={isZeroBalancesHidden}\n      />\n      {hiddenTokensList.length > 0 ? (\n        <HiddenTokens onClick={handleChevronClick} className={classNames({ isOpen })}>\n          <HideIconWrapper>\n            <IconHide name={isOpen ? 'eye-hide' : 'eye'} className={classNames({ isOpen })} />\n          </HideIconWrapper>\n          <Text>{`${hiddenTokensList.length} hidden wallet${\n            hiddenTokensList.length !== 1 ? 's' : ''\n          }`}</Text>\n          <ChevronWrapper className={classNames({ isOpen })}>\n            <ChevronIcon name=\"chevron\" />\n          </ChevronWrapper>\n        </HiddenTokens>\n      ) : undefined}\n      {isOpen ? (\n        <TokenList\n          items={hiddenTokensList}\n          selectedSymbol={selectedSymbol}\n          isZeroBalancesHidden={isZeroBalancesHidden}\n          isHidden\n        />\n      ) : undefined}\n    </WrapperWidget>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport { NavLink } from 'react-router-dom';\n\nimport { styled } from '@linaria/react';\n\nimport { Icon } from 'components/ui';\nimport { openModal } from 'store/actions/modals';\nimport { SHOW_MODAL_PROCEED_USERNAME } from 'store/constants/modalTypes';\nimport { useUsername } from 'utils/hooks/useUsername';\nimport { isUsernameBannerDisplayed } from 'utils/settings';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  padding: 20px;\n  background: url('./background.png') no-repeat center center;\n  border: 1px solid #a5beff;\n\n  box-shadow: 0px 4px 4px #f6f6f9;\n  border-radius: 12px;\n`;\n\nconst WrapperLink = styled(NavLink)`\n  text-decoration: none;\n  cursor: pointer;\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 22px;\n  right: 22px;\n\n  flex-shrink: 0;\n  height: 14px;\n  margin: -10px -12px -10px 0;\n\n  color: #a3a5ba;\n\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n\n  transition: color 0.15s;\n\n  appearance: none;\n\n  &:hover {\n    color: #000;\n  }\n`;\n\nconst CloseIcon = styled(Icon)`\n  width: 14px;\n  height: 14px;\n`;\n\nconst Header = styled.div`\n  padding-bottom: 16px;\n\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 100%;\n\n  color: #202020;\n`;\n\nconst Text = styled.div`\n  padding-bottom: 17px;\n  width: 339px;\n\n  font-size: 16px;\n  line-height: 140%;\n\n  color: #202020;\n`;\n\nexport const UsernameBanner: FC = () => {\n  const dispatch = useDispatch();\n  const [isBannerDisplayed, setIsBannerDisplayed] = useState<boolean>(true);\n  const { username } = useUsername();\n\n  useEffect(() => {\n    if (username) {\n      setIsBannerDisplayed(false);\n    } else {\n      setIsBannerDisplayed(isUsernameBannerDisplayed());\n    }\n  }, [setIsBannerDisplayed, username]);\n\n  const onClose = async () => {\n    const result = await dispatch(\n      openModal({\n        modalType: SHOW_MODAL_PROCEED_USERNAME,\n      }),\n    );\n\n    if (result.payload) {\n      setIsBannerDisplayed(false);\n    }\n  };\n\n  const location = useLocation();\n\n  return isBannerDisplayed ? (\n    <Wrapper>\n      <WrapperLink\n        to={{\n          pathname: '/settings',\n          state: { fromPage: location.pathname, isUsernameActive: true },\n        }}>\n        <Header>Reserve your P2P username now</Header>\n        <Text>\n          Any token can be received using username regardless of whether it is in your wallets list\n        </Text>\n      </WrapperLink>\n      <CloseButton type=\"button\" onClick={onClose}>\n        <CloseIcon name=\"close\" />\n      </CloseButton>\n    </Wrapper>\n  ) : null;\n};\n","import React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Layout } from 'components/common/Layout';\nimport { TokensWidget, UsernameBanner } from 'components/pages/wallets';\nimport { TotalBalanceWidget } from 'components/pages/wallets/TotalBalanceWidget';\nimport { trackEvent } from 'utils/analytics';\n\nconst WrapperTemp = styled.div`\n  display: grid;\n  grid-gap: 32px;\n  grid-template-rows: min-content;\n\n  width: 100%;\n  max-width: 556px;\n  height: fit-content;\n`;\n\nexport const Wallets: FunctionComponent = () => {\n  const [selectedSymbol, setSelectedSymbol] = useState('');\n\n  useEffect(() => {\n    trackEvent('wallets_open');\n  }, []);\n\n  const handleSymbolChange = (symbol: string) => {\n    setSelectedSymbol(symbol);\n  };\n\n  return (\n    <Layout\n      rightColumn={\n        <WrapperTemp>\n          <UsernameBanner />\n          <TotalBalanceWidget onSymbolChange={handleSymbolChange} />\n          <TokensWidget selectedSymbol={selectedSymbol} />\n        </WrapperTemp>\n      }\n    />\n  );\n};\n","import React, { FunctionComponent, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from 'react-router';\nimport { useParams } from 'react-router-dom';\n\nimport { PublicKey } from '@solana/web3.js';\n\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { Layout } from 'components/common/Layout';\nimport { TokenSettingsWidget } from 'components/pages/wallet';\nimport { RootState } from 'store/rootReducer';\nimport { shortAddress } from 'utils/tokens';\n\nexport const WalletSettings: FunctionComponent = () => {\n  const location = useLocation();\n  const { publicKey } = useParams<{ publicKey: string }>();\n\n  const tokenAccounts = useSelector((state: RootState) =>\n    state.wallet.tokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n  const tokenPublicKey = useMemo(() => new PublicKey(publicKey), [publicKey]);\n  const tokenAccount = useMemo(\n    () => tokenAccounts.find((account) => account.address.equals(tokenPublicKey)),\n    [tokenAccounts, tokenPublicKey],\n  );\n\n  const tokenName = tokenAccount?.mint.symbol ? tokenAccount.mint.symbol : shortAddress(publicKey);\n  const isZeroBalance = Boolean(tokenAccount?.balance.lte(0));\n\n  return (\n    <Layout\n      breadcrumb={{\n        currentName: `${tokenName} Wallet`,\n        backTo: {\n          pathname: `/wallet/${publicKey}`,\n          state: { fromPage: location.pathname },\n        },\n      }}\n      rightColumn={\n        <TokenSettingsWidget\n          publicKey={tokenPublicKey}\n          tokenName={tokenName}\n          isZeroBalance={isZeroBalance}\n        />\n      }\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RouteProps } from 'react-router';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\n\nimport { RootState } from 'store/rootReducer';\n\nexport const ProtectedRoute: FunctionComponent<\n  {\n    allow: boolean;\n    redirect: string;\n  } & RouteProps\n> = ({ allow, redirect, ...props }) => {\n  const location = useLocation();\n\n  if (allow) {\n    return <Route {...props} />;\n  }\n\n  return (\n    <Redirect\n      to={{\n        pathname: redirect,\n        state: { from: location.pathname !== '/' ? location.pathname : undefined },\n      }}\n      from={location.pathname}\n    />\n  );\n};\n\n// ProtectedRoute is used to create specific types of protected routes like this...\nexport const AuthRequiredRoute: FunctionComponent<RouteProps> = ({ children, ...props }) => {\n  const connected = useSelector((state: RootState) => state.wallet.connected);\n  return <ProtectedRoute allow={!!connected} redirect=\"/login\" {...props} />;\n};\n","import React, { FC } from 'react';\n\nimport {\n  ConfigProvider,\n  PoolsProvider,\n  PriceProvider,\n  SwapProvider,\n  UserProvider,\n} from 'app/contexts/swap';\n\nexport const Providers: FC = ({ children }) => {\n  return (\n    <ConfigProvider>\n      <UserProvider>\n        <PoolsProvider>\n          <PriceProvider>\n            <SwapProvider>{children}</SwapProvider>\n          </PriceProvider>\n        </PoolsProvider>\n      </UserProvider>\n    </ConfigProvider>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\n\nimport {\n  TokenListContainer as SPLTokenListContainer,\n  TokenListProvider as SPLTokenListProvider,\n} from '@solana/spl-token-registry';\n\nimport { SolanaProvider } from 'app/contexts/solana';\nimport { TokenListProvider } from 'app/contexts/swapSerum';\nimport { Providers as SwapProviders } from 'components/pages/swap/Providers';\nimport { LockAndMintProvider } from 'utils/providers/LockAndMintProvider';\n\nexport const Providers: FC = ({ children }) => {\n  const [tokenList, setTokenList] = useState<SPLTokenListContainer | null>(null);\n\n  useEffect(() => {\n    void new SPLTokenListProvider().resolve().then(setTokenList);\n  }, [setTokenList]);\n\n  if (!tokenList) {\n    return null;\n  }\n\n  return (\n    <TokenListProvider initialState={{ tokenList }}>\n      <SolanaProvider>\n        <LockAndMintProvider>\n          <SwapProviders>{children}</SwapProviders>\n        </LockAndMintProvider>\n      </SolanaProvider>\n    </TokenListProvider>\n  );\n};\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport dayjs from 'dayjs';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport { useFeature } from 'flagged';\n\nimport { FeaturesToggle } from 'components/common/FeaturesToggle';\nimport { Intercom } from 'components/common/Intercom';\nimport { ModalManager } from 'components/common/ModalManager';\nimport { NotifyToast } from 'components/common/NotifyToast';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { FEATURE_LANDING } from 'config/featureFlags';\nimport { Buy } from 'pages/Buy';\nimport { Home } from 'pages/Home';\nimport { Landing } from 'pages/Landing';\nimport { Receive } from 'pages/Receive';\nimport { Send } from 'pages/Send';\nimport { Settings } from 'pages/Settings';\nimport { SettingsNetwork } from 'pages/SettingsNetwork';\nimport { Swap } from 'pages/Swap';\nimport { Wallet } from 'pages/Wallet';\nimport { Wallets } from 'pages/Wallets';\nimport { WalletSettings } from 'pages/WalletSettings';\nimport { AuthRequiredRoute } from 'utils/routes/UserRequiredRoute';\n\nimport { Providers } from './Providers';\n\ndayjs.extend(localizedFormat);\n\nconst App: React.FC = () => {\n  const isFeatureLanding = useFeature(FEATURE_LANDING);\n\n  return (\n    <>\n      <Router basename={process.env.REACT_APP_BASENAME}>\n        <Providers>\n          <Switch>\n            {isFeatureLanding ? (\n              <Route path=\"/\" component={Landing} exact />\n            ) : (\n              <Route path=\"/\" component={Home} exact />\n            )}\n            <Route path=\"/:type(signup|login)\" component={Home} exact />\n            <AuthRequiredRoute path=\"/wallets\" component={Wallets} />\n            <AuthRequiredRoute path=\"/wallet/:publicKey/settings\" component={WalletSettings} />\n            <AuthRequiredRoute path=\"/wallet/:publicKey\" component={Wallet} />\n            <AuthRequiredRoute path=\"/receive\" component={Receive} />\n            <AuthRequiredRoute path=\"/send/:publicKey/:status(result)\" component={Send} />\n            <AuthRequiredRoute path=\"/send/:publicKey?\" component={Send} />\n            <AuthRequiredRoute path=\"/swap/:symbol?\" component={Swap} />\n            <AuthRequiredRoute path=\"/settings/network\" component={SettingsNetwork} />\n            <AuthRequiredRoute path=\"/settings\" component={Settings} />\n            <AuthRequiredRoute path=\"/buy\" component={Buy} />\n          </Switch>\n          <Intercom />\n          <ModalManager />\n          <ToastManager anchor=\"left\" renderToast={(props) => <NotifyToast {...props} />} />\n          <FeaturesToggle />\n        </Providers>\n      </Router>\n    </>\n  );\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default App;\n","export const sleep: (ms: number) => Promise<void> = (ms: number) =>\n  new Promise((resolve) => setTimeout(resolve, ms));\n\nexport const titleCase = (sentence: string) => {\n  return sentence.replace(/([A-Z]+)*([A-Z][a-z])/g, '$1 $2');\n};\n","/* eslint-disable no-param-reassign */\nimport { createAction, createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport {\n  ConfirmedSignaturesForAddress2Options,\n  PublicKey,\n  TransactionSignature,\n} from '@solana/web3.js';\nimport { mergeRight, pathOr, uniq } from 'ramda';\n\nimport { APIFactory } from 'api/transaction';\nimport { SerializableTransaction } from 'api/transaction/Transaction';\nimport { RootState } from 'store/rootReducer';\nimport { wipeAction } from 'store/slices/GlobalSlice';\n\nconst TRANSACTION_SLICE_NAME = 'transaction';\n\nexport const addPendingTransaction = createAction<SerializableTransaction>('addPendingTransaction');\n\nexport const getTransactions = createAsyncThunk<\n  Array<SerializableTransaction>,\n  { publicKey: PublicKey; options?: ConfirmedSignaturesForAddress2Options }\n>(`${TRANSACTION_SLICE_NAME}/getTransactions`, async ({ publicKey, options }, thunkAPI) => {\n  const state: RootState = thunkAPI.getState() as RootState;\n\n  const TransactionAPI = APIFactory(state.wallet.network);\n  const transactions = await TransactionAPI.getTransactionsForAddress(publicKey, options);\n\n  return transactions.map((transaction) => transaction.serialize());\n});\n\nexport const getTransaction = createAsyncThunk<\n  SerializableTransaction | null,\n  TransactionSignature\n>(`${TRANSACTION_SLICE_NAME}/getTransaction`, async (signature, thunkAPI) => {\n  const state: RootState = thunkAPI.getState() as RootState;\n\n  const TransactionAPI = APIFactory(state.wallet.network);\n  const transaction = await TransactionAPI.transactionInfo(signature);\n\n  if (!transaction) {\n    return null;\n  }\n\n  return transaction.serialize();\n});\n\ntype ItemsType = {\n  [signature: string]: SerializableTransaction;\n};\n\nexport interface TransactionsState {\n  items: ItemsType;\n  order: {\n    [account: string]: string[];\n  };\n  isNeedUpdateTransactions: boolean;\n  currentHistoryPubkey: string | null;\n}\n\nconst initialState: TransactionsState = {\n  items: {},\n  order: {},\n  isNeedUpdateTransactions: false,\n  currentHistoryPubkey: null,\n};\n\nconst transactionSlice = createSlice({\n  name: TRANSACTION_SLICE_NAME,\n  initialState,\n  reducers: {\n    updateTransactions: (state, action: PayloadAction<boolean>) => ({\n      ...state,\n      isNeedUpdateTransactions: action.payload,\n    }),\n    setCurrentHistoryPubkey: (state, action: PayloadAction<string | null>) => ({\n      ...state,\n      currentHistoryPubkey: action.payload,\n    }),\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getTransactions.fulfilled, (state, action) => {\n      const newItems: ItemsType = {};\n      const newPubkeys: string[] = [];\n\n      // keep pending transactions\n      if (state.order[action.meta.arg.publicKey.toBase58()]) {\n        for (const signature of state.order[action.meta.arg.publicKey.toBase58()]) {\n          const transaction = state.items[signature];\n\n          if (!transaction.slot) {\n            newPubkeys.push(transaction.signature);\n          }\n        }\n      }\n\n      for (const transaction of action.payload) {\n        newItems[transaction.signature] = transaction;\n        newPubkeys.push(transaction.signature);\n      }\n\n      state.items = mergeRight(state.items, newItems);\n\n      if (action.meta.arg.options?.before) {\n        state.order[action.meta.arg.publicKey.toBase58()] = uniq(\n          pathOr<string[]>([], ['order', action.meta.arg.publicKey.toBase58()], state).concat(\n            newPubkeys,\n          ),\n        );\n      } else {\n        state.order[action.meta.arg.publicKey.toBase58()] = newPubkeys;\n      }\n    });\n    builder.addCase(getTransaction.fulfilled, (state, action) => {\n      if (!action.payload) {\n        return state;\n      }\n\n      const newItems: ItemsType = {\n        [action.payload.signature]: action.payload,\n      };\n      const newPubkeys: string[] = [action.payload.signature];\n      state.items = mergeRight(state.items, newItems);\n\n      if (action.payload.short.source) {\n        state.order[action.payload.short.source] = uniq(\n          pathOr<string[]>([], ['order', action.payload.short.source], state).concat(newPubkeys),\n        );\n      }\n\n      if (action.payload.short.destination) {\n        state.order[action.payload.short.destination] = uniq(\n          pathOr<string[]>([], ['order', action.payload.short.destination], state).concat(\n            newPubkeys,\n          ),\n        );\n      }\n    });\n    builder.addCase(addPendingTransaction, (state, action) => {\n      if (!action.payload) {\n        return state;\n      }\n\n      const newItems: ItemsType = {\n        [action.payload.signature]: action.payload,\n      };\n      const newPubkeys: string[] = [action.payload.signature];\n      state.items = mergeRight(state.items, newItems);\n\n      if (action.payload.short.source) {\n        state.order[action.payload.short.source] = uniq(\n          newPubkeys.concat(pathOr<string[]>([], ['order', action.payload.short.source], state)),\n        );\n      }\n\n      if (action.payload.short.destination) {\n        state.order[action.payload.short.destination] = uniq(\n          newPubkeys.concat(\n            pathOr<string[]>([], ['order', action.payload.short.destination], state),\n          ),\n        );\n      }\n    });\n    builder.addCase(wipeAction, () => initialState);\n  },\n});\n\nexport const { updateTransactions, setCurrentHistoryPubkey } = transactionSlice.actions;\n// eslint-disable-next-line import/no-default-export\nexport default transactionSlice.reducer;\n","import { PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Decimal } from 'decimal.js';\n\nimport { minorAmountToMajor, toDecimal } from 'utils/amount';\nimport { Serializable } from 'utils/types';\n\nexport type SerializableToken = {\n  address: string;\n  decimals: number;\n  supply: string;\n  mintAuthority?: string;\n  name?: string;\n  symbol?: string;\n  color?: string;\n  icon?: string;\n  isSimulated?: boolean;\n};\n\nexport class Token implements Serializable<SerializableToken> {\n  readonly address: PublicKey;\n\n  readonly decimals: number;\n\n  readonly supply: Decimal;\n\n  readonly mintAuthority?: PublicKey;\n\n  readonly name?: string;\n\n  readonly symbol?: string;\n\n  readonly color?: string;\n\n  readonly icon?: string;\n\n  // it's simulated WSOL address\n  readonly isSimulated?: boolean;\n\n  constructor(\n    address: PublicKey,\n    decimals: number,\n    supply: BN | number | Decimal,\n    mintAuthority?: PublicKey,\n    name?: string,\n    symbol?: string,\n    color?: string,\n    icon?: string,\n    isSimulated?: boolean,\n  ) {\n    this.address = address;\n    this.decimals = decimals;\n    this.supply = toDecimal(supply);\n    this.mintAuthority = mintAuthority;\n    this.name = name;\n    this.symbol = symbol;\n    this.color = color;\n    this.icon = icon;\n    this.isSimulated = isSimulated;\n  }\n\n  toMajorDenomination(amountInMinorDenomination: number | Decimal): Decimal {\n    return minorAmountToMajor(amountInMinorDenomination, this).toDecimalPlaces(this.decimals);\n  }\n\n  toString(): string {\n    return this.name ? `${this.name} (${this.symbol})` : this.address.toBase58();\n  }\n\n  equals(other: Token): boolean {\n    return this.address.equals(other.address);\n  }\n\n  serialize(): SerializableToken {\n    return {\n      address: this.address.toBase58(),\n      decimals: this.decimals,\n      supply: this.supply.toString(),\n      mintAuthority: this.mintAuthority?.toBase58(),\n      name: this.name,\n      symbol: this.symbol,\n      color: this.color,\n      icon: this.icon,\n      isSimulated: this.isSimulated,\n    };\n  }\n\n  static from(serializableToken: SerializableToken): Token {\n    const mintAuthority = (serializableToken.mintAuthority &&\n      new PublicKey(serializableToken.mintAuthority)) as PublicKey | undefined;\n\n    return new Token(\n      new PublicKey(serializableToken.address),\n      serializableToken.decimals,\n      new Decimal(serializableToken.supply),\n      mintAuthority,\n      serializableToken.name,\n      serializableToken.symbol,\n      serializableToken.color,\n      serializableToken.icon,\n      serializableToken.isSimulated,\n    );\n  }\n}\n","import { Serializable } from 'utils/types';\n\nexport type CandleLimitType = 'last1h' | 'last4h' | 'day' | 'week' | 'month';\n\nexport type SerializableCandleRate = {\n  market: string;\n  type: CandleLimitType;\n  price: number;\n  startTime: number;\n};\n\nexport class CandleRate implements Serializable<SerializableCandleRate> {\n  readonly market: string;\n\n  readonly type: CandleLimitType;\n\n  readonly price: number;\n\n  readonly startTime: number;\n\n  constructor(market: string, type: CandleLimitType, price: number, startTime: number) {\n    this.market = market;\n    this.type = type;\n    this.price = price;\n    this.startTime = startTime;\n  }\n\n  toString(): string {\n    return this.market;\n  }\n\n  serialize(): SerializableCandleRate {\n    return {\n      market: this.market,\n      type: this.type,\n      price: this.price,\n      startTime: this.startTime,\n    };\n  }\n\n  static from(serializableRate: SerializableCandleRate): CandleRate {\n    return new CandleRate(\n      serializableRate.market,\n      serializableRate.type,\n      serializableRate.price,\n      serializableRate.startTime,\n    );\n  }\n}\n","import { Serializable } from 'utils/types';\n\nexport type SerializableMarketRate = {\n  market: string;\n  price: number;\n};\n\nexport class MarketRate implements Serializable<SerializableMarketRate> {\n  readonly market: string;\n\n  readonly price: number;\n\n  constructor(market: string, price: number) {\n    this.market = market;\n    this.price = price;\n  }\n\n  toString(): string {\n    return this.market;\n  }\n\n  serialize(): SerializableMarketRate {\n    return {\n      market: this.market,\n      price: this.price,\n    };\n  }\n\n  static from(serializableRate: SerializableMarketRate): MarketRate {\n    return new MarketRate(serializableRate.market, serializableRate.price);\n  }\n}\n","import { complement, isNil, memoizeWith, mergeAll, splitEvery, toString } from 'ramda';\nimport assert from 'ts-invariant';\n\nimport tokenList from 'api/token/token.config';\nimport { cryptoCompareApiKey, NetworkType } from 'config/constants';\n\nimport { CandleLimitType, CandleRate } from './CandleRate';\nimport { MarketRate } from './MarketRate';\n\nconst CRYPTO_COMPARE_API_URL = 'https://min-api.cryptocompare.com/data';\nconst CURRENCY = 'USD';\n\ntype OrderbooksResponse = {\n  [market: string]: {\n    [currency: string]: number;\n  };\n};\n\ntype CandlesResponse = {\n  Data: {\n    Data: {\n      close: number;\n      open: number;\n      low: number;\n      high: number;\n      time: number;\n    }[];\n  };\n};\n\nconst getRatesCandle = async (symbol: string, type: CandleLimitType): Promise<CandleRate[]> => {\n  let path = '/v2';\n\n  // eslint-disable-next-line default-case\n  switch (type) {\n    case 'last1h':\n      path += '/histominute?limit=60';\n      break;\n    case 'last4h':\n      path += '/histominute?limit=240';\n      break;\n    case 'day':\n      path += '/histohour?limit=24';\n      break;\n    case 'week':\n      path += '/histoday?limit=7';\n      break;\n    case 'month':\n      path += '/histoday?limit=30';\n      break;\n  }\n\n  try {\n    const res = await fetch(\n      `${CRYPTO_COMPARE_API_URL}${path}&api_key=${cryptoCompareApiKey}&fsym=${symbol}&tsym=${CURRENCY}`,\n    );\n\n    if (!res.ok) {\n      throw new Error('getRatesCandle something wrong');\n    }\n\n    const result = (await res.json()) as CandlesResponse;\n\n    return result.Data.Data.map(\n      (rate) => new CandleRate(symbol, type, rate.close, rate.time * 1000),\n    );\n  } catch (error) {\n    console.error(`Can't get rates for ${symbol}:`, error);\n    throw new Error(`Can't get rates for ${symbol}`);\n  }\n};\n\nexport interface API {\n  getRatesMarkets: () => Promise<MarketRate[]>;\n  getRatesCandle: (symbol: string, type: CandleLimitType) => Promise<CandleRate[]>;\n}\n\n// The API is a singleton per cluster. This ensures requests can be cached\nexport const APIFactory = memoizeWith(\n  toString,\n  (network: NetworkType): API => {\n    assert(cryptoCompareApiKey, 'Define crypto compare api key in .env');\n\n    const tokenSymbols =\n      tokenList\n        .filterByClusterSlug(network.cluster)\n        .excludeByTag('lp-token')\n        .excludeByTag('nft')\n        .excludeByTag('leveraged')\n        .excludeByTag('bull')\n        .excludeByTag('wormhole')\n        .getList()\n        .map((token) => token.symbol.toUpperCase()) || [];\n\n    const getRatesMarkets = async (): Promise<Array<MarketRate>> => {\n      try {\n        if (network.cluster !== 'mainnet-beta') {\n          tokenSymbols.push('RENBTC');\n        }\n        const chunks = splitEvery(50, tokenSymbols);\n\n        const results = await Promise.all(\n          chunks.map(async (chunk) => {\n            const res = await fetch(\n              `${CRYPTO_COMPARE_API_URL}/pricemulti?api_key=${cryptoCompareApiKey}&fsyms=${chunk.join(\n                ',',\n              )}&tsyms=${CURRENCY}`,\n            );\n\n            if (!res.ok) {\n              throw new Error('getRatesMarkets something wrong');\n            }\n\n            return (await res.json()) as OrderbooksResponse;\n          }),\n        );\n\n        const result = mergeAll(results);\n\n        const rates = tokenSymbols.map((symbol) =>\n          result[symbol] ? new MarketRate(symbol, result[symbol][CURRENCY]) : null,\n        );\n\n        return rates.filter(complement(isNil)) as MarketRate[];\n      } catch (error) {\n        console.error(`Can't get rates for tokens:`, error);\n        throw error;\n      }\n    };\n\n    return {\n      getRatesMarkets,\n      getRatesCandle,\n    };\n  },\n);\n","/* eslint-disable no-param-reassign */\nimport { createAction, createAsyncThunk, createSlice } from '@reduxjs/toolkit';\n\nimport { APIFactory } from 'api/rate';\nimport { CandleLimitType, SerializableCandleRate } from 'api/rate/CandleRate';\nimport { SerializableMarketRate } from 'api/rate/MarketRate';\nimport { RootState } from 'store/rootReducer';\nimport { wipeAction } from 'store/slices/GlobalSlice';\n\nconst RATES_SLICE_NAME = 'rates';\n\nexport const getRatesMarkets = createAsyncThunk<SerializableMarketRate[]>(\n  `${RATES_SLICE_NAME}/getRatesMarkets`,\n  async (_, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n\n    const RateAPI = APIFactory(state.wallet.network);\n    const rates = await RateAPI.getRatesMarkets();\n\n    return rates.map((rate) => rate.serialize());\n  },\n);\n\nexport const getRatesCandle = createAsyncThunk<\n  SerializableCandleRate[],\n  { symbol: string; type: CandleLimitType }\n>(`${RATES_SLICE_NAME}/getRatesCandle`, async (args, thunkAPI) => {\n  const state: RootState = thunkAPI.getState() as RootState;\n\n  const PoolAPI = APIFactory(state.wallet.network);\n  const rates = await PoolAPI.getRatesCandle(args.symbol, args.type);\n\n  return rates.map((rate) => rate.serialize());\n});\n\nexport const changeCandlesType = createAction<CandleLimitType>('changeCandlesType');\n\ntype CandleRate = {\n  price: number;\n  startTime: number;\n};\n\nexport interface RatesState {\n  candlesType: CandleLimitType;\n  candles: {\n    [pair: string]: CandleRate[];\n  };\n  markets: {\n    [pair: string]: number;\n  };\n}\n\nconst initialState: RatesState = {\n  candlesType: 'month',\n  candles: {},\n  markets: {},\n};\n\nconst transactionSlice = createSlice({\n  name: RATES_SLICE_NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getRatesMarkets.fulfilled, (state, action) => {\n      action.payload.forEach((rate) => {\n        state.markets[rate.market] = rate.price;\n      });\n    });\n    builder.addCase(getRatesCandle.fulfilled, (state, action) => {\n      state.candles[action.meta.arg.symbol] = [];\n\n      action.payload\n        .sort((a, b) => a.startTime - b.startTime)\n        .forEach((rate) => {\n          // @ts-ignore\n          state.candles[action.meta.arg.symbol].push({\n            price: rate.price,\n            startTime: rate.startTime,\n          });\n        });\n    });\n    builder.addCase(getRatesCandle.rejected, (state, action) => {\n      state.candles[action.meta.arg.symbol] = [];\n    });\n    builder.addCase(changeCandlesType, (state, action) => {\n      state.candlesType = action.payload;\n    });\n    builder.addCase(wipeAction, () => initialState);\n  },\n});\n\n// eslint-disable-next-line import/no-default-export\nexport default transactionSlice.reducer;\n","export * from './hooks';\nexport * from './provider';\n","import React, { FunctionComponent } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { CSSProperties } from '@linaria/core';\nimport { styled } from '@linaria/react';\nimport { Decimal } from 'decimal.js';\n\nimport { rateSelector } from 'store/selectors/rates';\n\nconst Wrapper = styled.div``;\n\ntype Props = {\n  prefix?: string;\n  value?: Decimal;\n  symbol?: string;\n  style?: CSSProperties;\n  className?: string;\n};\n\nexport const AmountUSD: FunctionComponent<Props> = ({\n  prefix,\n  value = new Decimal(0),\n  symbol = '',\n  ...props\n}) => {\n  const rate = useSelector(rateSelector(symbol.toUpperCase()));\n\n  if (!rate) {\n    return null;\n  }\n\n  return (\n    <Wrapper title=\"Amount in USD\" {...props}>\n      {prefix ? `${prefix} ` : undefined}\n      {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(\n        value.times(rate).toNumber(),\n      )}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\nimport { rgba } from 'polished';\n\nconst Wrapper = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  height: 48px;\n  padding: 0 15px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  font-family: unset;\n  line-height: 140%;\n  white-space: nowrap;\n  text-decoration: none;\n\n  background: #fff;\n  border: 0;\n  border-radius: 12px;\n\n  outline: none;\n  cursor: pointer;\n\n  appearance: none;\n\n  &.primary {\n    color: #fff;\n\n    background: #5887ff;\n\n    &:hover {\n      background: #82a5ff;\n    }\n  }\n\n  &.secondary {\n    color: #fff;\n\n    background: #a3a5ba;\n  }\n\n  &.dark {\n    color: #fff;\n\n    background: #000;\n  }\n\n  &.light {\n    color: #5887ff;\n\n    background: #eff3ff;\n  }\n\n  &.gray {\n    color: #000;\n\n    background: #f3f3f3;\n  }\n\n  &.lightGray {\n    color: #a3a5ba;\n\n    background: #f6f6f8;\n  }\n\n  &.lightBlue {\n    color: #5887ff;\n\n    background: #f6f6f8;\n  }\n\n  &.hollow {\n    color: #5887ff;\n\n    background: #fff;\n    border: 1px solid #5887ff;\n  }\n\n  &.link {\n    height: auto;\n    padding: 0;\n\n    color: ${rgba('#000', 0.5)};\n    text-decoration: underline;\n\n    background: transparent;\n  }\n\n  &.small {\n    height: 36px;\n  }\n\n  &.medium {\n    height: 46px;\n  }\n\n  &.big {\n    height: 58px;\n  }\n\n  &.full {\n    width: 100%;\n  }\n\n  &:disabled {\n    color: #fff;\n\n    background: #a3a5ba;\n\n    &:hover {\n      background: #a3a5ba;\n    }\n  }\n`;\n\ntype Props = {\n  primary?: boolean;\n  secondary?: boolean;\n  dark?: boolean;\n  light?: boolean;\n  gray?: boolean;\n  lightGray?: boolean;\n  lightBlue?: boolean;\n  hollow?: boolean;\n  link?: boolean;\n  small?: boolean;\n  medium?: boolean;\n  big?: boolean;\n  full?: boolean;\n};\n\nexport const Button: FunctionComponent<Props & React.ButtonHTMLAttributes<HTMLButtonElement>> = ({\n  type = 'button',\n  primary,\n  secondary,\n  dark,\n  light,\n  gray,\n  lightGray,\n  lightBlue,\n  link,\n  hollow,\n  small,\n  medium,\n  big,\n  full,\n  children,\n  style,\n  className,\n  ...props\n}) => {\n  return (\n    <Wrapper\n      type={type}\n      {...props}\n      style={style}\n      className={classNames(className, {\n        primary,\n        secondary,\n        light,\n        dark,\n        gray,\n        lightGray,\n        lightBlue,\n        link,\n        hollow,\n        small,\n        medium,\n        big,\n        full,\n      })}>\n      {children}\n    </Wrapper>\n  );\n};\n","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"arrow-icon\",\n  \"use\": \"arrow-icon-usage\",\n  \"viewBox\": \"0 0 14 14\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 14 14\\\" id=\\\"arrow-icon\\\"><path d=\\\"M12.834 7H1.167M7 12.834 1.167 7 7 1.167\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"1.5\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"app-store-icon\",\n  \"use\": \"app-store-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"app-store-icon\\\"><path d=\\\"m8 16 1.106-1.99m1.4-2.522L13 7m-6 7h5m2.9 0H17m-1 2-2.51-4.518m-1.487-2.677L11 7m10 5a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"arrow-triangle-icon\",\n  \"use\": \"arrow-triangle-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"arrow-triangle-icon\\\"><g clip-path=\\\"url(#arrow-triangle-icon_a)\\\"><path d=\\\"M17 8.507a.417.417 0 0 0-.209-.367c-.14-.09-.33-.135-.57-.135L7.773 8c-.237 0-.425.046-.564.138A.419.419 0 0 0 7 8.502c0 .082.02.159.06.231.04.072.088.154.143.246l4.084 6.563c.106.168.215.286.327.355.112.069.24.103.383.103a.712.712 0 0 0 .386-.103c.11-.07.22-.187.33-.355L16.79 8.98c.06-.088.109-.169.149-.241.04-.072.06-.15.06-.231Z\\\" fill=\\\"currentColor\\\" /></g><defs><clipPath id=\\\"arrow-triangle-icon_a\\\"><path fill=\\\"#fff\\\" transform=\\\"translate(7 8)\\\" d=\\\"M0 0h10v8H0z\\\" /></clipPath></defs></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"attention-icon\",\n  \"use\": \"attention-icon-usage\",\n  \"viewBox\": \"0 0 24 23\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 23\\\" id=\\\"attention-icon\\\"><path style=\\\"fill:#fff;fill-opacity:0;pointer-events:none\\\" fill=\\\"none\\\" d=\\\"M0 0h24v23H0z\\\" /><path d=\\\"M21.95 22.195H2.394c-.438 0-.841-.247-1.06-.647a1.35 1.35 0 0 1 .005-1.291l9.778-18.043c.218-.395.62-.639 1.055-.639.435 0 .837.244 1.056.64l9.778 18.042c.22.399.222.891.004 1.291-.217.4-.623.647-1.06.647Z\\\" fill=\\\"#FFC107\\\" /><path d=\\\"M10.95 18.42c0-.173.028-.331.087-.48a1.106 1.106 0 0 1 .628-.635c.149-.06.316-.09.503-.09s.356.03.506.09a1.09 1.09 0 0 1 .633.635c.059.149.087.307.087.48 0 .174-.028.333-.087.477-.058.145-.14.27-.246.38-.105.106-.234.19-.387.252a1.37 1.37 0 0 1-.506.089c-.187 0-.354-.03-.503-.09a1.116 1.116 0 0 1-.628-.631 1.252 1.252 0 0 1-.087-.477Zm2.126-2.669H11.26l-.258-7.732h2.331l-.257 7.732Z\\\" fill=\\\"#5D4037\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"bottom-icon\",\n  \"use\": \"bottom-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"bottom-icon\\\"><path d=\\\"M4 20h16m-8-6V4m0 10 4-4m-4 4-4-4\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"branch-icon\",\n  \"use\": \"branch-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"branch-icon\\\"><path d=\\\"M16.8 4.8c-1.765 0-3.2 1.413-3.2 3.15 0 1.399.937 2.573 2.222 2.984-.134.838-.5 1.53-1.125 2.09-1.78 1.596-5.053 1.742-6.583 1.717V9.152C9.431 8.763 10.4 7.572 10.4 6.15 10.4 4.413 8.965 3 7.2 3 5.435 3 4 4.413 4 6.15c0 1.422.97 2.613 2.286 3.003v5.694C4.969 15.237 4 16.428 4 17.85 4 19.587 5.435 21 7.2 21c1.765 0 3.2-1.413 3.2-3.15 0-.496-.128-.959-.335-1.376 1.883-.168 4.257-.681 5.86-2.115 1.002-.897 1.582-2.038 1.74-3.391C19.008 10.594 20 9.39 20 7.95c0-1.737-1.435-3.15-3.2-3.15ZM5.829 6.15c0-.744.615-1.35 1.371-1.35s1.371.606 1.371 1.35c0 .744-.615 1.35-1.371 1.35a1.363 1.363 0 0 1-1.371-1.35ZM7.2 19.2a1.363 1.363 0 0 1-1.371-1.35c0-.739.607-1.34 1.355-1.348l.118.009c.709.052 1.27.629 1.27 1.339 0 .744-.616 1.35-1.372 1.35Zm9.6-9.9a1.362 1.362 0 0 1-1.371-1.35c0-.744.615-1.35 1.371-1.35s1.371.606 1.371 1.35c0 .744-.615 1.35-1.371 1.35Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"bucket-icon\",\n  \"use\": \"bucket-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"bucket-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M20.287 5.243c.39 0 .713.323.713.734v.38a.73.73 0 0 1-.713.734H3.714A.73.73 0 0 1 3 6.357v-.38c0-.411.324-.734.714-.734H6.63c.592 0 1.107-.421 1.24-1.015l.153-.682C8.261 2.617 9.041 2 9.935 2h4.13c.884 0 1.674.617 1.902 1.497l.163.73a1.28 1.28 0 0 0 1.241 1.016h2.916Zm-1.481 13.891c.304-2.837.837-9.577.837-9.645a.746.746 0 0 0-.18-.558.726.726 0 0 0-.524-.234H5.07c-.2 0-.391.087-.524.234a.79.79 0 0 0-.19.558l.053.647c.142 1.763.537 6.674.793 8.998.18 1.712 1.304 2.788 2.931 2.827 1.256.029 2.55.039 3.872.039 1.246 0 2.51-.01 3.805-.039 1.684-.029 2.806-1.086 2.997-2.827Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"card-icon\",\n  \"use\": \"card-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"card-icon\\\"><path d=\\\"M3 16.773c0 .59.237 1.157.659 1.575.422.417.994.652 1.591.652h13.5c.597 0 1.169-.235 1.591-.652.422-.418.659-.985.659-1.575v-6.125H3v6.125Zm2.652-3.023c0-.316.127-.62.353-.844.226-.224.532-.35.852-.35h1.929c.32 0 .626.127.852.35.226.224.353.527.353.844v.796c0 .316-.127.62-.353.843-.226.224-.533.35-.852.35H6.857c-.32 0-.626-.126-.852-.35a1.187 1.187 0 0 1-.353-.843v-.796ZM18.75 5H5.25c-.597 0-1.169.235-1.591.652A2.216 2.216 0 0 0 3 7.227v1.034h18V7.227c0-.59-.237-1.157-.659-1.575A2.262 2.262 0 0 0 18.75 5Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chain-icon\",\n  \"use\": \"chain-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"chain-icon\\\"><path d=\\\"M10.667 12.666a3.335 3.335 0 0 0 5.027.36l2-2a3.333 3.333 0 0 0-4.714-4.713l-1.146 1.14\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /><path d=\\\"M13.334 11.333a3.334 3.334 0 0 0-5.027-.36l-2 2a3.333 3.333 0 0 0 4.713 4.714l1.14-1.14\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"change-icon\",\n  \"use\": \"change-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"change-icon\\\"><path d=\\\"M6.037 10.838c.676.037 1.013-.263 1.013-.863s-.412-1.012-1.013-1.012H3.525c1.2-4.088 4.875-6.975 9.188-6.975 4.387 0 8.175 3 9.262 7.274.112.488.712.9 1.2.713.488-.112.9-.713.712-1.2C22.462 3.6 17.887 0 12.6 0 7.912 0 3.825 2.888 1.875 7.162V4.987c0-.524-.225-1.012-.825-1.012S.038 4.388 0 4.987v4.688c.037.712.6 1.2 1.35 1.162h4.688ZM22.65 13.838h-4.388c-.3 0-.638.075-.863.262-.262.188-.45.488-.45.863 0 .487.45.75 1.013.75h2.475c-1.388 3.825-4.875 6.225-8.775 6.225-4.088 0-7.65-2.588-8.963-6.563-.187-.488-.712-.787-1.312-.6-.488.188-.788.713-.6 1.312C2.437 20.813 6.712 24 11.699 24c4.388 0 8.25-2.475 10.425-6.375v2.288c.038.562.225 1.012.825 1.012s1.013-.413 1.05-1.012v-4.688c-.037-.675-.637-1.275-1.35-1.387Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"checkmark-icon\",\n  \"use\": \"checkmark-icon-usage\",\n  \"viewBox\": \"0 0 20 20\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20 20\\\" id=\\\"checkmark-icon\\\"><path d=\\\"M9.022 14.167c.251 0 .446-.106.584-.317l4.42-7.019c.047-.077.082-.15.106-.218a.641.641 0 0 0 .035-.209.557.557 0 0 0-.16-.41.552.552 0 0 0-.409-.16.56.56 0 0 0-.296.071.709.709 0 0 0-.221.24l-4.077 6.597-2.093-2.74c-.135-.176-.3-.264-.494-.264a.565.565 0 0 0-.583.58.637.637 0 0 0 .174.442l2.436 3.1c.16.204.353.307.578.307Z\\\" fill=\\\"currentColor\\\" stroke=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chevron-1-icon\",\n  \"use\": \"chevron-1-icon-usage\",\n  \"viewBox\": \"0 0 15 15\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 15 15\\\" id=\\\"chevron-1-icon\\\"><path d=\\\"m3.75 5.625 3.75 3.75 3.75-3.75\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chevron-icon\",\n  \"use\": \"chevron-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"chevron-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M13.207 16.207a1 1 0 0 1-1.414 0l-5-5a1 1 0 0 1 1.414-1.414l4.293 4.293 4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chevron-rounded-icon\",\n  \"use\": \"chevron-rounded-icon-usage\",\n  \"viewBox\": \"0 0 17 15\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 17 15\\\" id=\\\"chevron-rounded-icon\\\"><path d=\\\"M10.37 1.135c.08.077.418.367.695.638 1.747 1.586 4.606 5.724 5.479 7.89.14.33.437 1.16.456 1.605 0 .426-.098.832-.297 1.219-.278.483-.715.87-1.23 1.082-.359.137-1.43.35-1.45.35-1.171.211-3.076.328-5.181.328-2.006 0-3.833-.117-5.023-.29-.019-.02-1.35-.232-1.806-.465-.834-.425-1.35-1.257-1.35-2.147v-.077c.02-.58.537-1.798.556-1.798.874-2.05 3.593-6.092 5.4-7.717 0 0 .464-.458.754-.657.416-.31.933-.464 1.449-.464.575 0 1.112.174 1.549.503Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"clock-icon\",\n  \"use\": \"clock-icon-usage\",\n  \"viewBox\": \"0 0 18 18\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 18 18\\\" id=\\\"clock-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M5.103 0h7.803C15.957 0 18 2.141 18 5.327v7.353c0 3.178-2.043 5.32-5.094 5.32H5.103C2.052 18 0 15.858 0 12.68V5.327C0 2.141 2.052 0 5.103 0Zm7.119 12.43c.225 0 .45-.118.576-.334a.67.67 0 0 0-.234-.927L9.36 9.261V5.102a.675.675 0 1 0-1.35 0v4.546c0 .234.126.46.333.576l3.528 2.106a.631.631 0 0 0 .35.1Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"close-icon\",\n  \"use\": \"close-icon-usage\",\n  \"viewBox\": \"0 0 17 17\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 17 17\\\" id=\\\"close-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M15.757.462c.47.47.47 1.23 0 1.7L2.161 15.758a1.202 1.202 0 0 1-1.7-1.7L14.058.463c.47-.469 1.23-.469 1.7 0Z\\\" fill=\\\"currentColor\\\" /><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M.461.462c.47-.469 1.23-.469 1.7 0L15.757 14.06a1.202 1.202 0 0 1-1.7 1.7L.462 2.161c-.469-.47-.469-1.23 0-1.7Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"copy-icon\",\n  \"use\": \"copy-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"copy-icon\\\"><path d=\\\"M16 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2m2-8h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"currency-icon\",\n  \"use\": \"currency-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"currency-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M21 8a1 1 0 0 1 1 1v8a3 3 0 0 1-3 3H7a1 1 0 1 1 0-2h12a1 1 0 0 0 1-1V9a1 1 0 0 1 1-1Z\\\" fill=\\\"currentColor\\\" /><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M5.286 5h11.428C17.977 5 19 6.075 19 7.4v7.2c0 1.325-1.023 2.4-2.286 2.4H5.286C4.023 17 3 15.925 3 14.6V7.4C3 6.075 4.023 5 5.286 5ZM14 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"db-icon\",\n  \"use\": \"db-icon-usage\",\n  \"viewBox\": \"0 0 26 26\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 26 26\\\" id=\\\"db-icon\\\"><g clip-path=\\\"url(#db-icon_a)\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><path d=\\\"M13 9.75c4.039 0 7.313-1.091 7.313-2.438 0-1.346-3.274-2.437-7.313-2.437S5.687 5.966 5.687 7.313C5.688 8.659 8.962 9.75 13 9.75ZM20.313 13c0 1.349-3.25 2.438-7.313 2.438S5.687 14.348 5.687 13\\\" /><path d=\\\"M5.688 7.313v11.375c0 1.348 3.25 2.437 7.312 2.437 4.063 0 7.313-1.089 7.313-2.438V7.313\\\" /></g><defs><clipPath id=\\\"db-icon_a\\\"><path fill=\\\"#fff\\\" transform=\\\"translate(3.25 3.25)\\\" d=\\\"M0 0h19.5v19.5H0z\\\" /></clipPath></defs></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"error-icon\",\n  \"use\": \"error-icon-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"error-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M4.536 0h6.936C14.184 0 16 1.903 16 4.735v6.536c0 2.825-1.816 4.73-4.528 4.73H4.536C1.824 16 0 14.095 0 11.27V4.735C0 1.903 1.824 0 4.536 0ZM4.23 5.486a.889.889 0 0 1 1.257-1.257L8 6.743l2.514-2.514a.889.889 0 0 1 1.257 1.257L9.257 8l2.514 2.514a.889.889 0 0 1-1.257 1.257L8 9.257l-2.514 2.514a.889.889 0 0 1-1.257-1.257L6.743 8 4.229 5.486Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"eye-hide-icon\",\n  \"use\": \"eye-hide-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"eye-hide-icon\\\"><path d=\\\"M14.12 14.12a3 3 0 1 1-4.24-4.24M1 1l22 22m-5.06-5.06A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94l11.88 11.88ZM9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.498 18.498 0 0 1-2.16 3.19L9.9 4.24Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"eye-icon\",\n  \"use\": \"eye-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"eye-icon\\\"><path d=\\\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /><path d=\\\"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"external-link-icon\",\n  \"use\": \"external-link-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"external-link-icon\\\"><path d=\\\"M11 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-5m-7 1L20 4m0 0h-5m5 0v5\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"free-tx-icon\",\n  \"use\": \"free-tx-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"free-tx-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M12.74 2.811a1 1 0 0 0-1.48 0L9.93 4.273l-1.884-.6a1 1 0 0 0-1.28.739l-.423 1.931-1.931.423a1 1 0 0 0-.74 1.28l.6 1.884-1.46 1.33a1 1 0 0 0 0 1.48l1.46 1.33-.6 1.884a1 1 0 0 0 .74 1.28l1.931.423.423 1.931a1 1 0 0 0 1.28.74l1.883-.6 1.332 1.46a1 1 0 0 0 1.478 0l1.332-1.46 1.883.6a1 1 0 0 0 1.28-.74l.423-1.931 1.931-.422a1 1 0 0 0 .74-1.28l-.6-1.884 1.46-1.332a1 1 0 0 0 0-1.478l-1.46-1.331.6-1.884a1 1 0 0 0-.74-1.28l-1.931-.423-.422-1.931a1 1 0 0 0-1.28-.74l-1.884.6-1.332-1.46Zm.262 4.745-2.944 8.597.914.292 2.945-8.573-.915-.316Zm-2.832.328c-1.002 0-1.503.592-1.503 1.775 0 1.176.5 1.763 1.503 1.763s1.504-.587 1.504-1.763c0-1.183-.501-1.775-1.504-1.775Zm-.275 1.763c0-.292.016-.494.05-.608.042-.121.117-.182.225-.182.109 0 .18.06.213.182.042.114.063.316.063.608s-.02.499-.063.62c-.033.122-.104.183-.213.183-.108 0-.183-.061-.225-.183-.034-.121-.05-.328-.05-.62Zm3.935 3.016c-1.003 0-1.504.591-1.504 1.775 0 1.176.501 1.763 1.504 1.763 1.002 0 1.503-.587 1.503-1.763 0-1.184-.5-1.775-1.503-1.775Zm-.276 1.763c0-.292.017-.495.05-.608.042-.122.117-.182.226-.182.108 0 .18.06.213.182.041.113.062.316.062.608s-.02.498-.062.62c-.034.122-.105.183-.213.183-.109 0-.184-.061-.226-.183-.033-.121-.05-.328-.05-.62Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"gear-icon\",\n  \"use\": \"gear-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"gear-icon\\\"><path d=\\\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.723 1.723 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37 1 .608 2.296.07 2.572-1.065Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /><path d=\\\"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"google-play-icon\",\n  \"use\": \"google-play-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"google-play-icon\\\"><path d=\\\"M15 9 4.5 20.5m0-17L15 15M4 3.71v16.58a.7.7 0 0 0 1.05.606l14.622-8.42a.55.55 0 0 0 0-.953L5.05 3.104A.7.7 0 0 0 4 3.71Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"home-icon\",\n  \"use\": \"home-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"home-icon\\\"><path d=\\\"M17 8V5a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2m0 0a2 2 0 0 0 2 2h12a1 1 0 0 1 1 1v3M4 6v12a2 2 0 0 0 2 2h12a1 1 0 0 0 1-1v-3m1-4v4h-4a2 2 0 0 1 0-4h4Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"info-icon\",\n  \"use\": \"info-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"info-icon\\\"><path d=\\\"M12 8h.01M11 12h1v4h1m8-4a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"lock-icon\",\n  \"use\": \"lock-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"lock-icon\\\"><path d=\\\"M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5ZM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9V7Zm4 10.723V19a1 1 0 1 1-2 0v-1.277a1.993 1.993 0 0 1 .567-3.677A2.001 2.001 0 0 1 14 16a1.99 1.99 0 0 1-1 1.723Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"logout-icon\",\n  \"use\": \"logout-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"logout-icon\\\"><path d=\\\"M13 4.009a1 1 0 1 0-2 0l-.003 8.003a1 1 0 0 0 2 0L13 4.01Z\\\" fill=\\\"currentColor\\\" /><path d=\\\"M4 12.992c0-2.21.895-4.21 2.343-5.657l1.414 1.414a6 6 0 1 0 8.485 0l1.415-1.414A8 8 0 1 1 4 12.992Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"more-icon\",\n  \"use\": \"more-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"more-icon\\\"><path d=\\\"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM19 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM5 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"pen-icon\",\n  \"use\": \"pen-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"pen-icon\\\"><path d=\\\"M12 19h8M16 4.544a1.9 1.9 0 0 1 2.055-.403 1.888 1.888 0 0 1 1.02 1.006 1.835 1.835 0 0 1-.408 2.026L7.556 18.123 4 19l.889-3.504L16 4.544Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"plug-icon\",\n  \"use\": \"plug-icon-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"plug-icon\\\"><path d=\\\"M2.908 5.137c0 .316.257.572.573.572h.559v2.864c0 1.263 1.014 2.29 2.262 2.29h1.131v2.299a.566.566 0 1 0 1.132 0v-2.298h1.131c1.248 0 2.263-1.028 2.263-2.291V5.709h.558a.573.573 0 0 0 0-1.145H3.481a.573.573 0 0 0-.573.573Zm2.263-2.298a.566.566 0 1 1 1.131 0V3.99H5.171V2.84Zm4.525 0a.566.566 0 1 1 1.131 0V3.99h-1.13V2.84Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"plus-icon\",\n  \"use\": \"plus-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"plus-icon\\\"><path d=\\\"M12 3.515V12m0 0v8.485M12 12H3.515M12 12h8.485\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"qr-icon\",\n  \"use\": \"qr-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"qr-icon\\\"><path d=\\\"M7 17v.01M7 7v.01M17 7v.01M17 14h-3v3m6-3v.01M14 20h3m0-3h3v3M5 4h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1Zm10 0h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1ZM5 14h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"question-circle-icon\",\n  \"use\": \"question-circle-icon-usage\",\n  \"viewBox\": \"0 0 20 20\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20 20\\\" id=\\\"question-circle-icon\\\"><g clip-path=\\\"url(#question-circle-icon_a)\\\"><path d=\\\"M10 20a9.592 9.592 0 0 0 3.858-.784 10.264 10.264 0 0 0 3.191-2.162 10.148 10.148 0 0 0 2.167-3.191A9.627 9.627 0 0 0 20 10a9.592 9.592 0 0 0-.784-3.858 10.222 10.222 0 0 0-2.167-3.191A10.205 10.205 0 0 0 13.853.784 9.627 9.627 0 0 0 9.99 0a9.592 9.592 0 0 0-3.858.784A10.264 10.264 0 0 0 .784 6.142 9.592 9.592 0 0 0 0 10c0 1.366.261 2.654.784 3.863a10.148 10.148 0 0 0 2.167 3.19 10.264 10.264 0 0 0 3.191 2.163A9.592 9.592 0 0 0 10 20Zm-.186-7.873c-.55 0-.824-.268-.824-.804v-.137c0-.503.123-.91.368-1.22.245-.31.55-.593.916-.848.458-.308.796-.576 1.015-.804.22-.23.329-.52.329-.873 0-.385-.14-.7-.422-.941-.281-.242-.657-.363-1.127-.363-.347 0-.647.08-.902.24a1.8 1.8 0 0 0-.618.662 38.76 38.76 0 0 0-.407.495c-.108.134-.309.201-.603.201-.17 0-.33-.06-.48-.181-.15-.121-.226-.296-.226-.525a1.674 1.674 0 0 1 .079-.51c.13-.477.479-.892 1.044-1.245.565-.352 1.29-.529 2.171-.529.589 0 1.131.1 1.628.3.497.198.895.493 1.196.881.3.39.451.868.451 1.437 0 .62-.16 1.108-.48 1.46-.32.353-.73.7-1.226 1.04-.36.242-.626.465-.799.671-.173.206-.26.453-.26.74v.128a.685.685 0 0 1-.22.515c-.147.14-.348.21-.603.21Zm.03 2.951c-.282 0-.535-.1-.76-.299a.97.97 0 0 1-.339-.76c0-.3.113-.552.338-.754.226-.203.48-.304.76-.304.288 0 .544.1.77.299a.97.97 0 0 1 .338.76.966.966 0 0 1-.338.764 1.14 1.14 0 0 1-.77.294Z\\\" fill=\\\"currentColor\\\" /></g><defs><clipPath id=\\\"question-circle-icon_a\\\"><path fill=\\\"#fff\\\" d=\\\"M0 0h20v20H0z\\\" /></clipPath></defs></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"reload-icon\",\n  \"use\": \"reload-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"reload-icon\\\"><path d=\\\"M12 2.25c-5.376 0-9.75 4.374-9.75 9.75 0 5.384 4.366 9.75 9.75 9.75 5.376 0 9.75-4.374 9.75-9.75 0-5.385-4.366-9.75-9.75-9.75Zm4.406 10.266A4.407 4.407 0 1 1 12 8.109h.197l-.66-.66a.656.656 0 1 1 .927-.929l1.632 1.632a1 1 0 0 1 0 1.414l-1.632 1.632a.656.656 0 0 1-.928-.928l.845-.844c-.113-.004-.24-.004-.381-.004a3.094 3.094 0 1 0 3.094 3.094.656.656 0 0 1 1.312 0Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"search-icon\",\n  \"use\": \"search-icon-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"search-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M8.398 14.327c0-3.294 2.636-5.927 5.843-5.927a5.8 5.8 0 0 1 4.123 1.729 5.97 5.97 0 0 1 1.72 4.198c0 3.293-2.637 5.927-5.843 5.927-3.207 0-5.843-2.634-5.843-5.927ZM14.241 6.4c-4.331 0-7.843 3.55-7.843 7.927 0 4.378 3.512 7.927 7.843 7.927 4.331 0 7.842-3.55 7.842-7.927a7.97 7.97 0 0 0-2.297-5.605A7.8 7.8 0 0 0 14.241 6.4Zm7.712 14.313 2.336 1.885h.04a1.232 1.232 0 0 1 0 1.73 1.2 1.2 0 0 1-1.71 0l-1.939-2.222a.99.99 0 0 1 0-1.393.901.901 0 0 1 1.273 0Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"settings-icon\",\n  \"use\": \"settings-icon-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"settings-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M8.889 7.111c.49 0 .889.398.889.889v16A.889.889 0 0 1 8 24V8c0-.491.398-.889.889-.889ZM23.11 7.111c.492 0 .89.398.89.889v16a.889.889 0 0 1-1.778 0V8c0-.491.398-.889.889-.889Z\\\" fill=\\\"currentColor\\\" /><rect x=\\\"21.443\\\" y=\\\"14.333\\\" width=\\\"3.333\\\" height=\\\"3.333\\\" rx=\\\"1.667\\\" fill=\\\"#F6F6F8\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" /><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M16 7.111c.49 0 .888.398.888.889v16a.889.889 0 1 1-1.778 0V8c0-.491.398-.889.89-.889Z\\\" fill=\\\"currentColor\\\" /><rect x=\\\"14.333\\\" y=\\\"17.889\\\" width=\\\"3.333\\\" height=\\\"3.333\\\" rx=\\\"1.667\\\" fill=\\\"#F6F6F8\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" /><rect x=\\\"7.222\\\" y=\\\"10.778\\\" width=\\\"3.333\\\" height=\\\"3.333\\\" rx=\\\"1.667\\\" fill=\\\"#F6F6F8\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"success-icon\",\n  \"use\": \"success-icon-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"success-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M4.536 0h6.936C14.184 0 16 1.903 16 4.735v6.536c0 2.825-1.816 4.73-4.528 4.73H4.536C1.824 16 0 14.095 0 11.27V4.735C0 1.903 1.824 0 4.536 0Zm2.99 12.62a.79.79 0 0 1-.7.38c-.27 0-.502-.123-.694-.368l-2.923-3.72A.765.765 0 0 1 3 8.383a.677.677 0 0 1 .7-.696c.233 0 .43.106.592.317l2.512 3.287 4.892-7.916a.852.852 0 0 1 .265-.288.671.671 0 0 1 .356-.086c.2 0 .363.064.491.193a.668.668 0 0 1 .192.492.77.77 0 0 1-.042.25c-.029.083-.071.17-.127.263L7.526 12.62Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"sun-icon\",\n  \"use\": \"sun-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"sun-icon\\\"><path d=\\\"M12.64 2.268a.87.87 0 0 1 .274.644v1.816c0 .25-.091.464-.273.64A.893.893 0 0 1 12 5.63a.893.893 0 0 1-.64-.263.856.856 0 0 1-.274-.64V2.912a.87.87 0 0 1 .273-.644A.885.885 0 0 1 12 2c.245 0 .459.09.64.268ZM12.64 18.632c.183.176.274.39.274.64v1.816a.87.87 0 0 1-.273.644A.885.885 0 0 1 12 22a.885.885 0 0 1-.64-.268.87.87 0 0 1-.274-.644v-1.816c0-.25.091-.464.273-.64a.893.893 0 0 1 .641-.264c.245 0 .459.088.64.264ZM21.731 12.64a.888.888 0 0 1-.645.263h-1.81a.878.878 0 0 1-.636-.264.863.863 0 0 1-.269-.639c0-.245.09-.456.269-.635a.87.87 0 0 1 .636-.268h1.81c.25 0 .466.089.645.268.18.179.269.39.269.635 0 .25-.09.464-.269.64ZM2.269 11.365a.87.87 0 0 1 .636-.268h1.819c.245 0 .458.089.64.268a.86.86 0 0 1 .274.635c0 .25-.091.464-.273.64a.893.893 0 0 1-.641.263H2.905a.878.878 0 0 1-.636-.264A.863.863 0 0 1 2 12c0-.245.09-.456.269-.635ZM6.848 7.778a.862.862 0 0 1-.645-.268l-1.29-1.297a.822.822 0 0 1-.247-.63.894.894 0 0 1 .264-.65.87.87 0 0 1 .65-.25.889.889 0 0 1 .631.26l1.29 1.297a.859.859 0 0 1 .256.644.845.845 0 0 1-.273.635.847.847 0 0 1-.636.26ZM16.238 6.88c0-.254.087-.467.26-.64l1.3-1.297a.882.882 0 0 1 .636-.264.85.85 0 0 1 .636.255c.173.173.261.389.264.648a.835.835 0 0 1-.255.64l-1.29 1.288a.886.886 0 0 1-.65.268.871.871 0 0 1-.64-.26.868.868 0 0 1-.26-.639ZM17.139 16.23c.254 0 .467.087.64.26l1.3 1.288c.173.173.26.386.26.64a.868.868 0 0 1-.26.64.882.882 0 0 1-.636.263.85.85 0 0 1-.637-.255l-1.308-1.288a.869.869 0 0 1-.26-.64c0-.253.087-.466.26-.639a.857.857 0 0 1 .64-.268ZM4.652 18.409c0-.254.09-.467.27-.64l1.29-1.279a.877.877 0 0 1 .645-.26c.256 0 .472.09.645.27a.853.853 0 0 1 .255.639.869.869 0 0 1-.273.64l-1.29 1.287a.878.878 0 0 1-.646.246.893.893 0 0 1-.645-.264.884.884 0 0 1-.25-.64ZM10.172 7.657A4.523 4.523 0 0 1 12 7.287c.64 0 1.244.123 1.815.37a4.87 4.87 0 0 1 1.505 1.016c.433.429.773.93 1.021 1.502.248.573.372 1.181.372 1.825 0 .644-.124 1.252-.372 1.825a4.808 4.808 0 0 1-2.527 2.527 4.51 4.51 0 0 1-1.814.37c-.651 0-1.26-.123-1.828-.37a4.902 4.902 0 0 1-1.505-1.02 4.71 4.71 0 0 1-1.022-1.507A4.59 4.59 0 0 1 7.278 12a4.658 4.658 0 0 1 1.389-3.327c.436-.43.938-.768 1.505-1.016Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"swap-icon\",\n  \"use\": \"swap-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"swap-icon\\\"><path d=\\\"M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4m-4 4a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"timer-icon\",\n  \"use\": \"timer-icon-usage\",\n  \"viewBox\": \"0 0 38 38\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 38 38\\\" id=\\\"timer-icon\\\"><path d=\\\"M20.629 6.667c0-.857.694-1.552 1.55-1.552h3.103a1.551 1.551 0 1 1 0 3.103H22.18a1.551 1.551 0 0 1-1.551-1.551ZM5.116 14.423c0-.857.694-1.551 1.551-1.551H9.77a1.551 1.551 0 0 1 0 3.102H6.667a1.551 1.551 0 0 1-1.551-1.551Zm0 12.41c0-.857.694-1.551 1.551-1.551H9.77a1.551 1.551 0 1 1 0 3.102H6.667a1.551 1.551 0 0 1-1.551-1.55Zm-1.552-6.205c0-.857.695-1.551 1.552-1.551h3.087a1.551 1.551 0 1 1 0 3.102H5.116a1.551 1.551 0 0 1-1.552-1.55Zm29.475-8.665a1.551 1.551 0 0 0-2.194-2.194l-.446.446c-.65.65-1.65.755-2.497.398a10.71 10.71 0 0 0-4.17-.844c-5.987 0-10.86 4.873-10.86 10.86 0 5.985 4.873 10.858 10.86 10.858 5.986 0 10.858-4.872 10.858-10.859 0-2.228-.681-4.297-1.84-6.021-.523-.779-.514-1.84.149-2.503l.14-.141Zm-7.757 8.665a1.551 1.551 0 0 1-3.102 0V15.91a1.551 1.551 0 0 1 3.102 0v4.72Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"top-icon\",\n  \"use\": \"top-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"top-icon\\\"><path d=\\\"M12 4v10m0-10 4 4m-4-4L8 8M4 20h16\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"wallet-icon\",\n  \"use\": \"wallet-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"wallet-icon\\\"><path d=\\\"M20 7H5.6C4.4 7 4 6.4 4 6l16-1.5V3c0-.6-.6-1.1-1.2-1L3.7 4.7c-1 .2-1.7 1-1.7 2V20c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2Zm-1.5 9c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"warning-icon\",\n  \"use\": \"warning-icon-usage\",\n  \"viewBox\": \"0 0 18 18\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 18 18\\\" id=\\\"warning-icon\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M0 9c0-4.967 4.032-9 9-9 4.976 0 8.998 4.033 8.998 9 0 4.968-4.022 8.998-8.999 8.998C4.032 17.998 0 13.968 0 9Zm8.208-3.412A.8.8 0 0 1 9 4.796c.432 0 .783.361.783.792v3.978A.783.783 0 0 1 9 10.35a.79.79 0 0 1-.792-.783V5.588Zm.801 7.624a.793.793 0 0 1-.792-.792c0-.432.351-.783.783-.783.441 0 .792.351.792.783a.791.791 0 0 1-.783.792Z\\\" fill=\\\"currentColor\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"warning-transparent-icon\",\n  \"use\": \"warning-transparent-icon-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"warning-transparent-icon\\\"><path d=\\\"M12 9v2m0 4v.01M5 19h14a2 2 0 0 0 1.84-2.75L13.74 4a2 2 0 0 0-3.5 0l-7.1 12.25A2 2 0 0 0 4.89 19\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../../../../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../../../../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"clock-transparent-icon\",\n  \"use\": \"clock-transparent-icon-usage\",\n  \"viewBox\": \"0 0 20 20\",\n  \"content\": \"<symbol fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20 20\\\" id=\\\"clock-transparent-icon\\\"><path d=\\\"M10 5.833V10l2.5 2.5m5-2.5a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Z\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// eslint-disable-next-line simple-import-sort/sort\nimport React, { FC } from 'react';\n\nimport isPropValid from '@emotion/is-prop-valid';\nimport { CSSProperties } from '@linaria/core';\n\nimport arrow from './assets/arrow-icon.svg';\nimport appStore from './assets/new/app-store-icon.svg';\nimport arrowTriangle from './assets/arrow-triangle-icon.svg';\nimport attention from './assets/attention-icon.svg';\nimport bottom from './assets/new/bottom-icon.svg';\nimport branch from './assets/branch-icon.svg';\nimport bucket from './assets/bucket-icon.svg';\nimport card from './assets/card-icon.svg';\nimport chain from './assets/chain-icon.svg';\nimport change from './assets/change-icon.svg';\nimport checkmark from './assets/checkmark-icon.svg';\nimport chevron1 from './assets/chevron-1-icon.svg';\nimport chevron from './assets/new/chevron-icon.svg';\nimport chevronRounded from './assets/chevron-rounded-icon.svg';\nimport clock from './assets/clock-icon.svg';\nimport close from './assets/close-icon.svg';\nimport copy from './assets/new/copy-icon.svg';\nimport currency from './assets/currency-icon.svg';\nimport db from './assets/db-icon.svg';\nimport error from './assets/error-icon.svg';\nimport eyeHide from './assets/new/eye-hide-icon.svg';\nimport eye from './assets/new/eye-icon.svg';\nimport externalLink from './assets/new/external-link-icon.svg';\nimport freeTx from './assets/free-tx-icon.svg';\nimport gear from './assets/new/gear-icon.svg';\nimport googlePlay from './assets/new/google-play-icon.svg';\nimport home from './assets/new/home-icon.svg';\nimport info from './assets/new/info-icon.svg';\nimport lock from './assets/lock-icon.svg';\nimport logout from './assets/logout-icon.svg';\nimport more from './assets/more-icon.svg';\nimport pen from './assets/new/pen-icon.svg';\nimport plug from './assets/plug-icon.svg';\nimport plus from './assets/new/plus-icon.svg';\nimport qr from './assets/new/qr-icon.svg';\nimport questionCircle from './assets/question-circle-icon.svg';\nimport reload from './assets/reload-icon.svg';\nimport search from './assets/search-icon.svg';\nimport settings from './assets/settings-icon.svg';\nimport success from './assets/success-icon.svg';\nimport sun from './assets/sun-icon.svg';\nimport swap from './assets/new/swap-icon.svg';\nimport timer from './assets/timer-icon.svg';\nimport top from './assets/new/top-icon.svg';\nimport wallet from './assets/wallet-icon.svg';\nimport warning from './assets/warning-icon.svg';\nimport warningTransparent from './assets/new/warning-transparent-icon.svg';\nimport clockTransparent from './assets/new/clock-transparent-icon.svg';\n\nconst iconsMap = new Map<string, string>([\n  ['arrow', arrow],\n  ['app-store', appStore],\n  ['arrow-triangle', arrowTriangle],\n  ['bottom', bottom],\n  ['branch', branch],\n  ['card', card],\n  ['chain', chain],\n  ['change', change],\n  ['checkmark', checkmark],\n  ['chevron-1', chevron1],\n  ['chevron', chevron],\n  ['chevron-rounded', chevronRounded],\n  ['close', close],\n  ['copy', copy],\n  ['currency', currency],\n  ['db', db],\n  ['bucket', bucket],\n  ['gear', gear],\n  ['google-play', googlePlay],\n  ['more', more],\n  ['eye-hide', eyeHide],\n  ['eye', eye],\n  ['external-link', externalLink],\n  ['search', search],\n  ['settings', settings],\n  ['success', success],\n  ['sun', sun],\n  ['swap', swap],\n  ['timer', timer],\n  ['home', home],\n  ['lock', lock],\n  ['logout', logout],\n  ['pen', pen],\n  ['plug', plug],\n  ['plus', plus],\n  ['qr', qr],\n  ['question-circle', questionCircle],\n  ['reload', reload],\n  ['top', top],\n  ['wallet', wallet],\n  ['warning', warning],\n  ['error', error],\n  ['attention', attention],\n  ['clock', clock],\n  ['free-tx', freeTx],\n  ['info', info],\n  ['warning-transparent', warningTransparent],\n  ['clock-transparent', clockTransparent],\n]);\n\nexport type Props = {\n  name: string;\n  size?: string | number;\n  height?: string | number;\n  width?: string | number;\n  style?: CSSProperties;\n  className?: string;\n};\n\nexport const Icon: FC<Props> = ({ name, size, height, width, ...props }) => {\n  const validProps: {\n    [prop: string]: never;\n  } = {};\n\n  Object.keys(props).forEach((prop) => {\n    if (isPropValid(prop)) {\n      // @ts-ignore\n      validProps[prop] = props[prop];\n    }\n  });\n\n  const icon = iconsMap.get(name) as BrowserSpriteSymbol | undefined;\n\n  if (!icon) {\n    return null;\n  }\n\n  return (\n    <svg\n      {...validProps}\n      viewBox={icon.viewBox}\n      height={size || height}\n      width={size || width}\n      {...props}>\n      <use xlinkHref={`#${icon.id}`} />\n    </svg>\n  );\n};\n","import React, { forwardRef, FunctionComponent, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.label`\n  display: flex;\n  align-items: center;\n  height: 42px;\n\n  background: #f6f6f8;\n  border: 1px solid transparent;\n  border-radius: 12px;\n  cursor: text;\n\n  &.isFocused {\n    border: 1px solid rgba(163, 165, 186, 0.5);\n  }\n`;\n\nconst Content = styled.div`\n  position: relative;\n\n  display: flex;\n  flex: 1;\n  align-items: center;\n  margin: 0 16px;\n`;\n\nconst InputElement = styled.input`\n  padding: 0;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 14px;\n  font-family: unset;\n  line-height: 140%;\n\n  background: transparent;\n  border: 0;\n\n  outline: none;\n\n  appearance: none;\n\n  &:not(:first-child) {\n    padding-top: 4px;\n  }\n`;\n\nconst SuffixWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  display: flex;\n\n  font-weight: 600;\n  font-size: 14px;\n  font-family: unset;\n  line-height: 140%;\n`;\n\nconst TransparentValue = styled.div`\n  margin-right: 2px;\n\n  color: transparent;\n`;\n\nconst ClearWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 28px;\n  height: 28px;\n  margin: 0 7px;\n\n  background: #fff;\n  border-radius: 8px;\n  cursor: pointer;\n`;\n\nconst ClearIcon = styled(Icon)`\n  width: 13px;\n  height: 13px;\n\n  color: #a3a5ba;\n`;\n\ntype CustomProps = {\n  forwardedRef?: React.Ref<HTMLInputElement>;\n  prefix?: React.ReactNode;\n  suffix?: string;\n  postfix?: React.ReactNode;\n  showClear?: boolean;\n  onChange?: (value: string) => void;\n};\n\ntype Props = Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'> & CustomProps;\n\nconst InputOriginal: FunctionComponent<Props> = ({\n  forwardedRef,\n  prefix,\n  value,\n  suffix,\n  postfix,\n  showClear,\n  onChange,\n  className,\n  ...props\n}) => {\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(true);\n\n    if (props.onFocus) {\n      props.onFocus(e);\n    }\n  };\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(false);\n\n    if (props.onBlur) {\n      props.onBlur(e);\n    }\n  };\n\n  const handleChange = (e: React.FocusEvent<HTMLInputElement>) => {\n    if (onChange) {\n      onChange(e.target.value);\n    }\n  };\n\n  const handleClear = () => {\n    if (onChange) {\n      onChange('');\n    }\n  };\n\n  const renderPostfix = () => {\n    if (!postfix && !showClear) {\n      return;\n    }\n\n    if (showClear) {\n      return (\n        <ClearWrapper onClick={handleClear}>\n          <ClearIcon name=\"close\" />\n        </ClearWrapper>\n      );\n    }\n\n    return postfix;\n  };\n\n  return (\n    <Wrapper className={classNames(className, { isFocused })}>\n      {prefix}\n      <Content>\n        <InputElement\n          ref={forwardedRef}\n          value={value}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          onChange={handleChange}\n          {...props}\n        />\n        {suffix ? (\n          <SuffixWrapper>\n            <TransparentValue>{value}</TransparentValue>\n            {suffix}\n          </SuffixWrapper>\n        ) : undefined}\n      </Content>\n      {renderPostfix()}\n    </Wrapper>\n  );\n};\n\nexport const Input = forwardRef<HTMLInputElement, Props>(\n  (props, ref: React.Ref<HTMLInputElement>) => <InputOriginal {...props} forwardedRef={ref} />,\n);\n","import React, { FunctionComponent, HTMLAttributes } from 'react';\n\nimport { styled } from '@linaria/react';\n\nconst Wrapper = styled.img<{ size: string | number | undefined }>`\n  width: ${({ size }) => (size ? `${size}px` : 'auto')};\n  height: ${({ size }) => (size ? `${size}px` : 'auto')};\n\n  border-radius: 12px;\n\n  /* transparent pixel for not showing border if no src */\n  &:not([src]) {\n    content: url('data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==');\n  }\n`;\n\ntype Props = {\n  src?: string;\n  size?: string | number;\n};\n\nexport const Avatar: FunctionComponent<Props & HTMLAttributes<HTMLDivElement>> = ({\n  src,\n  size,\n  ...props\n}) => {\n  return <Wrapper src={src} size={size} {...props} />;\n};\n","import React, { FunctionComponent, useEffect, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nconst PlugIcon = styled(Icon)`\n  width: 15px;\n  height: 15px;\n\n  color: #a3a5ba;\n`;\n\nconst Value = styled.div`\n  max-width: 83px;\n  margin: 0 6px 0 8px;\n  overflow: hidden;\n\n  color: #202020;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n  white-space: nowrap;\n\n  text-transform: capitalize;\n  text-overflow: ellipsis;\n`;\n\nconst Selector = styled.div`\n  display: flex;\n  align-items: center;\n  max-width: 153px;\n  margin: 4px;\n\n  cursor: pointer;\n\n  &.isOpen,\n  &:hover {\n    ${PlugIcon},\n    ${Value} {\n      color: #5887ff;\n    }\n  }\n`;\n\nconst ArrowWrapper = styled.div`\n  margin-right: 4px;\n`;\n\nconst ArrowIcon = styled(Icon)`\n  width: 16px;\n  height: 16px;\n\n  color: #a3a5ba;\n`;\n\nconst DropDownList = styled.div`\n  position: absolute;\n  right: 0;\n  z-index: 1;\n\n  min-width: 204px;\n  margin-top: 8px;\n  padding: 8px;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n`;\n\ntype Props = {\n  value: string;\n};\n\nexport const Select: FunctionComponent<Props> = ({ children, value }) => {\n  const selectorRef = useRef<HTMLDivElement>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleAwayClick = (e: MouseEvent) => {\n    if (!selectorRef.current?.contains(e.target as HTMLDivElement)) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', handleAwayClick);\n\n    return () => {\n      window.removeEventListener('click', handleAwayClick);\n    };\n  }, []);\n\n  const handleSelectorClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const items = React.Children.map(children, (child) => {\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, { close: handleSelectorClick });\n    }\n    return child;\n  });\n\n  return (\n    <Wrapper ref={selectorRef}>\n      <Selector onClick={handleSelectorClick} className={classNames({ isOpen })}>\n        <Value>{value}</Value>\n        <ArrowWrapper>\n          <ArrowIcon name=\"arrow-triangle\" />\n        </ArrowWrapper>\n      </Selector>\n      {isOpen ? <DropDownList>{items}</DropDownList> : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nconst Wrapper = styled.label`\n  display: inline-block;\n  flex-shrink: 0;\n  width: 36px;\n  height: 20px;\n\n  background-color: #a3a5ba;\n  border: 1px solid #a3a5ba;\n  border-radius: 15px;\n\n  cursor: pointer;\n\n  transition: background-color 0.13s;\n\n  &.checked {\n    background-color: #34c759;\n    border-color: #34c759;\n  }\n`;\n\nconst Toggler = styled.div`\n  position: relative;\n  top: 1px;\n  left: 1px;\n\n  width: 16px;\n  height: 16px;\n\n  background-color: #fff;\n  border-radius: 50%;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n    0 2px 1px -1px rgba(0, 0, 0, 0.12);\n\n  transition: left 0.13s, background-color 0.13s;\n\n  &.checked {\n    left: 17px;\n\n    background-color: #fff;\n  }\n`;\n\nconst CheckboxHidden = styled.input`\n  position: absolute;\n\n  width: 1px;\n  height: 1px;\n\n  margin: -1px;\n  padding: 0;\n\n  overflow: hidden;\n\n  white-space: nowrap;\n\n  border: 0;\n\n  clip: rect(0 0 0 0);\n\n  clip-path: inset(100%);\n`;\n\ntype Props = {\n  checked: boolean;\n  onChange: (checked: boolean) => void;\n};\n\nexport const Switch: FunctionComponent<Props> = ({ checked, onChange }) => {\n  const handleTogglerClick = () => {\n    onChange(!checked);\n  };\n\n  return (\n    <Wrapper className={classNames({ checked })}>\n      <Toggler className={classNames({ checked })} />\n      <CheckboxHidden type=\"checkbox\" checked={checked} onChange={handleTogglerClick} />\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\n\nconst Wrapper = styled.label``;\n\nconst Label = styled.div`\n  position: relative;\n\n  padding: 0 0 0 48px;\n\n  font-weight: 600;\n  font-size: 16px;\n\n  cursor: pointer;\n\n  &::before {\n    position: absolute;\n\n    top: 3px;\n    left: 0;\n\n    width: 20px;\n    height: 20px;\n\n    background: #fff;\n\n    border: 2px solid #a3a5ba;\n    border-radius: 50%;\n\n    content: '';\n  }\n\n  &::after {\n    position: absolute;\n\n    top: 9px;\n    left: 6px;\n\n    width: 8px;\n    height: 8px;\n\n    background: #fff;\n\n    border-radius: 50%;\n\n    opacity: 0;\n\n    transition: 0.2s;\n\n    content: '';\n  }\n`;\n\nconst Radio = styled.input`\n  position: absolute;\n  z-index: -1;\n\n  opacity: 0;\n\n  &:hover + ${Label}::before {\n    border-color: #5887ff;\n  }\n\n  &:checked + ${Label}::after {\n    opacity: 1;\n  }\n\n  &:checked + ${Label}::before, &:focus + ${Label}::before {\n    background: #5887ff;\n    border-color: #5887ff;\n  }\n`;\n\ntype Props = {\n  label: string;\n  checked: boolean;\n  value: any;\n  onChange: (value: any) => void;\n  className?: string;\n};\n\nexport const RadioButton: FunctionComponent<Props> = ({\n  label,\n  checked,\n  value,\n  onChange,\n  className,\n}) => {\n  const handleChange = () => {\n    onChange(value);\n  };\n\n  return (\n    <Wrapper className={className}>\n      <Radio checked={checked} name=\"radio-button\" type=\"radio\" onChange={handleChange} />\n      <Label>{label}</Label>\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, useEffect, useRef, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nconst MoreIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nconst MoreIconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 36px;\n  height: 36px;\n\n  cursor: pointer;\n\n  &.isOpen,\n  &:hover {\n    ${MoreIcon} {\n      color: #5887ff;\n    }\n  }\n\n  &.vertical {\n    transform: rotate(90deg);\n  }\n`;\n\nconst DropDownList = styled.div`\n  position: absolute;\n  left: 0;\n  z-index: 1;\n\n  min-width: 150px;\n  margin-top: 4px;\n  padding: 10px;\n\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n`;\n\ntype Props = {\n  vertical?: boolean;\n};\n\nexport const Menu: FunctionComponent<Props> = ({ children, vertical }) => {\n  const selectorRef = useRef<HTMLDivElement>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleAwayClick = (e: MouseEvent) => {\n    if (!selectorRef.current?.contains(e.target as HTMLDivElement)) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('click', handleAwayClick);\n\n    return () => {\n      window.removeEventListener('click', handleAwayClick);\n    };\n  }, []);\n\n  const handleMenuClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const items = React.Children.map(children, (child) => {\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, { close: handleMenuClick });\n    }\n    return child;\n  });\n\n  return (\n    <Wrapper ref={selectorRef}>\n      <MoreIconWrapper onClick={handleMenuClick} className={classNames({ isOpen, vertical })}>\n        <MoreIcon name=\"more\" />\n      </MoreIconWrapper>\n      {isOpen ? <DropDownList>{items}</DropDownList> : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  display: inline-flex;\n`;\n\nconst Title = styled.div`\n  display: flex;\n  align-items: center;\n\n  cursor: pointer;\n`;\n\nconst Popover = styled.div`\n  position: absolute;\n  top: 16px;\n  right: -14px;\n  z-index: 1;\n\n  min-width: max-content;\n  margin-top: 8px;\n  padding: 10px 12px;\n\n  color: #fff;\n\n  background: rgba(0, 0, 0, 0.75);\n  border-radius: 12px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);\n\n  &.noOpacity {\n    background: #202020;\n  }\n`;\n\ntype Props = {\n  title: string | React.ReactNode;\n  noOpacity?: boolean;\n  className?: string;\n};\n\nexport const Tooltip: FunctionComponent<Props> = ({ title, noOpacity, children, className }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleMouseEnter = () => {\n    setIsOpen(true);\n  };\n  const handleMouseLeave = () => {\n    setIsOpen(false);\n  };\n\n  return (\n    <Wrapper className={className}>\n      <Title onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n        {title}\n      </Title>\n      {isOpen ? <Popover className={classNames({ noOpacity })}>{children}</Popover> : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n`;\n\nconst TitleWrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  padding: 20px;\n\n  cursor: pointer;\n\n  &.isOpen {\n    border-bottom: 1px solid #f6f6f8;\n  }\n`;\n\nconst Title = styled.div`\n  display: flex;\n  flex: 1;\n  align-content: space-between;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst Left = styled.div`\n  display: flex;\n  flex-grow: 1;\n`;\n\nconst Right = styled.div`\n  margin-right: 12px;\n`;\n\nconst ChevronIcon = styled(Icon)`\n  width: 20px;\n  height: 20px;\n\n  color: #a3a5ba;\n\n  &.isOpen {\n    transform: rotate(180deg);\n  }\n`;\n\nconst Content = styled.div`\n  &:not(.noContentPadding) {\n    padding: 16px 20px;\n  }\n`;\n\ntype Props = {\n  title: string | React.ReactNode;\n  right?: string | React.ReactNode;\n  open?: boolean;\n  hideRightIfOpen?: boolean;\n  noContentPadding?: boolean;\n  className?: string;\n};\n\nexport const Accordion: FC<Props> = ({\n  title,\n  right,\n  open = false,\n  hideRightIfOpen,\n  noContentPadding,\n  children,\n  className,\n}) => {\n  const [isOpen, setIsOpen] = useState(open);\n\n  return (\n    <Wrapper className={className}>\n      <TitleWrapper onClick={() => setIsOpen(!isOpen)} className={classNames({ isOpen })}>\n        <Title>\n          <Left>{title}</Left>\n          {right ? hideRightIfOpen && isOpen ? undefined : <Right>{right}</Right> : undefined}\n        </Title>\n        <ChevronIcon name=\"chevron\" className={classNames({ isOpen })} />\n      </TitleWrapper>\n      {isOpen ? (\n        <Content className={classNames({ noContentPadding })}>{children}</Content>\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Icon } from 'components/ui';\n\nconst Main = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\nconst Label = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n`;\n\nconst IconWrapper = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #a3a5ba;\n`;\n\nconst Value = styled.div`\n  display: flex;\n  margin-top: 4px;\n\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  padding: 12px 20px;\n\n  border: 1px solid #f6f6f8;\n  border-radius: 12px;\n\n  cursor: pointer;\n\n  &:hover {\n    ${Value} {\n      color: #458aff;\n    }\n\n    ${IconWrapper} {\n      color: #458aff;\n    }\n  }\n`;\n\ntype Props = {\n  label: string;\n  value: string | React.ReactNode;\n  icon?: string | React.ReactNode;\n  onClick?: () => void;\n  className?: string;\n};\n\nconst renderIcon = (icon: string | React.ReactNode) => {\n  return typeof icon === 'string' ? <IconWrapper name={icon} /> : icon;\n};\n\nexport const TextField: FC<Props> = ({ label, value, icon, onClick, className }) => {\n  return (\n    <Wrapper className={className} onClick={onClick}>\n      <Main>\n        <Label>{label}</Label>\n        <Value>{value}</Value>\n      </Main>\n      {icon ? renderIcon(icon) : undefined}\n    </Wrapper>\n  );\n};\n","import { TokenListContainer } from '@solana/spl-token-registry';\nimport defaultTokenlist from '@solana/spl-token-registry/dist/main/tokens/solana.tokenlist.json';\n\n// eslint-disable-next-line import/no-default-export\nexport default new TokenListContainer(defaultTokenlist.tokens);\n","import { RootState } from 'store/rootReducer';\n\nexport const rateSelector = (symbol?: string) => (state: RootState) => {\n  if (!symbol) {\n    return null;\n  }\n\n  const rate = state.rate.markets[symbol];\n\n  if (!rate) {\n    return null;\n  }\n\n  return rate;\n};\n","import {\n  ParsedInstruction,\n  ParsedMessageAccount,\n  PartiallyDecodedInstruction,\n  PublicKey,\n  TransactionError,\n  TransactionSignature,\n} from '@solana/web3.js';\nimport { Decimal } from 'decimal.js';\n\nimport { SerializableToken, Token } from 'api/token/Token';\nimport { SerializableTokenAccount, TokenAccount } from 'api/token/TokenAccount';\nimport { titleCase } from 'utils/common';\nimport { Serializable } from 'utils/types';\n\nexport type ParsedConfirmedTransactionMeta = {\n  fee: number;\n  err: TransactionError | null;\n};\n\ntype Instruction = ParsedInstruction | PartiallyDecodedInstruction;\n\ntype TransactionMessage = {\n  accountKeys: ParsedMessageAccount[] | undefined;\n  instructions: Instruction[] | undefined;\n};\n\ntype ParsedShort = {\n  type: string | null;\n  source: PublicKey | null;\n  sourceTokenAccount: TokenAccount | null;\n  sourceToken: Token | null;\n  destination: PublicKey | null;\n  destinationTokenAccount: TokenAccount | null;\n  destinationToken: Token | null;\n  sourceAmount: Decimal;\n  destinationAmount: Decimal;\n};\n\ntype SerializedShort = {\n  type: string | null;\n  source: string | null;\n  sourceTokenAccount: SerializableTokenAccount | null;\n  sourceToken: SerializableToken | null;\n  destination: string | null;\n  destinationTokenAccount: SerializableTokenAccount | null;\n  destinationToken: SerializableToken | null;\n  sourceAmount: number;\n  destinationAmount: number;\n};\n\ntype SerializedParsedInstruction = {\n  programId: string;\n  program: string;\n  parsed: string;\n};\n\ntype SerializedPartiallyDecodedInstruction = {\n  programId: string;\n  accounts: Array<string>;\n  data: string;\n};\n\ntype SerializedAccountKeys = {\n  pubkey: string;\n  signer: boolean;\n  writable: boolean;\n};\n\ntype SerializedInstruction = SerializedParsedInstruction | SerializedPartiallyDecodedInstruction;\n\ntype SerializedTransactionMessage = {\n  accountKeys: SerializedAccountKeys[] | undefined;\n  instructions: SerializedInstruction[] | undefined;\n};\n\nexport type SerializableTransaction = {\n  signature: string;\n  slot: number;\n  timestamp: number | null | undefined;\n  meta: ParsedConfirmedTransactionMeta | null;\n  message: SerializedTransactionMessage;\n  short: SerializedShort;\n};\n\nexport class Transaction implements Serializable<SerializableTransaction> {\n  readonly signature: TransactionSignature;\n\n  readonly slot: number;\n\n  readonly timestamp: number | null | undefined;\n\n  readonly meta: ParsedConfirmedTransactionMeta | null;\n\n  readonly message: TransactionMessage | null;\n\n  readonly short: ParsedShort;\n\n  constructor(\n    signature: TransactionSignature,\n    slot: number,\n    timestamp: number | null | undefined,\n    meta: ParsedConfirmedTransactionMeta | null,\n    message: TransactionMessage | null,\n    short: ParsedShort,\n  ) {\n    this.signature = signature;\n    this.slot = slot;\n    this.timestamp = timestamp;\n    this.meta = meta;\n    this.message = message;\n    this.short = short;\n  }\n\n  toString(): string {\n    return this.signature;\n  }\n\n  serialize(): SerializableTransaction {\n    const accountKeys: SerializedAccountKeys[] | undefined = this.message?.accountKeys?.map(\n      (key) => ({\n        ...key,\n        pubkey: key.pubkey.toBase58(),\n      }),\n    );\n\n    const instructions: SerializedInstruction[] | undefined = this.message?.instructions?.map(\n      (instruction) => {\n        const serializedInstruction = {\n          ...instruction,\n          programId: instruction.programId.toBase58(),\n        } as SerializedInstruction;\n\n        if ((instruction as PartiallyDecodedInstruction).accounts) {\n          (serializedInstruction as SerializedPartiallyDecodedInstruction).accounts = (instruction as PartiallyDecodedInstruction).accounts.map(\n            (account) => account.toBase58(),\n          );\n        }\n\n        return serializedInstruction;\n      },\n    );\n\n    return {\n      signature: this.signature,\n      slot: this.slot,\n      timestamp: this.timestamp,\n      meta: this.meta,\n      message: {\n        accountKeys,\n        instructions,\n      },\n      short: {\n        type: this.short.type || null,\n        source: this.short.source?.toBase58() || null,\n        sourceTokenAccount: this.short.sourceTokenAccount?.serialize() || null,\n        sourceToken:\n          this.short.sourceToken?.serialize() ||\n          this.short.sourceTokenAccount?.mint.serialize() ||\n          null,\n        destination: this.short.destination?.toBase58() || null,\n        destinationTokenAccount: this.short.destinationTokenAccount?.serialize() || null,\n        destinationToken:\n          this.short.destinationToken?.serialize() ||\n          this.short.destinationTokenAccount?.mint.serialize() ||\n          null,\n        sourceAmount: this.short.sourceAmount.toNumber(),\n        destinationAmount: this.short.destinationAmount.toNumber(),\n      },\n    };\n  }\n\n  details(isSameAccount?: boolean) {\n    let { type } = this.short;\n    const typeOriginal = type;\n    let icon: string | undefined;\n    let isReceiver: boolean | undefined = isSameAccount;\n\n    const {\n      source,\n      destination,\n      sourceTokenAccount,\n      sourceToken,\n      destinationTokenAccount,\n      destinationToken,\n      sourceAmount,\n      destinationAmount,\n    } = this.short;\n\n    let amount: Decimal | null = this.short.sourceAmount;\n    let tokenAccount: TokenAccount | null = this.short.sourceTokenAccount;\n    let token: Token | null = this.short.sourceToken;\n\n    if (type === 'swap') {\n      icon = 'swap';\n    } else if (type === 'createAccount') {\n      icon = 'wallet';\n    } else if (type === 'closeAccount') {\n      icon = 'bucket';\n    } else if (!type) {\n      type = 'transaction';\n      icon = 'db';\n    }\n\n    if (isReceiver) {\n      if (type === 'swap') {\n        amount = this.short.destinationAmount;\n        tokenAccount = this.short.destinationTokenAccount;\n        token = this.short.destinationToken;\n      } else if (type === 'transfer' || type === 'transferChecked') {\n        type = 'receive';\n        icon = 'bottom';\n      } else if (type === 'createAccount') {\n        isReceiver = false;\n      }\n    } else if (type === 'transfer' || type === 'transferChecked') {\n      type = 'transfer';\n      icon = 'top';\n    } else if (type === 'mintRenBTC') {\n      icon = 'bottom';\n      isReceiver = true;\n    } else if (type === 'burnRenBTC') {\n      icon = 'top';\n    }\n\n    if (type) {\n      type = titleCase(type);\n    }\n\n    return {\n      isReceiver,\n      type,\n      typeOriginal,\n      icon,\n      source,\n      destination,\n      sourceTokenAccount,\n      sourceToken,\n      destinationTokenAccount,\n      destinationToken,\n      tokenAccount,\n      token,\n      sourceAmount,\n      destinationAmount,\n      amount,\n    };\n  }\n\n  static from(serializableTransaction: SerializableTransaction): Transaction {\n    const accountKeys:\n      | ParsedMessageAccount[]\n      | undefined = serializableTransaction.message?.accountKeys?.map((key) => ({\n      ...key,\n      pubkey: new PublicKey(key.pubkey),\n    }));\n\n    const instructions:\n      | Instruction[]\n      | undefined = serializableTransaction.message?.instructions?.map((instruction) => {\n      const originalInstruction = {\n        ...instruction,\n        programId: new PublicKey(instruction.programId),\n      } as Instruction;\n\n      if ((instruction as SerializedPartiallyDecodedInstruction).accounts) {\n        (originalInstruction as PartiallyDecodedInstruction).accounts = (instruction as SerializedPartiallyDecodedInstruction).accounts.map(\n          (account) => new PublicKey(account),\n        );\n      }\n\n      return originalInstruction;\n    });\n\n    return new Transaction(\n      serializableTransaction.signature,\n      serializableTransaction.slot,\n      serializableTransaction.timestamp,\n      serializableTransaction.meta,\n      { accountKeys, instructions },\n      {\n        type: serializableTransaction.short.type,\n        source: serializableTransaction.short.source\n          ? new PublicKey(serializableTransaction.short.source)\n          : null,\n        sourceTokenAccount: serializableTransaction.short.sourceTokenAccount\n          ? TokenAccount.from(serializableTransaction.short.sourceTokenAccount)\n          : null,\n        sourceToken: serializableTransaction.short.sourceToken\n          ? Token.from(\n              serializableTransaction.short.sourceToken ||\n                serializableTransaction.short.sourceTokenAccount?.mint,\n            )\n          : null,\n        destination: serializableTransaction.short.destination\n          ? new PublicKey(serializableTransaction.short.destination)\n          : null,\n        destinationTokenAccount: serializableTransaction.short.destinationTokenAccount\n          ? TokenAccount.from(serializableTransaction.short.destinationTokenAccount)\n          : null,\n        destinationToken: serializableTransaction.short.destinationToken\n          ? Token.from(\n              serializableTransaction.short.destinationToken ||\n                serializableTransaction.short.destinationTokenAccount?.mint,\n            )\n          : null,\n        sourceAmount: new Decimal(serializableTransaction.short.sourceAmount),\n        destinationAmount: new Decimal(serializableTransaction.short.destinationAmount),\n      },\n    );\n  }\n}\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nimport { Icon } from 'components/ui';\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n\n  color: #f43d3d;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n`;\n\nconst WarningIcon = styled(Icon)`\n  width: 16px;\n  height: 16px;\n  margin-right: 12px;\n\n  color: #f43d3d;\n`;\n\ninterface Props {\n  error: string;\n  noIcon?: boolean;\n}\n\nexport const ErrorHint: FC<Props> = ({ error, noIcon }) => {\n  return (\n    <Wrapper>\n      {!noIcon ? <WarningIcon name=\"warning\" /> : undefined}\n      {error}\n    </Wrapper>\n  );\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\n\nconst Wrapper = styled.div`\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  position: relative;\n\n  width: 20px;\n  height: 20px;\n  margin: 0 auto;\n  overflow: hidden;\n\n  border-radius: 50%;\n\n  animation: spin 1s linear infinite;\n\n  &::after {\n    position: absolute;\n\n    top: 50%;\n    left: 50%;\n\n    width: 80%;\n    height: 80%;\n\n    background: #fff;\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n\n    content: '';\n  }\n`;\n\nconst Inner = styled.div`\n  position: absolute;\n\n  width: 100%;\n  height: 50%;\n  margin-top: 50%;\n\n  background: linear-gradient(90deg, #5987ff, #d3dffe);\n\n  &::before {\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n    margin-top: -50%;\n\n    background: linear-gradient(90deg, #f9fafe, #d3dffe);\n\n    content: '';\n  }\n`;\n\ninterface Props {\n  size?: string;\n}\n\nexport const Loader: FC<Props> = ({ size, ...props }) => {\n  return (\n    <Wrapper style={{ width: size && `${size}px`, height: size && `${size}px` }} {...props}>\n      <Inner />\n    </Wrapper>\n  );\n};\n","import React from 'react';\n\nimport { NotifyToast } from 'components/common/NotifyToast';\nimport { ToastManager } from 'components/common/ToastManager';\n\ntype TransferParams = {\n  header: string;\n  text: string;\n  status?: 'processing' | 'success' | 'error';\n  symbol?: string;\n  symbolB?: string;\n};\n\nexport const transferNotification = (params: TransferParams) => {\n  ToastManager.show(({ onClose }) => <NotifyToast type=\"transfer\" onClose={onClose} {...params} />);\n};\n\nexport const swapNotification = (params: TransferParams) => {\n  ToastManager.show(({ onClose }) => <NotifyToast type=\"swap\" onClose={onClose} {...params} />);\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { RendererParams, Toast } from 'components/common/ToastManager';\nimport { TokenAvatar } from 'components/common/TokenAvatar';\nimport { Icon } from 'components/ui';\n\nconst ToastStyled = styled(Toast)`\n  align-items: flex-start;\n  position: relative;\n\n  color: #000;\n\n  background-color: #fff;\n`;\n\nconst ToastIconWrapper = styled.div`\n  padding: 10px;\n  border-radius: 12px;\n`;\n\nconst ToastIcon = styled(Icon)`\n  flex-shrink: 0;\n  width: 22px;\n  height: 22px;\n`;\n\nconst InfoIcon = styled(Icon)`\n  flex-shrink: 0;\n  width: 24px;\n  height: 22px;\n`;\n\nconst ToastWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  padding: 0 10px 0 16px;\n`;\n\nconst ToastHeader = styled.div`\n  display: inline-block;\n\n  font-weight: 600;\n  font-size: 16px;\n\n  &::first-letter {\n    text-transform: uppercase;\n  }\n`;\n\nconst ToastText = styled.div`\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  padding-top: 5px;\n\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 16px;\n\n  &.confirmed {\n    color: #4caf50;\n  }\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 14px;\n  right: 14px;\n\n  flex-shrink: 0;\n  height: 14px;\n  margin: -10px -12px -10px 0;\n\n  color: #a3a5ba;\n\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n\n  transition: color 0.15s;\n\n  appearance: none;\n\n  &:hover {\n    color: #000;\n  }\n`;\n\nconst CloseIcon = styled(Icon)`\n  width: 14px;\n  height: 14px;\n`;\n\nconst StatusIcon = styled(Icon)`\n  flex-shrink: 0;\n  width: 15px;\n  height: 15px;\n  margin-right: 8px;\n`;\n\nconst SwapAvatarsWrapper = styled.div`\n  position: relative;\n\n  width: 48px;\n  height: 48px;\n\n  & > :nth-child(1) {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  & > :nth-child(2) {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n  }\n`;\n\nconst ButtonWrapper = styled.div`\n  align-items: center;\n  margin-top: 8px;\n  padding-top: 12px;\n`;\n\ntype TransferParams = {\n  status?:\n    | 'processing'\n    | 'success'\n    | 'error'\n    | 'warning'\n    | 'confirmingDeposit'\n    | 'confirmedDeposit';\n  symbol?: string;\n  symbolB?: string;\n  button?: React.ReactNode;\n};\n\ntype Props = RendererParams & TransferParams;\n\nexport const NotifyToast: FunctionComponent<Props> = ({\n  type,\n  header,\n  text,\n  status,\n  symbol,\n  symbolB,\n  onClose,\n  button,\n}) => {\n  let icon;\n  let statusIcon;\n\n  switch (type) {\n    case 'info':\n      icon = <ToastIcon name=\"success\" style={{ color: '#4caf50' }} />;\n      break;\n    case 'warn':\n      icon = <InfoIcon name=\"attention\" />;\n      break;\n    case 'error':\n      icon = <ToastIcon name=\"error\" style={{ color: '#ff5959' }} />;\n      break;\n    case 'transfer':\n    case 'transferChecked':\n      icon = <TokenAvatar symbol={symbol} size={44} />;\n      break;\n    case 'swap':\n      icon = (\n        <SwapAvatarsWrapper>\n          <TokenAvatar symbol={symbol} size={32} />\n          <TokenAvatar symbol={symbolB} size={32} />\n        </SwapAvatarsWrapper>\n      );\n      break;\n    case 'mint':\n      icon = (\n        <ToastIconWrapper>\n          <ToastIcon name=\"warning-transparent\" style={{ color: '#ffa631' }} />\n        </ToastIconWrapper>\n      );\n      break;\n    case 'confirmingDeposit':\n      icon = <TokenAvatar symbol=\"BTC\" size={44} />;\n      break;\n    default:\n      icon = null;\n  }\n\n  switch (status) {\n    case 'processing':\n      statusIcon = <StatusIcon name=\"clock\" style={{ color: '#ffa631' }} />;\n      break;\n    case 'success':\n      statusIcon = <StatusIcon name=\"success\" style={{ color: '#4caf50' }} />;\n      break;\n    case 'error':\n      statusIcon = <StatusIcon name=\"warning\" style={{ color: '#ff5959' }} />;\n      break;\n    case 'confirmingDeposit':\n      statusIcon = <StatusIcon name=\"clock-transparent\" style={{ color: '#a3a5ba' }} />;\n      break;\n    case 'confirmedDeposit':\n      statusIcon = <StatusIcon name=\"clock-transparent\" />;\n      break;\n    default:\n      statusIcon = null;\n  }\n\n  return (\n    <ToastStyled>\n      {icon}\n      <ToastWrapper>\n        <ToastHeader>{header}</ToastHeader>\n        <ToastText className={classNames({ confirmed: status === 'confirmedDeposit' })}>\n          {status ? statusIcon : undefined}\n          {text}\n        </ToastText>\n        {button ? <ButtonWrapper>{button}</ButtonWrapper> : undefined}\n      </ToastWrapper>\n      {onClose ? (\n        <CloseButton type=\"button\" name=\"notify-toast__close\" onClick={onClose}>\n          <CloseIcon name=\"close\" />\n        </CloseButton>\n      ) : null}\n    </ToastStyled>\n  );\n};\n","import { AccountInfo as TokenAccount, MintInfo } from '@solana/spl-token';\nimport { PublicKey } from '@solana/web3.js';\n\nimport { SOL_MINT } from 'app/contexts/swapSerum/common/constants';\n\n// Cache storing all token accounts for the connected wallet provider.\nexport const _OWNED_TOKEN_ACCOUNTS_CACHE: Array<{\n  publicKey: PublicKey;\n  account: TokenAccount;\n}> = [];\n\n// Cache storing all previously fetched mint infos.\nexport const _MINT_CACHE = new Map<string, Promise<MintInfo>>([\n  // @ts-ignore\n  [SOL_MINT.toString(), { decimals: 9 }],\n]);\n","import { Market } from '@project-serum/serum';\n\nexport const _MARKET_CACHE = new Map<string, Promise<Market>>();\n","import { useEffect, useState } from 'react';\n\nimport * as anchor from '@project-serum/anchor';\nimport { Market, OpenOrders } from '@project-serum/serum';\nimport { MintLayout } from '@solana/spl-token';\nimport { PublicKey } from '@solana/web3.js';\nimport * as assert from 'assert';\nimport { createContainer } from 'unstated-next';\n\nimport { Swap as SwapClient } from 'app/libs/swap';\n\nimport { DEX_PID } from '../common/constants';\nimport { setMintCache } from '../token/utils/setMintCache';\nimport { _MARKET_CACHE } from './common/cache';\n\nconst BASE_TAKER_FEE_BPS = 0.0022;\nexport const FEE_MULTIPLIER = 1 - BASE_TAKER_FEE_BPS;\n\nexport interface UseDex {\n  // Maps market address to open orders accounts.\n  openOrders: Map<string, Array<OpenOrders>>;\n  closeOpenOrders: (openOrder: OpenOrders) => void;\n  swapClient: SwapClient;\n}\n\nexport interface UseDexArgs {\n  swapClient: SwapClient;\n}\n\nconst useDexInternal = (props: UseDexArgs): UseDex => {\n  const [ooAccounts, setOoAccounts] = useState<Map<string, Array<OpenOrders>>>(new Map());\n  const swapClient = props.swapClient;\n\n  // Removes the given open orders from the context.\n  const closeOpenOrders = async (openOrder: OpenOrders) => {\n    const newOoAccounts = new Map(ooAccounts);\n    const openOrders = newOoAccounts\n      .get(openOrder.market.toString())\n      ?.filter((oo: OpenOrders) => !oo.address.equals(openOrder.address));\n\n    if (openOrders && openOrders.length > 0) {\n      newOoAccounts.set(openOrder.market.toString(), openOrders);\n    } else {\n      newOoAccounts.delete(openOrder.market.toString());\n    }\n\n    setOoAccounts(newOoAccounts);\n  };\n\n  // Three operations:\n  //\n  // 1. Fetch all open orders accounts for the connected wallet.\n  // 2. Batch fetch all market accounts for those open orders.\n  // 3. Batch fetch all mints associated with the markets.\n  useEffect(() => {\n    if (!swapClient.program.provider.wallet.publicKey) {\n      setOoAccounts(new Map());\n      return;\n    }\n\n    OpenOrders.findForOwner(\n      swapClient.program.provider.connection,\n      swapClient.program.provider.wallet.publicKey,\n      DEX_PID,\n    ).then(async (openOrders) => {\n      const newOoAccounts = new Map();\n      let markets = new Set<string>();\n\n      openOrders.forEach((oo) => {\n        markets.add(oo.market.toString());\n\n        if (newOoAccounts.get(oo.market.toString())) {\n          newOoAccounts.get(oo.market.toString()).push(oo);\n        } else {\n          newOoAccounts.set(oo.market.toString(), [oo]);\n        }\n      });\n\n      if (markets.size > 100) {\n        // Punt request chunking until there's user demand.\n        throw new Error('Too many markets. Please file an issue to update this');\n      }\n\n      const multipleMarkets = await anchor.utils.rpc.getMultipleAccounts(\n        swapClient.program.provider.connection,\n        Array.from(markets.values()).map((m) => new PublicKey(m)),\n      );\n\n      const marketClients = multipleMarkets.map((programAccount) => {\n        return {\n          publicKey: programAccount?.publicKey,\n          account: new Market(\n            Market.getLayout(DEX_PID).decode(programAccount?.account.data),\n            -1, // Set below so that we can batch fetch mints.\n            -1, // Set below so that we can batch fetch mints.\n            swapClient.program.provider.opts,\n            DEX_PID,\n          ),\n        };\n      });\n\n      setOoAccounts(newOoAccounts);\n\n      // Batch fetch all the mints, since we know we'll need them at some\n      // point.\n      const mintPubkeys = Array.from(\n        new Set<string>(\n          marketClients\n            .map((m) => [\n              m.account.baseMintAddress.toString(),\n              m.account.quoteMintAddress.toString(),\n            ])\n            .flat(),\n        ).values(),\n      ).map((pk) => new PublicKey(pk));\n\n      if (mintPubkeys.length > 100) {\n        // Punt request chunking until there's user demand.\n        throw new Error('Too many mints. Please file an issue to update this');\n      }\n\n      const mints = await anchor.utils.rpc.getMultipleAccounts(\n        swapClient.program.provider.connection,\n        mintPubkeys,\n      );\n\n      const mintInfos = mints.map((mint) => {\n        const mintInfo = MintLayout.decode(mint!.account.data);\n        setMintCache(mint!.publicKey, mintInfo);\n        return { publicKey: mint!.publicKey, mintInfo };\n      });\n\n      marketClients.forEach((m) => {\n        const baseMintInfo = mintInfos.filter((mint) =>\n          mint.publicKey.equals(m.account.baseMintAddress),\n        )[0];\n        const quoteMintInfo = mintInfos.filter((mint) =>\n          mint.publicKey.equals(m.account.quoteMintAddress),\n        )[0];\n        assert.ok(baseMintInfo && quoteMintInfo);\n        // @ts-ignore\n        m.account._baseSplTokenDecimals = baseMintInfo.mintInfo.decimals;\n        // @ts-ignore\n        m.account._quoteSplTokenDecimals = quoteMintInfo.mintInfo.decimals;\n        _MARKET_CACHE.set(\n          m.publicKey!.toString(),\n          new Promise<Market>((resolve) => resolve(m.account)),\n        );\n      });\n    });\n  }, [\n    swapClient.program.provider.connection,\n    swapClient.program.provider.wallet.publicKey,\n    swapClient.program.provider.opts,\n  ]);\n\n  return {\n    openOrders: ooAccounts,\n    closeOpenOrders,\n    swapClient,\n  };\n};\n\nexport const { Provider: DexProvider, useContainer: useDex } = createContainer(useDexInternal);\n","import { MintInfo } from '@solana/spl-token';\nimport { PublicKey } from '@solana/web3.js';\n\nimport { _MINT_CACHE } from '../common/cache';\n\nexport function setMintCache(pk: PublicKey, account: MintInfo) {\n  _MINT_CACHE.set(pk.toString(), new Promise((resolve) => resolve(account)));\n}\n","import { Connection, PublicKey } from '@solana/web3.js';\n\nconst _SOLLET_INFO_CACHE = new Map<string, SolletInfo>();\nconst _SWAP_MARKET_EXISTS_CACHE = new Map<string, boolean>();\n\nexport class SwapApiError extends Error {\n  readonly name: string;\n  readonly status: number;\n  constructor(msg: string, status: number) {\n    super(msg);\n    this.name = 'SwapApiError';\n    this.status = status;\n  }\n}\n\nasync function handleSwapApiResponse(resp: Response) {\n  let json = await resp.json();\n  if (!json.success) {\n    throw new SwapApiError(json.error, resp.status);\n  }\n  return json.result;\n}\n\nexport async function swapApiRequest(method: string, path: string, body?: Object) {\n  let headers: any = {};\n  let params: any = { headers, method };\n  if (method === 'GET') {\n    params.cache = 'no-cache';\n  } else if (body) {\n    headers['Content-Type'] = 'application/json';\n    params.body = JSON.stringify(body);\n  }\n  let resp = await fetch(`https://swap.sollet.io/api/${path}`, params);\n  return await handleSwapApiResponse(resp);\n}\n\n// Token info tracked by the sollet bridge.\ntype SolletInfo = {\n  blockchain: string;\n  erc20Contract: string;\n  name: string;\n  splMint: PublicKey;\n  ticker: string;\n};\n\n// Fetches the token info from the sollet bridge.\nexport async function fetchSolletInfo(mint: PublicKey): Promise<SolletInfo> {\n  let info = _SOLLET_INFO_CACHE.get(mint.toString());\n  if (info !== undefined) {\n    return info;\n  }\n\n  const infoRaw = await swapApiRequest('GET', `coins/sol/${mint.toString()}`);\n  info = { ...infoRaw, splMint: new PublicKey(infoRaw.splMint) };\n  _SOLLET_INFO_CACHE.set(mint.toString(), info!);\n\n  return info!;\n}\n\n// Requests the creation of a sollet wormhole swap market, if it doesn't\n// already exist. Note: this triggers a creation notification. Creation\n// doesn't happen immediately, but at some unspecified point in the future\n// since market makers need to setup on the swap market and provide liquidity.\n//\n// Returns true if the market exists already. False otherwise.\nexport async function requestWormholeSwapMarketIfNeeded(\n  connection: Connection,\n  solletMint: PublicKey,\n  wormholeMint: PublicKey,\n  swapMarket: PublicKey,\n  solletInfo: SolletInfo,\n): Promise<boolean> {\n  const cached = _SWAP_MARKET_EXISTS_CACHE.get(swapMarket.toString());\n  if (cached !== undefined) {\n    return cached;\n  }\n  const acc = await connection.getAccountInfo(swapMarket);\n  if (acc === null) {\n    _SWAP_MARKET_EXISTS_CACHE.set(swapMarket.toString(), false);\n    const resource = `wormhole/pool/${\n      solletInfo.ticker\n    }/${swapMarket.toString()}/${solletMint.toString()}/${wormholeMint.toString()}`;\n    swapApiRequest('POST', resource).catch(console.error);\n    return false;\n  } else {\n    _SWAP_MARKET_EXISTS_CACHE.set(swapMarket.toString(), true);\n    return true;\n  }\n}\n","import { useAsync } from 'react-async-hook';\n\nimport { TokenInfo } from '@solana/spl-token-registry';\nimport { Connection, PublicKey } from '@solana/web3.js';\n\nimport {\n  DEX_PID,\n  SOL_MINT,\n  USDC_MINT,\n  USDT_MINT,\n  WORM_MARKET_BASE,\n  WORM_USDC_MARKET,\n  WORM_USDC_MINT,\n  WORM_USDT_MARKET,\n  WORM_USDT_MINT,\n  WRAPPED_SOL_MINT,\n} from '../../../common/constants';\nimport { useTokenList } from '../../../tokenList';\nimport { useDex } from '../../provider';\nimport { fetchSolletInfo, requestWormholeSwapMarketIfNeeded } from './utils';\n\n// Wormhole utils.\n\nfunction wormKey(fromMint: PublicKey, toMint: PublicKey): string {\n  const [first, second] = fromMint < toMint ? [fromMint, toMint] : [toMint, fromMint];\n  return first.toString() + second.toString();\n}\n\n// Maps fromMint || toMint (in sort order) to swap market public key.\n// All markets for wormhole<->native tokens should be here, e.g.\n// USDC <-> wUSDC.\nconst WORMHOLE_NATIVE_MAP = new Map<string, PublicKey>([\n  [wormKey(WORM_USDC_MINT, USDC_MINT), WORM_USDC_MARKET],\n  [wormKey(WORM_USDT_MINT, USDT_MINT), WORM_USDT_MARKET],\n]);\n\nfunction wormholeNativeMarket(fromMint: PublicKey, toMint: PublicKey): PublicKey | null {\n  return WORMHOLE_NATIVE_MAP.get(wormKey(fromMint, toMint)) ?? null;\n}\n\n// Calculates the deterministic address for the sollet<->wormhole 1-1 swap\n// market.\nasync function deriveWormholeMarket(\n  baseMint: PublicKey,\n  quoteMint: PublicKey,\n  version = 0,\n): Promise<PublicKey | null> {\n  if (version > 99) {\n    console.log('Swap market version cannot be greater than 99');\n    return null;\n  }\n  if (version < 0) {\n    console.log('Version cannot be less than zero');\n    return null;\n  }\n\n  const padToTwo = (n: number) => (n <= 99 ? `0${n}`.slice(-2) : n);\n  const seed =\n    baseMint.toString().slice(0, 15) + quoteMint.toString().slice(0, 15) + padToTwo(version);\n  return await PublicKey.createWithSeed(WORM_MARKET_BASE, seed, DEX_PID);\n}\n\n// Returns the market address of the 1-1 sollet<->wormhole swap market if it\n// exists. Otherwise, returns null.\nasync function wormholeSolletMarket(\n  conn: Connection,\n  fromMint: PublicKey,\n  toMint: PublicKey,\n  wormholeMap: Map<string, TokenInfo>,\n  solletMap: Map<string, TokenInfo>,\n): Promise<PublicKey | null> {\n  const fromWormhole = wormholeMap.get(fromMint.toString());\n  const isFromWormhole = fromWormhole !== undefined;\n\n  const toWormhole = wormholeMap.get(toMint.toString());\n  const isToWormhole = toWormhole !== undefined;\n\n  const fromSollet = solletMap.get(fromMint.toString());\n  const isFromSollet = fromSollet !== undefined;\n\n  const toSollet = solletMap.get(toMint.toString());\n  const isToSollet = toSollet !== undefined;\n\n  if ((isFromWormhole || isToWormhole) && isFromWormhole !== isToWormhole) {\n    if ((isFromSollet || isToSollet) && isFromSollet !== isToSollet) {\n      const base = isFromSollet ? fromMint : toMint;\n      const [quote, wormholeInfo] = isFromWormhole\n        ? [fromMint, fromWormhole]\n        : [toMint, toWormhole];\n\n      const solletInfo = await fetchSolletInfo(base);\n\n      if (solletInfo.erc20Contract !== wormholeInfo!.extensions?.address) {\n        return null;\n      }\n\n      const market = await deriveWormholeMarket(base, quote);\n      if (market === null) {\n        return null;\n      }\n\n      const marketExists = await requestWormholeSwapMarketIfNeeded(\n        conn,\n        base,\n        quote,\n        market,\n        solletInfo,\n      );\n      if (!marketExists) {\n        return null;\n      }\n\n      return market;\n    }\n  }\n  return null;\n}\n\nasync function wormholeSwapMarket(\n  conn: Connection,\n  fromMint: PublicKey,\n  toMint: PublicKey,\n  wormholeMap: Map<string, TokenInfo>,\n  solletMap: Map<string, TokenInfo>,\n): Promise<[PublicKey, RouteKind] | null> {\n  let market = wormholeNativeMarket(fromMint, toMint);\n  if (market !== null) {\n    return [market, 'wormhole-native'];\n  }\n  market = await wormholeSolletMarket(conn, fromMint, toMint, wormholeMap, solletMap);\n  if (market === null) {\n    return null;\n  }\n  return [market, 'wormhole-sollet'];\n}\n\ntype RouteKind = 'wormhole-native' | 'wormhole-sollet' | 'usdx';\n\n// Types of routes.\n//\n// 1. Direct trades on USDC quoted markets.\n// 2. Transitive trades across two USDC qutoed markets.\n// 3. Wormhole <-> Sollet one-to-one swap markets.\n// 4. Wormhole <-> Native one-to-one swap markets.\n//\nexport function useRouteVerbose(\n  fromMint: PublicKey,\n  toMint: PublicKey,\n): { markets: Array<PublicKey>; kind: RouteKind } | null {\n  const { swapClient } = useDex();\n  const { wormholeMap, solletMap } = useTokenList();\n\n  const asyncRoute = useAsync(async () => {\n    const swapMarket = await wormholeSwapMarket(\n      swapClient.program.provider.connection,\n      fromMint,\n      toMint,\n      wormholeMap,\n      solletMap,\n    );\n\n    if (swapMarket !== null) {\n      const [wormholeMarket, kind] = swapMarket;\n      return { markets: [wormholeMarket], kind };\n    }\n\n    const markets = swapClient.route(\n      fromMint.equals(SOL_MINT) ? WRAPPED_SOL_MINT : fromMint,\n      toMint.equals(SOL_MINT) ? WRAPPED_SOL_MINT : toMint,\n    );\n\n    if (markets === null) {\n      return null;\n    }\n\n    const kind: RouteKind = 'usdx';\n    return { markets, kind };\n  }, [fromMint, toMint, swapClient]);\n\n  if (asyncRoute.result) {\n    return asyncRoute.result;\n  }\n\n  return null;\n}\n","import { useAsync } from 'react-async-hook';\n\nimport { Market } from '@project-serum/serum';\nimport { PublicKey } from '@solana/web3.js';\n\nimport { DEX_PID } from '../../common/constants';\nimport { _MARKET_CACHE } from '../common/cache';\nimport { useDex } from './../provider';\n\n// Lazy load a given market.\nexport function useMarket(market?: PublicKey): Market | undefined {\n  const { swapClient } = useDex();\n\n  const asyncMarket = useAsync(async () => {\n    if (!market) {\n      return undefined;\n    }\n    if (_MARKET_CACHE.get(market.toString())) {\n      return _MARKET_CACHE.get(market.toString());\n    }\n\n    const marketClient = new Promise<Market>(async (resolve) => {\n      // TODO: if we already have the mints, then pass them through to the\n      //       market client here to save a network request.\n      const marketClient = await Market.load(\n        swapClient.program.provider.connection,\n        market,\n        swapClient.program.provider.opts,\n        DEX_PID,\n      );\n\n      console.log(market.toString(), marketClient);\n\n      resolve(marketClient);\n    });\n\n    _MARKET_CACHE.set(market.toString(), marketClient);\n    return marketClient;\n  }, [swapClient.program.provider.connection, market]);\n\n  if (asyncMarket.result) {\n    return asyncMarket.result;\n  }\n\n  return undefined;\n}\n","import { useEffect, useState } from 'react';\nimport { useAsync } from 'react-async-hook';\n\nimport { Orderbook as OrderbookSide } from '@project-serum/serum/lib/market';\nimport { PublicKey } from '@solana/web3.js';\n\nimport { useDex } from '../provider';\nimport { useMarket } from './useMarket';\n\ntype Orderbook = {\n  bids: OrderbookSide;\n  asks: OrderbookSide;\n};\n\nconst _ORDERBOOK_CACHE = new Map<string, Promise<Orderbook>>();\n\n// Lazy load the orderbook for a given market.\nexport function useOrderbook(market?: PublicKey): Orderbook | undefined {\n  const { swapClient } = useDex();\n  const marketClient = useMarket(market);\n  const [refresh, setRefresh] = useState(0);\n\n  const asyncOrderbook = useAsync(async () => {\n    if (!market || !marketClient) {\n      return undefined;\n    }\n\n    if (_ORDERBOOK_CACHE.get(market.toString())) {\n      return _ORDERBOOK_CACHE.get(market.toString());\n    }\n\n    const orderbook = new Promise<Orderbook>(async (resolve) => {\n      const [bids, asks] = await Promise.all([\n        marketClient.loadBids(swapClient.program.provider.connection),\n        marketClient.loadAsks(swapClient.program.provider.connection),\n      ]);\n\n      resolve({\n        bids,\n        asks,\n      });\n    });\n\n    _ORDERBOOK_CACHE.set(market.toString(), orderbook);\n\n    return orderbook;\n  }, [refresh, swapClient.program.provider.connection, market, marketClient]);\n\n  // Stream in bids updates.\n  useEffect(() => {\n    let listener: number | undefined;\n\n    if (marketClient?.bidsAddress) {\n      listener = swapClient.program.provider.connection.onAccountChange(\n        marketClient?.bidsAddress,\n        async (info) => {\n          const bids = OrderbookSide.decode(marketClient, info.data);\n          const orderbook = await _ORDERBOOK_CACHE.get(marketClient.address.toString());\n          const oldBestBid = orderbook?.bids.items(true).next().value;\n          const newBestBid = bids.items(true).next().value;\n          if (orderbook && oldBestBid && newBestBid && oldBestBid.price !== newBestBid.price) {\n            orderbook.bids = bids;\n            setRefresh((r) => r + 1);\n          }\n        },\n      );\n    }\n\n    return () => {\n      if (listener) {\n        swapClient.program.provider.connection.removeAccountChangeListener(listener);\n      }\n    };\n  }, [marketClient, marketClient?.bidsAddress, swapClient.program.provider.connection]);\n\n  // Stream in asks updates.\n  useEffect(() => {\n    let listener: number | undefined;\n\n    if (marketClient?.asksAddress) {\n      listener = swapClient.program.provider.connection.onAccountChange(\n        marketClient?.asksAddress,\n        async (info) => {\n          const asks = OrderbookSide.decode(marketClient, info.data);\n          const orderbook = await _ORDERBOOK_CACHE.get(marketClient.address.toString());\n          const oldBestOffer = orderbook?.asks.items(false).next().value;\n          const newBestOffer = asks.items(false).next().value;\n          if (\n            orderbook &&\n            oldBestOffer &&\n            newBestOffer &&\n            oldBestOffer.price !== newBestOffer.price\n          ) {\n            orderbook.asks = asks;\n            setRefresh((r) => r + 1);\n          }\n        },\n      );\n    }\n\n    return () => {\n      if (listener) {\n        swapClient.program.provider.connection.removeAccountChangeListener(listener);\n      }\n    };\n  }, [marketClient, marketClient?.bidsAddress, swapClient.program.provider.connection]);\n\n  if (asyncOrderbook.result) {\n    return asyncOrderbook.result;\n  }\n\n  return undefined;\n}\n","import { PublicKey } from '@solana/web3.js';\n\nimport { useOrderbook } from './useOrderbook';\n\ntype Bbo = {\n  bestBid?: number;\n  bestOffer?: number;\n  mid?: number;\n};\n\n// Fair price for a given market, as defined by the mid.\nexport function useBbo(market?: PublicKey): Bbo | undefined {\n  const orderbook = useOrderbook(market);\n\n  if (orderbook === undefined) {\n    return undefined;\n  }\n\n  const bestBid = orderbook.bids.items(true).next().value;\n  const bestOffer = orderbook.asks.items(false).next().value;\n\n  if (!bestBid && !bestOffer) {\n    return {};\n  }\n\n  if (!bestBid) {\n    return { bestOffer: bestOffer.price };\n  }\n\n  if (!bestOffer) {\n    return { bestBid: bestBid.price };\n  }\n\n  const mid = (bestBid.price + bestOffer.price) / 2.0;\n\n  return { bestBid: bestBid.price, bestOffer: bestOffer.price, mid };\n}\n","import { PublicKey } from '@solana/web3.js';\n\nimport { useRouteVerbose } from './useRouteVerbose';\n\nexport function useRoute(fromMint: PublicKey, toMint: PublicKey): Array<PublicKey> | null {\n  const route = useRouteVerbose(fromMint, toMint);\n\n  if (route === null) {\n    return null;\n  }\n\n  return route.markets;\n}\n","import { PublicKey } from '@solana/web3.js';\n\nimport { SOL_MINT, WRAPPED_SOL_MINT } from '../../common/constants';\nimport { useBbo } from './useBbo';\nimport { useMarket } from './useMarket';\nimport { useRoute } from './useRoute';\n\n// Fair price for a theoretical toMint/fromMint market. I.e., the number\n// of `fromMint` tokens to purchase a single `toMint` token. Aggregates\n// across a trade route, if needed.\nexport function useFairRoute(fromMint: PublicKey, toMint: PublicKey): number | undefined {\n  const route = useRoute(fromMint, toMint);\n  const fromBbo = useBbo(route ? route[0] : undefined);\n  const fromMarket = useMarket(route ? route[0] : undefined);\n  const toBbo = useBbo(route ? route[1] : undefined);\n\n  if (route === null) {\n    return undefined;\n  }\n\n  if (route.length === 1 && fromBbo !== undefined) {\n    if (fromMarket === undefined) {\n      return undefined;\n    }\n\n    if (\n      fromMarket?.baseMintAddress.equals(fromMint) ||\n      (fromMarket?.baseMintAddress.equals(WRAPPED_SOL_MINT) && fromMint.equals(SOL_MINT))\n    ) {\n      return fromBbo.bestBid && 1.0 / fromBbo.bestBid;\n    } else {\n      return fromBbo.bestOffer && fromBbo.bestOffer;\n    }\n  }\n\n  if (\n    fromBbo === undefined ||\n    fromBbo.bestBid === undefined ||\n    toBbo === undefined ||\n    toBbo.bestOffer === undefined\n  ) {\n    return undefined;\n  }\n\n  return toBbo.bestOffer / fromBbo.bestBid;\n}\n","// TODO: replace this whole file with something more modern. This is all copied\n//       from sollet.\n\nimport { BN } from '@project-serum/anchor';\nimport {\n  AccountInfo as TokenAccount,\n  ASSOCIATED_TOKEN_PROGRAM_ID,\n  Token,\n  TOKEN_PROGRAM_ID,\n} from '@solana/spl-token';\nimport { Connection, PublicKey } from '@solana/web3.js';\nimport BufferLayout from 'buffer-layout';\n\nconst ACCOUNT_LAYOUT = BufferLayout.struct([\n  BufferLayout.blob(32, 'mint'),\n  BufferLayout.blob(32, 'owner'),\n  BufferLayout.nu64('amount'),\n  BufferLayout.blob(93),\n]);\n\nfunction getOwnedAccountsFilters(publicKey: PublicKey) {\n  return [\n    {\n      memcmp: {\n        // @ts-ignore\n        offset: ACCOUNT_LAYOUT.offsetOf('owner'),\n        bytes: publicKey.toBase58(),\n      },\n    },\n    {\n      dataSize: ACCOUNT_LAYOUT.span,\n    },\n  ];\n}\n\nexport function parseTokenAccountData(data: Buffer): TokenAccount {\n  // @ts-ignore\n  let { mint, owner, amount } = ACCOUNT_LAYOUT.decode(data);\n  // @ts-ignore\n  return {\n    mint: new PublicKey(mint),\n    owner: new PublicKey(owner),\n    amount: new BN(amount),\n  };\n}\n\nexport async function getOwnedAssociatedTokenAccounts(\n  connection: Connection,\n  publicKey: PublicKey,\n) {\n  let filters = getOwnedAccountsFilters(publicKey);\n  // @ts-ignore\n  let resp = await connection.getProgramAccounts(TOKEN_PROGRAM_ID, {\n    commitment: connection.commitment,\n    filters,\n  });\n\n  const accs = resp\n    .map(({ pubkey, account: { data, executable, owner, lamports } }: any) => ({\n      publicKey: new PublicKey(pubkey),\n      accountInfo: {\n        data,\n        executable,\n        owner: new PublicKey(owner),\n        lamports,\n      },\n    }))\n    .map(({ publicKey, accountInfo }: any) => {\n      return { publicKey, account: parseTokenAccountData(accountInfo.data) };\n    });\n\n  return (\n    (\n      await Promise.all(\n        accs\n          // @ts-ignore\n          .map(async (ta) => {\n            const ata = await Token.getAssociatedTokenAddress(\n              ASSOCIATED_TOKEN_PROGRAM_ID,\n              TOKEN_PROGRAM_ID,\n              ta.account.mint,\n              publicKey,\n            );\n            return [ta, ata];\n          }),\n      )\n    )\n      // @ts-ignore\n      .filter(([ta, ata]) => ta.publicKey.equals(ata))\n      // @ts-ignore\n      .map(([ta]) => ta)\n  );\n}\n","import { useEffect, useState } from 'react';\n\nimport { BN, Provider } from '@project-serum/anchor';\nimport { createContainer } from 'unstated-next';\n\nimport { SOL_MINT } from '../common/constants';\nimport { _OWNED_TOKEN_ACCOUNTS_CACHE } from './common/cache';\nimport { getOwnedAssociatedTokenAccounts } from './utils/getOwnedAssociatedTokenAccounts';\n\nexport interface UseToken {\n  provider: Provider;\n}\n\nexport interface UseTokenArgs {\n  provider: Provider;\n}\n\nconst useTokenInternal = (props: UseTokenArgs): UseToken => {\n  const provider = props.provider;\n  const [, setRefresh] = useState(0);\n\n  // Fetch all the owned token accounts for the wallet.\n  useEffect(() => {\n    if (!provider.wallet.publicKey) {\n      _OWNED_TOKEN_ACCOUNTS_CACHE.length = 0;\n      setRefresh((r) => r + 1);\n      return;\n    }\n    // Fetch SPL tokens.\n    getOwnedAssociatedTokenAccounts(provider.connection, provider.wallet.publicKey).then((accs) => {\n      if (accs) {\n        // @ts-ignore\n        _OWNED_TOKEN_ACCOUNTS_CACHE.push(...accs);\n        setRefresh((r) => r + 1);\n      }\n    });\n    // Fetch SOL balance.\n    provider.connection.getAccountInfo(provider.wallet.publicKey).then((acc) => {\n      if (acc) {\n        _OWNED_TOKEN_ACCOUNTS_CACHE.push({\n          publicKey: provider.wallet.publicKey,\n          // @ts-ignore\n          account: {\n            amount: new BN(acc.lamports),\n            mint: SOL_MINT,\n          },\n        });\n        setRefresh((r) => r + 1);\n      }\n    });\n  }, [provider.wallet.publicKey, provider.connection]);\n\n  return {\n    provider,\n  };\n};\n\nexport const { Provider: TokenProvider, useContainer: useToken } = createContainer(\n  useTokenInternal,\n);\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { PublicKey } from '@solana/web3.js';\nimport assert from 'assert';\nimport { createContainer } from 'unstated-next';\n\nimport { SRM_MINT, USDC_MINT } from '../common/constants';\nimport { FEE_MULTIPLIER } from '../dex';\nimport { _useSwapFair } from './hooks/useSwapFair';\n\nconst DEFAULT_SLIPPAGE_PERCENT = 0.5;\n\nexport interface UseSwap {\n  // Mint being traded from. The user must own these tokens.\n  fromMint: PublicKey;\n  setFromMint: (m: PublicKey) => void;\n\n  // Mint being traded to. The user will receive these tokens after the swap.\n  toMint: PublicKey;\n  setToMint: (m: PublicKey) => void;\n\n  // Amount used for the swap.\n  fromAmount: number;\n  setFromAmount: (a: number) => void;\n\n  // *Expected* amount received from the swap.\n  toAmount: number;\n  setToAmount: (a: number) => void;\n\n  // Function to flip what we consider to be the \"to\" and \"from\" mints.\n  swapToFromMints: () => void;\n\n  // The amount (in units of percent) a swap can be off from the estimate\n  // shown to the user.\n  slippage: number;\n  setSlippage: (n: number) => void;\n\n  // Null if the user is using fairs directly from DEX prices.\n  // Otherwise, a user specified override for the price to use when calculating\n  // swap amounts.\n  fairOverride: number | null;\n  setFairOverride: (n: number | null) => void;\n\n  // The referral *owner* address. Associated token accounts must be created,\n  // first, for this to be used.\n  referral?: PublicKey;\n\n  // True if all newly created market accounts should be closed in the\n  // same user flow (ideally in the same transaction).\n  isClosingNewAccounts: boolean;\n\n  // True if the swap exchange rate should be a function of nothing but the\n  // from and to tokens, ignoring any quote tokens that may have been\n  // accumulated by performing the swap.\n  //\n  // Always false (for now).\n  isStrict: boolean;\n  setIsStrict: (isStrict: boolean) => void;\n\n  setIsClosingNewAccounts: (b: boolean) => void;\n}\n\nexport type UseSwapArgs = {\n  fromMint?: PublicKey;\n  toMint?: PublicKey;\n  fromAmount?: number;\n  toAmount?: number;\n  referral?: PublicKey;\n};\n\nconst useSwapInternal = (props: UseSwapArgs = {}): UseSwap => {\n  const [fromMint, setFromMint] = useState(props.fromMint ?? SRM_MINT);\n  const [toMint, setToMint] = useState(props.toMint ?? USDC_MINT);\n  const [fromAmount, _setFromAmount] = useState(props.fromAmount ?? 0);\n  const [toAmount, _setToAmount] = useState(props.toAmount ?? 0);\n  const [isClosingNewAccounts, setIsClosingNewAccounts] = useState(false);\n  const [isStrict, setIsStrict] = useState(false);\n  const [slippage, setSlippage] = useState(DEFAULT_SLIPPAGE_PERCENT);\n  const [fairOverride, setFairOverride] = useState<number | null>(null);\n  const fair = _useSwapFair(fromMint, toMint, fairOverride);\n  const referral = props.referral;\n\n  assert.ok(slippage >= 0);\n\n  const setFromAmount = useCallback(\n    (amount: number) => {\n      if (fair === undefined) {\n        _setFromAmount(0);\n        _setToAmount(0);\n        return;\n      }\n\n      _setFromAmount(amount);\n      _setToAmount(FEE_MULTIPLIER * (amount / fair));\n    },\n    [fair],\n  );\n\n  useEffect(() => {\n    if (!fair) {\n      return;\n    }\n\n    setFromAmount(fromAmount);\n  }, [fair, fromAmount, setFromAmount]);\n\n  const setToAmount = useCallback(\n    (amount: number) => {\n      if (fair === undefined) {\n        _setFromAmount(0);\n        _setToAmount(0);\n        return;\n      }\n\n      _setToAmount(amount);\n      _setFromAmount((amount * fair) / FEE_MULTIPLIER);\n    },\n    [fair],\n  );\n\n  const swapToFromMints = useCallback(() => {\n    const oldFrom = fromMint;\n    const oldTo = toMint;\n    const oldToAmount = toAmount;\n\n    _setFromAmount(oldToAmount);\n    setFromMint(oldTo);\n    setToMint(oldFrom);\n  }, [fromMint, toAmount, toMint]);\n\n  return {\n    fromMint,\n    setFromMint,\n    toMint,\n    setToMint,\n    fromAmount,\n    setFromAmount,\n    toAmount,\n    setToAmount,\n    swapToFromMints,\n    slippage,\n    setSlippage,\n    fairOverride,\n    setFairOverride,\n    isClosingNewAccounts,\n    isStrict,\n    setIsStrict,\n    setIsClosingNewAccounts,\n    referral,\n  };\n};\n\nexport const { Provider: SwapProvider, useContainer: useSwap } = createContainer(useSwapInternal);\n","import { PublicKey } from '@solana/web3.js';\n\nimport { useFairRoute } from '../../dex/hooks/useFairRoute';\nimport { useSwap } from '../provider';\n\nexport function _useSwapFair(\n  fromMint: PublicKey,\n  toMint: PublicKey,\n  fairOverride: number | null,\n): number | undefined {\n  const fairRoute = useFairRoute(fromMint, toMint);\n  const fair = fairOverride === null ? fairRoute : fairOverride;\n  return fair;\n}\n\nexport function useSwapFair(): number | undefined {\n  const { fairOverride, fromMint, toMint } = useSwap();\n  return _useSwapFair(fromMint, toMint, fairOverride);\n}\n","const SOL_COLOR = '#6FECB5';\n\nconst colors: { [sumbol: string]: string } = {\n  SOL: SOL_COLOR,\n  WSOL: SOL_COLOR,\n  SRM: '#7FD4E3',\n  MSRM: '#7FD4E3',\n  BTC: '#FEB150',\n  ETH: '#677DE3',\n  FTT: '#7FCEE2',\n  YFI: '#006AE3',\n  LINK: '#3C5CCB',\n  XRP: '#24292E',\n  WUSDT: '#4F9E7E',\n  USDT: '#4F9E7E',\n  USDC: '#3D73C4',\n  WUSDC: '#3D73C4',\n  SUSHI: '#D765A3',\n  ALEPH: '#518BE6',\n  SXP: '#FA7850',\n  HGET: '#F0CA5D',\n  CREAM: '#89DFDB',\n  UBXT: '#4BA6BA',\n  HNT: '#57A0F8',\n  FRONT: '#473733',\n  AKRO: '#B85BF4',\n  HXRO: '#56B838',\n  UNI: '#FBEBF5',\n  MATH: '#000000',\n  TOMO: '#252829',\n  LUA: '#F1BE5C',\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default colors;\n","// TODO: maybe move in to above folder cause it is use in TokenAvatar\n\nimport { useMemo } from 'react';\n\nimport { TokenInfo, TokenListContainer } from '@solana/spl-token-registry';\nimport { createContainer } from 'unstated-next';\n\nimport { SOL_MINT } from '../common/constants';\n\n// Tag in the spl-token-registry for sollet wrapped tokens.\nexport const SPL_REGISTRY_SOLLET_TAG = 'wrapped-sollet';\n\n// Tag in the spl-token-registry for wormhole wrapped tokens.\nexport const SPL_REGISTRY_WORM_TAG = 'wormhole';\n\nconst SOL_TOKEN_INFO = {\n  chainId: 101,\n  address: SOL_MINT.toString(),\n  name: 'Native SOL',\n  decimals: 9,\n  symbol: 'SOL',\n  logoURI: 'https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/info/logo.png',\n  tags: [],\n  extensions: {\n    website: 'https://solana.com/',\n    serumV3Usdc: '9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT',\n    serumV3Usdt: 'HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1',\n    coingeckoId: 'solana',\n    waterfallbot: 'https://t.me/SOLwaterfall',\n  },\n};\n\nexport interface UseTokenList {\n  tokenMap: Map<string, TokenInfo>;\n  wormholeMap: Map<string, TokenInfo>;\n  solletMap: Map<string, TokenInfo>;\n  swappableTokens: TokenInfo[];\n  swappableTokensSollet: TokenInfo[];\n  swappableTokensWormhole: TokenInfo[];\n}\n\nexport interface UseTokenListArgs {\n  tokenList: TokenListContainer;\n}\n\nconst useTokenListInternal = (props: UseTokenListArgs): UseTokenList => {\n  const tokenList = useMemo(() => {\n    const list = props.tokenList.filterByClusterSlug('mainnet-beta').getList();\n    // Manually add a fake SOL mint for the native token. The component is\n    // opinionated in that it distinguishes between wrapped SOL and SOL.\n    list.push(SOL_TOKEN_INFO);\n\n    return list;\n  }, [props.tokenList]);\n\n  // Token map for quick lookup.\n  const tokenMap = useMemo(() => {\n    const tokenMap = new Map();\n\n    tokenList.forEach((t: TokenInfo) => {\n      tokenMap.set(t.address, t);\n    });\n\n    return tokenMap;\n  }, [tokenList]);\n\n  // Tokens with USD(x) quoted markets.\n  const swappableTokens = useMemo(() => {\n    const tokens = tokenList.filter((t: TokenInfo) => {\n      const isUsdxQuoted = t.extensions?.serumV3Usdt || t.extensions?.serumV3Usdc;\n      return isUsdxQuoted;\n    });\n\n    tokens.sort((a: TokenInfo, b: TokenInfo) =>\n      a.symbol < b.symbol ? -1 : a.symbol > b.symbol ? 1 : 0,\n    );\n\n    return tokens;\n  }, [tokenList]);\n\n  // Sollet wrapped tokens.\n  const [swappableTokensSollet, solletMap] = useMemo(() => {\n    const tokens = tokenList.filter((t: TokenInfo) => {\n      const isSollet = t.tags?.includes(SPL_REGISTRY_SOLLET_TAG);\n      return isSollet;\n    });\n\n    tokens.sort((a: TokenInfo, b: TokenInfo) =>\n      a.symbol < b.symbol ? -1 : a.symbol > b.symbol ? 1 : 0,\n    );\n\n    return [tokens, new Map<string, TokenInfo>(tokens.map((t: TokenInfo) => [t.address, t]))];\n  }, [tokenList]);\n\n  // Wormhole wrapped tokens.\n  const [swappableTokensWormhole, wormholeMap] = useMemo(() => {\n    const tokens = tokenList.filter((t: TokenInfo) => {\n      const isSollet = t.tags?.includes(SPL_REGISTRY_WORM_TAG);\n      return isSollet;\n    });\n\n    tokens.sort((a: TokenInfo, b: TokenInfo) =>\n      a.symbol < b.symbol ? -1 : a.symbol > b.symbol ? 1 : 0,\n    );\n\n    return [tokens, new Map<string, TokenInfo>(tokens.map((t: TokenInfo) => [t.address, t]))];\n  }, [tokenList]);\n\n  return {\n    tokenMap,\n    wormholeMap,\n    solletMap,\n    swappableTokens,\n    swappableTokensWormhole,\n    swappableTokensSollet,\n  };\n};\n\nexport const { Provider: TokenListProvider, useContainer: useTokenList } = createContainer<\n  UseTokenList,\n  UseTokenListArgs\n>(useTokenListInternal);\n","import React, { FunctionComponent } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport emptyActivityImg from './empty_activity.png';\nimport emptySearchImg from './empty_search.png';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin: 50px 0;\n`;\n\nconst EmptyImage = styled.div`\n  &.search {\n    width: 82px;\n    height: 78px;\n\n    background: url(${emptySearchImg}) no-repeat 50% 50%;\n    background-size: 82px 78px;\n  }\n\n  &.activity {\n    width: 100px;\n    height: 100px;\n\n    background: url(${emptyActivityImg}) no-repeat 50% 50%;\n    background-size: 100px 100px;\n  }\n`;\n\nconst Title = styled.div`\n  margin-top: 12px;\n\n  color: #000;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 140%;\n`;\n\nconst Description = styled.div`\n  color: #a3a5ba;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 140%;\n`;\n\ninterface Props {\n  type: 'search' | 'activity';\n  title?: string;\n  desc?: string;\n}\n\nexport const Empty: FunctionComponent<Props> = ({\n  type,\n  title = 'Nothing found',\n  desc = 'Change your search phrase and try again',\n}) => {\n  return (\n    <Wrapper>\n      <EmptyImage className={classNames({ [type]: true })} />\n      <Title>{title}</Title>\n      <Description>{desc}</Description>\n    </Wrapper>\n  );\n};\n","type CacheOpts = {\n  ttl: number;\n};\n\ntype CacheItem<T> = {\n  timestamp: number;\n  cachedResult: T;\n};\n\nexport class CacheTTL<T> {\n  private readonly opts?: CacheOpts;\n\n  private readonly caches = new Map<string, CacheItem<T>>();\n\n  constructor(opts?: CacheOpts) {\n    this.opts = opts;\n  }\n\n  set(key: string, item: T) {\n    this.caches.set(key, { timestamp: Date.now(), cachedResult: item });\n  }\n\n  get(key: string): T | null {\n    const now = Date.now();\n    const { timestamp, cachedResult } = this.caches.get(key) || {};\n\n    if (timestamp && cachedResult) {\n      // cache hit\n      if (!this.opts?.ttl || now - timestamp < this.opts.ttl) {\n        // not expired\n        return cachedResult;\n      }\n    }\n\n    return null;\n  }\n\n  toArray() {\n    return Array.from(this.caches.values()).map((item) => item.cachedResult);\n  }\n}\n","import { ExtendedCluster } from './types';\n\nconst SOLANA_BASE_URL = 'https://explorer.solana.com/';\n\nexport const getExplorerUrl = (type = 'tx', address: string, cluster: ExtendedCluster): string => {\n  const baseUrlWithAddress = `${SOLANA_BASE_URL}${type}/${address}`;\n  switch (cluster) {\n    case 'devnet':\n    case 'testnet':\n      return `${baseUrlWithAddress}?cluster=${cluster}`;\n    default:\n      return baseUrlWithAddress;\n  }\n};\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nconst Address = styled.div`\n  flex-grow: 1;\n\n  font-weight: 600;\n  color: #000;\n\n  &.small {\n    font-size: 14px;\n  }\n\n  &.medium {\n    font-size: 16px;\n  }\n\n  &.big {\n    font-size: 18px;\n  }\n\n  &.gray {\n    color: #a3a5ba;\n  }\n`;\n\nconst BlueText = styled.span`\n  color: #5887ff;\n`;\n\ntype Props = {\n  address: string;\n  small?: boolean;\n  medium?: boolean;\n  big?: boolean;\n  gray?: boolean;\n  className?: string;\n};\n\nexport const AddressText: FC<Props> = ({\n  address,\n  small,\n  medium,\n  big,\n  gray = false,\n  className,\n}) => {\n  return (\n    <Address className={classNames(className, { gray, small, medium, big })}>\n      <BlueText>{address.slice(0, 4)}</BlueText>\n      {address.slice(4, -4)}\n      <BlueText>{address.slice(-4)}</BlueText>\n    </Address>\n  );\n};\n","import React, { FC, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst WrapperLabel = styled.label`\n  display: flex;\n  align-items: center;\n  height: 54px;\n  padding: 0 15px;\n\n  background: #f6f6f8;\n  border: 1px solid transparent;\n  border-radius: 12px;\n  cursor: text;\n\n  &.isFocused {\n    background: #fff;\n    border-color: #5887ff;\n  }\n\n  &.error {\n    border-color: #f43d3d;\n  }\n`;\n\nconst Input = styled.input`\n  flex: 1;\n\n  color: #161616;\n  font-weight: 500;\n  font-size: 16px;\n  font-family: 'Aktiv Grotesk Corp', sans-serif;\n  line-height: 22px;\n\n  background: transparent;\n  border: 0;\n  outline: none;\n\n  appearance: none;\n\n  &::placeholder {\n    color: #1616164c;\n    font-weight: 400;\n  }\n`;\n\nconst EyeWrapper = styled.div`\n  cursor: pointer;\n`;\n\nconst EyeIcon = styled(Icon)`\n  width: 24px;\n  height: 24px;\n\n  color: #c0c1cb;\n`;\n\nconst REGEX_PASSWORD = /[^\\w!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g;\n\ntype Props = {\n  onChange: (password: string) => void;\n};\n\nexport const PasswordInput: FC<\n  Props & Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type' | 'onChange'>\n> = ({ onChange, onFocus, onBlur, className, ...props }) => {\n  const [isShowPassword, setIsShowPassword] = useState(false);\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.replace(REGEX_PASSWORD, '');\n    onChange(value);\n  };\n\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(true);\n\n    if (onFocus) {\n      onFocus(e);\n    }\n  };\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(false);\n\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n\n  const handleToggleShowPassword = () => {\n    setIsShowPassword((state) => !state);\n  };\n\n  return (\n    <WrapperLabel className={classNames(className, { isFocused })}>\n      <Input\n        type={isShowPassword ? 'input' : 'password'}\n        {...props}\n        onChange={handleChange}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n      />\n      <EyeWrapper onClick={handleToggleShowPassword}>\n        <EyeIcon name={isShowPassword ? 'eye' : 'eye-hide'} />\n      </EyeWrapper>\n    </WrapperLabel>\n  );\n};\n","import { mergeLeft } from 'ramda';\n\nimport { sleep } from 'utils/common';\n\ntype RetryOptions = {\n  count: number;\n  intervalMS: number;\n  backoutMultiplier: number;\n};\n\nconst defaultRetryOptions: RetryOptions = {\n  // max number of retries\n  count: 10,\n  intervalMS: 200,\n  // every retry, multiply the interval by this amount\n  backoutMultiplier: 1.5,\n};\n\ninterface GenericAsyncFunction<U, R> {\n  (...args: Array<U>): Promise<R>;\n}\n\n/**\n * Creates a Proxy wraps the function in a retry function.\n * This should be only used if the function is idempotent, i.e. retrying should\n * return the same value and have no side-effects.\n *\n * @param fn\n * @param retryOptions\n */\nexport const retryableProxy = <U, R>(\n  fn: GenericAsyncFunction<U, R>,\n  retryOptions: Partial<RetryOptions> = defaultRetryOptions,\n): GenericAsyncFunction<U, R> => {\n  // combine the passed in options with default options\n  const options = mergeLeft(retryOptions, defaultRetryOptions);\n\n  const retryReducer = <T>(\n    target: GenericAsyncFunction<U, T>,\n    thisArg: unknown,\n    argArray: Array<U>,\n  ) => async (\n    previousValue: Promise<T>,\n    currentValue: Promise<T>,\n    currentIndex: number,\n  ): Promise<T> => {\n    const call = async () => target.apply(thisArg, argArray);\n\n    // if it hasn't been called yet, call the function\n    if (!previousValue) {\n      return call();\n    }\n\n    //  if it has been called, and failed, catch the error, wait and retry\n    return previousValue.catch((error: Error) => {\n      if (!error.message.includes('429 Too Many Requests')) {\n        throw error;\n      }\n\n      // if (error.message.includes('Transaction simulation failed')) {\n      //   throw error;\n      // }\n\n      const sleepMs = options.intervalMS * options.backoutMultiplier ** currentIndex;\n      console.error(error);\n      console.log(`Retrying after ${sleepMs}ms. (Retried ${currentIndex} times)`);\n\n      return sleep(sleepMs).then(call);\n    });\n  };\n\n  return new Proxy(fn, {\n    // trap the \"apply\" call to the proxied function,\n    // in other words, trap the function call itself\n    apply: (target, thisArg, argArray) => {\n      // reduce over the maximum number of retries.\n      // if any of them pass, the code will short-circuit and skip the rest\n      return [...new Array(options.count)]\n        .reduce(retryReducer(target, thisArg, argArray))\n        .catch((error: Error) => {\n          console.error('No more retries, throwing.');\n          throw error;\n        });\n    },\n  });\n};\n","import { Account, PublicKey, Transaction } from '@solana/web3.js';\nimport nacl from 'tweetnacl';\n\nimport { Wallet, WalletEvent } from '../Wallet';\nimport { getAccountFromSeed } from './utils';\n\nexport type ManualUserData = {\n  seed: string;\n  password?: string;\n  derivationPath: string;\n};\n\nexport type ManualStoredData = {\n  seed: string;\n  derivationPath: string;\n};\n\nexport type ManualWalletData = ManualUserData | ManualStoredData;\n\n/**\n * Manual wallet implementation that uses a private key\n */\nexport class ManualWallet extends Wallet {\n  // @ts-ignore\n  private account: Account;\n\n  // @ts-ignore\n  private _publicKey: PublicKey;\n\n  constructor(network: string, data: ManualWalletData) {\n    super(network);\n\n    void this.init(data);\n  }\n\n  init(data: ManualWalletData): void {\n    if (!data.seed) {\n      throw new Error('Wallet data must have seed');\n    }\n\n    if (!data.derivationPath) {\n      throw new Error('Wallet data must have derivationPath');\n    }\n\n    try {\n      const seed = Buffer.from(data.seed, 'hex');\n\n      this.account = getAccountFromSeed(seed, 0, data.derivationPath);\n      this._publicKey = this.account.publicKey;\n\n      // can be too fast and handler will not be set\n      setTimeout(() => {\n        this.emit(WalletEvent.CONNECT);\n      }, 0);\n    } catch (error) {\n      this.emit(WalletEvent.DISCONNECT, error);\n      throw error;\n    }\n  }\n\n  get pubkey(): PublicKey {\n    return this._publicKey;\n  }\n\n  get publicKey(): PublicKey {\n    return this._publicKey;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  disconnect(): void {\n    // Nothing to do here\n  }\n\n  async signTransaction(transaction: Transaction): Promise<Transaction> {\n    const message = transaction.serializeMessage();\n    const signature = nacl.sign.detached(message, this.account.secretKey);\n    transaction.addSignature(this.account.publicKey, Buffer.from(signature));\n    return Promise.resolve(transaction);\n  }\n\n  async signAllTransactions(transactions: Transaction[]): Promise<Transaction[]> {\n    for (const transaction of transactions) {\n      const message = transaction.serializeMessage();\n      const signature = nacl.sign.detached(message, this.account.secretKey);\n      transaction.addSignature(this.account.publicKey, Buffer.from(signature));\n    }\n    return Promise.resolve(transactions);\n  }\n}\n","/* eslint-disable no-case-declarations */\nimport { Account } from '@solana/web3.js';\nimport * as bip32 from 'bip32';\nimport bs58 from 'bs58';\nimport { pbkdf2 } from 'crypto';\nimport * as ed25519 from 'ed25519-hd-key';\nimport nacl from 'tweetnacl';\n\nimport { ERROR_WRONG_PASSWORD } from 'api/wallet/ManualWallet/errors';\n\nexport type LockedType = {\n  account: string;\n  encrypted: string;\n  nonce: string;\n  kdf: string;\n  salt: string;\n  iterations: number;\n  digest: string;\n};\n\ntype UnlockedType = {\n  mnemonic: string | null;\n  seed: string | null;\n  derivationPath: string | null;\n};\n\nexport const DERIVATION_PATH = {\n  deprecated: 'deprecated',\n  bip44: 'bip44',\n  bip44Change: 'bip44Change',\n};\n\nconst STORAGE_KEY_UNLOCKED = 'unlocked';\nexport const STORAGE_KEY_LOCKED = 'locked';\n\nconst EMPTY_UNLOCKED: UnlockedType = {\n  mnemonic: null,\n  seed: null,\n  derivationPath: null,\n};\n\nlet unlockedMnemonicAndSeed: UnlockedType = EMPTY_UNLOCKED;\n// for confirmation by password\nlet lockedMnemonicAndSeed: string | undefined;\n\nexport async function mnemonicToSeed(mnemonic: string) {\n  const bip39 = await import('bip39');\n  if (!bip39.validateMnemonic(mnemonic)) {\n    throw new Error('Invalid seed words');\n  }\n  const seed = await bip39.mnemonicToSeed(mnemonic);\n  return Buffer.from(seed).toString('hex');\n}\n\nfunction deriveSeed(\n  seed: Buffer,\n  walletIndex: number,\n  derivationPath: string,\n  accountIndex: number,\n): Buffer | undefined {\n  switch (derivationPath) {\n    case DERIVATION_PATH.deprecated:\n      const path = `m/501'/${walletIndex}'/0/${accountIndex}`;\n      return bip32.fromSeed(seed).derivePath(path).privateKey;\n    case DERIVATION_PATH.bip44:\n      const path44 = `m/44'/501'/${walletIndex}'`;\n      // @ts-ignore\n      return ed25519.derivePath(path44, seed).key;\n    case DERIVATION_PATH.bip44Change:\n      const path44Change = `m/44'/501'/${walletIndex}'/0'`;\n      // @ts-ignore\n      return ed25519.derivePath(path44Change, seed).key;\n    default:\n      throw new Error(`invalid derivation path: ${derivationPath}`);\n  }\n}\n\nexport function getAccountFromSeed(\n  seed: Buffer,\n  walletIndex: number,\n  derivationPath: string,\n  accountIndex = 0,\n) {\n  const derivedSeed = deriveSeed(seed, walletIndex, derivationPath, accountIndex) as Uint8Array;\n  return new Account(nacl.sign.keyPair.fromSeed(derivedSeed).secretKey);\n}\n\nexport function getDerivableAccounts(seed: string, derivationPath: string) {\n  return new Array(5)\n    .fill(null)\n    .map((_, idx) => getAccountFromSeed(Buffer.from(seed, 'hex'), idx, derivationPath));\n}\n\nasync function deriveEncryptionKey(\n  password: string,\n  salt: Uint8Array,\n  iterations: number,\n  digest: string,\n) {\n  return new Promise((resolve, reject) =>\n    pbkdf2(password, salt, iterations, nacl.secretbox.keyLength, digest, (err, key) =>\n      err ? reject(err) : resolve(key),\n    ),\n  );\n}\n\nexport async function storeMnemonicAndSeed(\n  mnemonic: string,\n  seed: string,\n  derivationPath: string,\n  password?: string,\n  isSave?: boolean,\n) {\n  const plaintext = JSON.stringify({ mnemonic, seed, derivationPath });\n\n  if (password) {\n    const salt = nacl.randomBytes(16);\n    const kdf = 'pbkdf2';\n    const iterations = 100000;\n    const digest = 'sha256';\n    const key = (await deriveEncryptionKey(password, salt, iterations, digest)) as Buffer;\n    const nonce = nacl.randomBytes(nacl.secretbox.nonceLength);\n    const encrypted = nacl.secretbox(Buffer.from(plaintext), nonce, key);\n\n    const account = getAccountFromSeed(Buffer.from(seed, 'hex'), 0, derivationPath);\n    const locked = JSON.stringify({\n      account: account.publicKey.toBase58(),\n      encrypted: bs58.encode(encrypted),\n      nonce: bs58.encode(nonce),\n      kdf,\n      salt: bs58.encode(salt),\n      iterations,\n      digest,\n    });\n\n    if (isSave) {\n      localStorage.setItem(STORAGE_KEY_LOCKED, locked);\n    } else {\n      // for confirmation by password\n      lockedMnemonicAndSeed = locked;\n      localStorage.removeItem(STORAGE_KEY_LOCKED);\n    }\n  }\n\n  unlockedMnemonicAndSeed = { mnemonic, seed, derivationPath };\n}\n\nexport async function loadMnemonicAndSeed(password?: string): Promise<UnlockedType> {\n  if (!password) {\n    return new Promise((resolve) => {\n      return resolve(unlockedMnemonicAndSeed);\n    });\n  }\n\n  const {\n    encrypted: encodedEncrypted,\n    nonce: encodedNonce,\n    salt: encodedSalt,\n    iterations,\n    digest,\n  } = JSON.parse(\n    localStorage.getItem(STORAGE_KEY_LOCKED) || lockedMnemonicAndSeed || '',\n  ) as LockedType;\n\n  const encrypted = bs58.decode(encodedEncrypted);\n  const nonce = bs58.decode(encodedNonce);\n  const salt = bs58.decode(encodedSalt);\n  const key = (await deriveEncryptionKey(password, salt, iterations, digest)) as Buffer;\n\n  const plaintext = nacl.secretbox.open(encrypted, nonce, key);\n  if (!plaintext) {\n    throw new Error(ERROR_WRONG_PASSWORD);\n  }\n\n  const decodedPlaintext = Buffer.from(plaintext).toString();\n  const decoded = JSON.parse(decodedPlaintext) as UnlockedType;\n\n  unlockedMnemonicAndSeed = decoded;\n\n  return decoded;\n}\n\nexport function forgetWallet() {\n  lockedMnemonicAndSeed = undefined;\n  sessionStorage.removeItem(STORAGE_KEY_UNLOCKED);\n}\n","export const ERROR_WRONG_PASSWORD = 'Incorrect password';\n","import { TokenInfo } from '@solana/spl-token-registry';\n\nimport { useTokenList } from './../provider';\n\nexport function useTokenMap(): Map<string, TokenInfo> {\n  const { tokenMap } = useTokenList();\n  return tokenMap;\n}\n","import React, { forwardRef, FunctionComponent, useState } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Icon } from 'components/ui';\n\nconst SearchIconWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 34px;\n  height: 34px;\n  margin: 0 4px;\n`;\n\nconst SearchIcon = styled(Icon)`\n  width: 34px;\n  height: 34px;\n\n  color: #a3a5ba;\n`;\n\nconst Wrapper = styled.label`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  height: 42px;\n\n  background: #f6f6f8;\n  border: 1px solid transparent;\n  border-radius: 10px;\n  cursor: text;\n\n  &.isFocused {\n    border: 1px solid rgba(163, 165, 186, 0.5);\n\n    ${SearchIcon} {\n      color: #000;\n    }\n  }\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst InputElement = styled.input`\n  padding: 0;\n\n  font-weight: 600;\n  font-size: 14px;\n  font-family: unset;\n  line-height: 140%;\n\n  background: transparent;\n  border: 0;\n\n  outline: none;\n\n  appearance: none;\n\n  &::placeholder {\n    color: #a3a5ba;\n  }\n`;\n\nconst SearchClearWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 28px;\n  height: 28px;\n  margin: 0 7px;\n\n  background: #fff;\n  border-radius: 8px;\n  cursor: pointer;\n`;\n\nconst SearchClearIcon = styled(Icon)`\n  width: 13px;\n  height: 13px;\n\n  color: #a3a5ba;\n`;\n\ntype CustomProps = {\n  forwardedRef?: React.Ref<HTMLInputElement>;\n  value?: string;\n  onChange?: (value: string) => void;\n};\n\ntype Props = Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'> & CustomProps;\n\nconst InputOriginal: FunctionComponent<Props> = ({\n  forwardedRef,\n  value,\n  onChange,\n  className,\n  ...props\n}) => {\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(true);\n\n    if (props.onFocus) {\n      props.onFocus(e);\n    }\n  };\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(false);\n\n    if (props.onBlur) {\n      props.onBlur(e);\n    }\n  };\n\n  const handleChange = (e: React.FocusEvent<HTMLInputElement>) => {\n    if (onChange) {\n      onChange(e.target.value);\n    }\n  };\n\n  const handleClear = () => {\n    if (onChange) {\n      onChange('');\n    }\n  };\n\n  return (\n    <Wrapper className={classNames(className, { isFocused })}>\n      <SearchIconWrapper>\n        <SearchIcon name=\"search\" />\n      </SearchIconWrapper>\n      <Content>\n        <InputElement\n          ref={forwardedRef}\n          value={value}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          onChange={handleChange}\n          {...props}\n        />\n      </Content>\n      <SearchClearWrapper onClick={handleClear}>\n        <SearchClearIcon name=\"close\" />\n      </SearchClearWrapper>\n    </Wrapper>\n  );\n};\n\nexport const SearchInput = forwardRef<HTMLInputElement, Props>(\n  (props, ref: React.Ref<HTMLInputElement>) => <InputOriginal {...props} forwardedRef={ref} />,\n);\n","import {\n  Account,\n  Blockhash,\n  Commitment,\n  Connection,\n  FeeCalculator,\n  PublicKey,\n  Transaction,\n  TransactionInstruction,\n  TransactionInstructionCtorFields,\n} from '@solana/web3.js';\nimport assert from 'assert';\n\nimport { PhantomtWallet } from 'api/wallet/PhantomWallet';\nimport { NetworkType, postTransactionSleepMS } from 'config/constants';\nimport { sleep } from 'utils/common';\nimport { parseSendTransactionError, SendTransactionError } from 'utils/errors';\n\nimport { confirmTransaction, DEFAULT_COMMITMENT, getConnection, getEndpoint } from '../connection';\nimport { LocalWallet } from './LocalWallet';\nimport { ManualWallet, ManualWalletData } from './ManualWallet/ManualWallet';\nimport { DEFAULT_SOLLET_PROVIDER, SolletWallet } from './SolletWallet';\nimport { Wallet, WalletEvent } from './Wallet';\n\nconst POST_TRANSACTION_SLEEP_MS = postTransactionSleepMS || 500;\n\n/**\n * API for connecting to and interacting with a wallet\n */\n\n// singleton wallet for the app.\n// A user can be connected to only one wallet at a time.\nlet wallet: Wallet | null;\nlet connection: Connection | null;\n\nexport enum WalletType {\n  // eslint-disable-next-line no-unused-vars\n  LOCAL,\n  // eslint-disable-next-line no-unused-vars\n  MANUAL,\n  // eslint-disable-next-line no-unused-vars\n  SOLLET,\n  // eslint-disable-next-line no-unused-vars\n  SOLLET_EXTENSION,\n  // eslint-disable-next-line no-unused-vars\n  PHANTOM,\n}\n\nexport type WalletDataType = ManualWalletData;\n\nconst createWallet = (type: WalletType, network: NetworkType, data?: WalletDataType): Wallet => {\n  const endpoint = getEndpoint(network);\n  switch (type) {\n    case WalletType.LOCAL:\n      return new LocalWallet(endpoint);\n    case WalletType.SOLLET_EXTENSION:\n      return new SolletWallet(endpoint, (window as any).sollet);\n    case WalletType.SOLLET:\n      return new SolletWallet(endpoint, DEFAULT_SOLLET_PROVIDER);\n    case WalletType.PHANTOM:\n      return new PhantomtWallet(endpoint);\n    case WalletType.MANUAL:\n    default:\n      assert(data, 'Wallet data must be exists');\n      return new ManualWallet(endpoint, data);\n  }\n};\n\nexport const connect = (network: NetworkType) => {\n  connection = getConnection(network);\n};\n\nexport const connectWallet = async (\n  network: NetworkType,\n  type: WalletType,\n  data?: WalletDataType,\n): Promise<Wallet> => {\n  const newWallet = createWallet(type, network, data);\n\n  // assign the singleton wallet.\n  // Using a separate variable to simplify the type definitions\n\n  wallet = newWallet;\n  connection = getConnection(network);\n\n  // connect is done once the wallet reports that it is connected.\n  return new Promise((resolve) => {\n    newWallet.on(WalletEvent.CONNECT, () => resolve(newWallet));\n  });\n};\n\nexport const disconnect = (): void => wallet?.disconnect();\n\nexport const makeTransaction = async (\n  instructions: (TransactionInstruction | TransactionInstructionCtorFields)[],\n  signers: Account[] = [],\n): Promise<Transaction> => {\n  if (!wallet || !connection) {\n    throw new Error('Connect first');\n  }\n\n  const { blockhash: recentBlockhash } = await connection.getRecentBlockhash();\n\n  const transaction = new Transaction({\n    recentBlockhash,\n  });\n  transaction.add(...instructions);\n  transaction.setSigners(wallet.pubkey, ...signers.map((s) => s.publicKey));\n\n  // if there are any cosigners (other than the current wallet)\n  // sign the transaction\n  if (signers.length > 0) {\n    transaction.partialSign(...signers);\n  }\n\n  return transaction;\n};\n\ntype SendOptions = {\n  commitment: Commitment;\n  preflightCommitment: Commitment;\n};\n\nconst defaultSendOptions = {\n  commitment: DEFAULT_COMMITMENT,\n  preflightCommitment: DEFAULT_COMMITMENT,\n};\n\nexport async function awaitConfirmation(\n  signature: string,\n  commitment: Commitment = DEFAULT_COMMITMENT,\n) {\n  console.log(`Submitted transaction ${signature}, awaiting confirmation`);\n  await confirmTransaction(signature, commitment);\n  console.log(`Transaction ${signature} confirmed`);\n\n  if (wallet) {\n    wallet.emit(WalletEvent.CONFIRMED, { transactionSignature: signature });\n  }\n\n  // workaround for a known solana web3 bug where\n  // the state obtained from the http endpoint and the websocket are out of sync\n  await sleep(POST_TRANSACTION_SLEEP_MS);\n  return signature;\n}\n\nexport const sendTransaction = async (\n  transaction: Transaction,\n  awaitConfirm = true,\n  {\n    commitment = defaultSendOptions.commitment,\n    preflightCommitment = defaultSendOptions.preflightCommitment,\n  }: Partial<SendOptions> = defaultSendOptions,\n): Promise<string> => {\n  if (!wallet || !connection) {\n    throw new Error('Connect first');\n  }\n\n  console.log('Sending signature request to wallet');\n  const signed = await wallet.sign(transaction);\n  console.log('Got signature, submitting transaction');\n\n  try {\n    const signature = await connection.sendRawTransaction(signed.serialize(), {\n      preflightCommitment,\n    });\n\n    if (awaitConfirm) {\n      return await awaitConfirmation(signature, commitment);\n    }\n\n    return signature;\n  } catch (error) {\n    if ((error as SendTransactionError).logs) {\n      const errors = parseSendTransactionError(error as SendTransactionError);\n      throw new Error(errors.join(' '));\n    }\n\n    throw error;\n  }\n};\n\nexport const getWallet = (): Wallet => {\n  if (!wallet || !connection) {\n    throw new Error('Did not have wallet');\n  }\n\n  return wallet;\n};\n\nexport const getWalletUnsafe = (): Wallet | null => {\n  return wallet;\n};\n\nexport const airdropTo = (publicKey: PublicKey): Promise<string> => {\n  if (!wallet || !connection) {\n    throw new Error('Connect first');\n  }\n\n  return connection.requestAirdrop(publicKey, 100000000);\n};\n\nexport const getBalance = (publicKey: PublicKey): Promise<number> => {\n  if (!connection) {\n    throw new Error('Connect first');\n  }\n\n  return connection.getBalance(publicKey);\n};\n\nexport const getMinimumBalanceForRentExemption = (length: number): Promise<number> => {\n  if (!wallet || !connection) {\n    throw new Error('Connect first');\n  }\n\n  return connection.getMinimumBalanceForRentExemption(length);\n};\n\nexport const getRecentBlockhash = (): Promise<{\n  blockhash: Blockhash;\n  feeCalculator: FeeCalculator;\n}> => {\n  if (!wallet || !connection) {\n    throw new Error('Connect first');\n  }\n\n  return connection.getRecentBlockhash();\n};\n\nexport const airdrop = (): null | Promise<string> => wallet && airdropTo(wallet.pubkey);\n","import { PublicKey, Transaction } from '@solana/web3.js';\n\nimport { Wallet, WalletEvent } from './Wallet';\n\ntype PhantomEvent = 'disconnect' | 'connect';\ntype PhantomRequestMethod = 'connect' | 'disconnect' | 'signTransaction' | 'signAllTransactions';\n\ninterface PhantomProvider {\n  publicKey: PublicKey;\n  isConnected?: boolean;\n  autoApprove?: boolean;\n  signTransaction: (transaction: Transaction) => Promise<Transaction>;\n  signAllTransactions: (transactions: Transaction[]) => Promise<Transaction[]>;\n  connect: () => Promise<void>;\n  disconnect: () => Promise<void>;\n  on: (event: PhantomEvent, handler: (args: any) => void) => void;\n  request: (method: PhantomRequestMethod, params: any) => Promise<any>;\n}\n\nexport class PhantomtWallet extends Wallet {\n  private provider: PhantomProvider;\n\n  constructor(endpoint: string) {\n    super(endpoint);\n\n    let provider: PhantomProvider;\n    if ((window as any)?.solana?.isPhantom) {\n      provider = (window as any).solana;\n    } else {\n      window.open('https://phantom.app/', '_blank');\n      throw new Error('Please install Phantom wallet from Chrome');\n    }\n\n    // once the sollet wallet emits a connect or disconnect event, pass it on\n    provider.on(WalletEvent.CONNECT, () => this.emit(WalletEvent.CONNECT));\n    provider.on(WalletEvent.DISCONNECT, () => this.emit(WalletEvent.DISCONNECT));\n    void provider.connect();\n\n    this.provider = provider;\n  }\n\n  get pubkey(): PublicKey {\n    return this.provider.publicKey;\n  }\n\n  get publicKey(): PublicKey {\n    return this.provider.publicKey;\n  }\n\n  disconnect(): void {\n    void this.provider.disconnect();\n  }\n\n  signTransaction(transaction: Transaction): Promise<Transaction> {\n    return this.provider.signTransaction(transaction);\n  }\n\n  signAllTransactions(transactions: Transaction[]): Promise<Transaction[]> {\n    return this.provider.signAllTransactions(transactions);\n  }\n}\n","import SolletWalletAdapter from '@project-serum/sol-wallet-adapter';\nimport { PublicKey, Transaction } from '@solana/web3.js';\n\nimport { Wallet, WalletEvent } from './Wallet';\n\nexport const DEFAULT_SOLLET_PROVIDER = 'https://www.sollet.io';\n\n/**\n * Wallet implementation for the sollet.io wallet.\n * It opens a popup browser window that prompts a user\n * to create and connect a simple web wallet.\n */\nexport class SolletWallet extends Wallet {\n  private provider: SolletWalletAdapter;\n\n  constructor(endpoint: string, provider: string | unknown) {\n    super(endpoint);\n\n    if (typeof provider !== 'string' && !provider) {\n      throw new Error('Please install and initialize Sollet wallet extension first');\n    }\n\n    this.provider = new SolletWalletAdapter(provider, endpoint);\n\n    // once the sollet wallet emits a connect or disconnect event, pass it on\n    this.provider.on(WalletEvent.CONNECT, () => this.emit(WalletEvent.CONNECT));\n    this.provider.on(WalletEvent.DISCONNECT, () => this.emit(WalletEvent.DISCONNECT));\n\n    void this.provider.connect();\n  }\n\n  get pubkey(): PublicKey {\n    return this.provider.publicKey;\n  }\n\n  get publicKey(): PublicKey {\n    return this.provider.publicKey;\n  }\n\n  disconnect(): void {\n    this.provider.disconnect();\n  }\n\n  signTransaction(transaction: Transaction): Promise<Transaction> {\n    return this.provider.signTransaction(transaction);\n  }\n\n  signAllTransactions(transactions: Transaction[]): Promise<Transaction[]> {\n    return this.provider.signAllTransactions(transactions);\n  }\n}\n","export class DuplicateModalError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'DuplicateModalError';\n  }\n}\n\n// TODO: make commit to web3 with export from index.ts\nexport class SendTransactionError extends Error {\n  logs: string[] | undefined;\n\n  constructor(message: string, logs?: string[]) {\n    super(message);\n\n    this.logs = logs;\n  }\n}\n\nexport function parseSendTransactionError(error: SendTransactionError): string[] {\n  const errors: string[] = [];\n  if (error.logs) {\n    error.logs.forEach((log: string) => {\n      const regex = /Error: (.*)/gm;\n      let m;\n      // eslint-disable-next-line no-cond-assign\n      while ((m = regex.exec(log)) !== null) {\n        // This is necessary to avoid infinite loops with zero-width matches\n        if (m.index === regex.lastIndex) {\n          regex.lastIndex++;\n        }\n\n        if (m.length > 1) {\n          errors.push(m[1]);\n        }\n      }\n    });\n  }\n\n  return errors;\n}\n","import amplitude from 'amplitude-js';\nimport assert from 'ts-invariant';\n\nimport { TrackEventType } from './types';\n\nexport const initAmplitude = () => {\n  assert(\n    process.env.REACT_APP_AMPLITUDE_API_KEY,\n    \"REACT_APP_AMPLITUDE_API_KEY doesn't set in environment\",\n  );\n  amplitude.getInstance().init(process.env.REACT_APP_AMPLITUDE_API_KEY);\n};\n\nexport const trackEvent: TrackEventType = (event: string, data?: any) => {\n  amplitude.getInstance().logEvent(event, data);\n};\n","import { combineReducers } from 'redux';\nimport { modalsReducer as modals } from 'redux-modals-manager';\n\nimport global from 'store/slices/GlobalSlice';\nimport rate from 'store/slices/rate/RateSlice';\nimport transaction from 'store/slices/transaction/TransactionSlice';\nimport wallet from 'store/slices/wallet/WalletSlice';\n\nexport const rootReducer = combineReducers({\n  global,\n  rate,\n  transaction,\n  wallet,\n  modals,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import {\n  ConfirmedSignaturesForAddress2Options,\n  LAMPORTS_PER_SOL,\n  ParsedConfirmedTransaction,\n  PartiallyDecodedInstruction,\n  PublicKey,\n  Secp256k1Program,\n  TransactionSignature,\n} from '@solana/web3.js';\nimport bs58 from 'bs58';\nimport { Decimal } from 'decimal.js';\nimport { complement, isNil, memoizeWith, toString } from 'ramda';\n\nimport { getConnection, getConnectionTransactions } from 'api/connection';\nimport { APIFactory as TokenAPIFactory } from 'api/token';\nimport { Token } from 'api/token/Token';\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { NetworkType } from 'config/constants';\nimport { SYSTEM_PROGRAM_ID, TOKEN_PROGRAM_ID } from 'constants/solana/bufferLayouts';\nimport { CacheTTL } from 'lib/cachettl';\n\nimport { Transaction } from './Transaction';\n\nconst transactionsCache = new CacheTTL<Transaction>({ ttl: 5000 });\nconst REN_BTC_MINT = [\n  /* devnet */ 'FsaLodPu4VmSwXGr3gWfwANe4vKf8XSZcCh1CEeJ3jpD',\n  /* mainnet */ 'CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5',\n];\n\nexport interface API {\n  transactionInfo: (\n    signature: TransactionSignature,\n    parsedTransaction?: ParsedConfirmedTransaction | null,\n  ) => Promise<Transaction | null>;\n  getTransactionsForAddress: (\n    account: PublicKey,\n    options?: ConfirmedSignaturesForAddress2Options,\n  ) => Promise<Transaction[]>;\n}\n\n// The API is a singleton per cluster. This ensures requests can be cached\nexport const APIFactory = memoizeWith(\n  toString,\n  (network: NetworkType): API => {\n    const connection = getConnection(network);\n    const connectionTransactions = getConnectionTransactions(network);\n    const tokenAPI = TokenAPIFactory(network);\n\n    type ConfirmedTransaction = {\n      programId: PublicKey;\n      data?: string;\n      parsed?: {\n        info: {\n          owner: string;\n          // transfer spl\n          source: string;\n          destination: string;\n          amount: number;\n          // transfer sys\n          lamports: number;\n          authority: string;\n          // create account\n          newAccount: string;\n          // close account\n          account: string;\n          mint: string;\n\n          // transfer checked\n          tokenAmount?: {\n            amount: string;\n          };\n        };\n        type: string;\n      };\n    };\n\n    // Receive\n    // Transfer\n    // Swap // to\n    // Swap // from\n    // Create Account\n    // Close Account\n    // TODO: decompose\n    const makeTransactionShortInfo = async (transactionInfo: ParsedConfirmedTransaction) => {\n      let type: string | null = null;\n      let source: PublicKey | null = null;\n      let sourceTokenAccount: TokenAccount | null = null;\n      let sourceToken: Token | null = null;\n      let destination: PublicKey | null = null;\n      let destinationTokenAccount: TokenAccount | null = null;\n      let destinationToken: Token | null = null;\n      let sourceAmount = new Decimal(0);\n      let destinationAmount = new Decimal(0);\n\n      const innerInstructions = transactionInfo?.meta?.innerInstructions;\n      const instructions = transactionInfo?.transaction.message.instructions;\n      const accountKeys = transactionInfo?.transaction.message.accountKeys;\n      const preBalances = transactionInfo?.meta?.preBalances;\n      const preTokenBalances = transactionInfo?.meta?.preTokenBalances;\n      const postTokenBalances = transactionInfo?.meta?.postTokenBalances;\n\n      // swap contract\n      const swapInstructionIndex = instructions.findIndex(\n        (inst) =>\n          // inst.programId.equals(swapProgramId) ||\n          inst.programId.toBase58() === '9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL' || // main old swap\n          inst.programId.toBase58() === 'DjVE6JNiYqPL2QXyCUUh8rNjHrbz9hXHNYt99MQ59qw1' || // main orca\n          inst.programId.toBase58() === '9W959DqEETiGZocYWCQPaJ6sBmUzgfxXfqGeTEdp3aQP' || // main orca v2\n          inst.programId.toBase58() === '22Y43yTVxuUkoRKdm9thyRhQ3SdgQS7c7kB6UNCiaczD', // serum swap\n      );\n\n      //if (swapInstructionIndex && instructions[swapInstructionIndex]) {\n      if (instructions[swapInstructionIndex]) {\n        const swapInstruction = instructions[swapInstructionIndex] as PartiallyDecodedInstruction;\n        const buf = Buffer.from(bs58.decode(swapInstruction.data));\n        const instructionIndex = buf.readUInt8(0);\n\n        const swapInner = innerInstructions?.find((item) => item.index === swapInstructionIndex);\n        // swap instruction 129 & 248 - Serum, 1 - ORCA\n\n        if (instructionIndex === 129 || 248) {\n          //SERUM SWAP\n\n          type = 'swap';\n          let sourceInfo;\n          let destinationInfo;\n\n          if (swapInner) {\n            const transfersInstructions = swapInner.instructions.filter(\n              (inst: ConfirmedTransaction) =>\n                inst?.parsed?.type === 'transfer' || inst?.parsed?.type === 'transferChecked',\n            );\n            const sourceInstruction = transfersInstructions[0] as ConfirmedTransaction;\n            const destinationInstruction = (transfersInstructions[4]\n              ? transfersInstructions[4]\n              : transfersInstructions[1]) as ConfirmedTransaction;\n            sourceInfo = sourceInstruction?.parsed?.info;\n            destinationInfo = destinationInstruction?.parsed?.info;\n          }\n\n          source = sourceInfo?.source ? new PublicKey(sourceInfo.source) : null;\n\n          destination = destinationInfo?.destination\n            ? new PublicKey(destinationInfo.destination)\n            : null;\n\n          sourceTokenAccount = source ? await tokenAPI.tokenAccountInfo(source) : null;\n          destinationTokenAccount = destination\n            ? await tokenAPI.tokenAccountInfo(destination)\n            : null;\n\n          if (sourceTokenAccount) {\n            sourceToken = sourceTokenAccount.mint;\n          } else if (source && sourceInfo?.destination) {\n            const tokenAccount = await tokenAPI.tokenAccountInfo(\n              new PublicKey(sourceInfo?.destination),\n            );\n\n            if (tokenAccount) {\n              sourceToken = tokenAccount.mint;\n              sourceTokenAccount = new TokenAccount(\n                sourceToken,\n                sourceInfo.owner ? new PublicKey(sourceInfo.owner) : TOKEN_PROGRAM_ID, // TODO: fake\n                TOKEN_PROGRAM_ID,\n                source,\n                0,\n              );\n            }\n          }\n\n          if (destinationTokenAccount) {\n            destinationToken = destinationTokenAccount.mint;\n          } else if (destination && destinationInfo?.source) {\n            const tokenAccount = await tokenAPI.tokenAccountInfo(\n              new PublicKey(destinationInfo.source),\n            );\n            if (tokenAccount) {\n              destinationToken = tokenAccount.mint;\n              destinationTokenAccount = new TokenAccount(\n                destinationToken,\n                destinationInfo.owner ? new PublicKey(destinationInfo.owner) : TOKEN_PROGRAM_ID, // TODO: fake\n                TOKEN_PROGRAM_ID,\n                destination,\n                0,\n              );\n            }\n          }\n\n          sourceAmount = new Decimal(sourceInfo?.amount || sourceAmount || 0);\n          destinationAmount = new Decimal(destinationInfo?.amount || destinationAmount || 0);\n\n          if (sourceToken?.decimals) {\n            sourceAmount = sourceAmount.div(10 ** sourceToken?.decimals);\n          }\n          if (destinationToken?.decimals) {\n            destinationAmount = destinationAmount.div(10 ** destinationToken?.decimals);\n          }\n        } else if (instructionIndex === 1) {\n          type = 'swap';\n\n          let sourceInfo;\n          let destinationInfo;\n\n          if (swapInner) {\n            const transfersInstructions = swapInner.instructions.filter(\n              (inst: ConfirmedTransaction) =>\n                inst?.parsed?.type === 'transfer' || inst?.parsed?.type === 'transferChecked',\n            );\n            const sourceInstruction = transfersInstructions[0] as ConfirmedTransaction;\n            const destinationInstruction = transfersInstructions[1] as ConfirmedTransaction;\n            sourceInfo = sourceInstruction?.parsed?.info;\n            destinationInfo = destinationInstruction?.parsed?.info;\n          }\n\n          const closeInstruction = instructions.find(\n            (inst: ConfirmedTransaction) => inst.parsed?.type === 'closeAccount',\n          ) as ConfirmedTransaction;\n\n          source = sourceInfo?.source ? new PublicKey(sourceInfo.source) : null;\n          destination = destinationInfo?.destination\n            ? new PublicKey(destinationInfo.destination)\n            : null;\n\n          const approveInstruction = instructions.find(\n            (inst: ConfirmedTransaction) => inst?.parsed?.type === 'approve',\n          ) as ConfirmedTransaction;\n\n          if (approveInstruction?.parsed) {\n            if (!source) {\n              source = new PublicKey(approveInstruction.parsed.info.source);\n            }\n            if (sourceAmount) {\n              sourceAmount = new Decimal(approveInstruction.parsed.info.amount);\n            }\n            if (!destination) {\n              destinationToken =\n                postTokenBalances && postTokenBalances[postTokenBalances.length - 1]\n                  ? await tokenAPI.tokenInfo(\n                      new PublicKey(postTokenBalances[postTokenBalances.length - 1].mint),\n                    )\n                  : null;\n            }\n          }\n\n          if (closeInstruction?.parsed) {\n            if (closeInstruction.parsed.info.account === source?.toBase58()) {\n              source = new PublicKey(closeInstruction.parsed.info.destination);\n            }\n            if (closeInstruction.parsed.info.account === destination?.toBase58()) {\n              destination = new PublicKey(closeInstruction.parsed.info.destination);\n            }\n          }\n\n          sourceTokenAccount = source ? await tokenAPI.tokenAccountInfo(source) : null;\n          destinationTokenAccount = destination\n            ? await tokenAPI.tokenAccountInfo(destination)\n            : null;\n\n          if (sourceTokenAccount) {\n            sourceToken = sourceTokenAccount.mint;\n          } else if (source && sourceInfo?.destination) {\n            const tokenAccount = await tokenAPI.tokenAccountInfo(\n              new PublicKey(sourceInfo?.destination),\n            );\n            if (tokenAccount) {\n              sourceToken = tokenAccount.mint;\n              sourceTokenAccount = new TokenAccount(\n                sourceToken,\n                sourceInfo.owner ? new PublicKey(sourceInfo.owner) : TOKEN_PROGRAM_ID, // TODO: fake\n                TOKEN_PROGRAM_ID,\n                source,\n                0,\n              );\n            }\n          }\n          if (destinationTokenAccount) {\n            destinationToken = destinationTokenAccount.mint;\n          } else if (destination && destinationInfo?.source) {\n            const tokenAccount = await tokenAPI.tokenAccountInfo(\n              new PublicKey(destinationInfo.source),\n            );\n            if (tokenAccount) {\n              destinationToken = tokenAccount.mint;\n              destinationTokenAccount = new TokenAccount(\n                destinationToken,\n                destinationInfo.owner ? new PublicKey(destinationInfo.owner) : TOKEN_PROGRAM_ID, // TODO: fake\n                TOKEN_PROGRAM_ID,\n                destination,\n                0,\n              );\n            }\n          }\n\n          sourceAmount = new Decimal(sourceInfo?.amount || sourceAmount || 0);\n          destinationAmount = new Decimal(destinationInfo?.amount || destinationAmount || 0);\n\n          if (sourceToken?.decimals) {\n            sourceAmount = sourceAmount.div(10 ** sourceToken?.decimals);\n          }\n          if (destinationToken?.decimals) {\n            destinationAmount = destinationAmount.div(10 ** destinationToken?.decimals);\n          }\n        }\n      } else {\n        let instruction = instructions[0] as ConfirmedTransaction;\n        let info = instruction?.parsed?.info;\n\n        source = info?.source ? new PublicKey(info.source) : null;\n        sourceTokenAccount = source ? await tokenAPI.tokenAccountInfo(source) : null;\n\n        const transferInstruction = instructions.find(\n          (inst: ConfirmedTransaction) =>\n            inst?.parsed?.type === 'transfer' || inst?.parsed?.type === 'transferChecked',\n        ) as ConfirmedTransaction | undefined;\n\n        if (instruction?.parsed?.type === 'createAccount') {\n          type = instruction.parsed.type;\n          const initializeAccountInstruction = instructions[1] as ConfirmedTransaction;\n          const initializeAccountInfo = initializeAccountInstruction.parsed?.info;\n\n          source = info?.source ? new PublicKey(info.source) : null;\n          sourceTokenAccount = source ? await tokenAPI.tokenAccountInfo(source) : null;\n          sourceAmount = new Decimal(info?.lamports || 0).div(LAMPORTS_PER_SOL);\n\n          destination = info?.newAccount ? new PublicKey(info.newAccount) : null;\n          if (initializeAccountInfo?.mint && destination) {\n            const mint = await tokenAPI.tokenInfo(new PublicKey(initializeAccountInfo.mint));\n            destinationTokenAccount = new TokenAccount(\n              mint,\n              new PublicKey(initializeAccountInfo.owner),\n              TOKEN_PROGRAM_ID,\n              destination,\n              0,\n            );\n          }\n          destinationAmount = new Decimal(info?.lamports || 0).div(LAMPORTS_PER_SOL);\n        } else if (instruction?.parsed?.type === 'closeAccount' && preTokenBalances) {\n          type = instruction.parsed.type;\n          const preToken = preTokenBalances[0];\n          const preBalance = preBalances?.[1];\n\n          source = info?.account ? new PublicKey(info.account) : null;\n          if (info?.owner && source && preToken) {\n            const mint = await tokenAPI.tokenInfo(new PublicKey(preToken.mint));\n            sourceTokenAccount = new TokenAccount(\n              mint,\n              new PublicKey(info.owner),\n              TOKEN_PROGRAM_ID,\n              source,\n              0,\n            );\n          }\n          destination = info?.destination ? new PublicKey(info.destination) : null;\n          destinationTokenAccount = destination\n            ? await tokenAPI.tokenAccountInfo(destination)\n            : null;\n          destinationAmount = new Decimal(preBalance || 0).div(LAMPORTS_PER_SOL);\n        } else if (transferInstruction && transferInstruction.parsed?.type) {\n          // rewrite info and instruction with transfer instruction info\n          instruction = transferInstruction;\n          info = transferInstruction?.parsed?.info;\n\n          type = transferInstruction.parsed.type;\n          source = info?.source ? new PublicKey(info.source) : null;\n          destination = info?.destination ? new PublicKey(info.destination) : null;\n          sourceTokenAccount = source ? await tokenAPI.tokenAccountInfo(source) : null;\n          destinationTokenAccount = destination\n            ? await tokenAPI.tokenAccountInfo(destination)\n            : null;\n\n          if (accountKeys && preTokenBalances && info?.authority) {\n            if (destination && !destinationTokenAccount) {\n              const accountIndex = accountKeys.findIndex(\n                (account) => destination && account.pubkey.equals(destination),\n              );\n              const accountMint = preTokenBalances.find(\n                (account) => account.accountIndex === accountIndex,\n              );\n\n              if (accountMint?.mint && destination) {\n                const mint = await tokenAPI.tokenInfo(new PublicKey(accountMint.mint));\n                destinationTokenAccount = new TokenAccount(\n                  mint,\n                  new PublicKey(info.authority),\n                  TOKEN_PROGRAM_ID,\n                  destination,\n                  0,\n                );\n              }\n            }\n\n            if (source && !sourceTokenAccount && accountKeys && preTokenBalances) {\n              const accountIndex = accountKeys.findIndex(\n                (account) => source && account.pubkey.equals(source),\n              );\n              const accountMint = preTokenBalances.find(\n                (account) => account.accountIndex === accountIndex,\n              );\n\n              if (accountMint?.mint && source) {\n                const mint = await tokenAPI.tokenInfo(new PublicKey(accountMint.mint));\n                destinationTokenAccount = new TokenAccount(\n                  mint,\n                  new PublicKey(info.authority),\n                  TOKEN_PROGRAM_ID,\n                  source,\n                  0,\n                );\n              }\n            }\n          }\n\n          if (instruction?.programId.equals(TOKEN_PROGRAM_ID)) {\n            sourceAmount = new Decimal(info?.amount || info?.tokenAmount?.amount || 0);\n            destinationAmount = new Decimal(info?.amount || info?.tokenAmount?.amount || 0);\n\n            if (sourceTokenAccount?.mint.decimals) {\n              sourceAmount = sourceAmount.div(10 ** sourceTokenAccount?.mint.decimals);\n            }\n            if (destinationTokenAccount?.mint.decimals) {\n              destinationAmount = destinationAmount.div(\n                10 ** destinationTokenAccount?.mint.decimals,\n              );\n            }\n          } else if (instruction?.programId.equals(SYSTEM_PROGRAM_ID)) {\n            sourceAmount = new Decimal(info?.lamports || 0).div(LAMPORTS_PER_SOL);\n            destinationAmount = new Decimal(info?.lamports || 0).div(LAMPORTS_PER_SOL);\n          }\n        }\n      }\n\n      if (\n        instructions.length === 2 &&\n        instructions[1].programId.equals(Secp256k1Program.programId)\n      ) {\n        if (innerInstructions?.length === 1 && innerInstructions[0].instructions.length === 4) {\n          const instruction = innerInstructions[0].instructions[3] as ConfirmedTransaction;\n\n          if (instruction.programId.equals(TOKEN_PROGRAM_ID)) {\n            const parsedInstruction = instruction.parsed;\n            if (\n              parsedInstruction?.type === 'mintToChecked' &&\n              REN_BTC_MINT.includes(parsedInstruction?.info.mint)\n            ) {\n              type = 'mintRenBTC';\n              sourceAmount = new Decimal(parsedInstruction?.info?.tokenAmount?.amount || 0).div(\n                10 ** 8,\n              );\n              sourceToken = await tokenAPI.tokenInfo(new PublicKey(parsedInstruction.info.mint));\n            }\n          }\n        }\n      }\n      if (\n        instructions.length === 2 &&\n        instructions[0].programId.equals(TOKEN_PROGRAM_ID) &&\n        (instructions[0] as ConfirmedTransaction)?.parsed?.type === 'burnChecked'\n      ) {\n        const instruction = instructions[0] as ConfirmedTransaction;\n        if (REN_BTC_MINT.includes(instruction?.parsed?.info.mint || '')) {\n          type = 'burnRenBTC';\n          sourceAmount = new Decimal(instruction.parsed?.info?.tokenAmount?.amount || 0).div(\n            10 ** 8,\n          );\n          sourceToken = await tokenAPI.tokenInfo(\n            new PublicKey(instruction.parsed?.info.mint || TOKEN_PROGRAM_ID),\n          );\n        }\n      }\n      sourceToken = sourceToken || sourceTokenAccount?.mint || null;\n      destinationToken = destinationToken || destinationTokenAccount?.mint || null;\n\n      // console.log(111, transactionInfo, {\n      //   type,\n      //   source: source?.toBase58(),\n      //   sourceTokenAccount: sourceTokenAccount?.serialize(),\n      //   sourceToken: sourceToken?.serialize(),\n      //   destination: destination?.toBase58(),\n      //   destinationTokenAccount: destinationTokenAccount?.serialize(),\n      //   destinationToken: destinationToken?.serialize(),\n      //   sourceAmount: sourceAmount.toNumber(),\n      //   destinationAmount: destinationAmount.toNumber(),\n      // });\n\n      return {\n        type,\n        source,\n        sourceTokenAccount,\n        sourceToken,\n        destination,\n        destinationTokenAccount,\n        destinationToken,\n        sourceAmount,\n        destinationAmount,\n      };\n    };\n\n    const transactionInfoUncached = async (\n      signature: TransactionSignature,\n      parsedTransaction: ParsedConfirmedTransaction | null = null,\n    ): Promise<Transaction | null> => {\n      console.log('Getting info for', signature);\n\n      let transactionInfo = parsedTransaction;\n      if (!transactionInfo) {\n        transactionInfo = await connection\n          .getParsedConfirmedTransaction(signature)\n          .catch((error) => {\n            console.error(`Error getting details for transaction ${signature}`, error);\n            throw error;\n          });\n      }\n\n      if (!transactionInfo) {\n        return null;\n      }\n\n      const meta = transactionInfo.meta\n        ? {\n            err: transactionInfo.meta.err,\n            fee: transactionInfo.meta.fee,\n          }\n        : null;\n\n      const shortTransactionInfo = await makeTransactionShortInfo(transactionInfo);\n\n      return new Transaction(\n        signature,\n        transactionInfo.slot,\n        transactionInfo.blockTime,\n        meta,\n        transactionInfo.transaction.message,\n        shortTransactionInfo,\n      );\n    };\n\n    /**\n     * Given a signature, return its transaction information\n     * @param signature\n     * @param parsedTransaction\n     */\n    const transactionInfo = async (\n      signature: TransactionSignature,\n      parsedTransaction: ParsedConfirmedTransaction | null = null,\n    ): Promise<Transaction | null> => {\n      // try to get cached version\n      const transactionCached = transactionsCache.get(signature);\n      if (transactionCached) {\n        return transactionCached;\n      }\n\n      const transactionUncached = await transactionInfoUncached(signature, parsedTransaction);\n\n      if (!transactionUncached) {\n        return null;\n      }\n\n      // set cache\n      transactionsCache.set(signature, transactionUncached);\n\n      return transactionUncached;\n    };\n\n    /**\n     * Get transactions for a address\n     * @param publicKey\n     */\n    const getTransactionsForAddress = async (\n      account: PublicKey,\n      options?: ConfirmedSignaturesForAddress2Options,\n    ): Promise<Transaction[]> => {\n      console.log('Get transactions for the address', {\n        account: account.toBase58(),\n      });\n\n      const confirmedSignaturesInfos = await connectionTransactions\n        .getConfirmedSignaturesForAddress2(account, options)\n        .catch((error: Error) => {\n          console.error(`Error getting transaction signatures for ${account.toBase58()}`, error);\n          throw error;\n        });\n\n      const confirmedSignatures = confirmedSignaturesInfos.map(\n        (confirmedSignaturesInfo) => confirmedSignaturesInfo.signature,\n      );\n\n      if (confirmedSignatures.length === 0) {\n        return [];\n      }\n\n      const parsedTransactions = await connectionTransactions\n        .getParsedConfirmedTransactions(confirmedSignatures)\n        .catch((error: Error) => {\n          console.error(`Error getting transaction signatures for ${account.toBase58()}`, error);\n          throw error;\n        });\n\n      const transactions = await Promise.all(\n        parsedTransactions.map((parsedTransaction, index) =>\n          transactionInfo(confirmedSignatures[index], parsedTransaction),\n        ),\n      );\n\n      return transactions.filter(complement(isNil)) as Transaction[];\n    };\n\n    return {\n      transactionInfo,\n      getTransactionsForAddress,\n    };\n  },\n);\n","export type MintConfig = {\n  expiryTime: number;\n  createdAt: number;\n  nonce: string;\n};\ntype LocalConfigs = {\n  [key: string]: MintConfig;\n};\n\nconst LOCK_AND_MINT_CONFIG_KEY = 'lockAndMintConfig';\n\nexport const getSessionDay = () => Math.floor(Date.now() / 1000 / 60 / 60 / 24);\nexport const getSessionExpiry = () => (getSessionDay() + 3) * 60 * 60 * 24 * 1000;\nexport const getNonce = () =>\n  Buffer.from(getSessionDay().toString(16).padStart(32)).toString('hex');\n\nexport function loadConfig(): LocalConfigs | null {\n  const localConfig = localStorage.getItem(LOCK_AND_MINT_CONFIG_KEY) as string;\n\n  if (!localConfig) {\n    return null;\n  }\n\n  let config;\n  try {\n    config = JSON.parse(localConfig);\n  } catch (error) {\n    console.error(error);\n  }\n\n  return config;\n}\n\nexport function loadAndDeleteExpired(pubKey: string): MintConfig | null {\n  const config = loadConfig();\n  if (!config || !config[pubKey]) {\n    return null;\n  }\n\n  if (Math.ceil(config[pubKey].expiryTime - 24 * 60 * 60 * 1000 - Number(new Date())) <= 0) {\n    delete config[pubKey];\n    localStorage.setItem(LOCK_AND_MINT_CONFIG_KEY, JSON.stringify(config));\n    return null;\n  }\n\n  return config[pubKey];\n}\n\nexport function saveConfig(pubKey: string, config: MintConfig) {\n  let localConfig = loadConfig();\n  if (!localConfig) {\n    localConfig = {\n      [pubKey]: config,\n    };\n  } else {\n    localConfig[pubKey] = config;\n  }\n  localStorage.setItem(LOCK_AND_MINT_CONFIG_KEY, JSON.stringify(localConfig));\n}\n\nexport function initConfig(pubKey: string): MintConfig {\n  const config = {\n    expiryTime: getSessionExpiry(),\n    createdAt: Date.now(),\n    nonce: getNonce(),\n  };\n  saveConfig(pubKey, config);\n  return config;\n}\n","import { deriveAssociatedTokenAddress } from '@orca-so/sdk';\nimport { AccountLayout, ASSOCIATED_TOKEN_PROGRAM_ID, Token } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionInstruction,\n} from '@solana/web3.js';\n\nexport function createTokenAccountInstructions(\n  account: PublicKey,\n  payer: PublicKey,\n  mint: PublicKey,\n  owner: PublicKey,\n  tokenProgramId: PublicKey,\n  accountRentExempt: number,\n) {\n  const instructions: TransactionInstruction[] = [];\n\n  instructions.push(\n    SystemProgram.createAccount({\n      fromPubkey: payer,\n      newAccountPubkey: account,\n      lamports: accountRentExempt,\n      space: AccountLayout.span,\n      programId: tokenProgramId,\n    }),\n  );\n\n  instructions.push(Token.createInitAccountInstruction(tokenProgramId, mint, account, owner));\n\n  return instructions;\n}\n\nexport function createWSOLAccountInstructions(\n  account: PublicKey,\n  owner: PublicKey,\n  tokenProgramId: PublicKey,\n  solMint: PublicKey,\n  amount: number,\n  accountRentExempt: number,\n) {\n  const instructions: TransactionInstruction[] = [];\n\n  instructions.push(\n    SystemProgram.createAccount({\n      fromPubkey: owner,\n      newAccountPubkey: account,\n      lamports: amount + accountRentExempt,\n      space: AccountLayout.span,\n      programId: tokenProgramId,\n    }),\n  );\n\n  instructions.push(Token.createInitAccountInstruction(tokenProgramId, solMint, account, owner));\n\n  return instructions;\n}\n\nexport async function createAssociatedTokenAccountIx(\n  fundingAddress: PublicKey,\n  destPubKey: PublicKey,\n  splTokenMintPubKey: PublicKey,\n  tokenProgramId: PublicKey,\n): Promise<[TransactionInstruction, PublicKey]> {\n  const associatedTokenAddress = await deriveAssociatedTokenAddress(destPubKey, splTokenMintPubKey);\n\n  const systemProgramId = new PublicKey('11111111111111111111111111111111');\n  const keys = [\n    {\n      pubkey: fundingAddress,\n      isSigner: true,\n      isWritable: true,\n    },\n    {\n      pubkey: associatedTokenAddress,\n      isSigner: false,\n      isWritable: true,\n    },\n    {\n      pubkey: destPubKey,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: splTokenMintPubKey,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: systemProgramId,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: tokenProgramId,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: SYSVAR_RENT_PUBKEY,\n      isSigner: false,\n      isWritable: false,\n    },\n  ];\n  const ix = new TransactionInstruction({\n    keys,\n    programId: ASSOCIATED_TOKEN_PROGRAM_ID,\n    data: Buffer.from([]),\n  });\n  return [ix, associatedTokenAddress];\n}\n","export abstract class OnChainEntity<T extends OnChainEntity<T>> {\n  readonly lastUpdatedSlot: number;\n\n  protected previous: T | undefined;\n\n  protected constructor(currentSlot?: number, previous?: T) {\n    this.lastUpdatedSlot = currentSlot || 0;\n    this.previous = previous;\n  }\n\n  setPrevious(previous: T): void {\n    this.previous = previous;\n  }\n\n  addToHistory(entity: T): void {\n    // eslint-disable-next-line no-param-reassign\n    entity.previous = this.previous;\n    this.previous = entity;\n  }\n\n  getPrevious(): T | undefined {\n    return this.previous;\n  }\n}\n","import { PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Decimal } from 'decimal.js';\nimport { includes } from 'ramda';\n\nimport { toDecimal } from 'utils/amount';\nimport { Serializable } from 'utils/types';\n\nimport { OnChainEntity } from '../OnChainEntity';\nimport { SerializableToken, Token } from './Token';\n\nexport type SerializableTokenAccount = {\n  mint: SerializableToken;\n  owner: string;\n  ownerProgram: string;\n  address: string;\n  balance: string;\n  isDerivable: boolean;\n  lastUpdatedSlot?: number;\n  previous?: SerializableTokenAccount;\n};\n\nexport class TokenAccount\n  extends OnChainEntity<TokenAccount>\n  implements Serializable<SerializableTokenAccount> {\n  readonly mint: Token;\n\n  readonly owner: PublicKey;\n\n  // pubkey of the program this account has been assigned to\n  readonly ownerProgram: PublicKey;\n\n  readonly address: PublicKey;\n\n  readonly balance: Decimal;\n\n  readonly isDerivable: boolean;\n\n  constructor(\n    mint: Token,\n    owner: PublicKey,\n    ownerProgram: PublicKey,\n    address: PublicKey,\n    balance: number | BN | Decimal,\n    isDerivable = false,\n    currentSlot?: number,\n    previous?: TokenAccount,\n  ) {\n    super(currentSlot, previous);\n\n    this.mint = mint;\n    this.owner = owner;\n    this.ownerProgram = ownerProgram;\n    this.address = address;\n    this.balance = toDecimal(balance);\n    this.isDerivable = isDerivable;\n  }\n\n  matchToken(token: Token): boolean {\n    return this.mint.equals(token);\n  }\n\n  sameToken(other: TokenAccount): boolean {\n    return this.mint.equals(other.mint);\n  }\n\n  isAccountFor(tokens: Array<Token>): boolean {\n    return includes(this.mint, tokens);\n  }\n\n  matchOwner(owner: PublicKey): boolean {\n    return this.owner.equals(owner);\n  }\n\n  /**\n   * Return the proportion of the total supply of the token\n   * that this token account controls, as a number between 0 and 1\n   * with 5 decimal places of precision\n   */\n  proportionOfTotalSupply(): number {\n    if (this.mint.supply.equals(0)) {\n      return 0;\n    }\n\n    const precision = 5;\n    const scaling = new Decimal(10).pow(new Decimal(precision));\n    return this.balance.mul(scaling).div(this.mint.supply).toNumber() / scaling.toNumber();\n  }\n\n  toString(): string {\n    return `Account with token: ${this.mint.toString()}. Address: ${this.address.toBase58()}. Balance: ${\n      this.balance\n    }`;\n  }\n\n  serialize(): SerializableTokenAccount {\n    return {\n      mint: this.mint.serialize(),\n      owner: this.owner.toBase58(),\n      ownerProgram: this.ownerProgram.toBase58(),\n      address: this.address.toBase58(),\n      balance: this.balance.toString(),\n      isDerivable: this.isDerivable,\n      lastUpdatedSlot: this.lastUpdatedSlot,\n      previous: this.previous?.serialize(),\n    };\n  }\n\n  equals(other: TokenAccount): boolean {\n    return this.address.equals(other.address);\n  }\n\n  static from(serializableTokenAccount: SerializableTokenAccount): TokenAccount {\n    return new TokenAccount(\n      Token.from(serializableTokenAccount.mint),\n      new PublicKey(serializableTokenAccount.owner),\n      new PublicKey(serializableTokenAccount.ownerProgram),\n      new PublicKey(serializableTokenAccount.address),\n      new Decimal(serializableTokenAccount.balance),\n      serializableTokenAccount.isDerivable,\n      serializableTokenAccount.lastUpdatedSlot,\n      serializableTokenAccount.previous && TokenAccount.from(serializableTokenAccount.previous),\n    );\n  }\n}\n","import { clusterApiUrl, Commitment, HttpHeaders, PublicKey } from '@solana/web3.js';\n\nimport { ExtendedCluster } from 'utils/types';\n\nexport const isDev = process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'test';\n\n// Can be used in development mode only\nexport const localPrivateKey = isDev && process.env.REACT_APP_APP_LOCAL_WALLET_PRIVATE_KEY;\n\nexport const localMnemonic = isDev && process.env.REACT_APP_APP_LOCAL_WALLET_MNEMONIC;\n\nexport const swapHostFeeAddress = process.env.REACT_APP_SWAP_HOST_FEE_ADDRESS\n  ? new PublicKey(process.env.REACT_APP_SWAP_HOST_FEE_ADDRESS)\n  : null;\n\nexport const cryptoCompareApiKey = process.env.REACT_APP_CRYPTO_COMPARE_API_KEY;\n\n// the default commitment uesd by the Solana web3 connection when checking the blockchain state\nexport const defaultCommitment: Commitment =\n  (process.env.REACT_APP_DEFAULT_COMMITMENT as Commitment) || 'confirmed';\n\n// the amount of time to sleep after sending a transaction\n// in order to work around a known solana web3 bug\nexport const postTransactionSleepMS = Number(process.env.REACT_APP_POST_TRANSACTION_SLEEP_MS);\n\nexport type NetworkType = {\n  name: string;\n  cluster: ExtendedCluster;\n  endpoint: string;\n  endpointLabel?: string;\n  wsEndpoint?: string;\n  wsEndpointLabel?: string;\n  httpHeaders?: HttpHeaders;\n};\n\nexport type NetworkNameType =\n  | 'serum-mainnet'\n  | 'p2p-rpcpool'\n  | 'solana-mainnet'\n  | 'solana-devnet'\n  | 'solana-testnet';\n\ntype NetworksByNameType = {\n  // eslint-disable-next-line no-unused-vars\n  [name in NetworkNameType]: NetworkType;\n};\n\nexport const networks: NetworksByNameType = {\n  'p2p-rpcpool': {\n    name: 'p2p-rpcpool',\n    cluster: 'mainnet-beta',\n    endpoint: 'https://p2p.rpcpool.com/',\n  },\n  'serum-mainnet': {\n    name: 'serum-mainnet',\n    cluster: 'mainnet-beta',\n    endpoint: 'https://solana-api.projectserum.com',\n  },\n  'solana-mainnet': {\n    name: 'solana-mainnet',\n    cluster: 'mainnet-beta',\n    endpoint: clusterApiUrl('mainnet-beta'),\n  },\n  'solana-devnet': {\n    name: 'solana-devnet',\n    cluster: 'devnet',\n    endpoint: clusterApiUrl('devnet'),\n  },\n  'solana-testnet': {\n    name: 'solana-testnet',\n    cluster: 'testnet',\n    endpoint: clusterApiUrl('testnet'),\n  },\n};\n\nexport const DEFAULT_NETWORK: NetworkType = networks['p2p-rpcpool'];\n\nexport const feeRelayerUrl = process.env.REACT_APP_FEE_RELAYER_URL;\n\nexport const nameSericeUrl =\n  process.env.REACT_APP_NAME_SERVICE_URL || `${feeRelayerUrl}name_register`;\n\nexport const appStorePath = 'https://apple.com/';\nexport const playStorePath = 'https://google.com';\n\nexport const moonpayWidgetUrl = process.env.REACT_APP_MOONPAY_WIDGET_URL;\nexport const moonpayApiKey = process.env.REACT_APP_MOONPAY_API_KEY;\n","import { configureStore } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport { modalsMiddleware } from 'redux-modals-manager';\n\nimport { isDev } from 'config/constants';\n\nimport { rootReducer } from './rootReducer';\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  // add middlewares via a callback, as recommended\n  // here: https://redux-toolkit.js.org/api/configureStore#middleware\n  middleware: (getDefaultMiddleware) => [\n    ...getDefaultMiddleware(),\n    modalsMiddleware, // TODO: types\n    logger, // Note: logger must be the last middleware in chain, otherwise it will log thunk and promise, not actual actions\n  ],\n  devTools: isDev,\n});\n\nif (isDev && module.hot) {\n  module.hot.accept('./rootReducer', () => store.replaceReducer(rootReducer));\n}\n\nexport type AppDispatch = typeof store.dispatch;\n","import { Token as SPLToken } from '@solana/spl-token';\nimport {\n  Account,\n  PublicKey,\n  SignaturePubkeyPair,\n  SystemProgram,\n  Transaction,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport bs58 from 'bs58';\nimport { memoizeWith, toString } from 'ramda';\n\nimport { getConnection } from 'api/connection';\nimport {\n  ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n  TOKEN_PROGRAM_ID,\n  TransferParameters,\n} from 'api/token';\nimport { TokenAccount } from 'api/token/TokenAccount';\nimport { getWallet } from 'api/wallet';\nimport { feeRelayerUrl, NetworkType } from 'config/constants';\n// import { WRAPPED_SOL_MINT } from 'constants/solana/bufferLayouts';\n\nexport const KNOWN_FEE_PAYER_PUBKEYS = new Set(['FG4Y3yX4AAchp1HvNZ7LfzFTewF2f6nDoMDCohTFrdpT']);\n\ntype TransferSolParams = {\n  sender_pubkey: string;\n  recipient_pubkey: string;\n  lamports: number;\n};\n\ntype TransferSPLTokenParams = {\n  sender_token_account_pubkey: string;\n  recipient_pubkey: string;\n  token_mint_pubkey: string;\n  authority_pubkey: string;\n  amount: number;\n  decimals: number;\n};\n\ntype SwapData = {\n  account_pubkey: string;\n  authority_pubkey: string;\n  transfer_authority_pubkey: string;\n  source_pubkey: string;\n  destination_pubkey: string;\n  pool_token_mint_pubkey: string;\n  pool_fee_account_pubkey: string;\n  amount_in: number;\n  minimum_amount_out: number;\n};\n\ntype SwapParams = {\n  user_source_token_account_pubkey: string;\n  user_destination_pubkey: string;\n  source_token_mint_pubkey: string;\n  destination_token_mint_pubkey: string;\n  user_authority_pubkey: string;\n  user_swap: SwapData;\n  fee_compensation_swap: SwapData;\n  fee_payer_wsol_account_keypair: string;\n};\n\ntype InstructionsAndParams = {\n  instructions: TransactionInstruction[];\n  params: TransferSolParams | TransferSPLTokenParams | SwapParams;\n  path: string;\n  signers?: Account[];\n};\n\nexport interface API {\n  transfer: (parameters: TransferParameters, tokenAccount: TokenAccount) => Promise<string>;\n  // swap: (parameters: SwapParameters & { feeCompensationPool: Pool }) => Promise<string>;\n}\n\nconst getFeePayerPubkey = async (): Promise<PublicKey> => {\n  try {\n    const res = await fetch(`${feeRelayerUrl}/fee_payer/pubkey`);\n\n    if (!res.ok) {\n      throw new Error('getFeePayerPubkey something wrong');\n    }\n\n    const result = await res.text();\n\n    return new PublicKey(result);\n  } catch (error) {\n    throw new Error(`Can't get fee payer pubkey: ${error}`);\n  }\n};\n\nconst sendTransaction = async (\n  path: string,\n  params: (TransferSolParams | TransferSPLTokenParams | SwapParams) & {\n    signature: string;\n    blockhash: string;\n  },\n): Promise<string> => {\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(params),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n\n  try {\n    const res = await fetch(`${feeRelayerUrl}${path}`, options);\n\n    if (!res.ok) {\n      throw new Error('sendTransaction something wrong');\n    }\n\n    const result = await res.text();\n\n    return result.replace(/[[\\]']+/g, '');\n  } catch (error) {\n    throw new Error(`Can't send transaction: ${error}`);\n  }\n};\n\nconst makeTransferSolInstructionAndParams = (\n  parameters: TransferParameters,\n): InstructionsAndParams => {\n  const { source, destination, amount } = parameters;\n\n  return {\n    instructions: [\n      SystemProgram.transfer({\n        fromPubkey: source,\n        toPubkey: destination,\n        lamports: amount,\n      }),\n    ],\n    params: {\n      sender_pubkey: source.toBase58(),\n      lamports: amount,\n      recipient_pubkey: destination.toBase58(),\n    },\n    path: '/transfer_sol',\n  };\n};\n\nconst makeTransferTokenInstructionAndParams = (\n  parameters: TransferParameters,\n  tokenAccount: TokenAccount,\n): InstructionsAndParams => {\n  const { source, destination, amount } = parameters;\n\n  return {\n    instructions: [\n      // TODO: wait for d.ts for SPLToken and remove after that\n      // @ts-ignore\n      SPLToken.createTransferCheckedInstruction(\n        TOKEN_PROGRAM_ID,\n        source,\n        tokenAccount.mint.address,\n        destination,\n        tokenAccount.owner,\n        [],\n        amount,\n        tokenAccount.mint.decimals,\n      ) as TransactionInstruction,\n    ],\n    params: {\n      sender_token_account_pubkey: source.toBase58(),\n      recipient_pubkey: destination.toBase58(),\n      token_mint_pubkey: tokenAccount.mint.address.toBase58(),\n      authority_pubkey: tokenAccount.owner.toBase58(),\n      amount,\n      decimals: tokenAccount.mint.decimals,\n    },\n    path: '/transfer_spl_token',\n  };\n};\n\nconst getSignedTransacton = async (\n  transaction: Transaction,\n  signers: Account[],\n): Promise<{ transaction: Transaction; signerPublicKey: PublicKey }> => {\n  if (signers.length > 0) {\n    transaction.sign(\n      ...signers.map((signer) => ({\n        publicKey: signer.publicKey,\n        secretKey: signer.secretKey,\n      })),\n    );\n\n    return { transaction, signerPublicKey: signers[0].publicKey };\n  }\n\n  return { transaction: await getWallet().sign(transaction), signerPublicKey: getWallet().pubkey };\n};\n\nexport const APIFactory = memoizeWith(\n  toString,\n  (network: NetworkType): API => {\n    const connection = getConnection(network);\n\n    const makeTransaction = async (\n      feePayer: PublicKey,\n      instructions: TransactionInstruction[],\n      signers: Account[],\n    ) => {\n      const { blockhash: recentBlockhash } = await connection.getRecentBlockhash();\n\n      const transaction = new Transaction({\n        recentBlockhash,\n        feePayer,\n      });\n      transaction.add(...instructions);\n\n      const { transaction: signedTransacton, signerPublicKey } = await getSignedTransacton(\n        transaction,\n        signers,\n      );\n\n      const signaturePubkeyPair = signedTransacton.signatures.find((sign: SignaturePubkeyPair) =>\n        sign.publicKey.equals(signerPublicKey),\n      );\n\n      return {\n        blockhash: recentBlockhash,\n        signature: bs58.encode(signaturePubkeyPair?.signature || []),\n      };\n    };\n\n    const getTransferTokenInstructionAndParams = async (\n      parameters: TransferParameters,\n      tokenAccount: TokenAccount,\n      feePayer: PublicKey,\n    ): Promise<InstructionsAndParams> => {\n      const destinationAccountInfo = await connection.getAccountInfo(parameters.destination);\n\n      if (destinationAccountInfo && destinationAccountInfo.owner.equals(TOKEN_PROGRAM_ID)) {\n        return makeTransferTokenInstructionAndParams(parameters, tokenAccount);\n      }\n\n      const associatedTokenAddress = await SPLToken.getAssociatedTokenAddress(\n        ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n        TOKEN_PROGRAM_ID,\n        tokenAccount.mint.address,\n        parameters.destination,\n      );\n\n      const associatedTokenAccountInfo = await connection.getAccountInfo(associatedTokenAddress);\n\n      const instructionsAndParams = makeTransferTokenInstructionAndParams(\n        {\n          source: parameters.source,\n          destination: associatedTokenAddress,\n          amount: parameters.amount,\n        },\n        tokenAccount,\n      );\n\n      if (associatedTokenAccountInfo && associatedTokenAccountInfo.owner.equals(TOKEN_PROGRAM_ID)) {\n        return instructionsAndParams;\n      }\n\n      const { instructions, params, path } = instructionsAndParams;\n\n      instructions.unshift(\n        SPLToken.createAssociatedTokenAccountInstruction(\n          ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n          TOKEN_PROGRAM_ID,\n          tokenAccount.mint.address,\n          associatedTokenAddress,\n          parameters.destination,\n          feePayer,\n        ),\n      );\n\n      return {\n        instructions,\n        params: { ...params, recipient_pubkey: parameters.destination.toBase58() },\n        path,\n      };\n    };\n\n    const transfer = async (\n      parameters: TransferParameters,\n      tokenAccount: TokenAccount,\n    ): Promise<string> => {\n      if (!feeRelayerUrl) {\n        throw new Error('feeRelayerUrl must be set');\n      }\n\n      const isTransferSol = parameters.source.equals(getWallet().pubkey);\n\n      const feePayer = await getFeePayerPubkey();\n\n      const { instructions, params, path } = isTransferSol\n        ? makeTransferSolInstructionAndParams(parameters)\n        : await getTransferTokenInstructionAndParams(parameters, tokenAccount, feePayer);\n\n      const { signature, blockhash } = await makeTransaction(feePayer, instructions, []);\n\n      return sendTransaction(path, {\n        blockhash,\n        signature,\n        ...params,\n      });\n    };\n\n    // const makeSwapInstructionsAndParams = async (\n    //   parameters: SwapParameters & { feeCompensationPool: Pool },\n    //   feePayer: PublicKey,\n    // ): Promise<InstructionsAndParams> => {\n    //   const { fromAccount, fromAmount, pool, slippage, feeCompensationPool } = parameters;\n    //   const instructions = [];\n    //   const signers: Account[] = [];\n    //   let feeAmount = 0;\n    //\n    //   const accountRentExempt = await connection.getMinimumBalanceForRentExemption(\n    //     AccountLayout.span,\n    //   );\n    //\n    //   const {\n    //     feeCalculator: { lamportsPerSignature },\n    //   } = await connection.getRecentBlockhash();\n    //\n    //   // const userTransferAuthority = new Account();\n    //   const userTransferAuthorityPubkey = getWallet().pubkey; // userTransferAuthority.publicKey;\n    //   // signers.push(userTransferAuthority);\n    //\n    //   feeAmount = lamportsPerSignature + lamportsPerSignature; // fee relayer + userTransferAuthority\n    //\n    //   const isReverse = isReverseSwap(parameters);\n    //   const toToken = isReverse ? parameters.pool.tokenA.mint : parameters.pool.tokenB.mint;\n    //   const toAccount = parameters.toAccount?.address;\n    //   let userDestination = toAccount;\n    //\n    //   if (!parameters.toAccount) {\n    //     const associatedTokenAddress = await SPLToken.getAssociatedTokenAddress(\n    //       ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n    //       TOKEN_PROGRAM_ID,\n    //       toToken.address,\n    //       getWallet().pubkey,\n    //     );\n    //\n    //     instructions.push(\n    //       SPLToken.createAssociatedTokenAccountInstruction(\n    //         ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n    //         TOKEN_PROGRAM_ID,\n    //         toToken.address,\n    //         associatedTokenAddress,\n    //         getWallet().pubkey,\n    //         feePayer,\n    //       ),\n    //     );\n    //\n    //     userDestination = associatedTokenAddress;\n    //     feeAmount += accountRentExempt;\n    //   }\n    //\n    //   const poolIntoAccount = isReverse ? pool.tokenB : pool.tokenA;\n    //   const poolFromAccount = isReverse ? pool.tokenA : pool.tokenB;\n    //\n    //   const minimumToAmountWithoutSlippage = parameters.pool.calculateAmountInOtherToken(\n    //     fromAccount.mint,\n    //     fromAmount,\n    //     true,\n    //   );\n    //\n    //   const minimumToAmountWithSlippage = adjustForSlippage(\n    //     minimumToAmountWithoutSlippage,\n    //     'down',\n    //     slippage,\n    //   )\n    //     .floor()\n    //     .toNumber();\n    //\n    //   instructions.push(\n    //     TokenSwap.swapInstruction(\n    //       pool.address,\n    //       pool.tokenSwapAuthority(),\n    //       userTransferAuthorityPubkey,\n    //       fromAccount.address,\n    //       poolIntoAccount.address,\n    //       poolFromAccount.address,\n    //       userDestination || getWallet().pubkey,\n    //       pool.poolToken.address,\n    //       pool.feeAccount.address,\n    //       null,\n    //       swapProgramId,\n    //       TOKEN_PROGRAM_ID,\n    //       parameters.fromAmount,\n    //       minimumToAmountWithSlippage,\n    //     ),\n    //   );\n    //\n    //   // fee_compensation_swap\n    //   const feePayerWsolAccount = new Account();\n    //   feeAmount += lamportsPerSignature;\n    //\n    //   const isReverseFeeCompensation = feeCompensationPool.tokenB.mint.equals(\n    //     new Token(WRAPPED_SOL_MINT, 9, 0),\n    //   );\n    //   const feeCompensationPoolIntoAccount = isReverseFeeCompensation\n    //     ? feeCompensationPool.tokenB\n    //     : feeCompensationPool.tokenA;\n    //   const feeCompensationPoolFromAccount = isReverseFeeCompensation\n    //     ? feeCompensationPool.tokenA\n    //     : feeCompensationPool.tokenB;\n    //\n    //   const feeCompensationAmountIn = feeCompensationPool.calculateAmountInOtherToken(\n    //     feeCompensationPoolIntoAccount.mint,\n    //     feeAmount,\n    //     true,\n    //   );\n    //\n    //   const feeMinimumToAmountWithSlippage = adjustForSlippage(feeCompensationAmountIn, 'up', 1)\n    //     .floor()\n    //     .toNumber();\n    //\n    //   instructions.push(\n    //     SystemProgram.createAccount({\n    //       fromPubkey: feePayer,\n    //       newAccountPubkey: feePayerWsolAccount.publicKey,\n    //       lamports: accountRentExempt,\n    //       space: AccountLayout.span,\n    //       programId: TOKEN_PROGRAM_ID,\n    //     }),\n    //   );\n    //\n    //   instructions.push(\n    //     SPLToken.createInitAccountInstruction(\n    //       TOKEN_PROGRAM_ID,\n    //       WRAPPED_SOL_MINT,\n    //       feePayerWsolAccount.publicKey,\n    //       feePayer,\n    //     ),\n    //   );\n    //\n    //   instructions.push(\n    //     TokenSwap.swapInstruction(\n    //       feeCompensationPool.address,\n    //       feeCompensationPool.tokenSwapAuthority(),\n    //       userTransferAuthorityPubkey,\n    //       fromAccount.address,\n    //       feeCompensationPoolFromAccount.address,\n    //       feeCompensationPoolIntoAccount.address,\n    //       feePayerWsolAccount.publicKey,\n    //       feeCompensationPool.poolToken.address,\n    //       feeCompensationPool.feeAccount.address,\n    //       null,\n    //       swapProgramId,\n    //       TOKEN_PROGRAM_ID,\n    //       feeMinimumToAmountWithSlippage,\n    //       feeAmount,\n    //     ),\n    //   );\n    //\n    //   instructions.push(\n    //     SPLToken.createCloseAccountInstruction(\n    //       TOKEN_PROGRAM_ID,\n    //       feePayerWsolAccount.publicKey,\n    //       feePayer,\n    //       feePayer,\n    //       [],\n    //     ),\n    //   );\n    //\n    //   return {\n    //     instructions,\n    //     params: {\n    //       user_source_token_account_pubkey: fromAccount.address.toBase58(),\n    //       user_destination_pubkey: toAccount ? toAccount.toBase58() : getWallet().pubkey.toBase58(),\n    //       source_token_mint_pubkey: fromAccount.mint.address.toBase58(),\n    //       destination_token_mint_pubkey: toToken.address.toBase58(),\n    //       user_authority_pubkey: userTransferAuthorityPubkey.toBase58(),\n    //       user_swap: {\n    //         account_pubkey: pool.address.toBase58(),\n    //         authority_pubkey: pool.tokenSwapAuthority().toBase58(),\n    //         transfer_authority_pubkey: userTransferAuthorityPubkey.toBase58(),\n    //         source_pubkey: poolIntoAccount.address.toBase58(),\n    //         destination_pubkey: poolFromAccount.address.toBase58(),\n    //         pool_token_mint_pubkey: pool.poolToken.address.toBase58(),\n    //         pool_fee_account_pubkey: pool.feeAccount.address.toBase58(),\n    //         amount_in: fromAmount,\n    //         minimum_amount_out: minimumToAmountWithSlippage,\n    //       },\n    //       fee_compensation_swap: {\n    //         account_pubkey: feeCompensationPool.address.toBase58(),\n    //         authority_pubkey: feeCompensationPool.tokenSwapAuthority().toBase58(),\n    //         transfer_authority_pubkey: userTransferAuthorityPubkey.toBase58(),\n    //         source_pubkey: feeCompensationPoolFromAccount.address.toBase58(),\n    //         destination_pubkey: feeCompensationPoolIntoAccount.address.toBase58(),\n    //         pool_token_mint_pubkey: feeCompensationPool.poolToken.address.toBase58(),\n    //         pool_fee_account_pubkey: feeCompensationPool.feeAccount.address.toBase58(),\n    //         amount_in: feeMinimumToAmountWithSlippage,\n    //         minimum_amount_out: feeAmount,\n    //       },\n    //       fee_payer_wsol_account_keypair: bs58.encode(feePayerWsolAccount.secretKey),\n    //     },\n    //     path: '/swap_spl_token_with_fee_compensation',\n    //     signers,\n    //   };\n    // };\n    //\n    // const swap = async (\n    //   parameters: SwapParameters & { feeCompensationPool: Pool },\n    // ): Promise<string> => {\n    //   if (!feeRelayerUrl) {\n    //     throw new Error('feeRelayerUrl must be set');\n    //   }\n    //\n    //   validateSwapParameters(parameters);\n    //\n    //   const feePayer = await getFeePayerPubkey();\n    //\n    //   const { instructions, params, path, signers } = await makeSwapInstructionsAndParams(\n    //     parameters,\n    //     feePayer,\n    //   );\n    //\n    //   const { signature, blockhash } = await makeTransaction(feePayer, instructions, signers || []);\n    //\n    //   return sendTransaction(path, {\n    //     blockhash,\n    //     signature,\n    //     ...params,\n    //   });\n    // };\n\n    return {\n      transfer,\n      // swap,\n    };\n  },\n);\n","import { styled } from '@linaria/react';\n\nexport const Toast = styled.div`\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  max-width: 100%;\n  min-height: 40px;\n  padding: 16px;\n\n  word-break: break-all;\n  word-break: break-word;\n\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);\n  cursor: initial;\n\n  @media (min-width: 500px) {\n    width: 282px;\n  }\n`;\n","import React, { createRef, PureComponent, ReactNode, RefObject } from 'react';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport { Toast } from './Toast';\n\nconst LIMIT = 3;\nconst HIDE_TIMEOUT = 7000;\nconst HIDE_LEAVE_TIMEOUT = 5000;\n\nconst Wrapper = styled.div`\n  position: fixed;\n  right: 16px;\n  bottom: 8px;\n  left: 16px;\n  z-index: 9999;\n\n  @media (min-width: 500px) {\n    right: 30px;\n    bottom: 22px;\n    left: 30px;\n  }\n`;\n\nconst ToastContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n\n  max-width: 100%;\n  padding-bottom: 8px;\n\n  transition: transform 0.3s ease-out;\n\n  &.isRight {\n    right: 0;\n    left: unset;\n  }\n\n  &.isInvisible {\n    visibility: hidden;\n  }\n`;\n\nconst ToastWrapper = styled.div`\n  &.isAppearing {\n    animation: fromBottomAnimation 0.4s ease-out;\n  }\n\n  &.isHiding {\n    animation: toLeftAnimation 0.3s ease-in forwards;\n\n    &.isRight {\n      animation: toRightAnimation 0.3s ease-in forwards;\n    }\n  }\n\n  @keyframes fromBottomAnimation {\n    from {\n      transform: translate(0, 1000px);\n    }\n    to {\n      transform: translate(0, 0);\n    }\n  }\n\n  @keyframes toLeftAnimation {\n    from {\n      transform: translate(0, 0);\n    }\n    to {\n      transform: translate(-500px, 0);\n    }\n  }\n\n  @keyframes toRightAnimation {\n    from {\n      transform: translate(0, 0);\n    }\n    to {\n      transform: translate(500px, 0);\n    }\n  }\n`;\n\nexport type RendererParams = {\n  type: string;\n  header?: string;\n  text?: string;\n  onClose?: () => void;\n};\ntype RendererType = (params: RendererParams) => ReactNode;\n\ntype ToastParams = {\n  type: string;\n  header?: string;\n  text?: string;\n  renderer?: RendererType;\n};\n\ntype SizeType = {\n  [id: string]: number;\n};\n\ninterface Props {\n  anchor?: 'left' | 'right';\n  renderToast?: RendererType;\n  className: string;\n}\n\ninterface State {\n  currentToasts: Array<{ id: number; isHiding?: boolean } & ToastParams>;\n  delayedQueue: ToastParams[];\n  heights: SizeType;\n  bottomOffsets: SizeType;\n  isHovered: boolean;\n}\n\nlet instance: ToastManager | null;\n\nfunction addToast(params: ToastParams) {\n  if (!instance) {\n    throw new Error('ToastsManager is not mounted');\n  }\n\n  setTimeout(() => {\n    if (instance) {\n      instance.addToast(params);\n    }\n  }, 0);\n}\n\n/**\n * The component is quite complicated to support nice toast animations\n */\nexport class ToastManager extends PureComponent<Props, State> {\n  static defaultProps = {\n    className: undefined,\n    anchor: 'left',\n    renderToast: undefined,\n  };\n\n  static info(header: string, text?: string) {\n    addToast({\n      type: 'info',\n      header,\n      text,\n    });\n  }\n\n  static warn(header: string, text?: string) {\n    addToast({\n      type: 'warn',\n      header,\n      text,\n    });\n  }\n\n  static error(header: string, text?: string) {\n    addToast({\n      type: 'error',\n      header,\n      text,\n    });\n  }\n\n  static show(renderer: RendererType) {\n    addToast({\n      type: 'component',\n      renderer,\n    });\n  }\n\n  lastId = 0;\n\n  toastsRefs: {\n    [id: string]: RefObject<HTMLDivElement>;\n  } = {};\n\n  hideTimeouts: number[] = [];\n\n  clearingTimeouts: number[] = [];\n\n  state: State = {\n    currentToasts: [],\n    delayedQueue: [],\n    heights: {},\n    bottomOffsets: {},\n    isHovered: false,\n  };\n\n  componentDidMount() {\n    instance = this;\n\n    window.addEventListener('blur', this.onLeave);\n  }\n\n  componentDidUpdate(_: Props, prevState: State) {\n    const { currentToasts } = this.state;\n\n    const prevLength = prevState.currentToasts.length;\n\n    if (currentToasts.length > 0 && !prevLength) {\n      window.addEventListener('resize', this.onResize);\n    } else if (currentToasts.length === 0 && prevLength) {\n      window.removeEventListener('resize', this.onResize);\n    }\n\n    this.checkHeights();\n  }\n\n  componentWillUnmount() {\n    if (instance === this) {\n      instance = null;\n    }\n\n    window.removeEventListener('blur', this.onLeave);\n\n    for (const id of this.hideTimeouts) {\n      clearTimeout(id);\n    }\n\n    for (const id of this.clearingTimeouts) {\n      clearTimeout(id);\n    }\n  }\n\n  onCloseClick = (id: number) => {\n    this.startToastsHiding(id);\n  };\n\n  onMouseEnter = () => {\n    this.setState({\n      isHovered: true,\n    });\n\n    for (const id of this.hideTimeouts) {\n      clearTimeout(id);\n    }\n  };\n\n  onLeave = () => {\n    const { currentToasts } = this.state;\n\n    this.setState({\n      isHovered: false,\n    });\n\n    if (currentToasts.length === 0) {\n      return;\n    }\n\n    const hideIds = new Set(currentToasts.map(({ id }) => id));\n\n    const timeoutId = window.setTimeout(() => {\n      this.startToastsHiding(hideIds);\n    }, HIDE_LEAVE_TIMEOUT);\n\n    this.hideTimeouts.push(timeoutId);\n  };\n\n  onResize = () => {\n    this.checkHeights();\n  };\n\n  getActiveToastsCount() {\n    const { currentToasts } = this.state;\n\n    return currentToasts.filter((toast) => !toast.isHiding).length;\n  }\n\n  checkDelayedQueue() {\n    const { delayedQueue } = this.state;\n\n    if (delayedQueue.length > 0 && this.getActiveToastsCount() < LIMIT) {\n      const [firstToast, ...other] = delayedQueue;\n\n      this.setState(\n        {\n          delayedQueue: other,\n        },\n        () => {\n          this.checkDelayedQueue();\n        },\n      );\n\n      this.showToast(firstToast);\n    }\n  }\n\n  startToastsHiding(ids: number | Set<number>) {\n    if (!(ids instanceof Set)) {\n      // eslint-disable-next-line no-param-reassign\n      ids = new Set<number>([ids]);\n    }\n\n    const { currentToasts } = this.state;\n\n    this.setState(\n      {\n        currentToasts: currentToasts.map((toast) => {\n          if ((ids as Set<number>).has(toast.id)) {\n            return {\n              ...toast,\n              isHiding: true,\n            };\n          }\n\n          return toast;\n        }),\n      },\n      () => {\n        this.checkDelayedQueue();\n      },\n    );\n\n    this.clearingTimeouts.push(\n      window.setTimeout(() => {\n        this.removeToasts(ids as Set<number>);\n      }, 400),\n    );\n  }\n\n  addToast(toastParams: ToastParams): void {\n    const { delayedQueue } = this.state;\n\n    if (this.getActiveToastsCount() >= LIMIT) {\n      this.setState({\n        delayedQueue: delayedQueue.concat(toastParams),\n      });\n      return;\n    }\n\n    this.showToast(toastParams);\n  }\n\n  showToast({ type, header, text, renderer }: ToastParams) {\n    const { currentToasts, isHovered } = this.state;\n\n    this.lastId += 1;\n\n    const id = this.lastId;\n\n    this.toastsRefs[id] = createRef();\n\n    if (!isHovered) {\n      this.startToastHideTimeout(id);\n    }\n\n    this.setState({\n      currentToasts: currentToasts.concat({\n        id,\n        type,\n        header,\n        text,\n        renderer,\n      }),\n    });\n  }\n\n  removeToasts(ids: Set<number>) {\n    const { currentToasts } = this.state;\n\n    this.setState({\n      currentToasts: currentToasts.filter((toast) => !ids.has(toast.id)),\n    });\n  }\n\n  calcOffsets(heights: SizeType) {\n    const { currentToasts, bottomOffsets } = this.state;\n\n    const newBottomOffsets: SizeType = {};\n    let totalOffset = 0;\n\n    for (let i = currentToasts.length - 1; i >= 0; i -= 1) {\n      const { id, isHiding } = currentToasts[i];\n\n      if (isHiding) {\n        newBottomOffsets[id] = bottomOffsets[id];\n      } else {\n        const height = heights[id];\n        let bottomOffset;\n\n        if (height) {\n          bottomOffset = totalOffset;\n          totalOffset += height;\n        } else {\n          // TODO:\n          bottomOffset = 0;\n        }\n\n        newBottomOffsets[id] = bottomOffset;\n      }\n    }\n\n    this.setState({\n      heights,\n      bottomOffsets: newBottomOffsets,\n    });\n  }\n\n  checkHeights() {\n    const { currentToasts, heights } = this.state;\n\n    const newHeights: SizeType = {};\n    let heightsUpdated = false;\n\n    for (const id of Object.keys(this.toastsRefs)) {\n      const ref = this.toastsRefs[id];\n\n      if (ref.current) {\n        const foundToast = currentToasts.find((toast) => toast.id === Number(id));\n\n        if (foundToast) {\n          const height = foundToast.isHiding ? 0 : ref.current.clientHeight;\n\n          newHeights[id] = height;\n\n          if (heights[id] === undefined || heights[id] !== height) {\n            heightsUpdated = true;\n          }\n        }\n      }\n    }\n\n    if (heightsUpdated) {\n      this.calcOffsets(newHeights);\n    }\n  }\n\n  startToastHideTimeout(id: number) {\n    const timeoutId = window.setTimeout(() => {\n      this.startToastsHiding(id);\n    }, HIDE_TIMEOUT);\n\n    this.hideTimeouts.push(timeoutId);\n  }\n\n  renderToasts() {\n    const { renderToast, anchor } = this.props;\n    const { currentToasts, bottomOffsets } = this.state;\n\n    const isRight = anchor === 'right';\n\n    return currentToasts.map(({ id, type, header, text, renderer, isHiding }) => {\n      const bottomOffset = bottomOffsets[id];\n      const isOffsetCalculated = bottomOffset !== undefined;\n\n      const render = renderer || renderToast;\n\n      return (\n        <ToastContainer\n          key={id}\n          ref={this.toastsRefs[id]}\n          style={{\n            transform: `translate(0, -${bottomOffset}px)`,\n          }}\n          className={classNames({ isInvisible: !isOffsetCalculated, isRight })}>\n          <ToastWrapper\n            className={classNames({ isRight, isAppearing: isOffsetCalculated, isHiding })}>\n            {render ? (\n              render({ type, header, text, onClose: () => this.onCloseClick(id) })\n            ) : (\n              <Toast>{header}</Toast>\n            )}\n          </ToastWrapper>\n        </ToastContainer>\n      );\n    });\n  }\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <Wrapper className={className} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onLeave}>\n        {this.renderToasts()}\n      </Wrapper>\n    );\n  }\n}\n","import { PublicKey } from '@solana/web3.js';\n\nexport const DEX_PID = new PublicKey('9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin');\n\nexport const SRM_MINT = new PublicKey('SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt');\n\nexport const USDC_MINT = new PublicKey('EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v');\n\nexport const USDT_MINT = new PublicKey('Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB');\n\n// Arbitrary mint to represent SOL (not wrapped SOL).\nexport const SOL_MINT = new PublicKey('Ejmc1UB4EsES5oAaRN63SpoxMJidt3ZGBrqrZk49vjTZ');\n\nexport const WRAPPED_SOL_MINT = new PublicKey('So11111111111111111111111111111111111111112');\n\nexport const WORM_MARKET_BASE = new PublicKey('6a9wpsZpZGxGhFVSQBpcTNjNjytdbSA1iUw1A5KNDxPw');\n\nexport const WORM_USDC_MINT = new PublicKey('FVsXUnbhifqJ4LiXQEbpUtXVdB8T5ADLKqSs5t1oc54F');\n\nexport const WORM_USDC_MARKET = new PublicKey('6nGMps9VfDjkKEwYjdSNqN1ToXkLae4VsN49fzBiDFBd');\n\nexport const WORM_USDT_MINT = new PublicKey('9w97GdWUYYaamGwdKMKZgGzPduZJkiFizq4rz5CPXRv2');\n\nexport const WORM_USDT_MARKET = new PublicKey('4v6e6vNXAaEunrvbqkYnKwbaWfck8a2KVR4uRAVXxVwC');\n","import { memoizeWith, toString } from 'ramda';\n\nimport { nameSericeUrl } from 'config/constants';\n\nexport type LookupResponce = {\n  address: string;\n  name: string;\n  parent: string;\n};\n\nexport type ResolveUsernameResponce = {\n  parent_name: string;\n  owner: string;\n  class: string;\n  name: string;\n};\n\nexport interface API {\n  lookupName: (owner: string | null) => Promise<Array<LookupResponce>>;\n  resolveName: (name: string) => Promise<Array<ResolveUsernameResponce>>;\n}\n\nexport const APIFactory = memoizeWith(\n  toString,\n  (_: any): API => {\n    const lookupName = async (owner: string | null): Promise<Array<LookupResponce>> => {\n      if (!owner) return [];\n      try {\n        const res = await fetch(`${nameSericeUrl}/lookup/${owner}`);\n\n        if (!res.ok) {\n          throw new Error('lookup username something wrong');\n        }\n\n        const result = await res.json();\n\n        return result;\n      } catch (error) {\n        console.error(error);\n        return [];\n      }\n    };\n\n    const resolveName = async (name: string): Promise<Array<ResolveUsernameResponce>> => {\n      if (!name) return [];\n      try {\n        const res = await fetch(`${nameSericeUrl}/resolve/${name}`);\n\n        if (res.status === 404) {\n          return [];\n        }\n\n        const result = await res.json();\n\n        return result;\n      } catch (error) {\n        console.error(error);\n        return [];\n      }\n    };\n\n    return {\n      lookupName,\n      resolveName,\n    };\n  },\n);\n","import {\n  createAsyncThunk,\n  createSlice,\n  Draft,\n  PayloadAction,\n  unwrapResult,\n} from '@reduxjs/toolkit';\nimport { Account, Blockhash, FeeCalculator, PublicKey } from '@solana/web3.js';\nimport Decimal from 'decimal.js';\nimport { mergeDeepRight } from 'ramda';\n\nimport { APIFactory as FeeRelayerAPIFactory } from 'api/feeRelayer';\nimport { LookupResponce, ResolveUsernameResponce } from 'api/nameService';\nimport { APIFactory as NameServiceApi } from 'api/nameService';\nimport { API, APIFactory as TokenAPIFactory, TransferParameters } from 'api/token';\nimport { AccountListener } from 'api/token/AccountListener';\nimport colors from 'api/token/colors.config';\nimport { Token } from 'api/token/Token';\nimport { SerializableTokenAccount, TokenAccount } from 'api/token/TokenAccount';\nimport { Transaction } from 'api/transaction/Transaction';\nimport * as WalletAPI from 'api/wallet';\nimport {\n  awaitConfirmation,\n  getBalance,\n  getWallet,\n  getWalletUnsafe,\n  WalletDataType,\n  WalletType,\n} from 'api/wallet';\nimport {\n  getDerivableAccounts,\n  loadMnemonicAndSeed,\n  ManualWalletData,\n} from 'api/wallet/ManualWallet';\nimport { WalletEvent } from 'api/wallet/Wallet';\nimport { SOL_MINT } from 'app/contexts/swapSerum';\nimport { ToastManager } from 'components/common/ToastManager';\nimport { DEFAULT_NETWORK, NetworkType, swapHostFeeAddress } from 'config/constants';\nimport { SYSTEM_PROGRAM_ID, WRAPPED_SOL_MINT } from 'constants/solana/bufferLayouts';\nimport { RootState } from 'store/rootReducer';\nimport { getAvailableTokens, wipeAction } from 'store/slices/GlobalSlice';\nimport { getRatesCandle, getRatesMarkets } from 'store/slices/rate/RateSlice';\nimport {\n  addPendingTransaction,\n  updateTransactions,\n} from 'store/slices/transaction/TransactionSlice';\nimport { updateEntityArray } from 'store/utils';\nimport { minorAmountToMajor } from 'utils/amount';\nimport {\n  loadHiddenTokens,\n  loadSettings,\n  loadZeroBalanceTokens,\n  removeZeroBalanceToken,\n  saveSettings,\n} from 'utils/settings';\nimport { transferNotification } from 'utils/transactionNotifications';\nimport { WalletSettings } from 'utils/types';\n\nconst STORAGE_KEY_TYPE = 'type';\n\nexport const WALLET_SLICE_NAME = 'wallet';\n\nconst accountsListeners: AccountListener[] = [];\n\nexport interface WalletsState {\n  network: NetworkType;\n  connected: boolean;\n  publicKey: string | null;\n  type: WalletType;\n  tokenAccounts: Array<SerializableTokenAccount>;\n  derivableTokenAccounts: Array<SerializableTokenAccount>;\n  hiddenTokens: Array<string> | null;\n  settings: WalletSettings;\n  zeroBalanceTokens: Array<string>;\n  username: string | null;\n}\n\n/**\n * Async action to disconnect from a wallet.\n */\nexport const disconnect = createAsyncThunk(`${WALLET_SLICE_NAME}/disconnect`, (_, thunkAPI) => {\n  WalletAPI.disconnect();\n  thunkAPI.dispatch(wipeAction());\n  ToastManager.error('Wallet disconnected');\n});\n\n// Simulate SOL token account\nconst getSolToken = async (TokenAPI: API, publicKey: PublicKey, isDerivable?: boolean) => {\n  const balance = await getBalance(publicKey);\n  const tokenInfo = TokenAPI.getConfigForToken(WRAPPED_SOL_MINT);\n\n  // Fake token to simulate SOL as Token\n  const mint = new Token(\n    SOL_MINT,\n    9,\n    0,\n    undefined,\n    'Solana',\n    'SOL',\n    colors.SOL,\n    tokenInfo?.logoURI,\n  );\n  return new TokenAccount(\n    mint,\n    SYSTEM_PROGRAM_ID,\n    SYSTEM_PROGRAM_ID,\n    publicKey,\n    balance,\n    isDerivable,\n  );\n};\n\nexport const getDerivableTokenAccounts = createAsyncThunk<\n  SerializableTokenAccount[],\n  { seed: string; derivationPath: string }\n>(`${WALLET_SLICE_NAME}/getDerivableTokenAccounts`, async (data, thunkAPI) => {\n  const state: RootState = thunkAPI.getState() as RootState;\n  const walletState = state.wallet;\n  const TokenAPI = TokenAPIFactory(walletState.network);\n  // if didn't connected(need for DerivableAccount component/page)\n  const walletPublicKey = getWalletUnsafe()?.pubkey || null;\n\n  const accounts = getDerivableAccounts(data.seed, data.derivationPath);\n  const publicKeys = accounts.map((account) => account.publicKey);\n\n  const promises = publicKeys.map((publicKey) => {\n    const isDerivable = walletPublicKey ? !walletPublicKey?.equals(publicKey) : false;\n    return getSolToken(TokenAPI, publicKey, isDerivable);\n  });\n  const derivableTokenAccounts = await Promise.all(promises);\n\n  return derivableTokenAccounts.map((tokenAccount) => tokenAccount.serialize()) || [];\n});\n\nexport const getTokenAccount = createAsyncThunk<TokenAccount | null, PublicKey>(\n  `${WALLET_SLICE_NAME}/getTokenAccount`,\n  async (account, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const walletState = state.wallet;\n    const TokenAPI = TokenAPIFactory(walletState.network);\n\n    return TokenAPI.tokenAccountInfo(account);\n  },\n);\n\nconst updateHitory = createAsyncThunk<void, TokenAccount>(\n  `${WALLET_SLICE_NAME}/updateHitory`,\n  (account, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n\n    if (state.transaction.currentHistoryPubkey === account.address.toBase58()) {\n      thunkAPI.dispatch(updateTransactions(true));\n    }\n  },\n);\n\nexport const getTokenAccountsForWallet = createAsyncThunk<SerializableTokenAccount[]>(\n  `${WALLET_SLICE_NAME}/getTokenAccountsForWallet`,\n  async (_, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const { network, type, derivableTokenAccounts } = state.wallet;\n    const TokenAPI = TokenAPIFactory(network);\n\n    const solTokens = [];\n\n    // If manual\n    if (type === WalletType.MANUAL) {\n      // TODO: temp for future feature\n      solTokens.push(TokenAccount.from(derivableTokenAccounts[0]));\n      // derivableTokenAccounts.forEach((account) => solTokens.push(TokenAccount.from(account)));\n    } else {\n      // Simulated SOL token for sollet and other wallet types\n      const publicKey = getWallet().pubkey;\n      solTokens.push(await getSolToken(TokenAPI, publicKey));\n    }\n\n    // Get all Tokens\n    const accountsForWallet = await TokenAPI.getAccountsForWallet();\n\n    // Merge SOL and Tokens as token accounts\n    const tokenAccounts = [...solTokens, ...accountsForWallet];\n\n    const listener = TokenAPI.listenToTokenAccountChanges(tokenAccounts, (updatedTokenAccount) => {\n      thunkAPI.dispatch(updateAccount(updatedTokenAccount.serialize()));\n      void thunkAPI.dispatch(updateHitory(updatedTokenAccount));\n    });\n\n    accountsListeners.push(listener);\n\n    return tokenAccounts.map((tokenAccount) => tokenAccount.serialize());\n  },\n);\n\nexport const updateTokenAccountsForWallet = createAsyncThunk<SerializableTokenAccount[]>(\n  `${WALLET_SLICE_NAME}/updateTokenAccountsForWallet`,\n  async (_, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const { network, tokenAccounts } = state.wallet;\n    const TokenAPI = TokenAPIFactory(network);\n\n    const accountsForWallet = await TokenAPI.getAccountsForWallet();\n\n    const tokenAccountsAddresses = new Set(tokenAccounts.map((token) => token.address));\n\n    const newTokenAccounts = [];\n\n    for (const account of accountsForWallet) {\n      if (!tokenAccountsAddresses.has(account.address.toBase58())) {\n        newTokenAccounts.push(account);\n\n        const listener = TokenAPI.listenToTokenAccountChanges(\n          newTokenAccounts,\n          (updatedTokenAccount) => {\n            thunkAPI.dispatch(updateAccount(updatedTokenAccount.serialize()));\n          },\n        );\n\n        accountsListeners.push(listener);\n\n        ToastManager.info('Wallet successfully created!');\n\n        const { symbol } = account.mint;\n\n        transferNotification({\n          header: 'Received',\n          text: `+ ${minorAmountToMajor(account.balance, account.mint).toString()} ${symbol}`,\n          symbol,\n        });\n      }\n    }\n\n    return newTokenAccounts.map((tokenAccount) => tokenAccount.serialize());\n  },\n);\n\nexport const precacheTokenAccounts = createAsyncThunk<void, PublicKey>(\n  `${WALLET_SLICE_NAME}/precacheTokenAccounts`,\n  async (publicKey, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const walletState = state.wallet;\n    const TokenAPI = TokenAPIFactory(walletState.network);\n\n    await TokenAPI.precacheTokenAccounts(publicKey);\n  },\n);\n\nexport const autoConnect = createAsyncThunk<string | undefined>(\n  `${WALLET_SLICE_NAME}/autoConnect`,\n  async (_, thunkAPI) => {\n    const {\n      wallet: { type },\n    }: RootState = thunkAPI.getState() as RootState;\n\n    let processedData;\n\n    if (type === WalletType.MANUAL) {\n      processedData = (await loadMnemonicAndSeed()) as ManualWalletData;\n    }\n\n    return unwrapResult(await thunkAPI.dispatch(connectWallet(processedData)));\n  },\n);\n\nexport const connect = createAsyncThunk(`${WALLET_SLICE_NAME}/connect`, (_, thunkAPI) => {\n  const {\n    wallet: { network },\n  }: RootState = thunkAPI.getState() as RootState;\n\n  WalletAPI.connect(network);\n});\n\n/**\n * Async action to connect to a wallet. Creates a new wallet instance,\n * connects to it, and connects action dispatchers, when a disconnect event\n * (e.g. the user closes the wallet tab) occurs.\n *\n * The output of the action is the user's public key in Base58 form,\n * so that the user can verify it.\n */\nexport const connectWallet = createAsyncThunk<string, WalletDataType | undefined>(\n  `${WALLET_SLICE_NAME}/connectWallet`,\n  async (data, thunkAPI) => {\n    const {\n      wallet: { network, type },\n    }: RootState = thunkAPI.getState() as RootState;\n\n    const wallet = await WalletAPI.connectWallet(network, type, data);\n\n    wallet.on(WalletEvent.DISCONNECT, () => {\n      void thunkAPI.dispatch(disconnect());\n      ToastManager.error('Wallet disconnected');\n    });\n\n    // wallet.on(WalletEvent.CONFIRMED, ({ transactionSignature }) =>\n    //   ToastManager.info(`Confirmed: ${transactionSignature}`),\n    // );\n\n    ToastManager.info('Wallet connected');\n\n    // Make and store derivable before getAvailableTokens\n    if (type === WalletType.MANUAL && data?.seed && data?.derivationPath) {\n      await thunkAPI.dispatch(\n        getDerivableTokenAccounts({ seed: data.seed, derivationPath: data.derivationPath }),\n      );\n    }\n\n    // Get tokens first before getting accounts and pools,\n    // to avail of the token caching feature\n    await thunkAPI.dispatch(getAvailableTokens());\n    void thunkAPI.dispatch(getTokenAccountsForWallet());\n    void thunkAPI.dispatch(getRatesMarkets());\n    void thunkAPI.dispatch(getRatesCandle({ symbol: 'SOL', type: 'month' }));\n    void thunkAPI.dispatch(lookupName(wallet.pubkey.toBase58()));\n\n    if (swapHostFeeAddress) {\n      void thunkAPI.dispatch(precacheTokenAccounts(swapHostFeeAddress));\n    }\n\n    return wallet.pubkey.toBase58();\n  },\n);\n\nexport const lookupName = createAsyncThunk<LookupResponce | null, string>(\n  `${WALLET_SLICE_NAME}/lookupName`,\n  async (owner, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const names = await NameServiceApi(state.wallet.network.cluster).lookupName(owner);\n    return names.length > 0 ? names[0] : null;\n  },\n);\n\nexport const resolveUsername = createAsyncThunk<Array<ResolveUsernameResponce>, string>(\n  `${WALLET_SLICE_NAME}/resolveUsername`,\n  async (username, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const result = await NameServiceApi(state.wallet.network.cluster).resolveName(username);\n    return result;\n  },\n);\n\nexport const transfer = createAsyncThunk<string, TransferParameters>(\n  `${WALLET_SLICE_NAME}/transfer`,\n  async (parameters, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const walletState = state.wallet;\n    const tokenAccounts = state.wallet.tokenAccounts.map((account) => TokenAccount.from(account));\n    const tokenAccount = tokenAccounts.find((account) => account.address.equals(parameters.source));\n\n    let resultSignature: string;\n    if (walletState.settings.useFreeTransactions) {\n      const FeeRelayerAPI = FeeRelayerAPIFactory(walletState.network);\n      resultSignature = await FeeRelayerAPI.transfer(parameters, tokenAccount);\n    } else {\n      const TokenAPI = TokenAPIFactory(walletState.network);\n      resultSignature = await TokenAPI.transfer(parameters);\n    }\n\n    thunkAPI.dispatch(\n      addPendingTransaction(\n        new Transaction(resultSignature, 0, null, null, null, {\n          type: 'transfer',\n          source: parameters.source,\n          sourceTokenAccount: tokenAccount || null,\n          sourceToken: tokenAccount?.mint || null,\n          destination: parameters.destination,\n          destinationTokenAccount: null,\n          destinationToken: tokenAccount?.mint || null,\n          sourceAmount: tokenAccount?.mint\n            ? minorAmountToMajor(parameters.amount, tokenAccount?.mint)\n            : new Decimal(0),\n          destinationAmount: tokenAccount?.mint\n            ? minorAmountToMajor(parameters.amount, tokenAccount?.mint)\n            : new Decimal(0),\n        }).serialize(),\n      ),\n    );\n\n    await awaitConfirmation(resultSignature);\n\n    return resultSignature;\n  },\n);\n\nexport const createMint = createAsyncThunk<\n  string,\n  { amount: number; decimals: number; initialAccount: Account }\n>(`${WALLET_SLICE_NAME}/createMint`, async (parameters, thunkAPI) => {\n  const state: RootState = thunkAPI.getState() as RootState;\n  const walletState = state.wallet;\n  const TokenAPI = TokenAPIFactory(walletState.network);\n\n  return TokenAPI.createMint(parameters.amount, parameters.decimals, parameters.initialAccount);\n});\n\nexport const createAccountForToken = createAsyncThunk<TokenAccount, { token: Token }>(\n  `${WALLET_SLICE_NAME}/createAccountForToken`,\n  async (parameters, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const walletState = state.wallet;\n    const TokenAPI = TokenAPIFactory(walletState.network);\n\n    return TokenAPI.createAccountForToken(parameters.token);\n  },\n);\n\nexport const closeTokenAccount = createAsyncThunk<string, { publicKey: PublicKey }>(\n  `${WALLET_SLICE_NAME}/closeAccount`,\n  async (parameters, thunkAPI) => {\n    const state: RootState = thunkAPI.getState() as RootState;\n    const walletState = state.wallet;\n    const TokenAPI = TokenAPIFactory(walletState.network);\n\n    return TokenAPI.closeAccount(parameters.publicKey);\n  },\n);\n\nexport const airdrop = createAsyncThunk<void>(\n  `${WALLET_SLICE_NAME}/airdrop`,\n  async (): Promise<void> => {\n    await WalletAPI.airdrop();\n  },\n);\n\nexport const getMinimumBalanceForRentExemption = createAsyncThunk<number, number>(\n  `${WALLET_SLICE_NAME}/getMinimumBalanceForRentExemption`,\n  async (length) => {\n    return WalletAPI.getMinimumBalanceForRentExemption(length);\n  },\n);\n\nexport const getRecentBlockhash = createAsyncThunk<{\n  blockhash: Blockhash;\n  feeCalculator: FeeCalculator;\n}>(`${WALLET_SLICE_NAME}/getRecentBlockhash`, async () => {\n  return WalletAPI.getRecentBlockhash();\n});\n\nexport const updateAccountReducer = (\n  state: Draft<WalletsState>,\n  action: PayloadAction<SerializableTokenAccount>,\n) => {\n  const token = TokenAccount.from(action.payload);\n  // find and replace the pool in the list with the pool in the action\n  const updatedAccounts = updateEntityArray(\n    token,\n    state.tokenAccounts.map((account) => TokenAccount.from(account)),\n  );\n\n  if (token.balance.gte(0) && state.zeroBalanceTokens.includes(token.address.toBase58())) {\n    removeZeroBalanceToken(action.payload.address);\n  }\n\n  const prevBalance =\n    state.tokenAccounts.find((account) => account.mint.symbol === token.mint.symbol)?.balance ||\n    new Decimal(0);\n  const amount = token.balance.sub(prevBalance);\n\n  if (amount.gt(0)) {\n    const { symbol } = token.mint;\n\n    transferNotification({\n      header: 'Received',\n      text: `+ ${minorAmountToMajor(amount, token.mint).toString()} ${symbol}`,\n      symbol,\n    });\n  }\n\n  return {\n    ...state,\n    tokenAccounts: updatedAccounts.map((account) => account.serialize()),\n    zeroBalanceTokens: Array.from(loadZeroBalanceTokens()),\n  };\n};\n\n// The initial wallet state. No wallet is connected yet.\nconst makeInitialState = (): WalletsState => ({\n  network: loadSettings().network || DEFAULT_NETWORK,\n  connected: false,\n  publicKey: null,\n  type: localStorage.getItem(STORAGE_KEY_TYPE)\n    ? Number(localStorage.getItem(STORAGE_KEY_TYPE))\n    : WalletType.MANUAL,\n  tokenAccounts: [],\n  derivableTokenAccounts: [],\n  hiddenTokens: Array.from(loadHiddenTokens()),\n  settings: loadSettings(),\n  zeroBalanceTokens: Array.from(loadZeroBalanceTokens()),\n  username: null,\n});\n\n/**\n * Redux slice containing the reducers for the wallet\n */\nconst walletSlice = createSlice({\n  name: WALLET_SLICE_NAME,\n  initialState: makeInitialState(),\n  reducers: {\n    updateAccount: updateAccountReducer,\n    selectNetwork: (state, action: PayloadAction<NetworkType>) => ({\n      ...state,\n      network: action.payload,\n    }),\n    selectType: (state, action: PayloadAction<WalletType>) => {\n      localStorage.setItem(STORAGE_KEY_TYPE, String(action.payload));\n\n      return {\n        ...state,\n        type: action.payload,\n      };\n    },\n    updateHiddenTokens: (state) => ({\n      ...state,\n      hiddenTokens: Array.from(loadHiddenTokens()),\n      zeroBalanceTokens: Array.from(loadZeroBalanceTokens()),\n    }),\n    updateSettings: (state, action: PayloadAction<Partial<WalletSettings>>) => {\n      const newSettings = mergeDeepRight(state.settings, action.payload);\n\n      saveSettings(newSettings);\n\n      return {\n        ...state,\n        settings: newSettings,\n      };\n    },\n  },\n  extraReducers: (builder) => {\n    // Triggered when the connect async action is completed\n    builder.addCase(connectWallet.fulfilled, (state, action) => ({\n      ...makeInitialState(),\n      publicKey: action.payload,\n      connected: true,\n      derivableTokenAccounts: state.derivableTokenAccounts,\n    }));\n    // Triggered when the disconnect async action is completed\n    builder.addCase(disconnect.fulfilled, () => ({\n      ...makeInitialState(),\n      publicKey: null,\n      connected: false,\n    }));\n    builder.addCase(getDerivableTokenAccounts.fulfilled, (state, action) => ({\n      ...state,\n      derivableTokenAccounts: action.payload,\n    }));\n    builder.addCase(getTokenAccountsForWallet.fulfilled, (state, action) => ({\n      ...state,\n      tokenAccounts: state.tokenAccounts.concat(action.payload),\n    }));\n    builder.addCase(updateTokenAccountsForWallet.fulfilled, (state, action) => ({\n      ...state,\n      tokenAccounts: state.tokenAccounts.concat(action.payload),\n    }));\n    builder.addCase(createAccountForToken.fulfilled, (state, action) => ({\n      ...state,\n      tokenAccounts: state.tokenAccounts.concat(action.payload.serialize()),\n    }));\n    builder.addCase(closeTokenAccount.fulfilled, (state, action) => {\n      const { publicKey } = action.meta.arg;\n      const address = publicKey.toBase58();\n\n      return {\n        ...state,\n        tokenAccounts: state.tokenAccounts.filter((token) => token.address !== address),\n      };\n    });\n    builder.addCase(wipeAction, (state) => {\n      accountsListeners.map((listener) => listener.removeAllListeners());\n\n      return {\n        ...state,\n        tokenAccounts: [],\n      };\n    });\n\n    builder.addCase(lookupName.fulfilled, (state, action) => {\n      return {\n        ...state,\n        username: (action.payload as LookupResponce)?.name,\n      };\n    });\n  },\n});\n\nexport const {\n  selectNetwork,\n  selectType,\n  updateAccount,\n  updateHiddenTokens,\n  updateSettings,\n} = walletSlice.actions;\n// eslint-disable-next-line import/no-default-export\nexport default walletSlice.reducer;\n","import { indexOf, update } from 'ramda';\n\nimport { HasEqual } from 'utils/types';\n\n/**\n * Given an entity and an array of entities\n * Find the location of the entity in the array, and replace it.\n * This only works with entities with equals() methods, whose properties\n * can change, without changing the equals result.\n * @param entity\n * @param array\n */\nexport const updateEntityArray = <T extends HasEqual<T>>(entity: T, array: Array<T>): Array<T> =>\n  update(indexOf(entity, array), entity, array);\n","import { Account, PublicKey, Transaction } from '@solana/web3.js';\nimport nacl from 'tweetnacl';\n\nimport { isDev, localPrivateKey } from 'config/constants';\n\nimport { Wallet, WalletEvent } from './Wallet';\n\n/**\n * Test wallet implementation that uses a private key\n */\nexport class LocalWallet extends Wallet {\n  private account: Account;\n  private _publicKey: PublicKey;\n\n  constructor(endpoint: string) {\n    super(endpoint);\n    if (!isDev) {\n      throw new Error('LocalWallet can not be used in production');\n    }\n\n    if (!localPrivateKey) {\n      throw new Error('No local private key in the environment');\n    }\n\n    this.account = new Account(JSON.parse(localPrivateKey));\n    this._publicKey = this.account.publicKey;\n\n    // simulate connecting to an external wallet;\n    setImmediate(() => this.emit(WalletEvent.CONNECT));\n  }\n\n  get pubkey(): PublicKey {\n    return this._publicKey;\n  }\n\n  get publicKey(): PublicKey {\n    return this._publicKey;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  disconnect(): void {\n    // Nothing to do here\n  }\n\n  async signTransaction(transaction: Transaction): Promise<Transaction> {\n    const message = transaction.serializeMessage();\n    const signature = nacl.sign.detached(message, this.account.secretKey);\n    transaction.addSignature(this.account.publicKey, Buffer.from(signature));\n    return Promise.resolve(transaction);\n  }\n\n  async signAllTransactions(transactions: Transaction[]): Promise<Transaction[]> {\n    for (const transaction of transactions) {\n      const message = transaction.serializeMessage();\n      const signature = nacl.sign.detached(message, this.account.secretKey);\n      transaction.addSignature(this.account.publicKey, Buffer.from(signature));\n    }\n    return Promise.resolve(transactions);\n  }\n}\n","export * from './store';\n","import { css } from '@linaria/core';\nimport { rgba } from 'polished';\n\nexport const globalCss = css`\n  :global() {\n    html,\n    body,\n    #root {\n      height: 100%;\n    }\n\n    body {\n      font-family: 'Titillium Web', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n        'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n\n      background: #fbfbfd;\n      -webkit-font-smoothing: antialiased;\n    }\n\n    a {\n      color: ${rgba('#000', 0.5)};\n      font-size: 14px;\n      line-height: 140%;\n      text-decoration: underline;\n    }\n\n    a.button {\n      text-decoration: none;\n    }\n\n    button {\n      white-space: nowrap;\n\n      border: none;\n      cursor: pointer;\n\n      appearance: none;\n    }\n\n    & ::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n    }\n\n    & ::-webkit-scrollbar-track {\n      background: none;\n    }\n\n    & ::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.2);\n      border-radius: 4px;\n    }\n  }\n`;\n","import React, { FC, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { FlagsProvider } from 'flagged';\nimport { map } from 'ramda';\n\nimport { featureFlags as defaultFeatureFlags } from 'config/featureFlags';\nimport { STORAGE_KEY_FEATURES_FLAGS } from 'store/slices/GlobalSlice';\n\nexport const FeatureProvider: FC = ({ children }) => {\n  const featureFlagsEnabled = useSelector((state) => state.global.featureFlagsEnabled);\n\n  const featureFlags = useMemo(() => {\n    let flags: { [key: string]: boolean };\n    if (featureFlagsEnabled) {\n      flags = map(() => true, defaultFeatureFlags);\n    } else {\n      flags = defaultFeatureFlags;\n      localStorage.removeItem(STORAGE_KEY_FEATURES_FLAGS);\n    }\n\n    return flags;\n  }, [featureFlagsEnabled]);\n\n  return <FlagsProvider features={featureFlags}>{children}</FlagsProvider>;\n};\n","import './wdyr';\nimport 'sanitize.css';\nimport 'styles/css/nprogress.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { IntercomProvider } from 'react-use-intercom';\n\nimport assert from 'ts-invariant';\n\nimport { FeatureProvider } from 'components/common/FeatureProvider';\nimport { isDev } from 'config/constants';\nimport { store } from 'store';\nimport { globalCss } from 'styles/global';\nimport { initAmplitude } from 'utils/analytics';\n\ninitAmplitude();\n\nexport const global = globalCss;\n\nconst render = () => {\n  // Load the app dynamically, which allows for hot-reloading in development mode.\n  const App = require('./App').default as React.FC;\n\n  assert(\n    process.env.REACT_APP_INTERCOM_APP_ID,\n    \"REACT_APP_INTERCOM_APP_ID doesn't set in environment\",\n  );\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <IntercomProvider appId={process.env.REACT_APP_INTERCOM_APP_ID} autoBoot>\n          <FeatureProvider>\n            <App />\n          </FeatureProvider>\n        </IntercomProvider>\n      </Provider>\n    </React.StrictMode>,\n    document.querySelector('#root'),\n  );\n};\n\nrender();\n\n// Allow the hot-reloading of the App in development mode\nif (isDev && module.hot) {\n  module.hot.accept('./App', render);\n}\n","/// <reference types=\"@welldone-software/why-did-you-render\" />\nimport React from 'react';\n\nif (process.env.NODE_ENV === 'development') {\n  const whyDidYouRender = require('@welldone-software/why-did-you-render');\n  whyDidYouRender(React, {\n    trackAllPureComponents: true,\n  });\n}\n","import React, { FC } from 'react';\n\nimport { styled } from '@linaria/react';\nimport { Jazzicon as Icon } from '@ukstv/jazzicon-react';\n\nconst Wrapper = styled.div<{ size: string | number | undefined }>`\n  width: ${({ size }) => (size ? `${size}px` : 'auto')};\n  height: ${({ size }) => (size ? `${size}px` : 'auto')};\n`;\n\nconst IconStyled = styled(Icon)`\n  & div {\n    border-radius: 12px !important;\n  }\n`;\n\ninterface Props {\n  address: string;\n  size?: string | number | undefined;\n  className?: string;\n}\n\nexport const Jazzicon: FC<Props> = ({ address, size, className, ...props }) => {\n  return (\n    <Wrapper size={size} className={className}>\n      <IconStyled address={address} {...props} />\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent, HTMLAttributes, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { styled } from '@linaria/react';\nimport classNames from 'classnames';\n\nimport tokenList from 'api/token/token.config';\nimport { useTokenMap } from 'app/contexts/swapSerum/tokenList/hooks';\nimport { Jazzicon } from 'components/common/TokenAvatar/Jazzicon';\nimport { Avatar } from 'components/ui';\n\nimport wrappedImage from './images/wrapped.svg';\n\nconst Wrapper = styled.div`\n  position: relative;\n\n  border-radius: 12px;\n\n  &.isNotExists {\n    background: #f6f6f8;\n  }\n`;\n\nconst WrappedBy = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: 0;\n\n  width: 16px;\n  height: 16px;\n\n  background: #000;\n  border: 1px solid #464646;\n  border-radius: 4px;\n  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.25));\n\n  &.isWrapped {\n    background-image: url(${wrappedImage});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 16px 16px;\n  }\n`;\n\ntype Props = {\n  src?: string;\n  size?: string | number;\n  symbol?: string;\n  address?: string;\n};\n\nexport const TokenAvatar: FunctionComponent<Props & HTMLAttributes<HTMLDivElement>> = ({\n  symbol,\n  address,\n  src,\n  className,\n  ...props\n}) => {\n  const cluster = useSelector((state) => state.wallet.network.cluster);\n\n  // TODO: need to add cluster\n  const tokenMap = useTokenMap();\n  const tokenInfo =\n    (address && tokenMap.get(address)) ||\n    tokenList\n      .filterByClusterSlug(cluster)\n      .getList()\n      .find((token) => token.symbol === symbol || token.address === address);\n\n  const isWrapped = useMemo(() => tokenInfo?.tags?.find((tag) => tag.includes('wrapped')), [\n    tokenInfo,\n  ]);\n\n  return (\n    <Wrapper className={classNames(className, { isNotExists: !tokenInfo })}>\n      {(!tokenInfo || !tokenInfo.logoURI) && address ? (\n        <Jazzicon address={address} {...props} />\n      ) : (\n        <Avatar src={tokenInfo?.logoURI || undefined} {...props} />\n      )}\n      {isWrapped ? (\n        <WrappedBy\n          className={classNames({\n            isWrapped,\n          })}\n        />\n      ) : undefined}\n    </Wrapper>\n  );\n};\n","export function shortAddress(address: string) {\n  return `${address.slice(0, 4)}${address.slice(-4)}`;\n}\n","import * as web3 from '@solana/web3.js';\n\nexport const SYSTEM_PROGRAM_ID = new web3.PublicKey('11111111111111111111111111111111');\n\nexport const TOKEN_PROGRAM_ID = new web3.PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');\n\nexport const MEMO_PROGRAM_ID = new web3.PublicKey('Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo');\n\nexport const WRAPPED_SOL_MINT = new web3.PublicKey('So11111111111111111111111111111111111111112');\n","import { DEFAULT_NETWORK } from 'config/constants';\nimport { WalletSettings } from 'utils/types';\n\nconst WALLET_SETTINGS_KEY = 'walletSettings';\nconst WALLET_HIDDEN_TOKENS_KEY = 'walletHiddenTokens';\nconst WALLET_DISPLAYED_ZERO_BALANCE_TOKENS = 'walletDisplayedZeroBalanceTokens';\nconst USERNAME_BANNER_KEY = 'isUsernameBannerDisplayed';\n\nexport const currencies = [\n  {\n    ticker: 'USD',\n    name: 'United States Dollar',\n    symbol: '$',\n  },\n  {\n    ticker: 'EUR',\n    name: 'Euro',\n    symbol: '',\n  },\n  {\n    ticker: 'RUB',\n    name: 'Russian Ruble',\n    symbol: 'Rub',\n  },\n];\n\nexport const appearance = ['system', 'light', 'dark'];\n\nexport const defaultSettings: WalletSettings = {\n  currency: 'USD',\n  appearance: 'system',\n  network: DEFAULT_NETWORK,\n  isZeroBalancesHidden: true,\n  useFreeTransactions: true,\n};\n\nexport function loadSettings(): WalletSettings {\n  const localSettings = localStorage.getItem(WALLET_SETTINGS_KEY) as string;\n\n  if (!localSettings) {\n    return defaultSettings;\n  }\n\n  let settings = defaultSettings;\n\n  try {\n    settings = JSON.parse(localSettings) as WalletSettings;\n  } catch (error) {\n    console.error(error);\n  }\n\n  return settings;\n}\n\nexport function saveSettings(settings: WalletSettings) {\n  localStorage.setItem(WALLET_SETTINGS_KEY, JSON.stringify(settings));\n}\n\nfunction loadSetFromLocalStorage(itemKey: string): Set<string> {\n  const itemString = localStorage.getItem(itemKey) as string;\n  let items: string[] = [];\n\n  if (!itemString) {\n    return new Set();\n  }\n\n  try {\n    items = JSON.parse(itemString) as string[];\n  } catch (error) {\n    console.error(error);\n  }\n\n  return new Set([...items]);\n}\n\nfunction addOrDeleteItem(set: Set<string>, item: string, itemKey: string) {\n  if (set.has(item)) {\n    set.delete(item);\n  } else {\n    set.add(item);\n  }\n\n  localStorage.setItem(itemKey, JSON.stringify(Array.from(set)));\n}\n\nfunction removeItem(set: Set<string>, item: string, itemKey: string) {\n  if (set.has(item)) {\n    set.delete(item);\n    localStorage.setItem(itemKey, JSON.stringify(Array.from(set)));\n  }\n}\n\nexport function loadHiddenTokens(): Set<string> {\n  return loadSetFromLocalStorage(WALLET_HIDDEN_TOKENS_KEY);\n}\n\nexport function hideUnhideToken(pubkey: string) {\n  const tokens = loadHiddenTokens();\n\n  addOrDeleteItem(tokens, pubkey, WALLET_HIDDEN_TOKENS_KEY);\n}\n\nexport function removeHiddenToken(pubkey: string) {\n  const tokens = loadHiddenTokens();\n\n  removeItem(tokens, pubkey, WALLET_HIDDEN_TOKENS_KEY);\n}\n\nexport function loadZeroBalanceTokens(): Set<string> {\n  return loadSetFromLocalStorage(WALLET_DISPLAYED_ZERO_BALANCE_TOKENS);\n}\n\nexport function hideUnhideZeroBalanceToken(pubkey: string) {\n  const tokens = loadZeroBalanceTokens();\n\n  addOrDeleteItem(tokens, pubkey, WALLET_DISPLAYED_ZERO_BALANCE_TOKENS);\n}\n\nexport function removeZeroBalanceToken(pubkey: string) {\n  const tokens = loadZeroBalanceTokens();\n\n  removeItem(tokens, pubkey, WALLET_DISPLAYED_ZERO_BALANCE_TOKENS);\n}\n\nexport function removeClosedTokenKeys(pubkey: string) {\n  removeHiddenToken(pubkey);\n  removeZeroBalanceToken(pubkey);\n}\n\nexport function isUsernameBannerDisplayed() {\n  const item = localStorage.getItem(USERNAME_BANNER_KEY) as string;\n  if (!item) return true;\n  return JSON.parse(item);\n}\n\nexport function hideUsernameBanner() {\n  localStorage.setItem(USERNAME_BANNER_KEY, 'false');\n}\n","import { PublicKey, Transaction } from '@solana/web3.js';\nimport EventEmitter from 'eventemitter3';\n\nexport enum WalletEvent {\n  // eslint-disable-next-line no-unused-vars\n  CONNECT = 'connect',\n  // eslint-disable-next-line no-unused-vars\n  DISCONNECT = 'disconnect',\n  // eslint-disable-next-line no-unused-vars\n  SIGNED = 'signed',\n  // eslint-disable-next-line no-unused-vars\n  CONFIRMED = 'confirmed',\n}\n\n/**\n * Abstract wallet implementation. Any wallet connection,\n * e.g. browser extension, hardware wallet, web wallet etc,\n * is a separate implementation of this.\n */\nexport abstract class Wallet extends EventEmitter {\n  private endpoint: string;\n\n  protected constructor(network: string) {\n    super();\n    this.endpoint = network;\n  }\n\n  abstract get pubkey(): PublicKey;\n\n  abstract get publicKey(): PublicKey;\n\n  abstract disconnect(): void;\n\n  /**\n   * Sign the transaction, and emit a \"signed\" event\n   * @param transaction\n   */\n  async sign(transaction: Transaction): Promise<Transaction> {\n    const signedTransaction = await this.signTransaction(transaction);\n    this.emit(WalletEvent.SIGNED, { transaction: signedTransaction });\n\n    return signedTransaction;\n  }\n\n  /**\n   * Delegate to the underlying implementation to sign the transaction\n   * @param transaction\n   * @protected\n   */\n  abstract signTransaction(transaction: Transaction): Promise<Transaction>;\n\n  abstract signAllTransactions(transaction: Transaction[]): Promise<Transaction[]>;\n}\n","export * from './ManualWallet';\nexport * from './utils';\n","import { PublicKey, SystemProgram, TransactionInstruction } from '@solana/web3.js';\nimport { Layout } from 'buffer-layout';\n\nimport { getConnection } from 'api/connection';\nimport { getWallet } from 'api/wallet';\nimport { NetworkType } from 'config/constants';\n\nexport const makeNewAccountInstruction = async (\n  network: NetworkType,\n  newAccountKey: PublicKey,\n  layout: Layout,\n  programId: PublicKey,\n): Promise<TransactionInstruction> => {\n  const wallet = getWallet();\n  const connection = getConnection(network);\n  const balanceNeeded = await connection.getMinimumBalanceForRentExemption(layout.span);\n\n  return SystemProgram.createAccount({\n    fromPubkey: wallet.pubkey,\n    newAccountPubkey: newAccountKey,\n    lamports: balanceNeeded,\n    space: layout.span,\n    programId,\n  });\n};\n","import { Connection } from '@solana/web3.js';\nimport EventEmitter from 'eventemitter3';\n\nimport { TokenAccount } from './TokenAccount';\n\nexport type AccountUpdateEvent = {\n  tokenAccount: TokenAccount;\n};\n\nlet accountChangeSubscriptionsIds: number[] = [];\n\nexport const ACCOUNT_UPDATED_EVENT = 'accountUpdated';\n\nexport class AccountListener extends EventEmitter {\n  private connection: Connection;\n\n  constructor(connection: Connection) {\n    super();\n    this.connection = connection;\n  }\n\n  listenTo(tokenAccount: TokenAccount): void {\n    const subscriptionId = this.connection.onAccountChange(\n      tokenAccount.address,\n      (accountInfo, context) => {\n        console.log('Account Changed');\n        console.log(accountInfo, context);\n\n        const emittedEvent: AccountUpdateEvent = {\n          tokenAccount,\n        };\n        this.emit(ACCOUNT_UPDATED_EVENT, emittedEvent);\n      },\n    );\n\n    accountChangeSubscriptionsIds.push(subscriptionId);\n  }\n\n  removeAllListeners(event?: EventEmitter.EventNames<string | symbol>): this {\n    accountChangeSubscriptionsIds.map((subscriptionId) =>\n      this.connection.removeAccountChangeListener(subscriptionId),\n    );\n    accountChangeSubscriptionsIds = [];\n\n    return super.removeAllListeners(event);\n  }\n}\n","import { AccountLayout, MintLayout, Token as SPLToken } from '@solana/spl-token';\nimport { TokenInfo } from '@solana/spl-token-registry';\nimport {\n  Account,\n  AccountInfo,\n  ParsedAccountData,\n  PublicKey,\n  RpcResponseAndContext,\n  SystemProgram,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { complement, find, isNil, memoizeWith, path, propEq, splitEvery, toString } from 'ramda';\nimport assert from 'ts-invariant';\n\nimport { getConnection } from 'api/connection';\nimport { retryableProxy } from 'api/connection/utils/retryableProxy';\nimport { getWallet, makeTransaction, sendTransaction } from 'api/wallet';\nimport { SOL_MINT } from 'app/contexts/swapSerum';\nimport { NetworkType } from 'config/constants';\nimport { SYSTEM_PROGRAM_ID, WRAPPED_SOL_MINT } from 'constants/solana/bufferLayouts';\nimport { CacheTTL } from 'lib/cachettl';\nimport { toDecimal } from 'utils/amount';\nimport { makeNewAccountInstruction } from 'utils/transaction';\n\nimport { ACCOUNT_UPDATED_EVENT, AccountListener, AccountUpdateEvent } from './AccountListener';\nimport colors from './colors.config';\nimport { Token } from './Token';\nimport tokenList from './token.config';\nimport { TokenAccount } from './TokenAccount';\n\nexport const TOKEN_PROGRAM_ID = new PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');\nexport const ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID: PublicKey = new PublicKey(\n  'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n);\n\n// Check that was pass same owner\n// https://github.com/project-serum/serum-dex/tree/master/assert-owner\nexport const OWNER_VALIDATION_PROGRAM_ID = new PublicKey(\n  '4MNPdKu9wFMvEeZBMt3Eipfs5ovVWTJb31pEXDJAAxX5',\n);\n\nconst tokensCache = new Map<string, Token>();\n\n// uses for precache SWAP_HOST_FEE_ADDRESS token accounts\nexport const tokenAccountsPrecache = new CacheTTL<TokenAccount>();\n\ntype TokenAccountUpdateCallback = (tokenAccount: TokenAccount) => void;\n\nexport type TransferParameters = {\n  source: PublicKey;\n  destination: PublicKey;\n  amount: number;\n};\n\nexport interface API {\n  getTokens: () => Promise<Token[]>;\n  tokenInfo: (mint: PublicKey) => Promise<Token>;\n  tokenInfoUncached: (mint: PublicKey) => Promise<Token>;\n  tokenAccountInfo: (account: PublicKey) => Promise<TokenAccount | null>;\n  updateTokenAccountInfo: (tokenAccount: TokenAccount) => Promise<TokenAccount | null>;\n  tokensInfo: (mints: PublicKey[]) => Promise<Token[]>;\n  tokensAccountsInfo: (mints: PublicKey[]) => Promise<TokenAccount[]>;\n  getAccountsForToken: (token: Token) => Promise<TokenAccount[]>;\n  getAccountsForWallet: (owner?: PublicKey) => Promise<TokenAccount[]>;\n  getConfigForToken: (address: PublicKey) => TokenInfo | null;\n  precacheTokenAccounts: (owner: PublicKey) => Promise<void>;\n  createToken: (decimals?: number, mintAuthority?: PublicKey) => Promise<Token>;\n  createAccountForToken: (token: Token, owner?: PublicKey) => Promise<TokenAccount>;\n  mintTo: (recipient: TokenAccount, tokenAmount: number) => Promise<string>;\n  createMint: (amount: number, decimals: number, initialAccount: Account) => Promise<string>;\n  transfer: (parameters: TransferParameters) => Promise<string>;\n  approveInstruction: (\n    sourceAccount: TokenAccount,\n    delegate: PublicKey,\n    amount: number,\n  ) => TransactionInstruction;\n  approve: (sourceAccount: TokenAccount, delegate: PublicKey, amount: number) => Promise<string>;\n  listenToTokenAccountChanges: (\n    accounts: Array<TokenAccount>,\n    callback: TokenAccountUpdateCallback,\n  ) => AccountListener;\n  closeAccount: (publicKey: PublicKey) => Promise<string>;\n}\n\nconst mintTo = async (recipient: TokenAccount, tokenAmount: number): Promise<string> => {\n  const token = recipient.mint;\n  assert(\n    token.mintAuthority && getWallet().pubkey.equals(token.mintAuthority),\n    `The current wallet does not have the authority to mint tokens for mint ${token}`,\n  );\n\n  const mintToInstruction = SPLToken.createMintToInstruction(\n    TOKEN_PROGRAM_ID,\n    token.address,\n    recipient.address,\n    getWallet().pubkey,\n    [],\n    tokenAmount,\n  );\n\n  const transaction = await makeTransaction([mintToInstruction]);\n\n  return sendTransaction(transaction);\n};\n\nconst transferSol = async (parameters: TransferParameters): Promise<string> => {\n  console.log('Transfer SOL amount', parameters.amount);\n\n  const transferInstruction = SystemProgram.transfer({\n    fromPubkey: parameters.source,\n    toPubkey: parameters.destination,\n    lamports: parameters.amount,\n  });\n\n  const transaction = await makeTransaction([transferInstruction]);\n\n  return sendTransaction(transaction, false);\n};\n\n// The API is a singleton per cluster. This ensures requests can be cached\nexport const APIFactory = memoizeWith(\n  toString,\n  (network: NetworkType): API => {\n    const connection = getConnection(network);\n    const payer = new Account();\n\n    /**\n     * Given a token address, check the config to see if the name and symbol are known for this token\n     * @param address\n     */\n    const getConfigForToken = (address: PublicKey): TokenInfo | null => {\n      const clusterConfig = tokenList.filterByClusterSlug(network.cluster).getList();\n\n      if (!clusterConfig) {\n        return null;\n      }\n\n      if (\n        network.cluster === 'devnet' &&\n        address.toBase58() === 'FsaLodPu4VmSwXGr3gWfwANe4vKf8XSZcCh1CEeJ3jpD'\n      ) {\n        return {\n          chainId: 101,\n          address: 'FsaLodPu4VmSwXGr3gWfwANe4vKf8XSZcCh1CEeJ3jpD',\n          name: 'renBTC',\n          decimals: 8,\n          symbol: 'renBTC',\n        };\n      }\n      const configForToken = find(propEq('address', address.toBase58()), clusterConfig);\n\n      if (!configForToken) {\n        return null;\n      }\n\n      return configForToken;\n    };\n\n    /**\n     * The output from the solana web3 library when parsing the on-chain data\n     * for an spl token account\n     */\n    type ParsedTokenAccountInfo = {\n      mint: string;\n      owner: string;\n      tokenAmount: { amount: string; decimals: number; uiAmount: number };\n    };\n\n    /**\n     * Given a mint address, look up its token information\n     * sdirectly from the blockchain. Use only if you need\n     * up-to-date supply info, otherwise use tokenInfo.\n     */\n    const tokenInfoUncached = async (mint: PublicKey): Promise<Token> => {\n      const token = new SPLToken(connection, mint, TOKEN_PROGRAM_ID, payer);\n\n      console.log('Getting info for', mint.toBase58());\n\n      const mintInfo = await token.getMintInfo().catch((error) => {\n        console.error(`Error getting details for ${mint.toBase58()}`, error);\n        throw error;\n      });\n\n      const configForToken = getConfigForToken(mint);\n\n      return new Token(\n        mint,\n        mintInfo.decimals,\n        mintInfo.supply,\n        mintInfo.mintAuthority || undefined, // maps a null mintAuthority to undefined\n        configForToken?.name,\n        configForToken?.symbol,\n        configForToken?.symbol && colors[configForToken.symbol],\n        configForToken?.logoURI,\n      );\n    };\n\n    /**\n     * Given a mint address, return its token information\n     * @param mint\n     */\n    const tokenInfo = async (mint: PublicKey): Promise<Token> => {\n      // try to get cached version\n      const tokenCached = tokensCache.get(mint.toBase58());\n      if (tokenCached) {\n        return tokenCached;\n      }\n\n      const tokenUncached = await tokenInfoUncached(mint);\n\n      // set cache\n      tokensCache.set(mint.toBase58(), tokenUncached);\n\n      return tokenUncached;\n    };\n\n    type GetMultipleAccountsResultType = RpcResponseAndContext<AccountInfo<\n      Buffer | ParsedAccountData\n    > | null>;\n\n    const getMultipleAccounts = async (mints: PublicKey[]) => {\n      const publicKeys = mints.map((publicKey) => publicKey.toBase58());\n      const chunks = splitEvery(100, publicKeys);\n\n      const results = await Promise.all(\n        chunks.map(async (chunk) => {\n          const getMultipleAccountsResult: GetMultipleAccountsResultType = {};\n          await connection._rpcRequest('getMultipleAccounts', [\n            chunk,\n            { commitment: connection.commitment, encoding: 'jsonParsed' },\n          ]);\n\n          return path<AccountInfo<Buffer | ParsedAccountData>[] | null>(\n            ['result', 'value'],\n            getMultipleAccountsResult,\n          );\n        }),\n      );\n\n      return results.reduce((prev, cur) => {\n        if (cur) {\n          return prev?.concat(cur);\n        }\n\n        return prev;\n      }, []);\n    };\n\n    const tokensInfo = retryableProxy<PublicKey[], Token[]>(async (mints: PublicKey[]) => {\n      const result = await getMultipleAccounts(mints);\n\n      const tokens: Token[] = [];\n\n      mints.forEach((mint, index) => {\n        const mintInfo = path<{\n          decimals: number;\n          supply: number;\n          mintAuthority: string;\n        }>([index, 'data', 'parsed', 'info'], result);\n\n        if (!mintInfo) {\n          return;\n        }\n\n        const configForToken = getConfigForToken(mint);\n\n        const token = new Token(\n          mint,\n          mintInfo.decimals,\n          mintInfo.supply,\n          mintInfo.mintAuthority ? new PublicKey(mintInfo.mintAuthority) : undefined, // maps a null mintAuthority to undefined\n          configForToken?.name,\n          configForToken?.symbol,\n          configForToken?.symbol && colors[configForToken.symbol],\n          configForToken?.logoURI,\n        );\n\n        // set cache\n        tokensCache.set(mint.toBase58(), token);\n\n        tokens.push(token);\n      });\n\n      return tokens;\n    });\n\n    const tokensAccountsInfo = retryableProxy<PublicKey[], TokenAccount[]>(\n      async (mints: PublicKey[]) => {\n        const result = await getMultipleAccounts(mints);\n\n        const tokens: TokenAccount[] = [];\n\n        mints.forEach(async (mint, index) => {\n          const ownerProgram =\n            path<string>([index, 'owner'], result) || TOKEN_PROGRAM_ID.toBase58();\n          const accountInfo = path<{\n            isNative: boolean;\n            mint: string;\n            owner: string;\n            state: string;\n            tokenAmount: {\n              amount: string;\n              decimals: number;\n            };\n          }>([index, 'data', 'parsed', 'info'], result);\n          if (!accountInfo) {\n            return;\n          }\n\n          const mintTokenInfo = await tokenInfo(new PublicKey(accountInfo.mint));\n\n          const tokenAccount = new TokenAccount(\n            mintTokenInfo,\n            new PublicKey(accountInfo.owner),\n            new PublicKey(ownerProgram),\n            mint,\n            toDecimal(new BN(accountInfo.tokenAmount.amount)),\n          );\n\n          tokens.push(tokenAccount);\n        });\n\n        return tokens;\n      },\n    );\n\n    const getTokens = async (): Promise<Token[]> => {\n      const clusterConfig = tokenList\n        .filterByClusterSlug(network.cluster)\n        .excludeByTag('nft')\n        .excludeByTag('leveraged')\n        .excludeByTag('bull')\n        .excludeByTag('lp-token')\n        .getList();\n\n      if (!clusterConfig) {\n        return [];\n      }\n\n      const tokensAddresses = clusterConfig.map(\n        (config: TokenInfo) => new PublicKey(config.address),\n      );\n\n      return tokensInfo(tokensAddresses);\n    };\n\n    type GetAccountInfoResponse = AccountInfo<Buffer | ParsedAccountData> | null;\n\n    const extractParsedTokenAccountInfo = (\n      parsedAccountInfoResult: GetAccountInfoResponse,\n    ): ParsedTokenAccountInfo | undefined =>\n      path(['data', 'parsed', 'info'], parsedAccountInfoResult);\n\n    /**\n     * Given a token account address, look up its mint and balance\n     * @param account\n     */\n    const tokenAccountInfo = async (account: PublicKey): Promise<TokenAccount | null> => {\n      console.log('Getting info for token account:', account.toBase58());\n      const getParsedAccountInfoResult = await connection.getParsedAccountInfo(account);\n\n      // For Tokens\n      if (getParsedAccountInfoResult.value?.owner.equals(TOKEN_PROGRAM_ID)) {\n        const parsedInfo = extractParsedTokenAccountInfo(getParsedAccountInfoResult.value);\n\n        // this account does not appear to be a token account\n        if (!parsedInfo) {\n          return null;\n        }\n\n        const mintTokenInfo = await tokenInfo(new PublicKey(parsedInfo.mint));\n\n        return new TokenAccount(\n          mintTokenInfo,\n          new PublicKey(parsedInfo.owner),\n          getParsedAccountInfoResult.value?.owner,\n          account,\n          toDecimal(new BN(parsedInfo.tokenAmount.amount)),\n          false,\n          getParsedAccountInfoResult.context.slot,\n        );\n      }\n\n      const mintTokenInfo = getConfigForToken(WRAPPED_SOL_MINT);\n\n      // For SOL simulated token\n      if (account.equals(getWallet().pubkey)) {\n        const balance = await connection.getBalance(account);\n        const mint = new Token(\n          SOL_MINT,\n          9,\n          0,\n          undefined,\n          'Solana',\n          'SOL',\n          colors.SOL,\n          mintTokenInfo?.logoURI,\n        );\n\n        return new TokenAccount(mint, SYSTEM_PROGRAM_ID, SYSTEM_PROGRAM_ID, account, balance);\n      }\n\n      // For SOL tokens\n      if (getParsedAccountInfoResult.value?.owner.equals(SYSTEM_PROGRAM_ID)) {\n        const mint = new Token(\n          SOL_MINT,\n          9,\n          0,\n          undefined,\n          'Solana',\n          'SOL',\n          colors.SOL,\n          mintTokenInfo?.logoURI,\n        );\n\n        return new TokenAccount(\n          mint,\n          SYSTEM_PROGRAM_ID,\n          SYSTEM_PROGRAM_ID,\n          account,\n          getParsedAccountInfoResult.value?.lamports,\n        );\n      }\n\n      return null;\n    };\n\n    const updateTokenAccountInfo = async (tokenAccount: TokenAccount) => {\n      const updatedTokenAccount = await tokenAccountInfo(tokenAccount.address);\n\n      if (!updatedTokenAccount) {\n        return null;\n      }\n\n      updatedTokenAccount.setPrevious(tokenAccount);\n\n      return updatedTokenAccount;\n    };\n\n    /**\n     * Get all token accounts for this wallet\n     */\n    const getAccountsForWallet = async (owner?: PublicKey): Promise<TokenAccount[]> => {\n      const ownerKey = owner || getWallet().pubkey;\n\n      console.log('Token program ID', TOKEN_PROGRAM_ID.toBase58());\n      const allParsedAccountInfos = await connection\n        .getParsedTokenAccountsByOwner(ownerKey, {\n          programId: TOKEN_PROGRAM_ID,\n        })\n        .catch((error) => {\n          console.error(`Error getting accounts for ${ownerKey.toBase58()}`, error);\n          throw error;\n        });\n\n      // const res = await connection._rpcRequest('getProgramAccounts', [\n      //   TOKEN_PROGRAM_ID.toBase58(),\n      //   {\n      //     commitment: connection.commitment,\n      //     filters: [\n      //       {\n      //         memcmp: {\n      //           offset: AccountLayout.offsetOf('owner'),\n      //           bytes: ownerKey.toBase58(),\n      //         },\n      //       },\n      //       {\n      //         dataSize: AccountLayout.span,\n      //       },\n      //     ],\n      //     // encoding: 'jsonParsed',\n      //   },\n      // ]);\n\n      const secondTokenAccount = async (accountResult: {\n        pubkey: PublicKey;\n        account: AccountInfo<ParsedAccountData>;\n      }): Promise<TokenAccount | null> => {\n        const parsedTokenAccountInfo = extractParsedTokenAccountInfo(accountResult.account);\n\n        if (!parsedTokenAccountInfo) {\n          return null;\n        }\n\n        const mintAddress = new PublicKey(parsedTokenAccountInfo.mint);\n        const token = await tokenInfo(mintAddress);\n\n        return new TokenAccount(\n          token,\n          new PublicKey(parsedTokenAccountInfo.owner),\n          accountResult.account.owner,\n          accountResult.pubkey,\n          toDecimal(new BN(parsedTokenAccountInfo.tokenAmount.amount)),\n        );\n      };\n\n      const mints: PublicKey[] = [];\n\n      allParsedAccountInfos.value.forEach((accountResult) => {\n        const parsedTokenAccountInfo = extractParsedTokenAccountInfo(accountResult.account);\n\n        if (!parsedTokenAccountInfo) {\n          return;\n        }\n\n        mints.push(new PublicKey(parsedTokenAccountInfo.mint));\n      });\n\n      await tokensInfo(mints);\n\n      const allTokenAccounts = await Promise.all(\n        allParsedAccountInfos.value.map((account) => secondTokenAccount(account)),\n      );\n\n      return allTokenAccounts.filter(complement(isNil)) as TokenAccount[];\n    };\n\n    const precacheTokenAccounts = async (owner: PublicKey) => {\n      const tokenAccounts = await getAccountsForWallet(owner);\n\n      tokenAccounts.forEach((tokenAccount) => {\n        tokenAccountsPrecache.set(tokenAccount.address.toBase58(), tokenAccount);\n      });\n    };\n\n    /**\n     * Get the wallet's accounts for a token\n     * @param token\n     * @param owner\n     */\n    const getAccountsForToken = async (\n      token: Token,\n      owner?: PublicKey,\n    ): Promise<TokenAccount[]> => {\n      console.log(\"Finding the wallet's accounts for the token\", {\n        wallet: { address: getWallet().pubkey.toBase58() },\n        token: {\n          address: token.address.toBase58(),\n        },\n      });\n\n      const allAccounts = await getAccountsForWallet(owner);\n      return allAccounts.filter(propEq('mint', token));\n    };\n\n    const listenToTokenAccountChanges = (\n      accounts: Array<TokenAccount>,\n      callback: TokenAccountUpdateCallback,\n    ) => {\n      const accountListener = new AccountListener(connection);\n\n      accounts.map((account) => accountListener.listenTo(account));\n\n      accountListener.on(ACCOUNT_UPDATED_EVENT, async (event: AccountUpdateEvent) => {\n        const updatedAccount = await updateTokenAccountInfo(event.tokenAccount);\n\n        if (updatedAccount) {\n          callback(updatedAccount);\n        }\n      });\n\n      return accountListener;\n    };\n\n    const createToken = async (decimals?: number, mintAuthority?: PublicKey) => {\n      const mintAccount = new Account();\n      const createAccountInstruction = await makeNewAccountInstruction(\n        network,\n        mintAccount.publicKey,\n        MintLayout,\n        TOKEN_PROGRAM_ID,\n      );\n\n      // the mint authority (who can create tokens) defaults to the wallet.\n      // For Pools, it should be set to the pool token authority\n      const mintAuthorityKey = mintAuthority || getWallet().pubkey;\n      const initMintInstruction = SPLToken.createInitMintInstruction(\n        TOKEN_PROGRAM_ID,\n        mintAccount.publicKey,\n        decimals || 2,\n        mintAuthorityKey,\n        null,\n      );\n\n      const transaction = await makeTransaction(\n        [createAccountInstruction, initMintInstruction],\n        [mintAccount],\n      );\n\n      console.log('creating token');\n      await sendTransaction(transaction);\n\n      return tokenInfo(mintAccount.publicKey);\n    };\n\n    /**\n     * Create a Token account for this token, owned by the passed-in owner,\n     * or the wallet\n     * @param {Token} token The token to create an account for\n     * @param {PublicKey} [owner] The optional owner of the created token account\n     */\n    const createAccountForToken = async (\n      token: Token,\n      owner?: PublicKey, // defaults to the wallet - used to create accounts owned by a Pool\n    ): Promise<TokenAccount> => {\n      console.log('Creating an account on the wallet for the token', {\n        wallet: { address: getWallet().pubkey.toBase58() },\n        token: {\n          address: token.address.toBase58(),\n        },\n      });\n\n      // ensure the token actually exists before going any further\n      const checkToken = await tokenInfo(token.address);\n      console.log('Creating an account for token', checkToken.toString());\n\n      // if no recipient is set, use the wallet\n      const ownerKey = owner || getWallet().pubkey;\n\n      // this is the new token account.\n      // It will be assigned to the current wallet in the initAccount instruction\n      const newAccount = new Account();\n      console.log('New token account owner', {\n        address: newAccount.publicKey.toBase58(),\n        owner: ownerKey.toBase58(),\n      });\n\n      // Instruction to create a new Solana account\n      const createAccountInstruction = await makeNewAccountInstruction(\n        network,\n        newAccount.publicKey,\n        AccountLayout,\n        TOKEN_PROGRAM_ID,\n      );\n\n      // Instruction to assign the new account to the token program\n      const initTokenAccountInstruction = SPLToken.createInitAccountInstruction(\n        TOKEN_PROGRAM_ID,\n        token.address,\n        newAccount.publicKey,\n        ownerKey,\n      );\n\n      const transaction = await makeTransaction(\n        [createAccountInstruction, initTokenAccountInstruction],\n        [newAccount],\n      );\n\n      await sendTransaction(transaction);\n\n      const updatedInfo = await tokenAccountInfo(newAccount.publicKey);\n\n      if (!updatedInfo) {\n        throw new Error('Unable to retrieve the created token account');\n      }\n\n      return updatedInfo;\n    };\n\n    const createMint = async (\n      amount: number,\n      decimals: number,\n      initialAccount: Account,\n    ): Promise<string> => {\n      const mintAccount = new Account();\n      // const token = new SPLToken(connection, mintAccount.publicKey, programId, payer);\n\n      // Allocate memory for the account\n      const balanceNeededMint = await connection.getMinimumBalanceForRentExemption(MintLayout.span);\n\n      const instructions = [];\n\n      // createMintAccountInstruction\n      instructions.push(\n        SystemProgram.createAccount({\n          fromPubkey: getWallet().pubkey,\n          newAccountPubkey: mintAccount.publicKey,\n          lamports: balanceNeededMint,\n          space: MintLayout.span,\n          programId: TOKEN_PROGRAM_ID,\n        }),\n      );\n\n      // createInitMintInstruction\n      instructions.push(\n        SPLToken.createInitMintInstruction(\n          TOKEN_PROGRAM_ID,\n          mintAccount.publicKey,\n          decimals,\n          getWallet().pubkey,\n          null,\n        ),\n      );\n\n      const signers = [mintAccount];\n\n      if (amount > 0) {\n        signers.push(initialAccount);\n\n        const balanceNeededAccount = await connection.getMinimumBalanceForRentExemption(\n          AccountLayout.span,\n        );\n\n        // createAccountInstruction\n        instructions.push(\n          SystemProgram.createAccount({\n            fromPubkey: getWallet().pubkey,\n            newAccountPubkey: initialAccount.publicKey,\n            lamports: balanceNeededAccount,\n            space: AccountLayout.span,\n            programId: TOKEN_PROGRAM_ID,\n          }),\n        );\n\n        // createInitAccountInstruction\n        instructions.push(\n          SPLToken.createInitAccountInstruction(\n            TOKEN_PROGRAM_ID,\n            mintAccount.publicKey,\n            initialAccount.publicKey,\n            getWallet().pubkey,\n          ),\n        );\n\n        // createMintToInstruction\n        instructions.push(\n          SPLToken.createMintToInstruction(\n            TOKEN_PROGRAM_ID,\n            mintAccount.publicKey,\n            initialAccount.publicKey,\n            getWallet().pubkey,\n            [],\n            amount,\n          ),\n        );\n      }\n\n      const transaction = await makeTransaction(instructions, signers);\n\n      return sendTransaction(transaction);\n    };\n\n    function approveInstruction(sourceAccount: TokenAccount, delegate: PublicKey, amount: number) {\n      return SPLToken.createApproveInstruction(\n        TOKEN_PROGRAM_ID,\n        sourceAccount.address,\n        delegate,\n        getWallet().pubkey,\n        [],\n        amount,\n      );\n    }\n\n    const approve = async (\n      sourceAccount: TokenAccount,\n      delegate: PublicKey,\n      amount: number,\n    ): Promise<string> => {\n      const instruction = approveInstruction(sourceAccount, delegate, amount);\n\n      const transaction = await makeTransaction([instruction]);\n\n      return sendTransaction(transaction);\n    };\n\n    const transferBetweenSplTokenAccounts = async (\n      source: PublicKey,\n      destination: PublicKey,\n      amount: number,\n    ): Promise<string> => {\n      const transferInstruction = SPLToken.createTransferInstruction(\n        TOKEN_PROGRAM_ID,\n        source,\n        destination,\n        getWallet().pubkey,\n        [],\n        amount,\n      );\n\n      const transaction = await makeTransaction([transferInstruction]);\n\n      return sendTransaction(transaction, false);\n    };\n\n    const createAndTransferToAssociatedTokenAccount = async (\n      source: PublicKey,\n      associatedTokenAddress: PublicKey,\n      associatedTokenOwner: PublicKey,\n      amount: number,\n      mint: PublicKey,\n    ): Promise<string> => {\n      const instructions = [];\n\n      instructions.push(\n        SPLToken.createAssociatedTokenAccountInstruction(\n          ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n          TOKEN_PROGRAM_ID,\n          mint,\n          associatedTokenAddress,\n          associatedTokenOwner,\n          getWallet().pubkey,\n        ),\n      );\n\n      instructions.push(\n        SPLToken.createTransferInstruction(\n          TOKEN_PROGRAM_ID,\n          source,\n          associatedTokenAddress,\n          getWallet().pubkey,\n          [],\n          amount,\n        ),\n      );\n\n      const transaction = await makeTransaction(instructions);\n\n      return sendTransaction(transaction, false);\n    };\n\n    const transferTokens = async (parameters: TransferParameters): Promise<string> => {\n      // Get info about token with mint\n      const sourceTokenAccountInfo = await tokenAccountInfo(parameters.source);\n\n      // If this token doesn't exists\n      if (!sourceTokenAccountInfo) {\n        throw new Error(`Token doesn't exits`);\n      }\n\n      // Get info about destination address\n      const destinationAccountInfo = await connection.getAccountInfo(parameters.destination);\n\n      // If it's founded and spl token\n      if (destinationAccountInfo && destinationAccountInfo.owner.equals(TOKEN_PROGRAM_ID)) {\n        return transferBetweenSplTokenAccounts(\n          parameters.source,\n          parameters.destination,\n          parameters.amount,\n        );\n      }\n\n      const associatedTokenAddress = await SPLToken.getAssociatedTokenAddress(\n        ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n        TOKEN_PROGRAM_ID,\n        sourceTokenAccountInfo.mint.address,\n        parameters.destination,\n      );\n\n      const associatedTokenAccountInfo = await connection.getAccountInfo(associatedTokenAddress);\n\n      if (associatedTokenAccountInfo && associatedTokenAccountInfo.owner.equals(TOKEN_PROGRAM_ID)) {\n        return transferBetweenSplTokenAccounts(\n          parameters.source,\n          associatedTokenAddress,\n          parameters.amount,\n        );\n      }\n\n      return createAndTransferToAssociatedTokenAccount(\n        parameters.source,\n        associatedTokenAddress,\n        parameters.destination,\n        parameters.amount,\n        sourceTokenAccountInfo.mint.address,\n      );\n    };\n\n    const transfer = async (parameters: TransferParameters): Promise<string> => {\n      if (parameters.source.equals(getWallet().pubkey)) {\n        return transferSol(parameters);\n      }\n\n      return transferTokens(parameters);\n    };\n\n    const closeAccount = async (publicKey: PublicKey): Promise<string> => {\n      const closeAccountInstruction = SPLToken.createCloseAccountInstruction(\n        TOKEN_PROGRAM_ID,\n        publicKey,\n        getWallet().pubkey,\n        getWallet().pubkey,\n        [],\n      );\n\n      const transaction = await makeTransaction([closeAccountInstruction]);\n\n      return sendTransaction(transaction, false);\n    };\n\n    return {\n      getTokens,\n      tokenInfo,\n      tokenInfoUncached,\n      tokensInfo,\n      tokenAccountInfo,\n      tokensAccountsInfo,\n      updateTokenAccountInfo,\n      createAccountForToken,\n      createToken,\n      mintTo,\n      createMint,\n      transfer,\n      approveInstruction,\n      approve,\n      getAccountsForToken,\n      getAccountsForWallet,\n      getConfigForToken,\n      precacheTokenAccounts,\n      listenToTokenAccountChanges,\n      closeAccount,\n    };\n  },\n);\n"],"sourceRoot":""}